Return-Path: <virtualization-bounces@lists.linux-foundation.org>
X-Original-To: lists.virtualization@lfdr.de
Delivered-To: lists.virtualization@lfdr.de
Received: from smtp1.osuosl.org (smtp1.osuosl.org [140.211.166.138])
	by mail.lfdr.de (Postfix) with ESMTPS id 1B9396AD7D3
	for <lists.virtualization@lfdr.de>; Tue,  7 Mar 2023 07:57:28 +0100 (CET)
Received: from localhost (localhost [127.0.0.1])
	by smtp1.osuosl.org (Postfix) with ESMTP id 44CA981339;
	Tue,  7 Mar 2023 06:57:26 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp1.osuosl.org 44CA981339
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp1.osuosl.org ([127.0.0.1])
	by localhost (smtp1.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id e5JP1jmTSkA7; Tue,  7 Mar 2023 06:57:25 +0000 (UTC)
Received: from lists.linuxfoundation.org (lf-lists.osuosl.org [140.211.9.56])
	by smtp1.osuosl.org (Postfix) with ESMTPS id BE421812FA;
	Tue,  7 Mar 2023 06:57:24 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp1.osuosl.org BE421812FA
Received: from lf-lists.osuosl.org (localhost [127.0.0.1])
	by lists.linuxfoundation.org (Postfix) with ESMTP id F03BFC0089;
	Tue,  7 Mar 2023 06:57:23 +0000 (UTC)
X-Original-To: virtualization@lists.linux-foundation.org
Delivered-To: virtualization@lists.linuxfoundation.org
Received: from smtp2.osuosl.org (smtp2.osuosl.org [140.211.166.133])
 by lists.linuxfoundation.org (Postfix) with ESMTP id 5E5D5C0032
 for <virtualization@lists.linux-foundation.org>;
 Tue,  7 Mar 2023 06:57:22 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by smtp2.osuosl.org (Postfix) with ESMTP id 475474036A
 for <virtualization@lists.linux-foundation.org>;
 Tue,  7 Mar 2023 06:57:22 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp2.osuosl.org 475474036A
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp2.osuosl.org ([127.0.0.1])
 by localhost (smtp2.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id PdEyafoyO5Fw
 for <virtualization@lists.linux-foundation.org>;
 Tue,  7 Mar 2023 06:57:21 +0000 (UTC)
X-Greylist: domain auto-whitelisted by SQLgrey-1.8.0
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp2.osuosl.org 689D6402F3
Received: from out30-124.freemail.mail.aliyun.com
 (out30-124.freemail.mail.aliyun.com [115.124.30.124])
 by smtp2.osuosl.org (Postfix) with ESMTPS id 689D6402F3
 for <virtualization@lists.linux-foundation.org>;
 Tue,  7 Mar 2023 06:57:20 +0000 (UTC)
X-Alimail-AntiSpam: AC=PASS; BC=-1|-1; BR=01201311R981e4; CH=green; DM=||false|;
 DS=||; FP=0|-1|-1|-1|0|-1|-1|-1; HT=ay29a033018046060;
 MF=xuanzhuo@linux.alibaba.com; NM=1; PH=DS; RN=3; SR=0;
 TI=SMTPD_---0VdKPbaD_1678172234; 
Received: from localhost(mailfrom:xuanzhuo@linux.alibaba.com
 fp:SMTPD_---0VdKPbaD_1678172234) by smtp.aliyun-inc.com;
 Tue, 07 Mar 2023 14:57:15 +0800
Message-ID: <1678172141.0083263-3-xuanzhuo@linux.alibaba.com>
Subject: Re: [PATCH vhost v1 03/12] virtio_ring: split: introduce
 virtqueue_add_split_premapped()
Date: Tue, 7 Mar 2023 14:55:41 +0800
From: Xuan Zhuo <xuanzhuo@linux.alibaba.com>
To: Jason Wang <jasowang@redhat.com>
References: <20230302115908.1461-1-xuanzhuo@linux.alibaba.com>
 <20230302115908.1461-4-xuanzhuo@linux.alibaba.com>
 <CACGkMEv5p2=s0pNRqf=e42AW-thZmzvH8gFZExA=gbG_GNAT5A@mail.gmail.com>
In-Reply-To: <CACGkMEv5p2=s0pNRqf=e42AW-thZmzvH8gFZExA=gbG_GNAT5A@mail.gmail.com>
Cc: "Michael S. Tsirkin" <mst@redhat.com>,
 virtualization@lists.linux-foundation.org
X-BeenThere: virtualization@lists.linux-foundation.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: Linux virtualization <virtualization.lists.linux-foundation.org>
List-Unsubscribe: <https://lists.linuxfoundation.org/mailman/options/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=unsubscribe>
List-Archive: <http://lists.linuxfoundation.org/pipermail/virtualization/>
List-Post: <mailto:virtualization@lists.linux-foundation.org>
List-Help: <mailto:virtualization-request@lists.linux-foundation.org?subject=help>
List-Subscribe: <https://lists.linuxfoundation.org/mailman/listinfo/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: virtualization-bounces@lists.linux-foundation.org
Sender: "Virtualization" <virtualization-bounces@lists.linux-foundation.org>

T24gVHVlLCA3IE1hciAyMDIzIDE0OjQzOjQyICswODAwLCBKYXNvbiBXYW5nIDxqYXNvd2FuZ0By
ZWRoYXQuY29tPiB3cm90ZToKPiBPbiBUaHUsIE1hciAyLCAyMDIzIGF0IDc6NTnigK9QTSBYdWFu
IFpodW8gPHh1YW56aHVvQGxpbnV4LmFsaWJhYmEuY29tPiB3cm90ZToKPiA+Cj4gPiB2aXJ0cXVl
dWVfYWRkX3NwbGl0KCkgb25seSBzdXBwb3J0cyB2aXJ0dWFsIGFkZHJlc3NlcywgZG1hIGlzIGNv
bXBsZXRlZAo+ID4gaW4gdmlydHF1ZXVlX2FkZF9zcGxpdCgpLgo+ID4KPiA+IEluIHNvbWUgc2Nl
bmFyaW9zIChzdWNoIGFzIHRoZSBBRl9YRFAgc2NlbmFyaW8pLCB0aGUgbWVtb3J5IGlzIGFsbG9j
YXRlZAo+ID4gYW5kIERNQSBpcyBjb21wbGV0ZWQgaW4gYWR2YW5jZSwgc28gaXQgaXMgbmVjZXNz
YXJ5IGZvciB1cyB0byBzdXBwb3J0Cj4gPiBwYXNzaW5nIHRoZSBETUEgYWRkcmVzcyB0byB2aXJ0
aW8gY29yZS4KPiA+Cj4gPiBTaWduZWQtb2ZmLWJ5OiBYdWFuIFpodW8gPHh1YW56aHVvQGxpbnV4
LmFsaWJhYmEuY29tPgo+ID4gLS0tCj4gPiAgZHJpdmVycy92aXJ0aW8vdmlydGlvX3JpbmcuYyB8
IDc0ICsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKystLS0tLQo+ID4gIGluY2x1ZGUvbGlu
dXgvdmlydGlvLmggICAgICAgfCAgNSArKysKPiA+ICAyIGZpbGVzIGNoYW5nZWQsIDY5IGluc2Vy
dGlvbnMoKyksIDEwIGRlbGV0aW9ucygtKQo+ID4KPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL3Zp
cnRpby92aXJ0aW9fcmluZy5jIGIvZHJpdmVycy92aXJ0aW8vdmlydGlvX3JpbmcuYwo+ID4gaW5k
ZXggMTc1MjBmMGQ3NjQ5Li41YjE4NmNlNzNkMzUgMTAwNjQ0Cj4gPiAtLS0gYS9kcml2ZXJzL3Zp
cnRpby92aXJ0aW9fcmluZy5jCj4gPiArKysgYi9kcml2ZXJzL3ZpcnRpby92aXJ0aW9fcmluZy5j
Cj4gPiBAQCAtNzAsNiArNzAsNyBAQAo+ID4gIHN0cnVjdCB2cmluZ19kZXNjX3N0YXRlX3NwbGl0
IHsKPiA+ICAgICAgICAgdm9pZCAqZGF0YTsgICAgICAgICAgICAgICAgICAgICAvKiBEYXRhIGZv
ciBjYWxsYmFjay4gKi8KPiA+ICAgICAgICAgc3RydWN0IHZyaW5nX2Rlc2MgKmluZGlyX2Rlc2M7
ICAvKiBJbmRpcmVjdCBkZXNjcmlwdG9yLCBpZiBhbnkuICovCj4gPiArICAgICAgIGJvb2wgZG1h
X21hcDsgICAgICAgICAgICAgICAgICAgLyogQWRkciBpcyBtYXBwZWQgYnkgdmlydGlvIGNvcmUg
b3Igbm90LiAqLwo+Cj4gVGhpcyB3aWxsIHN0cmVzcyB0aGUgY2FjaGUsIGNhbiB3ZSBwYWNrIHRo
ZSBib29sZWFuIGludG8gaW5kaXJfZGVzYz8KCkkgd2lsbCB0cnkgdGhpcy4gVGhpcyBpcyBhIGdv
b2QgaWRlYS4KCj4KPiA+ICB9Owo+ID4KPiA+ICBzdHJ1Y3QgdnJpbmdfZGVzY19zdGF0ZV9wYWNr
ZWQgewo+ID4gQEAgLTQ0MCw3ICs0NDEsNyBAQCBzdGF0aWMgdm9pZCB2cmluZ191bm1hcF9vbmVf
c3BsaXRfaW5kaXJlY3QoY29uc3Qgc3RydWN0IHZyaW5nX3ZpcnRxdWV1ZSAqdnEsCj4gPiAgfQo+
ID4KPiA+ICBzdGF0aWMgdW5zaWduZWQgaW50IHZyaW5nX3VubWFwX29uZV9zcGxpdChjb25zdCBz
dHJ1Y3QgdnJpbmdfdmlydHF1ZXVlICp2cSwKPiA+IC0gICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIHVuc2lnbmVkIGludCBpKQo+ID4gKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgaW50IGksIGJvb2wgZG1hX21hcCkKPiA+ICB7
Cj4gPiAgICAgICAgIHN0cnVjdCB2cmluZ19kZXNjX2V4dHJhICpleHRyYSA9IHZxLT5zcGxpdC5k
ZXNjX2V4dHJhOwo+ID4gICAgICAgICB1MTYgZmxhZ3M7Cj4gPiBAQCAtNDU3LDYgKzQ1OCw5IEBA
IHN0YXRpYyB1bnNpZ25lZCBpbnQgdnJpbmdfdW5tYXBfb25lX3NwbGl0KGNvbnN0IHN0cnVjdCB2
cmluZ192aXJ0cXVldWUgKnZxLAo+ID4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
KGZsYWdzICYgVlJJTkdfREVTQ19GX1dSSVRFKSA/Cj4gPiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBETUFfRlJPTV9ERVZJQ0UgOiBETUFfVE9fREVWSUNFKTsKPiA+ICAgICAgICAg
fSBlbHNlIHsKPiA+ICsgICAgICAgICAgICAgICBpZiAoIWRtYV9tYXApCj4gPiArICAgICAgICAg
ICAgICAgICAgICAgICBnb3RvIG91dDsKPiA+ICsKPiA+ICAgICAgICAgICAgICAgICBkbWFfdW5t
YXBfcGFnZSh2cmluZ19kbWFfZGV2KHZxKSwKPiA+ICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBleHRyYVtpXS5hZGRyLAo+ID4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4
dHJhW2ldLmxlbiwKPiA+IEBAIC03NTEsNiArNzU1LDcgQEAgc3RhdGljIGlubGluZSBpbnQgdmly
dHF1ZXVlX2FkZF9zcGxpdChzdHJ1Y3QgdmlydHF1ZXVlICpfdnEsCj4gPiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIHVuc2lnbmVkIGludCBpbl9zZ3MsCj4gPiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgKmRhdGEsCj4gPiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgKmN0eCwKPiA+ICsgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgYm9vbCBkbWFfbWFwLAo+ID4gICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBnZnBfdCBnZnApCj4gPiAgewo+ID4gICAgICAgICBzdHJ1
Y3QgdnJpbmdfdmlydHF1ZXVlICp2cSA9IHRvX3Z2cShfdnEpOwo+ID4gQEAgLTc2Nyw5ICs3NzIs
MTEgQEAgc3RhdGljIGlubGluZSBpbnQgdmlydHF1ZXVlX2FkZF9zcGxpdChzdHJ1Y3QgdmlydHF1
ZXVlICpfdnEsCj4gPiAgICAgICAgICAgICAgICAgZ290byBlbmQ7Cj4gPiAgICAgICAgIH0KPiA+
Cj4gPiAtICAgICAgIGVyciA9IHZpcnRxdWV1ZV9tYXBfc2dzKHZxLCBzZ3MsIHRvdGFsX3NnLCBv
dXRfc2dzLCBpbl9zZ3MpOwo+ID4gLSAgICAgICBpZiAoZXJyKQo+ID4gLSAgICAgICAgICAgICAg
IGdvdG8gZXJyOwo+ID4gKyAgICAgICBpZiAoZG1hX21hcCkgewo+Cj4gQ291bGQgd2Ugc2ltcGx5
IGNoZWNrIHNnLT5kbWFfYWRkciBpbiB0aGlzIGNhc2U/IFRoZW4gd2UgZG9uJ3QgbmVlZCB0bwo+
IGludHJvZHVjZSB0aGUgZG1hX21hcCBmbGFnLgoKWWVzLiBXZSBjYW4uCgpUaGFua3MuCgoKPgo+
IFRoYW5rcwo+Cj4KPiA+ICsgICAgICAgICAgICAgICBlcnIgPSB2aXJ0cXVldWVfbWFwX3Nncyh2
cSwgc2dzLCB0b3RhbF9zZywgb3V0X3NncywgaW5fc2dzKTsKPiA+ICsgICAgICAgICAgICAgICBp
ZiAoZXJyKQo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgZ290byBlcnI7Cj4gPiArICAgICAg
IH0KPiA+Cj4gPiAgICAgICAgIGhlYWQgPSB2cS0+ZnJlZV9oZWFkOwo+ID4gICAgICAgICBlcnIg
PSB2aXJ0cXVldWVfYWRkX3ZyaW5nX3NwbGl0KHZxLCBzZ3MsIHRvdGFsX3NnLCBvdXRfc2dzLCBp
bl9zZ3MsIGRlc2MpOwo+ID4gQEAgLTc3OSwxMSArNzg2LDEzIEBAIHN0YXRpYyBpbmxpbmUgaW50
IHZpcnRxdWV1ZV9hZGRfc3BsaXQoc3RydWN0IHZpcnRxdWV1ZSAqX3ZxLAo+ID4gICAgICAgICAv
KiBTdG9yZSB0b2tlbiBhbmQgaW5kaXJlY3QgYnVmZmVyIHN0YXRlLiAqLwo+ID4gICAgICAgICB2
cS0+c3BsaXQuZGVzY19zdGF0ZVtoZWFkXS5kYXRhID0gZGF0YTsKPiA+ICAgICAgICAgdnEtPnNw
bGl0LmRlc2Nfc3RhdGVbaGVhZF0uaW5kaXJfZGVzYyA9IGRlc2MgPyBkZXNjIDogY3R4Owo+ID4g
KyAgICAgICB2cS0+c3BsaXQuZGVzY19zdGF0ZVtoZWFkXS5kbWFfbWFwID0gZG1hX21hcDsKPiA+
Cj4gPiAgICAgICAgIGdvdG8gZW5kOwo+ID4KPiA+ICBlcnI6Cj4gPiAtICAgICAgIHZpcnRxdWV1
ZV91bm1hcF9zZ3ModnEsIHNncywgdG90YWxfc2csIG91dF9zZ3MsIGluX3Nncyk7Cj4gPiArICAg
ICAgIGlmIChkbWFfbWFwKQo+ID4gKyAgICAgICAgICAgICAgIHZpcnRxdWV1ZV91bm1hcF9zZ3Mo
dnEsIHNncywgdG90YWxfc2csIG91dF9zZ3MsIGluX3Nncyk7Cj4gPgo+ID4gICAgICAgICBrZnJl
ZShkZXNjKTsKPiA+Cj4gPiBAQCAtODI4LDIwICs4MzcsMjMgQEAgc3RhdGljIHZvaWQgZGV0YWNo
X2J1Zl9zcGxpdChzdHJ1Y3QgdnJpbmdfdmlydHF1ZXVlICp2cSwgdW5zaWduZWQgaW50IGhlYWQs
Cj4gPiAgewo+ID4gICAgICAgICB1bnNpZ25lZCBpbnQgaSwgajsKPiA+ICAgICAgICAgX192aXJ0
aW8xNiBuZXh0ZmxhZyA9IGNwdV90b192aXJ0aW8xNih2cS0+dnEudmRldiwgVlJJTkdfREVTQ19G
X05FWFQpOwo+ID4gKyAgICAgICBib29sIGRtYV9tYXA7Cj4gPgo+ID4gICAgICAgICAvKiBDbGVh
ciBkYXRhIHB0ci4gKi8KPiA+ICAgICAgICAgdnEtPnNwbGl0LmRlc2Nfc3RhdGVbaGVhZF0uZGF0
YSA9IE5VTEw7Cj4gPgo+ID4gKyAgICAgICBkbWFfbWFwID0gdnEtPnNwbGl0LmRlc2Nfc3RhdGVb
aGVhZF0uZG1hX21hcDsKPiA+ICsKPiA+ICAgICAgICAgLyogUHV0IGJhY2sgb24gZnJlZSBsaXN0
OiB1bm1hcCBmaXJzdC1sZXZlbCBkZXNjcmlwdG9ycyBhbmQgZmluZCBlbmQgKi8KPiA+ICAgICAg
ICAgaSA9IGhlYWQ7Cj4gPgo+ID4gICAgICAgICB3aGlsZSAodnEtPnNwbGl0LnZyaW5nLmRlc2Nb
aV0uZmxhZ3MgJiBuZXh0ZmxhZykgewo+ID4gLSAgICAgICAgICAgICAgIHZyaW5nX3VubWFwX29u
ZV9zcGxpdCh2cSwgaSk7Cj4gPiArICAgICAgICAgICAgICAgdnJpbmdfdW5tYXBfb25lX3NwbGl0
KHZxLCBpLCBkbWFfbWFwKTsKPiA+ICAgICAgICAgICAgICAgICBpID0gdnEtPnNwbGl0LmRlc2Nf
ZXh0cmFbaV0ubmV4dDsKPiA+ICAgICAgICAgICAgICAgICB2cS0+dnEubnVtX2ZyZWUrKzsKPiA+
ICAgICAgICAgfQo+ID4KPiA+IC0gICAgICAgdnJpbmdfdW5tYXBfb25lX3NwbGl0KHZxLCBpKTsK
PiA+ICsgICAgICAgdnJpbmdfdW5tYXBfb25lX3NwbGl0KHZxLCBpLCBkbWFfbWFwKTsKPiA+ICAg
ICAgICAgdnEtPnNwbGl0LmRlc2NfZXh0cmFbaV0ubmV4dCA9IHZxLT5mcmVlX2hlYWQ7Cj4gPiAg
ICAgICAgIHZxLT5mcmVlX2hlYWQgPSBoZWFkOwo+ID4KPiA+IEBAIC04NjMsOCArODc1LDEwIEBA
IHN0YXRpYyB2b2lkIGRldGFjaF9idWZfc3BsaXQoc3RydWN0IHZyaW5nX3ZpcnRxdWV1ZSAqdnEs
IHVuc2lnbmVkIGludCBoZWFkLAo+ID4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBW
UklOR19ERVNDX0ZfSU5ESVJFQ1QpKTsKPiA+ICAgICAgICAgICAgICAgICBCVUdfT04obGVuID09
IDAgfHwgbGVuICUgc2l6ZW9mKHN0cnVjdCB2cmluZ19kZXNjKSk7Cj4gPgo+ID4gLSAgICAgICAg
ICAgICAgIGZvciAoaiA9IDA7IGogPCBsZW4gLyBzaXplb2Yoc3RydWN0IHZyaW5nX2Rlc2MpOyBq
KyspCj4gPiAtICAgICAgICAgICAgICAgICAgICAgICB2cmluZ191bm1hcF9vbmVfc3BsaXRfaW5k
aXJlY3QodnEsICZpbmRpcl9kZXNjW2pdKTsKPiA+ICsgICAgICAgICAgICAgICBpZiAoZG1hX21h
cCkgewo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGxlbiAvIHNp
emVvZihzdHJ1Y3QgdnJpbmdfZGVzYyk7IGorKykKPiA+ICsgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgdnJpbmdfdW5tYXBfb25lX3NwbGl0X2luZGlyZWN0KHZxLCAmaW5kaXJfZGVzY1tq
XSk7Cj4gPiArICAgICAgICAgICAgICAgfQo+ID4KPiA+ICAgICAgICAgICAgICAgICBrZnJlZShp
bmRpcl9kZXNjKTsKPiA+ICAgICAgICAgICAgICAgICB2cS0+c3BsaXQuZGVzY19zdGF0ZVtoZWFk
XS5pbmRpcl9kZXNjID0gTlVMTDsKPiA+IEBAIC0yMjA0LDcgKzIyMTgsMjIgQEAgc3RhdGljIGlu
bGluZSBpbnQgdmlydHF1ZXVlX2FkZChzdHJ1Y3QgdmlydHF1ZXVlICpfdnEsCj4gPiAgICAgICAg
IHJldHVybiB2cS0+cGFja2VkX3JpbmcgPyB2aXJ0cXVldWVfYWRkX3BhY2tlZChfdnEsIHNncywg
dG90YWxfc2csCj4gPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0
X3NncywgaW5fc2dzLCBkYXRhLCBjdHgsIGdmcCkgOgo+ID4gICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgdmlydHF1ZXVlX2FkZF9zcGxpdChfdnEsIHNncywgdG90YWxfc2csCj4gPiAt
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0X3NncywgaW5fc2dzLCBk
YXRhLCBjdHgsIGdmcCk7Cj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgb3V0X3NncywgaW5fc2dzLCBkYXRhLCBjdHgsIHRydWUsIGdmcCk7Cj4gPiArfQo+ID4gKwo+
ID4gK3N0YXRpYyBpbmxpbmUgaW50IHZpcnRxdWV1ZV9hZGRfcHJlbWFwcGVkKHN0cnVjdCB2aXJ0
cXVldWUgKl92cSwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHN0cnVjdCBzY2F0dGVybGlzdCAqc2dzW10sCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICB1bnNpZ25lZCBpbnQgdG90YWxfc2csCj4gPiArICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnNpZ25lZCBpbnQgb3V0X3NncywKPiA+ICsg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuc2lnbmVkIGludCBpbl9z
Z3MsCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2b2lkICpk
YXRhLAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm9pZCAq
Y3R4LAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2ZwX3Qg
Z2ZwKQo+ID4gK3sKPiA+ICsgICAgICAgc3RydWN0IHZyaW5nX3ZpcnRxdWV1ZSAqdnEgPSB0b192
dnEoX3ZxKTsKPiA+ICsKPiA+ICsgICAgICAgcmV0dXJuIHZpcnRxdWV1ZV9hZGRfc3BsaXQoX3Zx
LCBzZ3MsIHRvdGFsX3NnLCBvdXRfc2dzLCBpbl9zZ3MsIGRhdGEsCj4gPiArICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIGN0eCwgZmFsc2UsIGdmcCk7Cj4gPiAgfQo+ID4KPiA+ICAv
KioKPiA+IEBAIC0yMjY0LDYgKzIyOTMsMzEgQEAgaW50IHZpcnRxdWV1ZV9hZGRfb3V0YnVmKHN0
cnVjdCB2aXJ0cXVldWUgKnZxLAo+ID4gIH0KPiA+ICBFWFBPUlRfU1lNQk9MX0dQTCh2aXJ0cXVl
dWVfYWRkX291dGJ1Zik7Cj4gPgo+ID4gKy8qKgo+ID4gKyAqIHZpcnRxdWV1ZV9hZGRfb3V0YnVm
X3ByZW1hcHBlZCAtIGV4cG9zZSBvdXRwdXQgYnVmZmVycyB3aXRoIGRtYSBhZGRyZXNzIHRvIG90
aGVyIGVuZAo+ID4gKyAqIEB2cTogdGhlIHN0cnVjdCB2aXJ0cXVldWUgd2UncmUgdGFsa2luZyBh
Ym91dC4KPiA+ICsgKiBAc2c6IHNjYXR0ZXJsaXN0IChtdXN0IGJlIHdlbGwtZm9ybWVkIGFuZCB0
ZXJtaW5hdGVkISkKPiA+ICsgKiBAbnVtOiB0aGUgbnVtYmVyIG9mIGVudHJpZXMgaW4gQHNnIHJl
YWRhYmxlIGJ5IG90aGVyIHNpZGUKPiA+ICsgKiBAZGF0YTogdGhlIHRva2VuIGlkZW50aWZ5aW5n
IHRoZSBidWZmZXIuCj4gPiArICogQGdmcDogaG93IHRvIGRvIG1lbW9yeSBhbGxvY2F0aW9ucyAo
aWYgbmVjZXNzYXJ5KS4KPiA+ICsgKgo+ID4gKyAqIENhbGxlciBtdXN0IGVuc3VyZSB3ZSBkb24n
dCBjYWxsIHRoaXMgd2l0aCBvdGhlciB2aXJ0cXVldWUgb3BlcmF0aW9ucwo+ID4gKyAqIGF0IHRo
ZSBzYW1lIHRpbWUgKGV4Y2VwdCB3aGVyZSBub3RlZCkuCj4gPiArICoKPiA+ICsgKiBJdCBpcyBy
ZXF1aXJlZCB0aGF0IGFsbCBhZGRycyBoYXZlIGNvbXBsZXRlZCBETUEgb3BlcmF0aW9ucy4gQW5k
IHVzZQo+ID4gKyAqIHNnLT5kbWFfYWRkcmVzcywgc2ctPmxlbmd0aCB0byBwYXNzIGFkZHIgYW5k
IGxlbmd0aC4KPiA+ICsgKgo+ID4gKyAqIFJldHVybnMgemVybyBvciBhIG5lZ2F0aXZlIGVycm9y
IChpZS4gRU5PU1BDLCBFTk9NRU0sIEVJTykuCj4gPiArICovCj4gPiAraW50IHZpcnRxdWV1ZV9h
ZGRfb3V0YnVmX3ByZW1hcHBlZChzdHJ1Y3QgdmlydHF1ZXVlICp2cSwKPiA+ICsgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHNjYXR0ZXJsaXN0ICpzZywgdW5zaWduZWQg
aW50IG51bSwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm9pZCAqZGF0
YSwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2ZwX3QgZ2ZwKQo+ID4g
K3sKPiA+ICsgICAgICAgcmV0dXJuIHZpcnRxdWV1ZV9hZGRfcHJlbWFwcGVkKHZxLCAmc2csIG51
bSwgMSwgMCwgZGF0YSwgTlVMTCwgZ2ZwKTsKPiA+ICt9Cj4gPiArRVhQT1JUX1NZTUJPTF9HUEwo
dmlydHF1ZXVlX2FkZF9vdXRidWZfcHJlbWFwcGVkKTsKPiA+ICsKPiA+ICAvKioKPiA+ICAgKiB2
aXJ0cXVldWVfYWRkX2luYnVmIC0gZXhwb3NlIGlucHV0IGJ1ZmZlcnMgdG8gb3RoZXIgZW5kCj4g
PiAgICogQHZxOiB0aGUgc3RydWN0IHZpcnRxdWV1ZSB3ZSdyZSB0YWxraW5nIGFib3V0Lgo+ID4g
ZGlmZiAtLWdpdCBhL2luY2x1ZGUvbGludXgvdmlydGlvLmggYi9pbmNsdWRlL2xpbnV4L3ZpcnRp
by5oCj4gPiBpbmRleCBkY2FiOWM3ZTg3ODQuLmQ4YjQ3MmE3ZGNhZSAxMDA2NDQKPiA+IC0tLSBh
L2luY2x1ZGUvbGludXgvdmlydGlvLmgKPiA+ICsrKyBiL2luY2x1ZGUvbGludXgvdmlydGlvLmgK
PiA+IEBAIC00Myw2ICs0MywxMSBAQCBpbnQgdmlydHF1ZXVlX2FkZF9vdXRidWYoc3RydWN0IHZp
cnRxdWV1ZSAqdnEsCj4gPiAgICAgICAgICAgICAgICAgICAgICAgICAgdm9pZCAqZGF0YSwKPiA+
ICAgICAgICAgICAgICAgICAgICAgICAgICBnZnBfdCBnZnApOwo+ID4KPiA+ICtpbnQgdmlydHF1
ZXVlX2FkZF9vdXRidWZfcHJlbWFwcGVkKHN0cnVjdCB2aXJ0cXVldWUgKnZxLAo+ID4gKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3Qgc2NhdHRlcmxpc3QgKnNnLCB1bnNp
Z25lZCBpbnQgbnVtLAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2b2lk
ICpkYXRhLAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZnBfdCBnZnAp
Owo+ID4gKwo+ID4gIGludCB2aXJ0cXVldWVfYWRkX2luYnVmKHN0cnVjdCB2aXJ0cXVldWUgKnZx
LAo+ID4gICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHNjYXR0ZXJsaXN0IHNnW10sIHVu
c2lnbmVkIGludCBudW0sCj4gPiAgICAgICAgICAgICAgICAgICAgICAgICB2b2lkICpkYXRhLAo+
ID4gLS0KPiA+IDIuMzIuMC4zLmcwMTE5NWNmOWYKPiA+Cj4KX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX18KVmlydHVhbGl6YXRpb24gbWFpbGluZyBsaXN0ClZp
cnR1YWxpemF0aW9uQGxpc3RzLmxpbnV4LWZvdW5kYXRpb24ub3JnCmh0dHBzOi8vbGlzdHMubGlu
dXhmb3VuZGF0aW9uLm9yZy9tYWlsbWFuL2xpc3RpbmZvL3ZpcnR1YWxpemF0aW9u
