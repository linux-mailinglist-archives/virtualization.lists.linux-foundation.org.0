Return-Path: <virtualization-bounces@lists.linux-foundation.org>
X-Original-To: lists.virtualization@lfdr.de
Delivered-To: lists.virtualization@lfdr.de
Received: from mail.linuxfoundation.org (mail.linuxfoundation.org [140.211.169.12])
	by mail.lfdr.de (Postfix) with ESMTPS id 4114AD5280
	for <lists.virtualization@lfdr.de>; Sat, 12 Oct 2019 22:49:17 +0200 (CEST)
Received: from mail.linux-foundation.org (localhost [127.0.0.1])
	by mail.linuxfoundation.org (Postfix) with ESMTP id BC35D2113;
	Sat, 12 Oct 2019 20:49:11 +0000 (UTC)
X-Original-To: virtualization@lists.linux-foundation.org
Delivered-To: virtualization@mail.linuxfoundation.org
Received: from smtp1.linuxfoundation.org (smtp1.linux-foundation.org
	[172.17.192.35])
	by mail.linuxfoundation.org (Postfix) with ESMTPS id CF2DE2106
	for <virtualization@lists.linux-foundation.org>;
	Sat, 12 Oct 2019 20:36:25 +0000 (UTC)
X-Greylist: domain auto-whitelisted by SQLgrey-1.7.6
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
	by smtp1.linuxfoundation.org (Postfix) with ESMTPS id 2764AD0
	for <virtualization@lists.linux-foundation.org>;
	Sat, 12 Oct 2019 20:36:25 +0000 (UTC)
Received: from mail-wr1-f71.google.com (mail-wr1-f71.google.com
	[209.85.221.71])
	(using TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits))
	(No client certificate requested)
	by mx1.redhat.com (Postfix) with ESMTPS id 6C33AC049E12
	for <virtualization@lists.linux-foundation.org>;
	Sat, 12 Oct 2019 20:36:24 +0000 (UTC)
Received: by mail-wr1-f71.google.com with SMTP id z17so6317860wru.13
	for <virtualization@lists.linux-foundation.org>;
	Sat, 12 Oct 2019 13:36:24 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
	d=1e100.net; s=20161025;
	h=x-gm-message-state:date:from:to:cc:subject:message-id:references
	:mime-version:content-disposition:content-transfer-encoding
	:in-reply-to;
	bh=JnMY403XT0MnWLXycYAnv/BtOzDPUCWOTNJeZPw5WwM=;
	b=MhRxR6KETjWi6DV/A6cWlo1oAP+t4fqKDHwUHfplMemi2WIuPu2bSKEQ+3hYfogPRr
	0oll9A3/qFGn28Pcb8jVt32PsocaC9J9VM1hehNfK9SKexCZ0O6y7blSGoJAiggZXceS
	DkLfUgxGoD7PYX4IRo0tpfBK7q6/6NF36UuiFa8+JLB/q5ZpDwCrH43KLn+4AvoZdz+T
	d5BbmHwiZPf3a3kdvPJMof/aZSpdTjX21b07Q/pHhH4kTSiO4wz49TyV503tvdo6Ia1R
	onu5wCwPScQ/rYOQhnIEDzAsMcWQFS53KsyBWeEhUz/nJewO2eWKMhGY+7LoktmTjDCn
	mnJA==
X-Gm-Message-State: APjAAAXinOlc8wZA7N2dK8kHEDNajwIO6S2/SsuVSjsb5UQZqnFz0ogD
	ziWOYHVX0j6NZYfY5D63aSoo4J+fmXrN6zECbBQZfN+8xV5i0hIObj7RboZ/D4+Lr3zjAdh0XBT
	nz576pwK2GOJcAK31yGsZhP665J8XbTijpnD1aiuYjQ==
X-Received: by 2002:a7b:c44f:: with SMTP id l15mr8418731wmi.121.1570912583101; 
	Sat, 12 Oct 2019 13:36:23 -0700 (PDT)
X-Google-Smtp-Source: APXvYqwpf5fgrdblCrCbh9YFdQVHjk4IkIywF94f5EqgMMvec1jqlKTbum6rFKr4dPV8/Jiydn/CCw==
X-Received: by 2002:a7b:c44f:: with SMTP id l15mr8418726wmi.121.1570912582819; 
	Sat, 12 Oct 2019 13:36:22 -0700 (PDT)
Received: from redhat.com (bzq-79-176-10-77.red.bezeqint.net. [79.176.10.77])
	by smtp.gmail.com with ESMTPSA id
	r13sm18778588wrn.0.2019.10.12.13.36.21
	(version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
	Sat, 12 Oct 2019 13:36:22 -0700 (PDT)
Date: Sat, 12 Oct 2019 16:36:19 -0400
From: "Michael S. Tsirkin" <mst@redhat.com>
To: Jason Wang <jasowang@redhat.com>
Subject: Re: [PATCH RFC v1 2/2] vhost: batching fetches
Message-ID: <20191012162759-mutt-send-email-mst@kernel.org>
References: <20191011134358.16912-1-mst@redhat.com>
	<20191011134358.16912-3-mst@redhat.com>
	<3be186d8-cde6-aa08-0446-1ec7fec0efe0@redhat.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <3be186d8-cde6-aa08-0446-1ec7fec0efe0@redhat.com>
X-Spam-Status: No, score=-6.9 required=5.0 tests=BAYES_00,RCVD_IN_DNSWL_HI
	autolearn=ham version=3.3.1
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on
	smtp1.linux-foundation.org
Cc: netdev@vger.kernel.org, linux-kernel@vger.kernel.org, kvm@vger.kernel.org,
	virtualization@lists.linux-foundation.org
X-BeenThere: virtualization@lists.linux-foundation.org
X-Mailman-Version: 2.1.12
Precedence: list
List-Id: Linux virtualization <virtualization.lists.linux-foundation.org>
List-Unsubscribe: <https://lists.linuxfoundation.org/mailman/options/virtualization>,
	<mailto:virtualization-request@lists.linux-foundation.org?subject=unsubscribe>
List-Archive: <http://lists.linuxfoundation.org/pipermail/virtualization/>
List-Post: <mailto:virtualization@lists.linux-foundation.org>
List-Help: <mailto:virtualization-request@lists.linux-foundation.org?subject=help>
List-Subscribe: <https://lists.linuxfoundation.org/mailman/listinfo/virtualization>,
	<mailto:virtualization-request@lists.linux-foundation.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Sender: virtualization-bounces@lists.linux-foundation.org
Errors-To: virtualization-bounces@lists.linux-foundation.org

T24gU2F0LCBPY3QgMTIsIDIwMTkgYXQgMDM6MzA6NTJQTSArMDgwMCwgSmFzb24gV2FuZyB3cm90
ZToKPiAKPiBPbiAyMDE5LzEwLzExIOS4i+WNiDk6NDYsIE1pY2hhZWwgUy4gVHNpcmtpbiB3cm90
ZToKPiA+IFdpdGggdGhpcyBwYXRjaCBhcHBsaWVkLCBuZXcgYW5kIG9sZCBjb2RlIHBlcmZvcm0g
aWRlbnRpY2FsbHkuCj4gPiAKPiA+IExvdHMgb2YgZXh0cmEgb3B0aW1pemF0aW9ucyBhcmUgbm93
IHBvc3NpYmxlLCBlLmcuCj4gPiB3ZSBjYW4gZmV0Y2ggbXVsdGlwbGUgaGVhZHMgd2l0aCBjb3B5
X2Zyb20vdG9fdXNlciBub3cuCj4gPiBXZSBjYW4gZ2V0IHJpZCBvZiBtYWludGFpbmluZyB0aGUg
bG9nIGFycmF5LiAgRXRjIGV0Yy4KPiA+IAo+ID4gU2lnbmVkLW9mZi1ieTogTWljaGFlbCBTLiBU
c2lya2luIDxtc3RAcmVkaGF0LmNvbT4KPiA+IC0tLQo+ID4gICBkcml2ZXJzL3Zob3N0L3Rlc3Qu
YyAgfCAgMiArLQo+ID4gICBkcml2ZXJzL3Zob3N0L3Zob3N0LmMgfCA1MCArKysrKysrKysrKysr
KysrKysrKysrKysrKysrKysrKysrKystLS0tLS0tCj4gPiAgIGRyaXZlcnMvdmhvc3Qvdmhvc3Qu
aCB8ICA0ICsrKy0KPiA+ICAgMyBmaWxlcyBjaGFuZ2VkLCA0NiBpbnNlcnRpb25zKCspLCAxMCBk
ZWxldGlvbnMoLSkKPiA+IAo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvdmhvc3QvdGVzdC5jIGIv
ZHJpdmVycy92aG9zdC90ZXN0LmMKPiA+IGluZGV4IDM5YTAxOGE3YWYyZC4uZTNhOGU5ZGIyMmNk
IDEwMDY0NAo+ID4gLS0tIGEvZHJpdmVycy92aG9zdC90ZXN0LmMKPiA+ICsrKyBiL2RyaXZlcnMv
dmhvc3QvdGVzdC5jCj4gPiBAQCAtMTI4LDcgKzEyOCw3IEBAIHN0YXRpYyBpbnQgdmhvc3RfdGVz
dF9vcGVuKHN0cnVjdCBpbm9kZSAqaW5vZGUsIHN0cnVjdCBmaWxlICpmKQo+ID4gICAJZGV2ID0g
Jm4tPmRldjsKPiA+ICAgCXZxc1tWSE9TVF9URVNUX1ZRXSA9ICZuLT52cXNbVkhPU1RfVEVTVF9W
UV07Cj4gPiAgIAluLT52cXNbVkhPU1RfVEVTVF9WUV0uaGFuZGxlX2tpY2sgPSBoYW5kbGVfdnFf
a2ljazsKPiA+IC0Jdmhvc3RfZGV2X2luaXQoZGV2LCB2cXMsIFZIT1NUX1RFU1RfVlFfTUFYLCBV
SU9fTUFYSU9WLAo+ID4gKwl2aG9zdF9kZXZfaW5pdChkZXYsIHZxcywgVkhPU1RfVEVTVF9WUV9N
QVgsIFVJT19NQVhJT1YgKyA2NCwKPiA+ICAgCQkgICAgICAgVkhPU1RfVEVTVF9QS1RfV0VJR0hU
LCBWSE9TVF9URVNUX1dFSUdIVCk7Cj4gPiAgIAlmLT5wcml2YXRlX2RhdGEgPSBuOwo+ID4gZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvdmhvc3Qvdmhvc3QuYyBiL2RyaXZlcnMvdmhvc3Qvdmhvc3QuYwo+
ID4gaW5kZXggMzY2NjFkNmNiNTFmLi5hYTM4M2U4NDc4NjUgMTAwNjQ0Cj4gPiAtLS0gYS9kcml2
ZXJzL3Zob3N0L3Zob3N0LmMKPiA+ICsrKyBiL2RyaXZlcnMvdmhvc3Qvdmhvc3QuYwo+ID4gQEAg
LTMwMiw2ICszMDIsNyBAQCBzdGF0aWMgdm9pZCB2aG9zdF92cV9yZXNldChzdHJ1Y3Qgdmhvc3Rf
ZGV2ICpkZXYsCj4gPiAgIHsKPiA+ICAgCXZxLT5udW0gPSAxOwo+ID4gICAJdnEtPm5kZXNjcyA9
IDA7Cj4gPiArCXZxLT5maXJzdF9kZXNjID0gMDsKPiA+ICAgCXZxLT5kZXNjID0gTlVMTDsKPiA+
ICAgCXZxLT5hdmFpbCA9IE5VTEw7Cj4gPiAgIAl2cS0+dXNlZCA9IE5VTEw7Cj4gPiBAQCAtMzkw
LDYgKzM5MSw3IEBAIHN0YXRpYyBsb25nIHZob3N0X2Rldl9hbGxvY19pb3ZlY3Moc3RydWN0IHZo
b3N0X2RldiAqZGV2KQo+ID4gICAJZm9yIChpID0gMDsgaSA8IGRldi0+bnZxczsgKytpKSB7Cj4g
PiAgIAkJdnEgPSBkZXYtPnZxc1tpXTsKPiA+ICAgCQl2cS0+bWF4X2Rlc2NzID0gZGV2LT5pb3Zf
bGltaXQ7Cj4gPiArCQl2cS0+YmF0Y2hfZGVzY3MgPSBkZXYtPmlvdl9saW1pdCAtIFVJT19NQVhJ
T1Y7Cj4gPiAgIAkJdnEtPmRlc2NzID0ga21hbGxvY19hcnJheSh2cS0+bWF4X2Rlc2NzLAo+ID4g
ICAJCQkJCSAgc2l6ZW9mKCp2cS0+ZGVzY3MpLAo+ID4gICAJCQkJCSAgR0ZQX0tFUk5FTCk7Cj4g
PiBAQCAtMjM2Niw2ICsyMzY4LDggQEAgc3RhdGljIHZvaWQgcG9wX3NwbGl0X2Rlc2Moc3RydWN0
IHZob3N0X3ZpcnRxdWV1ZSAqdnEpCj4gPiAgIAktLXZxLT5uZGVzY3M7Cj4gPiAgIH0KPiA+ICsj
ZGVmaW5lIFZIT1NUX0RFU0NfRkxBR1MgKFZSSU5HX0RFU0NfRl9JTkRJUkVDVCB8IFZSSU5HX0RF
U0NfRl9XUklURSB8IFwKPiA+ICsJCQkgIFZSSU5HX0RFU0NfRl9ORVhUKQo+ID4gICBzdGF0aWMg
aW50IHB1c2hfc3BsaXRfZGVzYyhzdHJ1Y3Qgdmhvc3RfdmlydHF1ZXVlICp2cSwgc3RydWN0IHZy
aW5nX2Rlc2MgKmRlc2MsIHUxNiBpZCkKPiA+ICAgewo+ID4gICAJc3RydWN0IHZob3N0X2Rlc2Mg
Kmg7Cj4gPiBAQCAtMjM3NSw3ICsyMzc5LDcgQEAgc3RhdGljIGludCBwdXNoX3NwbGl0X2Rlc2Mo
c3RydWN0IHZob3N0X3ZpcnRxdWV1ZSAqdnEsIHN0cnVjdCB2cmluZ19kZXNjICpkZXNjLAo+ID4g
ICAJaCA9ICZ2cS0+ZGVzY3NbdnEtPm5kZXNjcysrXTsKPiA+ICAgCWgtPmFkZHIgPSB2aG9zdDY0
X3RvX2NwdSh2cSwgZGVzYy0+YWRkcik7Cj4gPiAgIAloLT5sZW4gPSB2aG9zdDMyX3RvX2NwdSh2
cSwgZGVzYy0+bGVuKTsKPiA+IC0JaC0+ZmxhZ3MgPSB2aG9zdDE2X3RvX2NwdSh2cSwgZGVzYy0+
ZmxhZ3MpOwo+ID4gKwloLT5mbGFncyA9IHZob3N0MTZfdG9fY3B1KHZxLCBkZXNjLT5mbGFncykg
JiBWSE9TVF9ERVNDX0ZMQUdTOwo+ID4gICAJaC0+aWQgPSBpZDsKPiA+ICAgCXJldHVybiAwOwo+
ID4gQEAgLTI0NTAsNyArMjQ1NCw3IEBAIHN0YXRpYyBpbnQgZmV0Y2hfaW5kaXJlY3RfZGVzY3Mo
c3RydWN0IHZob3N0X3ZpcnRxdWV1ZSAqdnEsCj4gPiAgIAlyZXR1cm4gMDsKPiA+ICAgfQo+ID4g
LXN0YXRpYyBpbnQgZmV0Y2hfZGVzY3Moc3RydWN0IHZob3N0X3ZpcnRxdWV1ZSAqdnEpCj4gPiAr
c3RhdGljIGludCBmZXRjaF9idWYoc3RydWN0IHZob3N0X3ZpcnRxdWV1ZSAqdnEpCj4gPiAgIHsK
PiA+ICAgCXN0cnVjdCB2cmluZ19kZXNjIGRlc2M7Cj4gPiAgIAl1bnNpZ25lZCBpbnQgaSwgaGVh
ZCwgZm91bmQgPSAwOwo+ID4gQEAgLTI0NjIsNyArMjQ2NiwxMSBAQCBzdGF0aWMgaW50IGZldGNo
X2Rlc2NzKHN0cnVjdCB2aG9zdF92aXJ0cXVldWUgKnZxKQo+ID4gICAJLyogQ2hlY2sgaXQgaXNu
J3QgZG9pbmcgdmVyeSBzdHJhbmdlIHRoaW5ncyB3aXRoIGRlc2NyaXB0b3IgbnVtYmVycy4gKi8K
PiA+ICAgCWxhc3RfYXZhaWxfaWR4ID0gdnEtPmxhc3RfYXZhaWxfaWR4Owo+ID4gLQlpZiAodnEt
PmF2YWlsX2lkeCA9PSB2cS0+bGFzdF9hdmFpbF9pZHgpIHsKPiA+ICsJaWYgKHVubGlrZWx5KHZx
LT5hdmFpbF9pZHggPT0gdnEtPmxhc3RfYXZhaWxfaWR4KSkgewo+ID4gKwkJLyogSWYgd2UgYWxy
ZWFkeSBoYXZlIHdvcmsgdG8gZG8sIGRvbid0IGJvdGhlciByZS1jaGVja2luZy4gKi8KPiA+ICsJ
CWlmIChsaWtlbHkodnEtPm5kZXNjcykpCj4gPiArCQkJcmV0dXJuIHZxLT5udW07Cj4gPiArCj4g
PiAgIAkJaWYgKHVubGlrZWx5KHZob3N0X2dldF9hdmFpbF9pZHgodnEsICZhdmFpbF9pZHgpKSkg
ewo+ID4gICAJCQl2cV9lcnIodnEsICJGYWlsZWQgdG8gYWNjZXNzIGF2YWlsIGlkeCBhdCAlcFxu
IiwKPiA+ICAgCQkJCSZ2cS0+YXZhaWwtPmlkeCk7Cj4gPiBAQCAtMjU0MSw2ICsyNTQ5LDI0IEBA
IHN0YXRpYyBpbnQgZmV0Y2hfZGVzY3Moc3RydWN0IHZob3N0X3ZpcnRxdWV1ZSAqdnEpCj4gPiAg
IAlyZXR1cm4gMDsKPiA+ICAgfQo+ID4gK3N0YXRpYyBpbnQgZmV0Y2hfZGVzY3Moc3RydWN0IHZo
b3N0X3ZpcnRxdWV1ZSAqdnEpCj4gPiArewo+ID4gKwlpbnQgcmV0ID0gMDsKPiA+ICsKPiA+ICsJ
aWYgKHVubGlrZWx5KHZxLT5maXJzdF9kZXNjID49IHZxLT5uZGVzY3MpKSB7Cj4gPiArCQl2cS0+
Zmlyc3RfZGVzYyA9IDA7Cj4gPiArCQl2cS0+bmRlc2NzID0gMDsKPiA+ICsJfQo+ID4gKwo+ID4g
KwlpZiAodnEtPm5kZXNjcykKPiA+ICsJCXJldHVybiAwOwo+ID4gKwo+ID4gKwl3aGlsZSAoIXJl
dCAmJiB2cS0+bmRlc2NzIDw9IHZxLT5iYXRjaF9kZXNjcykKPiA+ICsJCXJldCA9IGZldGNoX2J1
Zih2cSk7Cj4gCj4gCj4gSXQgbG9va3MgdG8gbWUgZGVzY3JpcHRvciBjaGFpbmluZyBtaWdodCBi
ZSBicm9rZW4gaGVyZS4KCkl0IHNob3VsZCB3b3JrIGJlY2F1c2UgZmV0Y2hfYnVmIGZldGNoZXMg
YSB3aG9sZSBidWYsIGZvbGxvd2luZwp0aGUgY2hhaW4uIFNlZW1zIHRvIHdvcmsgaW4gYSBzbWFs
bCB0ZXN0IC4uLiB3aGF0IGlzc3VlcyBkbyB5b3Ugc2VlPwoKPiAKPiA+ICsKPiA+ICsJcmV0dXJu
IHZxLT5uZGVzY3MgPyAwIDogcmV0Owo+ID4gK30KPiA+ICsKPiA+ICAgLyogVGhpcyBsb29rcyBp
biB0aGUgdmlydHF1ZXVlIGFuZCBmb3IgdGhlIGZpcnN0IGF2YWlsYWJsZSBidWZmZXIsIGFuZCBj
b252ZXJ0cwo+ID4gICAgKiBpdCB0byBhbiBpb3ZlYyBmb3IgY29udmVuaWVudCBhY2Nlc3MuICBT
aW5jZSBkZXNjcmlwdG9ycyBjb25zaXN0IG9mIHNvbWUKPiA+ICAgICogbnVtYmVyIG9mIG91dHB1
dCB0aGVuIHNvbWUgbnVtYmVyIG9mIGlucHV0IGRlc2NyaXB0b3JzLCBpdCdzIGFjdHVhbGx5IHR3
bwo+ID4gQEAgLTI1NjIsNiArMjU4OCw4IEBAIGludCB2aG9zdF9nZXRfdnFfZGVzY19iYXRjaChz
dHJ1Y3Qgdmhvc3RfdmlydHF1ZXVlICp2cSwKPiA+ICAgCWlmIChyZXQpCj4gPiAgIAkJcmV0dXJu
IHJldDsKPiA+ICsJLyogTm90ZTogaW5kaXJlY3QgZGVzY3JpcHRvcnMgYXJlIG5vdCBiYXRjaGVk
ICovCj4gPiArCS8qIFRPRE86IGJhdGNoIHVwIHRvIGEgbGltaXQgKi8KPiA+ICAgCWxhc3QgPSBw
ZWVrX3NwbGl0X2Rlc2ModnEpOwo+ID4gICAJaWQgPSBsYXN0LT5pZDsKPiA+IEBAIC0yNTg0LDEy
ICsyNjEyLDEyIEBAIGludCB2aG9zdF9nZXRfdnFfZGVzY19iYXRjaChzdHJ1Y3Qgdmhvc3Rfdmly
dHF1ZXVlICp2cSwKPiA+ICAgCWlmICh1bmxpa2VseShsb2cpKQo+ID4gICAJCSpsb2dfbnVtID0g
MDsKPiA+IC0JZm9yIChpID0gMDsgaSA8IHZxLT5uZGVzY3M7ICsraSkgewo+ID4gKwlmb3IgKGkg
PSB2cS0+Zmlyc3RfZGVzYzsgaSA8IHZxLT5uZGVzY3M7ICsraSkgewo+ID4gICAJCXVuc2lnbmVk
IGlvdl9jb3VudCA9ICppbl9udW0gKyAqb3V0X251bTsKPiA+ICAgCQlzdHJ1Y3Qgdmhvc3RfZGVz
YyAqZGVzYyA9ICZ2cS0+ZGVzY3NbaV07Cj4gPiAgIAkJaW50IGFjY2VzczsKPiA+IC0JCWlmIChk
ZXNjLT5mbGFncyAmIH4oVlJJTkdfREVTQ19GX0lORElSRUNUIHwgVlJJTkdfREVTQ19GX1dSSVRF
KSkgewo+ID4gKwkJaWYgKGRlc2MtPmZsYWdzICYgflZIT1NUX0RFU0NfRkxBR1MpIHsKPiA+ICAg
CQkJdnFfZXJyKHZxLCAiVW5leHBlY3RlZCBmbGFnczogMHgleCBhdCBkZXNjcmlwdG9yIGlkIDB4
JXhcbiIsCj4gPiAgIAkJCSAgICAgICBkZXNjLT5mbGFncywgZGVzYy0+aWQpOwo+ID4gICAJCQly
ZXQgPSAtRUlOVkFMOwo+ID4gQEAgLTI2MjgsMTUgKzI2NTYsMjEgQEAgaW50IHZob3N0X2dldF92
cV9kZXNjX2JhdGNoKHN0cnVjdCB2aG9zdF92aXJ0cXVldWUgKnZxLAo+ID4gICAJCQl9Cj4gPiAg
IAkJCSpvdXRfbnVtICs9IHJldDsKPiA+ICAgCQl9Cj4gPiArCj4gPiArCQlyZXQgPSBkZXNjLT5p
ZDsKPiA+ICsKPiA+ICsJCWlmICghKGRlc2MtPmZsYWdzICYgVlJJTkdfREVTQ19GX05FWFQpKQo+
ID4gKwkJCWJyZWFrOwo+ID4gICAJfQo+IAo+IAo+IFdoYXQgaGFwcGVucyBpZiB3ZSByZWFjaCB2
cS0+bmRlc2NzIGJ1dCBWUklOR19ERVNDX0ZfTkVYVCBpcyBzdGlsbCBzZXQ/Cj4gCj4gVGhhbmtz
CgpUaGlzIGNhbid0IGhhcHBlbjogZGVzY3JpcHRvcnMgYXJlIHB1c2hlZCBieSBwdXNoX3NwbGl0
X2Rlc2MgZWFjaCB0aW1lCndlIGdvIHRocm91Z2ggYSBsb29wIGluIGZldGNoX2J1Zi4gVGhlIG9u
bHkgd2F5IHRvIGV4aXQgdGhlIGxvb3AKd2l0aCByZXR1cm4gY29kZSAwIGlzIGlmIG5leHRfZGVz
YyByZXR1cm4gLTEgdGhhdCBpcyB3aGVuIFZSSU5HX0RFU0NfRl9ORVhUCmlzIGNsZWFyLgoKQnV0
IGl0J3MgYSBnb29kIGlkZWEgdG8gYWRkIGEgQlVHX09OIGhlcmUsIEknbGwgZG8gaXQgaW4gdGhl
IG5leHQgdmVyc2lvbi4KCgo+IAo+ID4gLQlyZXQgPSBpZDsKPiA+IC0JdnEtPm5kZXNjcyA9IDA7
Cj4gPiArCXZxLT5maXJzdF9kZXNjID0gaSArIDE7Cj4gPiAgIAlyZXR1cm4gcmV0Owo+ID4gICBl
cnI6Cj4gPiAtCXZob3N0X2Rpc2NhcmRfdnFfZGVzYyh2cSwgMSk7Cj4gPiArCWZvciAoaSA9IHZx
LT5maXJzdF9kZXNjOyBpIDwgdnEtPm5kZXNjczsgKytpKQo+ID4gKwkJaWYgKCEoZGVzYy0+Zmxh
Z3MgJiBWUklOR19ERVNDX0ZfTkVYVCkpCj4gPiArCQkJdmhvc3RfZGlzY2FyZF92cV9kZXNjKHZx
LCAxKTsKPiA+ICAgCXZxLT5uZGVzY3MgPSAwOwo+ID4gICAJcmV0dXJuIHJldDsKPiA+IGRpZmYg
LS1naXQgYS9kcml2ZXJzL3Zob3N0L3Zob3N0LmggYi9kcml2ZXJzL3Zob3N0L3Zob3N0LmgKPiA+
IGluZGV4IDE3MjRmNjFiNmMyZC4uOGI4OGUwYzkwM2RhIDEwMDY0NAo+ID4gLS0tIGEvZHJpdmVy
cy92aG9zdC92aG9zdC5oCj4gPiArKysgYi9kcml2ZXJzL3Zob3N0L3Zob3N0LmgKPiA+IEBAIC0x
MDAsNyArMTAwLDkgQEAgc3RydWN0IHZob3N0X3ZpcnRxdWV1ZSB7Cj4gPiAgIAlzdHJ1Y3Qgdmhv
c3RfZGVzYyAqZGVzY3M7Cj4gPiAgIAlpbnQgbmRlc2NzOwo+ID4gKwlpbnQgZmlyc3RfZGVzYzsK
PiA+ICAgCWludCBtYXhfZGVzY3M7Cj4gPiArCWludCBiYXRjaF9kZXNjczsKPiA+ICAgCWNvbnN0
IHN0cnVjdCB2aG9zdF91bWVtX25vZGUgKm1ldGFfaW90bGJbVkhPU1RfTlVNX0FERFJTXTsKPiA+
ICAgCXN0cnVjdCBmaWxlICpraWNrOwo+ID4gQEAgLTI0NSw3ICsyNDcsNyBAQCBzc2l6ZV90IHZo
b3N0X2Nocl93cml0ZV9pdGVyKHN0cnVjdCB2aG9zdF9kZXYgKmRldiwKPiA+ICAgaW50IHZob3N0
X2luaXRfZGV2aWNlX2lvdGxiKHN0cnVjdCB2aG9zdF9kZXYgKmQsIGJvb2wgZW5hYmxlZCk7Cj4g
PiAgICNkZWZpbmUgdnFfZXJyKHZxLCBmbXQsIC4uLikgZG8geyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBcCj4gPiAtCQlwcl9kZWJ1Zyhwcl9mbXQoZm10KSwgIyNfX1ZBX0FSR1Nf
Xyk7ICAgICAgIFwKPiA+ICsJCXByX2Vycihwcl9mbXQoZm10KSwgIyNfX1ZBX0FSR1NfXyk7ICAg
ICAgIFwKPiA+ICAgCQlpZiAoKHZxKS0+ZXJyb3JfY3R4KSAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBcCj4gPiAgIAkJCQlldmVudGZkX3NpZ25hbCgodnEpLT5lcnJvcl9jdHgsIDEpO1wK
PiA+ICAgCX0gd2hpbGUgKDApCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fClZpcnR1YWxpemF0aW9uIG1haWxpbmcgbGlzdApWaXJ0dWFsaXphdGlvbkBsaXN0
cy5saW51eC1mb3VuZGF0aW9uLm9yZwpodHRwczovL2xpc3RzLmxpbnV4Zm91bmRhdGlvbi5vcmcv
bWFpbG1hbi9saXN0aW5mby92aXJ0dWFsaXphdGlvbg==
