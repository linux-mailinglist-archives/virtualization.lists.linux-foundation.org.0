Return-Path: <virtualization-bounces@lists.linux-foundation.org>
X-Original-To: lists.virtualization@lfdr.de
Delivered-To: lists.virtualization@lfdr.de
Received: from smtp4.osuosl.org (smtp4.osuosl.org [140.211.166.137])
	by mail.lfdr.de (Postfix) with ESMTPS id 120E53F1425
	for <lists.virtualization@lfdr.de>; Thu, 19 Aug 2021 09:12:35 +0200 (CEST)
Received: from localhost (localhost [127.0.0.1])
	by smtp4.osuosl.org (Postfix) with ESMTP id 2FC7D40638;
	Thu, 19 Aug 2021 07:12:33 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp4.osuosl.org ([127.0.0.1])
	by localhost (smtp4.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id beHwDn-q0avK; Thu, 19 Aug 2021 07:12:29 +0000 (UTC)
Received: from lists.linuxfoundation.org (lf-lists.osuosl.org [IPv6:2605:bc80:3010:104::8cd3:938])
	by smtp4.osuosl.org (Postfix) with ESMTPS id 0414240799;
	Thu, 19 Aug 2021 07:12:28 +0000 (UTC)
Received: from lf-lists.osuosl.org (localhost [127.0.0.1])
	by lists.linuxfoundation.org (Postfix) with ESMTP id 738E3C0022;
	Thu, 19 Aug 2021 07:12:28 +0000 (UTC)
X-Original-To: virtualization@lists.linux-foundation.org
Delivered-To: virtualization@lists.linuxfoundation.org
Received: from smtp4.osuosl.org (smtp4.osuosl.org [IPv6:2605:bc80:3010::137])
 by lists.linuxfoundation.org (Postfix) with ESMTP id 3C527C000E
 for <virtualization@lists.linux-foundation.org>;
 Thu, 19 Aug 2021 07:12:27 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by smtp4.osuosl.org (Postfix) with ESMTP id 236F14078C
 for <virtualization@lists.linux-foundation.org>;
 Thu, 19 Aug 2021 07:12:27 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp4.osuosl.org ([127.0.0.1])
 by localhost (smtp4.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id oEE1dim2D-hW
 for <virtualization@lists.linux-foundation.org>;
 Thu, 19 Aug 2021 07:12:25 +0000 (UTC)
X-Greylist: domain auto-whitelisted by SQLgrey-1.8.0
Received: from us-smtp-delivery-124.mimecast.com
 (us-smtp-delivery-124.mimecast.com [170.10.133.124])
 by smtp4.osuosl.org (Postfix) with ESMTPS id 85CBB40638
 for <virtualization@lists.linux-foundation.org>;
 Thu, 19 Aug 2021 07:12:25 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=redhat.com;
 s=mimecast20190719; t=1629357144;
 h=from:from:reply-to:subject:subject:date:date:message-id:message-id:
 to:to:cc:cc:mime-version:mime-version:content-type:content-type:
 content-transfer-encoding:content-transfer-encoding:
 in-reply-to:in-reply-to:references:references;
 bh=dswxRfXIHU6P0YaZYp6LDqW47sggjgXfTX7HTcBhnRQ=;
 b=feDGfP8aemhDZr2tr4j19NpvGXQf7T6to975FicJz8GJ2l1sOQlaQg88DFfiUDr/yfodGh
 3yrTDWu8Y/lGtjjA6fS1hzC3N5zMgA/an9xDAJ9akkuopaRSMMmff4qyf7puCgUeZ9OWkW
 Oq4AmGMgmjoWFvLFKQTlOqz6YIvZLXA=
Received: from mail-pf1-f200.google.com (mail-pf1-f200.google.com
 [209.85.210.200]) (Using TLS) by relay.mimecast.com with ESMTP id
 us-mta-162-RugcVK9pNeeSwwraZhlR7g-1; Thu, 19 Aug 2021 03:12:21 -0400
X-MC-Unique: RugcVK9pNeeSwwraZhlR7g-1
Received: by mail-pf1-f200.google.com with SMTP id
 d23-20020aa78697000000b003e33ed83398so243560pfo.8
 for <virtualization@lists.linux-foundation.org>;
 Thu, 19 Aug 2021 00:12:20 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:subject:to:cc:references:from:message-id:date
 :user-agent:mime-version:in-reply-to:content-transfer-encoding
 :content-language;
 bh=dswxRfXIHU6P0YaZYp6LDqW47sggjgXfTX7HTcBhnRQ=;
 b=qv9HJKyU4wYm3tPWNg2dl3676udr4OvdqJw9Jrk8lS7ur5Bg59hi8Q/LB0qvxhA7DR
 Ub7xMYMqNH/yjnEJaf1hd+lgvra7CZzi/T4zzbtqsZG7CSE5Asqt/rb3qfmVjpRif3VP
 HioVrKz0y+5M3qi0m0M+IVMw20aENWt47/RX7tZ4HL2GimQak+h8sbz6Y+JJjJZkLSbo
 H7Pa8PdLMDYA6dgbEQA6PKv2YiwlbilgqJUl+wJbNVChxRMIS+FIZmt/rOWj+ZtEdTUF
 8V//pLYEeCcsqaZggPk+95GamDsvHO6fj5Ht1Kcg/7IWYo+6NTywBdPo9KLS6PCS+CEK
 QEJg==
X-Gm-Message-State: AOAM530incnLo1xGtPXk61uTz03K+PIg/2LEzdZJdwq53JK27OAGYY4S
 pDZorZUEXCMdjbFq+6r1H571m78RGLDM9u4UlPYAjYJpJjKGyXtUw1ShIsCLaazjgevCwIKqQSm
 XdvkDhfscvV4B1hqwMzQSMfvqAeU4jQYz4qrbX5LE0A==
X-Received: by 2002:a17:90b:e87:: with SMTP id
 fv7mr13462806pjb.85.1629357139621; 
 Thu, 19 Aug 2021 00:12:19 -0700 (PDT)
X-Google-Smtp-Source: ABdhPJyyeirYuKvuZmmbzRqCIjIw60bjCJOMqWBVA6WixtKXqZFnjsIgnNEnmwG5woLUhJCo1mrC/A==
X-Received: by 2002:a17:90b:e87:: with SMTP id
 fv7mr13462778pjb.85.1629357139239; 
 Thu, 19 Aug 2021 00:12:19 -0700 (PDT)
Received: from wangxiaodeMacBook-Air.local ([209.132.188.80])
 by smtp.gmail.com with ESMTPSA id j6sm2538340pgq.0.2021.08.19.00.12.16
 (version=TLS1_3 cipher=TLS_AES_128_GCM_SHA256 bits=128/128);
 Thu, 19 Aug 2021 00:12:18 -0700 (PDT)
Subject: Re: [PATCH v2 5/6] vdpa/mlx5: Add support for control VQ and MAC
 setting
To: Eli Cohen <elic@nvidia.com>
References: <20210817060250.188705-1-elic@nvidia.com>
 <20210817060250.188705-6-elic@nvidia.com>
 <92a8b0e6-7eba-8309-0c67-f526046573fc@redhat.com>
 <20210819060641.GA161591@mtl-vdi-166.wap.labs.mlnx>
From: Jason Wang <jasowang@redhat.com>
Message-ID: <b2aada9a-7cea-93aa-dc22-349968e8b2eb@redhat.com>
Date: Thu, 19 Aug 2021 15:12:14 +0800
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:78.0)
 Gecko/20100101 Thunderbird/78.13.0
MIME-Version: 1.0
In-Reply-To: <20210819060641.GA161591@mtl-vdi-166.wap.labs.mlnx>
Authentication-Results: relay.mimecast.com;
 auth=pass smtp.auth=CUSA124A263 smtp.mailfrom=jasowang@redhat.com
X-Mimecast-Spam-Score: 0
X-Mimecast-Originator: redhat.com
Content-Language: en-US
Cc: eperezma@redhat.com, virtualization@lists.linux-foundation.org,
 mst@redhat.com
X-BeenThere: virtualization@lists.linux-foundation.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: Linux virtualization <virtualization.lists.linux-foundation.org>
List-Unsubscribe: <https://lists.linuxfoundation.org/mailman/options/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=unsubscribe>
List-Archive: <http://lists.linuxfoundation.org/pipermail/virtualization/>
List-Post: <mailto:virtualization@lists.linux-foundation.org>
List-Help: <mailto:virtualization-request@lists.linux-foundation.org?subject=help>
List-Subscribe: <https://lists.linuxfoundation.org/mailman/listinfo/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: virtualization-bounces@lists.linux-foundation.org
Sender: "Virtualization" <virtualization-bounces@lists.linux-foundation.org>

CuWcqCAyMDIxLzgvMTkg5LiL5Y2IMjowNiwgRWxpIENvaGVuIOWGmemBkzoKPiBPbiBUaHUsIEF1
ZyAxOSwgMjAyMSBhdCAxMjowNDoxMFBNICswODAwLCBKYXNvbiBXYW5nIHdyb3RlOgo+PiDlnKgg
MjAyMS84LzE3IOS4i+WNiDI6MDIsIEVsaSBDb2hlbiDlhpnpgZM6Cj4+PiBBZGQgc3VwcG9ydCB0
byBoYW5kbGUgY29udHJvbCB2aXJ0cXVldWUgY29uZmlndXJhdGlvbnMgcGVyIHZpcnRpbwo+Pj4g
c3BlY2lmaWNhdGlvbi4gVGhlIGNvbnRyb2wgdmlydHF1ZXVlIGlzIGltcGxlbWVudGVkIGluIHNv
ZnR3YXJlIGFuZCBubwo+Pj4gaGFyZHdhcmUgb2ZmbG9hZGluZyBpcyBpbnZvbHZlZC4KPj4+Cj4+
PiBDb250cm9sIFZRIGNvbmZpZ3VyYXRpb24gbmVlZCB0YXNrIGNvbnRleHQsIHRoZXJlZm9yZSBh
bGwgY29uZmlndXJhdGlvbnMKPj4+IGFyZSBoYW5kbGVkIGluIGEgd29ya3F1ZXVlIGNyZWF0ZWQg
Zm9yIHRoZSBwdXJwb3NlLgo+Pgo+PiBJIHRoaW5rIGFsbCB0aGUgY3VycmVudCBjYWxsZXJzIGFy
ZSBhbHJlYWR5IGluIHRoZSB0aGUgdGFzayBjb250ZXh0ICh0aGUKPj4gY2FsbGVyIG9mIHZpcnRu
ZXRfc2VuZF9jb21tYW5kKCkpLgo+Pgo+PiBBbnkgcmVhc29uIGZvciB1c2luZyB3b3JrcXVldWUg
aGVyZT8KPj4KPiBJIGFtIHJ1bm5pbmcgY29kZSB0aGF0IG1pZ2h0IHNsZWVwIGFuZCB0aGUgY2Fs
bCBoYXMsIElJUkMsIGlycXMgZGlzYWJsZWQuIFRoZQo+IGtlcm5lbCBjb21wbGFpbmVkIGFib3V0
IHRoaXMuCgoKSSBzZWUuCgoKPgo+PiBJJ20gbm90IHN1cmUgaWYgaXQgY2FuIHdvcmsgd2VsbCBv
biBVUCB3aGVyZSB0aGUgd29ya3F1ZXVlIG1pZ2h0IG5vdCBoYXZlIGEKPj4gY2hhbmNlIHRvIGJl
IHNjaGVkdWxlZCAod2UgYXJlIGRvaW5nIGJ1c3kgd2FpdGluZyBoZXJlKToKPj4KPj4gIMKgwqDC
oMKgwqDCoMKgIC8qIFNwaW4gZm9yIGEgcmVzcG9uc2UsIHRoZSBraWNrIGNhdXNlcyBhbiBpb3Bv
cnQgd3JpdGUsIHRyYXBwaW5nCj4+ICDCoMKgwqDCoMKgwqDCoMKgICogaW50byB0aGUgaHlwZXJ2
aXNvciwgc28gdGhlIHJlcXVlc3Qgc2hvdWxkIGJlIGhhbmRsZWQKPj4gaW1tZWRpYXRlbHkuCj4+
ICDCoMKgwqDCoMKgwqDCoMKgICovCj4+ICDCoMKgwqDCoMKgwqDCoCB3aGlsZSAoIXZpcnRxdWV1
ZV9nZXRfYnVmKHZpLT5jdnEsICZ0bXApICYmCj4+ICDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oMKgICF2aXJ0cXVldWVfaXNfYnJva2VuKHZpLT5jdnEpKQo+PiAgwqDCoMKgwqDCoMKgwqDCoMKg
wqDCoMKgwqDCoMKgIGNwdV9yZWxheCgpOwo+Pgo+IEkgdGhpbmsgd2UgaGF2ZSB0d28gZGlmZmVy
ZW50IGNhc2VzIGhlcmU6Cj4gMS4gV2hlbiB0aGUgbmV0IGRldmljZSBpcyBydW5uaW5nIGluIGEg
Vk0uIEluIHRoaXMgY2FzZSB3ZSBkbyBub3QgaGF2ZQo+IGFueSBpc3N1ZSBzaW5jZSB0aGUgbG9v
cCBpcyBydW5uaW5nIGF0IHRoZSBndWVzdCBrZXJuZWwgYW5kIHRoZSB3b3JrIGlzCj4gZG9uZSBh
dCB0aGUgaG9zdCBrZXJuZWwgYW5kIHdvdWxkIGVuZCBhdCBhIGZpbml0ZSB0aW1lLgo+Cj4gMi4g
V2hlbiB3ZSdyZSB1c2luZyB2aXJ0aW9fdmRwYSBhbmQgdGhlIGRldmljZSBpcyBvbiB0aGUgaG9z
dCB3ZSBoYXZlIGFuCj4gaXNzdWUgaWYgd2UncmUgdXNpbmcgVVAgcHJvY2Vzc29yLiBNYXliZSB3
ZSBzaG91bGQgYXZvaWQgc3VwcG9ydGluZyBDVlEKPiBpbiB0aGlzIGNhc2U/CgoKTWF5YmUgd2Ug
Y2FuIHN3aXRjaCB0byB1c2UgaW50ZXJydXB0IGFuZCBzbGVlcCBoZXJlLCB3aWxsIGhhdmUgYSBs
b29rLgoKCgo+Cj4+PiBNb2RpZmljYXRpb25zIGFyZSBtYWRlIHRvIHRoZSBtZW1vcnkgcmVnaXN0
cmF0aW9uIGNvZGUgdG8gYWxsb3cgZm9yCj4+PiBzYXZpbmcgYSBjb3B5IG9mIGl0b2xiIHRvIGJl
IHVzZWQgYnkgdGhlIGNvbnRyb2wgVlEgdG8gYWNjZXNzIHRoZSB2cmluZy4KPj4+Cj4+PiBUaGUg
bWF4IG51bWJlciBvZiBkYXRhIHZpcnRxdWV1cyBzdXBwb3J0ZWQgYnkgdGhlIGRyaXZlciBoYXMg
YmVlbgo+Pj4gdXBkYXRlZCB0byAyIHNpbmNlIG11bHRpcXVldWUgaXMgbm90IHN1cHBvcnRlZCBh
dCB0aGlzIHN0YWdlIGFuZCB3ZSBuZWVkCj4+PiB0byBlbnN1cmUgY29uc2lzdGVuY3kgb2YgVlEg
aW5kaWNlcyBtYXBwaW5nIHRvIGVpdGhlciBkYXRhIG9yIGNvbnRyb2wKPj4+IFZRLgo+Pj4KPj4+
IFNpZ25lZC1vZmYtYnk6IEVsaSBDb2hlbiA8ZWxpY0BudmlkaWEuY29tPgo+Pj4gLS0tCj4+PiAg
ICBkcml2ZXJzL3ZkcGEvbWx4NS9jb3JlL21seDVfdmRwYS5oIHwgIDIzICsrKwo+Pj4gICAgZHJp
dmVycy92ZHBhL21seDUvY29yZS9tci5jICAgICAgICB8ICA4MSArKysrKysrLS0tCj4+PiAgICBk
cml2ZXJzL3ZkcGEvbWx4NS9jb3JlL3Jlc291cmNlcy5jIHwgIDMxICsrKysKPj4+ICAgIGRyaXZl
cnMvdmRwYS9tbHg1L25ldC9tbHg1X3ZuZXQuYyAgfCAyMzEgKysrKysrKysrKysrKysrKysrKysr
KysrKysrLS0KPj4+ICAgIDQgZmlsZXMgY2hhbmdlZCwgMzM0IGluc2VydGlvbnMoKyksIDMyIGRl
bGV0aW9ucygtKQo+Pj4KPj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL3ZkcGEvbWx4NS9jb3JlL21s
eDVfdmRwYS5oIGIvZHJpdmVycy92ZHBhL21seDUvY29yZS9tbHg1X3ZkcGEuaAo+Pj4gaW5kZXgg
NDFiMjA4NTVlZDMxLi42YzQzNDc2YTY5Y2IgMTAwNjQ0Cj4+PiAtLS0gYS9kcml2ZXJzL3ZkcGEv
bWx4NS9jb3JlL21seDVfdmRwYS5oCj4+PiArKysgYi9kcml2ZXJzL3ZkcGEvbWx4NS9jb3JlL21s
eDVfdmRwYS5oCj4+PiBAQCAtNSw2ICs1LDcgQEAKPj4+ICAgICNkZWZpbmUgX19NTFg1X1ZEUEFf
SF9fCj4+PiAgICAjaW5jbHVkZSA8bGludXgvZXRoZXJkZXZpY2UuaD4KPj4+ICsjaW5jbHVkZSA8
bGludXgvdnJpbmdoLmg+Cj4+PiAgICAjaW5jbHVkZSA8bGludXgvdmRwYS5oPgo+Pj4gICAgI2lu
Y2x1ZGUgPGxpbnV4L21seDUvZHJpdmVyLmg+Cj4+PiBAQCAtNDcsNiArNDgsMjYgQEAgc3RydWN0
IG1seDVfdmRwYV9yZXNvdXJjZXMgewo+Pj4gICAgCWJvb2wgdmFsaWQ7Cj4+PiAgICB9Owo+Pj4g
K3N0cnVjdCBtbHg1X2NvbnRyb2xfdnEgewo+Pj4gKwlzdHJ1Y3Qgdmhvc3RfaW90bGIgKmlvdGxi
Owo+Pj4gKwkvKiBzcGlubG9jayB0byBzeW5jaHJvbml6ZSBpb21tdSB0YWJsZSAqLwo+Pj4gKwlz
cGlubG9ja190IGlvbW11X2xvY2s7Cj4+PiArCXN0cnVjdCB2cmluZ2ggdnJpbmc7Cj4+PiArCWJv
b2wgcmVhZHk7Cj4+PiArCXU2NCBkZXNjX2FkZHI7Cj4+PiArCXU2NCBkZXZpY2VfYWRkcjsKPj4+
ICsJdTY0IGRyaXZlcl9hZGRyOwo+Pj4gKwlzdHJ1Y3QgdmRwYV9jYWxsYmFjayBldmVudF9jYjsK
Pj4+ICsJc3RydWN0IHZyaW5naF9raW92IHJpb3Y7Cj4+PiArCXN0cnVjdCB2cmluZ2hfa2lvdiB3
aW92Owo+Pj4gKwl1bnNpZ25lZCBzaG9ydCBoZWFkOwo+Pj4gK307Cj4+PiArCj4+PiArc3RydWN0
IG1seDVfY3RybF93cV9lbnQgewo+Pj4gKwlzdHJ1Y3Qgd29ya19zdHJ1Y3Qgd29yazsKPj4+ICsJ
c3RydWN0IG1seDVfdmRwYV9kZXYgKm12ZGV2Owo+Pj4gK307Cj4+PiArCj4+PiAgICBzdHJ1Y3Qg
bWx4NV92ZHBhX2RldiB7Cj4+PiAgICAJc3RydWN0IHZkcGFfZGV2aWNlIHZkZXY7Cj4+PiAgICAJ
c3RydWN0IG1seDVfY29yZV9kZXYgKm1kZXY7Cj4+PiBAQCAtNjAsNiArODEsOCBAQCBzdHJ1Y3Qg
bWx4NV92ZHBhX2RldiB7Cj4+PiAgICAJdTMyIGdlbmVyYXRpb247Cj4+PiAgICAJc3RydWN0IG1s
eDVfdmRwYV9tciBtcjsKPj4+ICsJc3RydWN0IG1seDVfY29udHJvbF92cSBjdnE7Cj4+PiArCXN0
cnVjdCB3b3JrcXVldWVfc3RydWN0ICp3cTsKPj4+ICAgIH07Cj4+PiAgICBpbnQgbWx4NV92ZHBh
X2FsbG9jX3BkKHN0cnVjdCBtbHg1X3ZkcGFfZGV2ICpkZXYsIHUzMiAqcGRuLCB1MTYgdWlkKTsK
Pj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL3ZkcGEvbWx4NS9jb3JlL21yLmMgYi9kcml2ZXJzL3Zk
cGEvbWx4NS9jb3JlL21yLmMKPj4+IGluZGV4IGU1OTEzNWZhODY3ZS4uZGEwMTNiODA4MmJjIDEw
MDY0NAo+Pj4gLS0tIGEvZHJpdmVycy92ZHBhL21seDUvY29yZS9tci5jCj4+PiArKysgYi9kcml2
ZXJzL3ZkcGEvbWx4NS9jb3JlL21yLmMKPj4+IEBAIC0xLDYgKzEsNyBAQAo+Pj4gICAgLy8gU1BE
WC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjAgT1IgTGludXgtT3BlbklCCj4+PiAgICAvKiBD
b3B5cmlnaHQgKGMpIDIwMjAgTWVsbGFub3ggVGVjaG5vbG9naWVzIEx0ZC4gKi8KPj4+ICsjaW5j
bHVkZSA8bGludXgvdmhvc3RfdHlwZXMuaD4KPj4+ICAgICNpbmNsdWRlIDxsaW51eC92ZHBhLmg+
Cj4+PiAgICAjaW5jbHVkZSA8bGludXgvZ2NkLmg+Cj4+PiAgICAjaW5jbHVkZSA8bGludXgvc3Ry
aW5nLmg+Cj4+PiBAQCAtNDUxLDMzICs0NTIsMzAgQEAgc3RhdGljIHZvaWQgZGVzdHJveV9kbWFf
bXIoc3RydWN0IG1seDVfdmRwYV9kZXYgKm12ZGV2LCBzdHJ1Y3QgbWx4NV92ZHBhX21yICptcikK
Pj4+ICAgIAltbHg1X3ZkcGFfZGVzdHJveV9ta2V5KG12ZGV2LCAmbXItPm1rZXkpOwo+Pj4gICAg
fQo+Pj4gLXN0YXRpYyBpbnQgX21seDVfdmRwYV9jcmVhdGVfbXIoc3RydWN0IG1seDVfdmRwYV9k
ZXYgKm12ZGV2LCBzdHJ1Y3Qgdmhvc3RfaW90bGIgKmlvdGxiKQo+Pj4gK3N0YXRpYyBpbnQgZHVw
X2lvdGxiKHN0cnVjdCBtbHg1X3ZkcGFfZGV2ICptdmRldiwgc3RydWN0IHZob3N0X2lvdGxiICpz
cmMpCj4+PiAgICB7Cj4+PiAtCXN0cnVjdCBtbHg1X3ZkcGFfbXIgKm1yID0gJm12ZGV2LT5tcjsK
Pj4+ICsJc3RydWN0IHZob3N0X2lvdGxiX21hcCAqbWFwOwo+Pj4gKwl1NjQgc3RhcnQgPSAwVUxM
LCBsYXN0ID0gMFVMTCAtIDE7Cj4+PiAgICAJaW50IGVycjsKPj4+IC0JaWYgKG1yLT5pbml0aWFs
aXplZCkKPj4+IC0JCXJldHVybiAwOwo+Pj4gLQo+Pj4gLQlpZiAoaW90bGIpCj4+PiAtCQllcnIg
PSBjcmVhdGVfdXNlcl9tcihtdmRldiwgaW90bGIpOwo+Pj4gLQllbHNlCj4+PiAtCQllcnIgPSBj
cmVhdGVfZG1hX21yKG12ZGV2LCBtcik7Cj4+PiAtCj4+PiAtCWlmICghZXJyKQo+Pj4gLQkJbXIt
PmluaXRpYWxpemVkID0gdHJ1ZTsKPj4+ICsJaWYgKCFzcmMpIHsKPj4+ICsJCWVyciA9IHZob3N0
X2lvdGxiX2FkZF9yYW5nZShtdmRldi0+Y3ZxLmlvdGxiLCBzdGFydCwgbGFzdCwgc3RhcnQsIFZI
T1NUX0FDQ0VTU19SVyk7Cj4+PiArCQlyZXR1cm4gZXJyOwo+Pj4gKwl9Cj4+PiAtCXJldHVybiBl
cnI7Cj4+PiArCWZvciAobWFwID0gdmhvc3RfaW90bGJfaXRyZWVfZmlyc3Qoc3JjLCBzdGFydCwg
bGFzdCk7IG1hcDsKPj4+ICsJCW1hcCA9IHZob3N0X2lvdGxiX2l0cmVlX25leHQobWFwLCBzdGFy
dCwgbGFzdCkpIHsKPj4+ICsJCWVyciA9IHZob3N0X2lvdGxiX2FkZF9yYW5nZShtdmRldi0+Y3Zx
LmlvdGxiLCBtYXAtPnN0YXJ0LCBtYXAtPmxhc3QsCj4+PiArCQkJCQkgICAgbWFwLT5hZGRyLCBt
YXAtPnBlcm0pOwo+Pj4gKwkJaWYgKGVycikKPj4+ICsJCQlyZXR1cm4gZXJyOwo+Pj4gKwl9Cj4+
PiArCXJldHVybiAwOwo+Pj4gICAgfQo+Pj4gLWludCBtbHg1X3ZkcGFfY3JlYXRlX21yKHN0cnVj
dCBtbHg1X3ZkcGFfZGV2ICptdmRldiwgc3RydWN0IHZob3N0X2lvdGxiICppb3RsYikKPj4+ICtz
dGF0aWMgdm9pZCBwcnVuZV9pb3RsYihzdHJ1Y3QgbWx4NV92ZHBhX2RldiAqbXZkZXYpCj4+PiAg
ICB7Cj4+PiAtCWludCBlcnI7Cj4+PiAtCj4+PiAtCW11dGV4X2xvY2soJm12ZGV2LT5tci5ta2V5
X210eCk7Cj4+PiAtCWVyciA9IF9tbHg1X3ZkcGFfY3JlYXRlX21yKG12ZGV2LCBpb3RsYik7Cj4+
PiAtCW11dGV4X3VubG9jaygmbXZkZXYtPm1yLm1rZXlfbXR4KTsKPj4+IC0JcmV0dXJuIGVycjsK
Pj4+ICsJdmhvc3RfaW90bGJfZGVsX3JhbmdlKG12ZGV2LT5jdnEuaW90bGIsIDBVTEwsIDBVTEwg
LSAxKTsKPj4KPj4gSXQncyBiZXR0ZXIgdG8gdXNlIFVMTE9OR19NQVguCj4gV2lsbCBjaGFuZ2Uu
Cj4KPj4KPj4+ICAgIH0KPj4+ICAgIHN0YXRpYyB2b2lkIGRlc3Ryb3lfdXNlcl9tcihzdHJ1Y3Qg
bWx4NV92ZHBhX2RldiAqbXZkZXYsIHN0cnVjdCBtbHg1X3ZkcGFfbXIgKm1yKQo+Pj4gQEAgLTUw
MSw2ICs0OTksNyBAQCB2b2lkIG1seDVfdmRwYV9kZXN0cm95X21yKHN0cnVjdCBtbHg1X3ZkcGFf
ZGV2ICptdmRldikKPj4+ICAgIAlpZiAoIW1yLT5pbml0aWFsaXplZCkKPj4+ICAgIAkJZ290byBv
dXQ7Cj4+PiArCXBydW5lX2lvdGxiKG12ZGV2KTsKPj4+ICAgIAlpZiAobXItPnVzZXJfbXIpCj4+
PiAgICAJCWRlc3Ryb3lfdXNlcl9tcihtdmRldiwgbXIpOwo+Pj4gICAgCWVsc2UKPj4+IEBAIC01
MTIsNiArNTExLDQ4IEBAIHZvaWQgbWx4NV92ZHBhX2Rlc3Ryb3lfbXIoc3RydWN0IG1seDVfdmRw
YV9kZXYgKm12ZGV2KQo+Pj4gICAgCW11dGV4X3VubG9jaygmbXItPm1rZXlfbXR4KTsKPj4+ICAg
IH0KPj4+ICtzdGF0aWMgaW50IF9tbHg1X3ZkcGFfY3JlYXRlX21yKHN0cnVjdCBtbHg1X3ZkcGFf
ZGV2ICptdmRldiwgc3RydWN0IHZob3N0X2lvdGxiICppb3RsYikKPj4+ICt7Cj4+PiArCXN0cnVj
dCBtbHg1X3ZkcGFfbXIgKm1yID0gJm12ZGV2LT5tcjsKPj4+ICsJaW50IGVycjsKPj4+ICsKPj4+
ICsJaWYgKG1yLT5pbml0aWFsaXplZCkKPj4+ICsJCXJldHVybiAwOwo+Pj4gKwo+Pj4gKwlpZiAo
aW90bGIpCj4+PiArCQllcnIgPSBjcmVhdGVfdXNlcl9tcihtdmRldiwgaW90bGIpOwo+Pj4gKwll
bHNlCj4+PiArCQllcnIgPSBjcmVhdGVfZG1hX21yKG12ZGV2LCBtcik7Cj4+PiArCj4+PiArCWlm
IChlcnIpCj4+PiArCQlyZXR1cm4gZXJyOwo+Pj4gKwo+Pj4gKwllcnIgPSBkdXBfaW90bGIobXZk
ZXYsIGlvdGxiKTsKPj4+ICsJaWYgKGVycikKPj4+ICsJCWdvdG8gb3V0X2VycjsKPj4+ICsKPj4+
ICsJbXItPmluaXRpYWxpemVkID0gdHJ1ZTsKPj4+ICsJcmV0dXJuIDA7Cj4+PiArCj4+PiArb3V0
X2VycjoKPj4+ICsJaWYgKGlvdGxiKQo+Pj4gKwkJZGVzdHJveV91c2VyX21yKG12ZGV2LCBtcik7
Cj4+PiArCWVsc2UKPj4+ICsJCWRlc3Ryb3lfZG1hX21yKG12ZGV2LCBtcik7Cj4+PiArCj4+PiAr
CXJldHVybiBlcnI7Cj4+PiArfQo+Pj4gKwo+Pj4gK2ludCBtbHg1X3ZkcGFfY3JlYXRlX21yKHN0
cnVjdCBtbHg1X3ZkcGFfZGV2ICptdmRldiwgc3RydWN0IHZob3N0X2lvdGxiICppb3RsYikKPj4+
ICt7Cj4+PiArCWludCBlcnI7Cj4+PiArCj4+PiArCW11dGV4X2xvY2soJm12ZGV2LT5tci5ta2V5
X210eCk7Cj4+PiArCWVyciA9IF9tbHg1X3ZkcGFfY3JlYXRlX21yKG12ZGV2LCBpb3RsYik7Cj4+
PiArCW11dGV4X3VubG9jaygmbXZkZXYtPm1yLm1rZXlfbXR4KTsKPj4+ICsJcmV0dXJuIGVycjsK
Pj4+ICt9Cj4+PiArCj4+PiAgICBpbnQgbWx4NV92ZHBhX2hhbmRsZV9zZXRfbWFwKHN0cnVjdCBt
bHg1X3ZkcGFfZGV2ICptdmRldiwgc3RydWN0IHZob3N0X2lvdGxiICppb3RsYiwKPj4+ICAgIAkJ
CSAgICAgYm9vbCAqY2hhbmdlX21hcCkKPj4+ICAgIHsKPj4+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L3ZkcGEvbWx4NS9jb3JlL3Jlc291cmNlcy5jIGIvZHJpdmVycy92ZHBhL21seDUvY29yZS9yZXNv
dXJjZXMuYwo+Pj4gaW5kZXggZDQ2MDYyMTNmODhhLi5kMjRhZTFhODUxNTkgMTAwNjQ0Cj4+PiAt
LS0gYS9kcml2ZXJzL3ZkcGEvbWx4NS9jb3JlL3Jlc291cmNlcy5jCj4+PiArKysgYi9kcml2ZXJz
L3ZkcGEvbWx4NS9jb3JlL3Jlc291cmNlcy5jCj4+PiBAQCAtMSw2ICsxLDcgQEAKPj4+ICAgIC8v
IFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wIE9SIExpbnV4LU9wZW5JQgo+Pj4gICAg
LyogQ29weXJpZ2h0IChjKSAyMDIwIE1lbGxhbm94IFRlY2hub2xvZ2llcyBMdGQuICovCj4+PiAr
I2luY2x1ZGUgPGxpbnV4L2lvdmEuaD4KPj4+ICAgICNpbmNsdWRlIDxsaW51eC9tbHg1L2RyaXZl
ci5oPgo+Pj4gICAgI2luY2x1ZGUgIm1seDVfdmRwYS5oIgo+Pj4gQEAgLTIyMSw2ICsyMjIsMjgg
QEAgaW50IG1seDVfdmRwYV9kZXN0cm95X21rZXkoc3RydWN0IG1seDVfdmRwYV9kZXYgKm12ZGV2
LCBzdHJ1Y3QgbWx4NV9jb3JlX21rZXkgKm0KPj4+ICAgIAlyZXR1cm4gbWx4NV9jbWRfZXhlY19p
bihtdmRldi0+bWRldiwgZGVzdHJveV9ta2V5LCBpbik7Cj4+PiAgICB9Cj4+PiArc3RhdGljIGlu
dCBpbml0X2N0cmxfdnEoc3RydWN0IG1seDVfdmRwYV9kZXYgKm12ZGV2KQo+Pj4gK3sKPj4+ICsJ
aW50IGVycjsKPj4+ICsKPj4+ICsJbXZkZXYtPmN2cS5pb3RsYiA9IHZob3N0X2lvdGxiX2FsbG9j
KDAsIDApOwo+Pj4gKwlpZiAoIW12ZGV2LT5jdnEuaW90bGIpCj4+PiArCQlyZXR1cm4gLUVOT01F
TTsKPj4+ICsKPj4+ICsJdnJpbmdoX3NldF9pb3RsYigmbXZkZXYtPmN2cS52cmluZywgbXZkZXYt
PmN2cS5pb3RsYiwgJm12ZGV2LT5jdnEuaW9tbXVfbG9jayk7Cj4+PiArCWVyciA9IGlvdmFfY2Fj
aGVfZ2V0KCk7Cj4+Cj4+IEFueSByZWFzb24gZm9yIHVzaW5nIGlvdmEgY2FjaGUgaGVyZT8KPiBJ
c24ndCBpdCByZXF1aXJlZD8gQXJlbid0IHdlIGFsbG9jYXRpbmcgYnVmZmVycyBmb3IgdGhlIENW
USBmcm9tCj4gaW9tbXVfaW92YSBrbWVtIGNhY2hlPwoKCkkgbWF5IG1pc3Mgc29tZXRoaW5nIGhl
cmUgYnV0IHdoaWNoIGJ1ZmZlciBkaWQgeW91IHJlZmVyIGhlcmU/CgoKPgo+Pgo+Pj4gKwlpZiAo
ZXJyKQo+Pj4gKwkJdmhvc3RfaW90bGJfZnJlZShtdmRldi0+Y3ZxLmlvdGxiKTsKPj4+ICsKPj4+
ICsJcmV0dXJuIGVycjsKPj4+ICt9Cj4+PiArCj4+PiArc3RhdGljIHZvaWQgY2xlYW51cF9jdHJs
X3ZxKHN0cnVjdCBtbHg1X3ZkcGFfZGV2ICptdmRldikKPj4+ICt7Cj4+PiArCWlvdmFfY2FjaGVf
cHV0KCk7Cj4+PiArCXZob3N0X2lvdGxiX2ZyZWUobXZkZXYtPmN2cS5pb3RsYik7Cj4+PiArfQo+
Pj4gKwo+Pj4gICAgaW50IG1seDVfdmRwYV9hbGxvY19yZXNvdXJjZXMoc3RydWN0IG1seDVfdmRw
YV9kZXYgKm12ZGV2KQo+Pj4gICAgewo+Pj4gICAgCXU2NCBvZmZzZXQgPSBNTFg1X0NBUDY0X0RF
Vl9WRFBBX0VNVUxBVElPTihtdmRldi0+bWRldiwgZG9vcmJlbGxfYmFyX29mZnNldCk7Cj4+PiBA
QCAtMjYwLDEwICsyODMsMTcgQEAgaW50IG1seDVfdmRwYV9hbGxvY19yZXNvdXJjZXMoc3RydWN0
IG1seDVfdmRwYV9kZXYgKm12ZGV2KQo+Pj4gICAgCQllcnIgPSAtRU5PTUVNOwo+Pj4gICAgCQln
b3RvIGVycl9rZXk7Cj4+PiAgICAJfQo+Pj4gKwo+Pj4gKwllcnIgPSBpbml0X2N0cmxfdnEobXZk
ZXYpOwo+Pj4gKwlpZiAoZXJyKQo+Pj4gKwkJZ290byBlcnJfY3RybDsKPj4+ICsKPj4+ICAgIAly
ZXMtPnZhbGlkID0gdHJ1ZTsKPj4+ICAgIAlyZXR1cm4gMDsKPj4+ICtlcnJfY3RybDoKPj4+ICsJ
aW91bm1hcChyZXMtPmtpY2tfYWRkcik7Cj4+PiAgICBlcnJfa2V5Ogo+Pj4gICAgCWRlYWxsb2Nf
cGQobXZkZXYsIHJlcy0+cGRuLCByZXMtPnVpZCk7Cj4+PiAgICBlcnJfcGQ6Cj4+PiBAQCAtMjgy
LDYgKzMxMiw3IEBAIHZvaWQgbWx4NV92ZHBhX2ZyZWVfcmVzb3VyY2VzKHN0cnVjdCBtbHg1X3Zk
cGFfZGV2ICptdmRldikKPj4+ICAgIAlpZiAoIXJlcy0+dmFsaWQpCj4+PiAgICAJCXJldHVybjsK
Pj4+ICsJY2xlYW51cF9jdHJsX3ZxKG12ZGV2KTsKPj4+ICAgIAlpb3VubWFwKHJlcy0+a2lja19h
ZGRyKTsKPj4+ICAgIAlyZXMtPmtpY2tfYWRkciA9IE5VTEw7Cj4+PiAgICAJZGVhbGxvY19wZCht
dmRldiwgcmVzLT5wZG4sIHJlcy0+dWlkKTsKPj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL3ZkcGEv
bWx4NS9uZXQvbWx4NV92bmV0LmMgYi9kcml2ZXJzL3ZkcGEvbWx4NS9uZXQvbWx4NV92bmV0LmMK
Pj4+IGluZGV4IDBmZTdjZDM3MGU0Yi4uZTE4NjY1NzgxMTM1IDEwMDY0NAo+Pj4gLS0tIGEvZHJp
dmVycy92ZHBhL21seDUvbmV0L21seDVfdm5ldC5jCj4+PiArKysgYi9kcml2ZXJzL3ZkcGEvbWx4
NS9uZXQvbWx4NV92bmV0LmMKPj4+IEBAIC0xMzMsNyArMTMzLDcgQEAgc3RydWN0IG1seDVfdmRw
YV92aXJ0cXVldWUgewo+Pj4gICAgLyogV2Ugd2lsbCByZW1vdmUgdGhpcyBsaW1pdGF0aW9uIG9u
Y2UgbWx4NV92ZHBhX2FsbG9jX3Jlc291cmNlcygpCj4+PiAgICAgKiBwcm92aWRlcyBmb3IgZHJp
dmVyIHNwYWNlIGFsbG9jYXRpb24KPj4+ICAgICAqLwo+Pj4gLSNkZWZpbmUgTUxYNV9NQVhfU1VQ
UE9SVEVEX1ZRUyAxNgo+Pj4gKyNkZWZpbmUgTUxYNV9NQVhfU1VQUE9SVEVEX1ZRUyAyCj4+PiAg
ICBzdGF0aWMgYm9vbCBpc19pbmRleF92YWxpZChzdHJ1Y3QgbWx4NV92ZHBhX2RldiAqbXZkZXYs
IHUxNiBpZHgpCj4+PiAgICB7Cj4+PiBAQCAtMTYwLDYgKzE2MCw3IEBAIHN0cnVjdCBtbHg1X3Zk
cGFfbmV0IHsKPj4+ICAgIAlzdHJ1Y3QgbWx4NV9mbG93X2hhbmRsZSAqcnhfcnVsZTsKPj4+ICAg
IAlib29sIHNldHVwOwo+Pj4gICAgCXUxNiBtdHU7Cj4+PiArCXUzMiBjdXJfbnVtX3ZxczsKPj4+
ICAgIH07Cj4+PiAgICBzdGF0aWMgdm9pZCBmcmVlX3Jlc291cmNlcyhzdHJ1Y3QgbWx4NV92ZHBh
X25ldCAqbmRldik7Cj4+PiBAQCAtMTY5LDYgKzE3MCw4IEBAIHN0YXRpYyB2b2lkIHRlYXJkb3du
X2RyaXZlcihzdHJ1Y3QgbWx4NV92ZHBhX25ldCAqbmRldik7Cj4+PiAgICBzdGF0aWMgYm9vbCBt
bHg1X3ZkcGFfZGVidWc7Cj4+PiArI2RlZmluZSBNTFg1X0NWUV9NQVhfRU5UIDE2Cj4+PiArCj4+
PiAgICAjZGVmaW5lIE1MWDVfTE9HX1ZJT19GTEFHKF9mZWF0dXJlKSAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcCj4+PiAgICAJ
ZG8geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwKPj4+ICAgIAkJaWYgKGZlYXR1cmVz
ICYgQklUX1VMTChfZmVhdHVyZSkpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBcCj4+PiBAQCAtMTg2LDYgKzE4OSwxNiBAQCBzdGF0aWMgaW5saW5lIHUz
MiBtbHg1X3ZkcGFfbWF4X3FwcyhpbnQgbWF4X3ZxcykKPj4+ICAgIAlyZXR1cm4gbWF4X3ZxcyAv
IDI7Cj4+PiAgICB9Cj4+PiArc3RhdGljIHUxNiBjdHJsX3ZxX2lkeChzdHJ1Y3QgbWx4NV92ZHBh
X2RldiAqbXZkZXYpCj4+PiArewo+Pj4gKwlyZXR1cm4gMiAqIG1seDVfdmRwYV9tYXhfcXBzKG12
ZGV2LT5tYXhfdnFzKTsKPj4+ICt9Cj4+PiArCj4+PiArc3RhdGljIGJvb2wgaXNfY3RybF92cV9p
ZHgoc3RydWN0IG1seDVfdmRwYV9kZXYgKm12ZGV2LCB1MTYgaWR4KQo+Pj4gK3sKPj4+ICsJcmV0
dXJuIGlkeCA9PSBjdHJsX3ZxX2lkeChtdmRldik7Cj4+PiArfQo+Pj4gKwo+Pj4gICAgc3RhdGlj
IHZvaWQgcHJpbnRfc3RhdHVzKHN0cnVjdCBtbHg1X3ZkcGFfZGV2ICptdmRldiwgdTggc3RhdHVz
LCBib29sIHNldCkKPj4+ICAgIHsKPj4+ICAgIAlpZiAoc3RhdHVzICYgflZBTElEX1NUQVRVU19N
QVNLKQo+Pj4gQEAgLTEzNTksMTUgKzEzNzIsMTMyIEBAIHN0YXRpYyB2b2lkIHJlbW92ZV9md2Rf
dG9fdGlyKHN0cnVjdCBtbHg1X3ZkcGFfbmV0ICpuZGV2KQo+Pj4gICAgCW5kZXYtPnJ4X3J1bGUg
PSBOVUxMOwo+Pj4gICAgfQo+Pj4gK3ZpcnRpb19uZXRfY3RybF9hY2sgaGFuZGxlX2N0cmxfbWFj
KHN0cnVjdCBtbHg1X3ZkcGFfZGV2ICptdmRldiwgdTggY21kKQo+Pj4gK3sKPj4+ICsJc3RydWN0
IG1seDVfdmRwYV9uZXQgKm5kZXYgPSB0b19tbHg1X3ZkcGFfbmRldihtdmRldik7Cj4+PiArCXN0
cnVjdCBtbHg1X2NvbnRyb2xfdnEgKmN2cSA9ICZtdmRldi0+Y3ZxOwo+Pj4gKwl2aXJ0aW9fbmV0
X2N0cmxfYWNrIHN0YXR1cyA9IFZJUlRJT19ORVRfRVJSOwo+Pj4gKwlzdHJ1Y3QgbWx4NV9jb3Jl
X2RldiAqcGZtZGV2Owo+Pj4gKwlzaXplX3QgcmVhZDsKPj4+ICsJdTggbWFjW0VUSF9BTEVOXTsK
Pj4+ICsKPj4+ICsJcGZtZGV2ID0gcGNpX2dldF9kcnZkYXRhKHBjaV9waHlzZm4obXZkZXYtPm1k
ZXYtPnBkZXYpKTsKPj4+ICsJc3dpdGNoIChjbWQpIHsKPj4+ICsJY2FzZSBWSVJUSU9fTkVUX0NU
UkxfTUFDX0FERFJfU0VUOgo+Pj4gKwkJcmVhZCA9IHZyaW5naF9pb3ZfcHVsbF9pb3RsYigmY3Zx
LT52cmluZywgJmN2cS0+cmlvdiwgKHZvaWQgKiltYWMsIEVUSF9BTEVOKTsKPj4+ICsJCWlmIChy
ZWFkICE9IEVUSF9BTEVOKQo+Pj4gKwkJCWJyZWFrOwo+Pj4gKwo+Pj4gKwkJaWYgKCFtZW1jbXAo
bmRldi0+Y29uZmlnLm1hYywgbWFjLCA2KSkgewo+Pj4gKwkJCXN0YXR1cyA9IFZJUlRJT19ORVRf
T0s7Cj4+PiArCQkJYnJlYWs7Cj4+PiArCQl9Cj4+PiArCj4+PiArCQlpZiAoIWlzX3plcm9fZXRo
ZXJfYWRkcihuZGV2LT5jb25maWcubWFjKSkgewo+Pj4gKwkJCWlmIChtbHg1X21wZnNfZGVsX21h
YyhwZm1kZXYsIG5kZXYtPmNvbmZpZy5tYWMpKSB7Cj4+PiArCQkJCW1seDVfdmRwYV93YXJuKG12
ZGV2LCAiZmFpbGVkIHRvIGRlbGV0ZSBvbGQgTUFDICVwTSBmcm9tIE1QRlMgdGFibGVcbiIsCj4+
PiArCQkJCQkgICAgICAgbmRldi0+Y29uZmlnLm1hYyk7Cj4+PiArCQkJCWJyZWFrOwo+Pj4gKwkJ
CX0KPj4+ICsJCX0KPj4+ICsKPj4+ICsJCWlmIChtbHg1X21wZnNfYWRkX21hYyhwZm1kZXYsIG1h
YykpIHsKPj4+ICsJCQltbHg1X3ZkcGFfd2FybihtdmRldiwgImZhaWxlZCB0byBpbnNlcnQgbmV3
IE1BQyAlcE0gaW50byBNUEZTIHRhYmxlXG4iLAo+Pj4gKwkJCQkgICAgICAgbWFjKTsKPj4+ICsJ
CQlicmVhazsKPj4+ICsJCX0KPj4+ICsKPj4+ICsJCW1lbWNweShuZGV2LT5jb25maWcubWFjLCBt
YWMsIEVUSF9BTEVOKTsKPj4+ICsJCXN0YXR1cyA9IFZJUlRJT19ORVRfT0s7Cj4+PiArCQlicmVh
azsKPj4+ICsKPj4+ICsJZGVmYXVsdDoKPj4+ICsJCWJyZWFrOwo+Pj4gKwl9Cj4+PiArCj4+PiAr
CXJldHVybiBzdGF0dXM7Cj4+PiArfQo+Pj4gKwo+Pj4gK3N0YXRpYyB2b2lkIG1seDVfY3ZxX2tp
Y2tfaGFuZGxlcihzdHJ1Y3Qgd29ya19zdHJ1Y3QgKndvcmspCj4+PiArewo+Pj4gKwl2aXJ0aW9f
bmV0X2N0cmxfYWNrIHN0YXR1cyA9IFZJUlRJT19ORVRfRVJSOwo+Pj4gKwlzdHJ1Y3QgdmlydGlv
X25ldF9jdHJsX2hkciBjdHJsOwo+Pj4gKwlzdHJ1Y3QgbWx4NV9jdHJsX3dxX2VudCAqd3FlbnQ7
Cj4+PiArCXN0cnVjdCBtbHg1X3ZkcGFfZGV2ICptdmRldjsKPj4+ICsJc3RydWN0IG1seDVfY29u
dHJvbF92cSAqY3ZxOwo+Pj4gKwlzdHJ1Y3QgbWx4NV92ZHBhX25ldCAqbmRldjsKPj4+ICsJc2l6
ZV90IHJlYWQsIHdyaXRlOwo+Pj4gKwlpbnQgZXJyOwo+Pj4gKwo+Pj4gKwl3cWVudCA9IGNvbnRh
aW5lcl9vZih3b3JrLCBzdHJ1Y3QgbWx4NV9jdHJsX3dxX2VudCwgd29yayk7Cj4+PiArCW12ZGV2
ID0gd3FlbnQtPm12ZGV2Owo+Pj4gKwluZGV2ID0gdG9fbWx4NV92ZHBhX25kZXYobXZkZXYpOwo+
Pj4gKwljdnEgPSAmbXZkZXYtPmN2cTsKPj4+ICsJaWYgKCEobmRldi0+bXZkZXYuYWN0dWFsX2Zl
YXR1cmVzICYgQklUX1VMTChWSVJUSU9fTkVUX0ZfQ1RSTF9WUSkpKQo+Pj4gKwkJZ290byBvdXQ7
Cj4+PiArCj4+PiArCWlmICghY3ZxLT5yZWFkeSkKPj4+ICsJCWdvdG8gb3V0Owo+Pj4gKwo+Pj4g
Kwl3aGlsZSAodHJ1ZSkgewo+Pj4gKwkJZXJyID0gdnJpbmdoX2dldGRlc2NfaW90bGIoJmN2cS0+
dnJpbmcsICZjdnEtPnJpb3YsICZjdnEtPndpb3YsICZjdnEtPmhlYWQsCj4+PiArCQkJCQkgICBH
RlBfQVRPTUlDKTsKPj4+ICsJCWlmIChlcnIgPD0gMCkKPj4+ICsJCQlicmVhazsKPj4+ICsKPj4+
ICsJCXJlYWQgPSB2cmluZ2hfaW92X3B1bGxfaW90bGIoJmN2cS0+dnJpbmcsICZjdnEtPnJpb3Ys
ICZjdHJsLCBzaXplb2YoY3RybCkpOwo+Pj4gKwkJaWYgKHJlYWQgIT0gc2l6ZW9mKGN0cmwpKQo+
Pj4gKwkJCWJyZWFrOwo+Pj4gKwo+Pj4gKwkJc3dpdGNoIChjdHJsLmNsYXNzKSB7Cj4+PiArCQlj
YXNlIFZJUlRJT19ORVRfQ1RSTF9NQUM6Cj4+PiArCQkJc3RhdHVzID0gaGFuZGxlX2N0cmxfbWFj
KG12ZGV2LCBjdHJsLmNtZCk7Cj4+PiArCQkJYnJlYWs7Cj4+PiArCj4+PiArCQlkZWZhdWx0Ogo+
Pj4gKwkJCWJyZWFrOwo+Pj4gKwkJfQo+Pj4gKwo+Pj4gKwkJLyogTWFrZSBzdXJlIGRhdGEgaXMg
d3JpdHRlbiBiZWZvcmUgYWR2YW5jaW5nIGluZGV4ICovCj4+PiArCQlzbXBfd21iKCk7Cj4+PiAr
Cj4+PiArCQl3cml0ZSA9IHZyaW5naF9pb3ZfcHVzaF9pb3RsYigmY3ZxLT52cmluZywgJmN2cS0+
d2lvdiwgJnN0YXR1cywgc2l6ZW9mKHN0YXR1cykpOwo+Pj4gKwkJdnJpbmdoX2NvbXBsZXRlX2lv
dGxiKCZjdnEtPnZyaW5nLCBjdnEtPmhlYWQsIHdyaXRlKTsKPj4+ICsJCXZyaW5naF9raW92X2Ns
ZWFudXAoJmN2cS0+cmlvdik7Cj4+PiArCQl2cmluZ2hfa2lvdl9jbGVhbnVwKCZjdnEtPndpb3Yp
Owo+Pj4gKwo+Pj4gKwkJaWYgKHZyaW5naF9uZWVkX25vdGlmeV9pb3RsYigmY3ZxLT52cmluZykp
Cj4+PiArCQkJdnJpbmdoX25vdGlmeSgmY3ZxLT52cmluZyk7Cj4+PiArCX0KPj4+ICtvdXQ6Cj4+
PiArCWtmcmVlKHdxZW50KTsKPj4+ICt9Cj4+PiArCj4+PiAgICBzdGF0aWMgdm9pZCBtbHg1X3Zk
cGFfa2lja192cShzdHJ1Y3QgdmRwYV9kZXZpY2UgKnZkZXYsIHUxNiBpZHgpCj4+PiAgICB7Cj4+
PiAgICAJc3RydWN0IG1seDVfdmRwYV9kZXYgKm12ZGV2ID0gdG9fbXZkZXYodmRldik7Cj4+PiAg
ICAJc3RydWN0IG1seDVfdmRwYV9uZXQgKm5kZXYgPSB0b19tbHg1X3ZkcGFfbmRldihtdmRldik7
Cj4+PiAtCXN0cnVjdCBtbHg1X3ZkcGFfdmlydHF1ZXVlICptdnEgPSAmbmRldi0+dnFzW2lkeF07
Cj4+PiArCXN0cnVjdCBtbHg1X3ZkcGFfdmlydHF1ZXVlICptdnE7Cj4+PiArCXN0cnVjdCBtbHg1
X2N0cmxfd3FfZW50ICp3cWVudDsKPj4+ICAgIAlpZiAoIWlzX2luZGV4X3ZhbGlkKG12ZGV2LCBp
ZHgpKQo+Pj4gICAgCQlyZXR1cm47Cj4+PiArCWlmICh1bmxpa2VseShpc19jdHJsX3ZxX2lkeCht
dmRldiwgaWR4KSkpIHsKPj4+ICsJCWlmICghbXZkZXYtPmN2cS5yZWFkeSkKPj4+ICsJCQlyZXR1
cm47Cj4+PiArCj4+PiArCQl3cWVudCA9IGt6YWxsb2Moc2l6ZW9mKCp3cWVudCksIEdGUF9BVE9N
SUMpOwo+Pj4gKwkJaWYgKCF3cWVudCkKPj4+ICsJCQlyZXR1cm47Cj4+PiArCj4+PiArCQl3cWVu
dC0+bXZkZXYgPSBtdmRldjsKPj4+ICsJCUlOSVRfV09SSygmd3FlbnQtPndvcmssIG1seDVfY3Zx
X2tpY2tfaGFuZGxlcik7Cj4+PiArCQlxdWV1ZV93b3JrKG12ZGV2LT53cSwgJndxZW50LT53b3Jr
KTsKPj4+ICsJCXJldHVybjsKPj4+ICsJfQo+Pj4gKwo+Pj4gKwltdnEgPSAmbmRldi0+dnFzW2lk
eF07Cj4+PiAgICAJaWYgKHVubGlrZWx5KCFtdnEtPnJlYWR5KSkKPj4+ICAgIAkJcmV0dXJuOwo+
Pj4gQEAgLTEzNzksMTEgKzE1MDksMTkgQEAgc3RhdGljIGludCBtbHg1X3ZkcGFfc2V0X3ZxX2Fk
ZHJlc3Moc3RydWN0IHZkcGFfZGV2aWNlICp2ZGV2LCB1MTYgaWR4LCB1NjQgZGVzY18KPj4+ICAg
IHsKPj4+ICAgIAlzdHJ1Y3QgbWx4NV92ZHBhX2RldiAqbXZkZXYgPSB0b19tdmRldih2ZGV2KTsK
Pj4+ICAgIAlzdHJ1Y3QgbWx4NV92ZHBhX25ldCAqbmRldiA9IHRvX21seDVfdmRwYV9uZGV2KG12
ZGV2KTsKPj4+IC0Jc3RydWN0IG1seDVfdmRwYV92aXJ0cXVldWUgKm12cSA9ICZuZGV2LT52cXNb
aWR4XTsKPj4+ICsJc3RydWN0IG1seDVfdmRwYV92aXJ0cXVldWUgKm12cTsKPj4+ICAgIAlpZiAo
IWlzX2luZGV4X3ZhbGlkKG12ZGV2LCBpZHgpKQo+Pj4gICAgCQlyZXR1cm4gLUVJTlZBTDsKPj4+
ICsJaWYgKGlzX2N0cmxfdnFfaWR4KG12ZGV2LCBpZHgpKSB7Cj4+PiArCQltdmRldi0+Y3ZxLmRl
c2NfYWRkciA9IGRlc2NfYXJlYTsKPj4+ICsJCW12ZGV2LT5jdnEuZGV2aWNlX2FkZHIgPSBkZXZp
Y2VfYXJlYTsKPj4+ICsJCW12ZGV2LT5jdnEuZHJpdmVyX2FkZHIgPSBkcml2ZXJfYXJlYTsKPj4+
ICsJCXJldHVybiAwOwo+Pj4gKwl9Cj4+PiArCj4+PiArCW12cSA9ICZuZGV2LT52cXNbaWR4XTsK
Pj4+ICAgIAltdnEtPmRlc2NfYWRkciA9IGRlc2NfYXJlYTsKPj4+ICAgIAltdnEtPmRldmljZV9h
ZGRyID0gZGV2aWNlX2FyZWE7Cj4+PiAgICAJbXZxLT5kcml2ZXJfYWRkciA9IGRyaXZlcl9hcmVh
Owo+Pj4gQEAgLTEzOTYsNyArMTUzNCw3IEBAIHN0YXRpYyB2b2lkIG1seDVfdmRwYV9zZXRfdnFf
bnVtKHN0cnVjdCB2ZHBhX2RldmljZSAqdmRldiwgdTE2IGlkeCwgdTMyIG51bSkKPj4+ICAgIAlz
dHJ1Y3QgbWx4NV92ZHBhX25ldCAqbmRldiA9IHRvX21seDVfdmRwYV9uZGV2KG12ZGV2KTsKPj4+
ICAgIAlzdHJ1Y3QgbWx4NV92ZHBhX3ZpcnRxdWV1ZSAqbXZxOwo+Pj4gLQlpZiAoIWlzX2luZGV4
X3ZhbGlkKG12ZGV2LCBpZHgpKQo+Pj4gKwlpZiAoIWlzX2luZGV4X3ZhbGlkKG12ZGV2LCBpZHgp
IHx8IGlzX2N0cmxfdnFfaWR4KG12ZGV2LCBpZHgpKQo+Pj4gICAgCQlyZXR1cm47Cj4+PiAgICAJ
bXZxID0gJm5kZXYtPnZxc1tpZHhdOwo+Pj4gQEAgLTE0MTEsMTUgKzE1NDksNDIgQEAgc3RhdGlj
IHZvaWQgbWx4NV92ZHBhX3NldF92cV9jYihzdHJ1Y3QgdmRwYV9kZXZpY2UgKnZkZXYsIHUxNiBp
ZHgsIHN0cnVjdCB2ZHBhX2MKPj4+ICAgIAluZGV2LT5ldmVudF9jYnNbaWR4XSA9ICpjYjsKPj4+
ICAgIH0KPj4+ICtzdGF0aWMgdm9pZCBtbHg1X2N2cV9ub3RpZnkoc3RydWN0IHZyaW5naCAqdnJp
bmcpCj4+PiArewo+Pj4gKwlzdHJ1Y3QgbWx4NV9jb250cm9sX3ZxICpjdnEgPSBjb250YWluZXJf
b2YodnJpbmcsIHN0cnVjdCBtbHg1X2NvbnRyb2xfdnEsIHZyaW5nKTsKPj4+ICsKPj4+ICsJaWYg
KCFjdnEtPmV2ZW50X2NiLmNhbGxiYWNrKQo+Pj4gKwkJcmV0dXJuOwo+Pj4gKwo+Pj4gKwljdnEt
PmV2ZW50X2NiLmNhbGxiYWNrKGN2cS0+ZXZlbnRfY2IucHJpdmF0ZSk7Cj4+PiArfQo+Pj4gKwo+
Pj4gK3N0YXRpYyB2b2lkIHNldF9jdnFfcmVhZHkoc3RydWN0IG1seDVfdmRwYV9kZXYgKm12ZGV2
LCBib29sIHJlYWR5KQo+Pj4gK3sKPj4+ICsJc3RydWN0IG1seDVfY29udHJvbF92cSAqY3ZxID0g
Jm12ZGV2LT5jdnE7Cj4+PiArCj4+PiArCWN2cS0+cmVhZHkgPSByZWFkeTsKPj4+ICsJaWYgKCFy
ZWFkeSkKPj4+ICsJCXJldHVybjsKPj4+ICsKPj4+ICsJY3ZxLT52cmluZy5ub3RpZnkgPSBtbHg1
X2N2cV9ub3RpZnk7Cj4+PiArfQo+Pj4gKwo+Pj4gICAgc3RhdGljIHZvaWQgbWx4NV92ZHBhX3Nl
dF92cV9yZWFkeShzdHJ1Y3QgdmRwYV9kZXZpY2UgKnZkZXYsIHUxNiBpZHgsIGJvb2wgcmVhZHkp
Cj4+PiAgICB7Cj4+PiAgICAJc3RydWN0IG1seDVfdmRwYV9kZXYgKm12ZGV2ID0gdG9fbXZkZXYo
dmRldik7Cj4+PiAgICAJc3RydWN0IG1seDVfdmRwYV9uZXQgKm5kZXYgPSB0b19tbHg1X3ZkcGFf
bmRldihtdmRldik7Cj4+PiAtCXN0cnVjdCBtbHg1X3ZkcGFfdmlydHF1ZXVlICptdnEgPSAmbmRl
di0+dnFzW2lkeF07Cj4+PiArCXN0cnVjdCBtbHg1X3ZkcGFfdmlydHF1ZXVlICptdnE7Cj4+PiAg
ICAJaWYgKCFpc19pbmRleF92YWxpZChtdmRldiwgaWR4KSkKPj4+ICAgIAkJcmV0dXJuOwo+Pj4g
KwlpZiAoaXNfY3RybF92cV9pZHgobXZkZXYsIGlkeCkpIHsKPj4+ICsJCXNldF9jdnFfcmVhZHko
bXZkZXYsIHJlYWR5KTsKPj4+ICsJCXJldHVybjsKPj4+ICsJfQo+Pj4gKwo+Pj4gKwltdnEgPSAm
bmRldi0+dnFzW2lkeF07Cj4+PiAgICAJaWYgKCFyZWFkeSkKPj4+ICAgIAkJc3VzcGVuZF92cShu
ZGV2LCBtdnEpOwo+Pj4gQEAgLTE0MzAsMTIgKzE1OTUsMTQgQEAgc3RhdGljIGJvb2wgbWx4NV92
ZHBhX2dldF92cV9yZWFkeShzdHJ1Y3QgdmRwYV9kZXZpY2UgKnZkZXYsIHUxNiBpZHgpCj4+PiAg
ICB7Cj4+PiAgICAJc3RydWN0IG1seDVfdmRwYV9kZXYgKm12ZGV2ID0gdG9fbXZkZXYodmRldik7
Cj4+PiAgICAJc3RydWN0IG1seDVfdmRwYV9uZXQgKm5kZXYgPSB0b19tbHg1X3ZkcGFfbmRldiht
dmRldik7Cj4+PiAtCXN0cnVjdCBtbHg1X3ZkcGFfdmlydHF1ZXVlICptdnEgPSAmbmRldi0+dnFz
W2lkeF07Cj4+PiAgICAJaWYgKCFpc19pbmRleF92YWxpZChtdmRldiwgaWR4KSkKPj4+ICAgIAkJ
cmV0dXJuIGZhbHNlOwo+Pj4gLQlyZXR1cm4gbXZxLT5yZWFkeTsKPj4+ICsJaWYgKGlzX2N0cmxf
dnFfaWR4KG12ZGV2LCBpZHgpKQo+Pj4gKwkJcmV0dXJuIG12ZGV2LT5jdnEucmVhZHk7Cj4+PiAr
Cj4+PiArCXJldHVybiBuZGV2LT52cXNbaWR4XS5yZWFkeTsKPj4+ICAgIH0KPj4+ICAgIHN0YXRp
YyBpbnQgbWx4NV92ZHBhX3NldF92cV9zdGF0ZShzdHJ1Y3QgdmRwYV9kZXZpY2UgKnZkZXYsIHUx
NiBpZHgsCj4+PiBAQCAtMTQ0MywxMSArMTYxMCwxNyBAQCBzdGF0aWMgaW50IG1seDVfdmRwYV9z
ZXRfdnFfc3RhdGUoc3RydWN0IHZkcGFfZGV2aWNlICp2ZGV2LCB1MTYgaWR4LAo+Pj4gICAgewo+
Pj4gICAgCXN0cnVjdCBtbHg1X3ZkcGFfZGV2ICptdmRldiA9IHRvX212ZGV2KHZkZXYpOwo+Pj4g
ICAgCXN0cnVjdCBtbHg1X3ZkcGFfbmV0ICpuZGV2ID0gdG9fbWx4NV92ZHBhX25kZXYobXZkZXYp
Owo+Pj4gLQlzdHJ1Y3QgbWx4NV92ZHBhX3ZpcnRxdWV1ZSAqbXZxID0gJm5kZXYtPnZxc1tpZHhd
Owo+Pj4gKwlzdHJ1Y3QgbWx4NV92ZHBhX3ZpcnRxdWV1ZSAqbXZxOwo+Pj4gICAgCWlmICghaXNf
aW5kZXhfdmFsaWQobXZkZXYsIGlkeCkpCj4+PiAgICAJCXJldHVybiAtRUlOVkFMOwo+Pj4gKwlp
ZiAoaXNfY3RybF92cV9pZHgobXZkZXYsIGlkeCkpIHsKPj4+ICsJCW12ZGV2LT5jdnEudnJpbmcu
bGFzdF9hdmFpbF9pZHggPSBzdGF0ZS0+c3BsaXQuYXZhaWxfaW5kZXg7Cj4+Cj4+IFF1ZXN0aW9u
LCBpcyBwYWNrZWQgdmlydHF1ZXVlIHN1cHBvcnRlZCBieSBjdXJyZW50IG1seDVlPwo+Pgo+PiBJ
ZiBubywgdGhpcyBpcyBmaW5lLgo+IFdlIGRvbid0LiBUaGUgaGFyZHdhcmUgbWlnaHQgc3VwcG9y
dCBidXQgdGhlIGRldmljZSBkcml2ZXIgZG9lcyBub3QKPiBhZHZlcnRpc2UgcGFja2VkIHZpcnRx
dWV1ZSBzdXBwb3J0LgoKCkdvb2QgdG8ga25vdyB0aGlzLiBTbyB3ZSdyZSBmaW5lLgoKVGhhbmtz
CgoKPgo+PiBJZiB5ZXMsIHdlIHNob3VsZCBkaXNhYmxlIHBhY2tlZCBhbmQgcmUtZW5hYmxlIGl0
IGFmdGVyIHZyaW5naCBzdXBwb3J0cwo+PiBwYWNrZWQgdmlydHF1ZXVlLgo+Pgo+PiBPdGhlciBs
b29rcyBnb29kLgo+Pgo+PiBUaGFua3MKPj4KPj4KPj4+ICsJCXJldHVybiAwOwo+Pj4gKwl9Cj4+
PiArCj4+PiArCW12cSA9ICZuZGV2LT52cXNbaWR4XTsKPj4+ICAgIAlpZiAobXZxLT5md19zdGF0
ZSA9PSBNTFg1X1ZJUlRJT19ORVRfUV9PQkpFQ1RfU1RBVEVfUkRZKSB7Cj4+PiAgICAJCW1seDVf
dmRwYV93YXJuKG12ZGV2LCAiY2FuJ3QgbW9kaWZ5IGF2YWlsYWJsZSBpbmRleFxuIik7Cj4+PiAg
ICAJCXJldHVybiAtRUlOVkFMOwo+Pj4gQEAgLTE0NjIsMTMgKzE2MzUsMTkgQEAgc3RhdGljIGlu
dCBtbHg1X3ZkcGFfZ2V0X3ZxX3N0YXRlKHN0cnVjdCB2ZHBhX2RldmljZSAqdmRldiwgdTE2IGlk
eCwgc3RydWN0IHZkcGEKPj4+ICAgIHsKPj4+ICAgIAlzdHJ1Y3QgbWx4NV92ZHBhX2RldiAqbXZk
ZXYgPSB0b19tdmRldih2ZGV2KTsKPj4+ICAgIAlzdHJ1Y3QgbWx4NV92ZHBhX25ldCAqbmRldiA9
IHRvX21seDVfdmRwYV9uZGV2KG12ZGV2KTsKPj4+IC0Jc3RydWN0IG1seDVfdmRwYV92aXJ0cXVl
dWUgKm12cSA9ICZuZGV2LT52cXNbaWR4XTsKPj4+ICsJc3RydWN0IG1seDVfdmRwYV92aXJ0cXVl
dWUgKm12cTsKPj4+ICAgIAlzdHJ1Y3QgbWx4NV92aXJ0cV9hdHRyIGF0dHI7Cj4+PiAgICAJaW50
IGVycjsKPj4+ICAgIAlpZiAoIWlzX2luZGV4X3ZhbGlkKG12ZGV2LCBpZHgpKQo+Pj4gICAgCQly
ZXR1cm4gLUVJTlZBTDsKPj4+ICsJaWYgKGlzX2N0cmxfdnFfaWR4KG12ZGV2LCBpZHgpKSB7Cj4+
PiArCQlzdGF0ZS0+c3BsaXQuYXZhaWxfaW5kZXggPSBtdmRldi0+Y3ZxLnZyaW5nLmxhc3RfYXZh
aWxfaWR4Owo+Pj4gKwkJcmV0dXJuIDA7Cj4+PiArCX0KPj4+ICsKPj4+ICsJbXZxID0gJm5kZXYt
PnZxc1tpZHhdOwo+Pj4gICAgCS8qIElmIHRoZSB2aXJ0cSBvYmplY3Qgd2FzIGRlc3Ryb3llZCwg
dXNlIHRoZSB2YWx1ZSBzYXZlZCBhdAo+Pj4gICAgCSAqIHRoZSBsYXN0IG1pbnV0ZSBvZiBzdXNw
ZW5kX3ZxLiBUaGlzIGNhdGVycyBmb3IgdXNlcnNwYWNlCj4+PiAgICAJICogdGhhdCBjYXJlcyBh
Ym91dCBlbXVsYXRpbmcgdGhlIGluZGV4IGFmdGVyIHZxIGlzIHN0b3BwZWQuCj4+PiBAQCAtMTUy
NSwxMCArMTcwNCwxMyBAQCBzdGF0aWMgdTY0IG1seDVfdmRwYV9nZXRfZmVhdHVyZXMoc3RydWN0
IHZkcGFfZGV2aWNlICp2ZGV2KQo+Pj4gICAgCXUxNiBkZXZfZmVhdHVyZXM7Cj4+PiAgICAJZGV2
X2ZlYXR1cmVzID0gTUxYNV9DQVBfREVWX1ZEUEFfRU1VTEFUSU9OKG12ZGV2LT5tZGV2LCBkZXZp
Y2VfZmVhdHVyZXNfYml0c19tYXNrKTsKPj4+IC0JbmRldi0+bXZkZXYubWx4X2ZlYXR1cmVzID0g
bWx4X3RvX3ZyaXRpb19mZWF0dXJlcyhkZXZfZmVhdHVyZXMpOwo+Pj4gKwluZGV2LT5tdmRldi5t
bHhfZmVhdHVyZXMgfD0gbWx4X3RvX3ZyaXRpb19mZWF0dXJlcyhkZXZfZmVhdHVyZXMpOwo+Pj4g
ICAgCWlmIChNTFg1X0NBUF9ERVZfVkRQQV9FTVVMQVRJT04obXZkZXYtPm1kZXYsIHZpcnRpb192
ZXJzaW9uXzFfMCkpCj4+PiAgICAJCW5kZXYtPm12ZGV2Lm1seF9mZWF0dXJlcyB8PSBCSVRfVUxM
KFZJUlRJT19GX1ZFUlNJT05fMSk7Cj4+PiAgICAJbmRldi0+bXZkZXYubWx4X2ZlYXR1cmVzIHw9
IEJJVF9VTEwoVklSVElPX0ZfQUNDRVNTX1BMQVRGT1JNKTsKPj4+ICsJbmRldi0+bXZkZXYubWx4
X2ZlYXR1cmVzIHw9IEJJVF9VTEwoVklSVElPX05FVF9GX0NUUkxfVlEpOwo+Pj4gKwluZGV2LT5t
dmRldi5tbHhfZmVhdHVyZXMgfD0gQklUX1VMTChWSVJUSU9fTkVUX0ZfQ1RSTF9NQUNfQUREUik7
Cj4+PiArCj4+PiAgICAJcHJpbnRfZmVhdHVyZXMobXZkZXYsIG5kZXYtPm12ZGV2Lm1seF9mZWF0
dXJlcywgZmFsc2UpOwo+Pj4gICAgCXJldHVybiBuZGV2LT5tdmRldi5tbHhfZmVhdHVyZXM7Cj4+
PiAgICB9Cj4+PiBAQCAtMTU0NCw2ICsxNzI2LDcgQEAgc3RhdGljIGludCB2ZXJpZnlfbWluX2Zl
YXR1cmVzKHN0cnVjdCBtbHg1X3ZkcGFfZGV2ICptdmRldiwgdTY0IGZlYXR1cmVzKQo+Pj4gICAg
c3RhdGljIGludCBzZXR1cF92aXJ0cXVldWVzKHN0cnVjdCBtbHg1X3ZkcGFfZGV2ICptdmRldikK
Pj4+ICAgIHsKPj4+ICAgIAlzdHJ1Y3QgbWx4NV92ZHBhX25ldCAqbmRldiA9IHRvX21seDVfdmRw
YV9uZGV2KG12ZGV2KTsKPj4+ICsJc3RydWN0IG1seDVfY29udHJvbF92cSAqY3ZxID0gJm12ZGV2
LT5jdnE7Cj4+PiAgICAJaW50IGVycjsKPj4+ICAgIAlpbnQgaTsKPj4+IEBAIC0xNTUzLDYgKzE3
MzYsMTYgQEAgc3RhdGljIGludCBzZXR1cF92aXJ0cXVldWVzKHN0cnVjdCBtbHg1X3ZkcGFfZGV2
ICptdmRldikKPj4+ICAgIAkJCWdvdG8gZXJyX3ZxOwo+Pj4gICAgCX0KPj4+ICsJaWYgKG12ZGV2
LT5hY3R1YWxfZmVhdHVyZXMgJiBCSVRfVUxMKFZJUlRJT19ORVRfRl9DVFJMX1ZRKSkgewo+Pj4g
KwkJZXJyID0gdnJpbmdoX2luaXRfaW90bGIoJmN2cS0+dnJpbmcsIG12ZGV2LT5hY3R1YWxfZmVh
dHVyZXMsCj4+PiArCQkJCQlNTFg1X0NWUV9NQVhfRU5ULCBmYWxzZSwKPj4+ICsJCQkJCShzdHJ1
Y3QgdnJpbmdfZGVzYyAqKSh1aW50cHRyX3QpY3ZxLT5kZXNjX2FkZHIsCj4+PiArCQkJCQkoc3Ry
dWN0IHZyaW5nX2F2YWlsICopKHVpbnRwdHJfdCljdnEtPmRyaXZlcl9hZGRyLAo+Pj4gKwkJCQkJ
KHN0cnVjdCB2cmluZ191c2VkICopKHVpbnRwdHJfdCljdnEtPmRldmljZV9hZGRyKTsKPj4+ICsJ
CWlmIChlcnIpCj4+PiArCQkJZ290byBlcnJfdnE7Cj4+PiArCX0KPj4+ICsKPj4+ICAgIAlyZXR1
cm4gMDsKPj4+ICAgIGVycl92cToKPj4+IEBAIC0xOTM3LDcgKzIxMzAsNyBAQCBzdGF0aWMgc3Ry
dWN0IHZkcGFfbm90aWZpY2F0aW9uX2FyZWEgbWx4NV9nZXRfdnFfbm90aWZpY2F0aW9uKHN0cnVj
dCB2ZHBhX2RldmljZQo+Pj4gICAgCXN0cnVjdCBtbHg1X3ZkcGFfbmV0ICpuZGV2Owo+Pj4gICAg
CXBoeXNfYWRkcl90IGFkZHI7Cj4+PiAtCWlmICghaXNfaW5kZXhfdmFsaWQobXZkZXYsIGlkeCkp
Cj4+PiArCWlmICghaXNfaW5kZXhfdmFsaWQobXZkZXYsIGlkeCkgfHwgaXNfY3RybF92cV9pZHgo
bXZkZXYsIGlkeCkpCj4+PiAgICAJCXJldHVybiByZXQ7Cj4+PiAgICAJLyogSWYgU0YgQkFSIHNp
emUgaXMgc21hbGxlciB0aGFuIFBBR0VfU0laRSwgZG8gbm90IHVzZSBkaXJlY3QKPj4+IEBAIC0y
MTE0LDggKzIzMDcsMTEgQEAgc3RhdGljIGludCBtbHg1X3ZkcGFfZGV2X2FkZChzdHJ1Y3QgdmRw
YV9tZ210X2RldiAqdl9tZGV2LCBjb25zdCBjaGFyICpuYW1lKQo+Pj4gICAgCQllcnIgPSBtbHg1
X21wZnNfYWRkX21hYyhwZm1kZXYsIGNvbmZpZy0+bWFjKTsKPj4+ICAgIAkJaWYgKGVycikKPj4+
ICAgIAkJCWdvdG8gZXJyX210dTsKPj4+ICsKPj4+ICsJCW5kZXYtPm12ZGV2Lm1seF9mZWF0dXJl
cyB8PSBCSVRfVUxMKFZJUlRJT19ORVRfRl9NQUMpOwo+Pj4gICAgCX0KPj4+ICsJY29uZmlnLT5t
YXhfdmlydHF1ZXVlX3BhaXJzID0gY3B1X3RvX21seDV2ZHBhMTYobXZkZXYsIG1seDVfdmRwYV9t
YXhfcXBzKG1heF92cXMpKTsKPj4+ICAgIAltdmRldi0+dmRldi5kbWFfZGV2ID0gJm1kZXYtPnBk
ZXYtPmRldjsKPj4+ICAgIAllcnIgPSBtbHg1X3ZkcGFfYWxsb2NfcmVzb3VyY2VzKCZuZGV2LT5t
dmRldik7Cj4+PiAgICAJaWYgKGVycikKPj4+IEBAIC0yMTMxLDggKzIzMjcsMTUgQEAgc3RhdGlj
IGludCBtbHg1X3ZkcGFfZGV2X2FkZChzdHJ1Y3QgdmRwYV9tZ210X2RldiAqdl9tZGV2LCBjb25z
dCBjaGFyICpuYW1lKQo+Pj4gICAgCWlmIChlcnIpCj4+PiAgICAJCWdvdG8gZXJyX21yOwo+Pj4g
KwltdmRldi0+d3EgPSBjcmVhdGVfc2luZ2xldGhyZWFkX3dvcmtxdWV1ZSgibWx4NV92ZHBhX2N0
cmxfd3EiKTsKPj4+ICsJaWYgKCFtdmRldi0+d3EpIHsKPj4+ICsJCWVyciA9IC1FTk9NRU07Cj4+
PiArCQlnb3RvIGVycl9yZXMyOwo+Pj4gKwl9Cj4+PiArCj4+PiArCW5kZXYtPmN1cl9udW1fdnFz
ID0gMiAqIG1seDVfdmRwYV9tYXhfcXBzKG1heF92cXMpOwo+Pj4gICAgCW12ZGV2LT52ZGV2Lm1k
ZXYgPSAmbWd0ZGV2LT5tZ3RkZXY7Cj4+PiAtCWVyciA9IF92ZHBhX3JlZ2lzdGVyX2RldmljZSgm
bXZkZXYtPnZkZXYsIDIgKiBtbHg1X3ZkcGFfbWF4X3FwcyhtYXhfdnFzKSk7Cj4+PiArCWVyciA9
IF92ZHBhX3JlZ2lzdGVyX2RldmljZSgmbXZkZXYtPnZkZXYsIG5kZXYtPmN1cl9udW1fdnFzICsg
MSk7Cj4+PiAgICAJaWYgKGVycikKPj4+ICAgIAkJZ290byBlcnJfcmVnOwo+Pj4gQEAgLTIxNDAs
NiArMjM0Myw4IEBAIHN0YXRpYyBpbnQgbWx4NV92ZHBhX2Rldl9hZGQoc3RydWN0IHZkcGFfbWdt
dF9kZXYgKnZfbWRldiwgY29uc3QgY2hhciAqbmFtZSkKPj4+ICAgIAlyZXR1cm4gMDsKPj4+ICAg
IGVycl9yZWc6Cj4+PiArCWRlc3Ryb3lfd29ya3F1ZXVlKG12ZGV2LT53cSk7Cj4+PiArZXJyX3Jl
czI6Cj4+PiAgICAJZnJlZV9yZXNvdXJjZXMobmRldik7Cj4+PiAgICBlcnJfbXI6Cj4+PiAgICAJ
bWx4NV92ZHBhX2Rlc3Ryb3lfbXIobXZkZXYpOwo+Pj4gQEAgLTIxNTcsNyArMjM2Miw5IEBAIHN0
YXRpYyBpbnQgbWx4NV92ZHBhX2Rldl9hZGQoc3RydWN0IHZkcGFfbWdtdF9kZXYgKnZfbWRldiwg
Y29uc3QgY2hhciAqbmFtZSkKPj4+ICAgIHN0YXRpYyB2b2lkIG1seDVfdmRwYV9kZXZfZGVsKHN0
cnVjdCB2ZHBhX21nbXRfZGV2ICp2X21kZXYsIHN0cnVjdCB2ZHBhX2RldmljZSAqZGV2KQo+Pj4g
ICAgewo+Pj4gICAgCXN0cnVjdCBtbHg1X3ZkcGFfbWdtdGRldiAqbWd0ZGV2ID0gY29udGFpbmVy
X29mKHZfbWRldiwgc3RydWN0IG1seDVfdmRwYV9tZ210ZGV2LCBtZ3RkZXYpOwo+Pj4gKwlzdHJ1
Y3QgbWx4NV92ZHBhX2RldiAqbXZkZXYgPSB0b19tdmRldihkZXYpOwo+Pj4gKwlkZXN0cm95X3dv
cmtxdWV1ZShtdmRldi0+d3EpOwo+Pj4gICAgCV92ZHBhX3VucmVnaXN0ZXJfZGV2aWNlKGRldik7
Cj4+PiAgICAJbWd0ZGV2LT5uZGV2ID0gTlVMTDsKPj4+ICAgIH0KCl9fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClZpcnR1YWxpemF0aW9uIG1haWxpbmcgbGlz
dApWaXJ0dWFsaXphdGlvbkBsaXN0cy5saW51eC1mb3VuZGF0aW9uLm9yZwpodHRwczovL2xpc3Rz
LmxpbnV4Zm91bmRhdGlvbi5vcmcvbWFpbG1hbi9saXN0aW5mby92aXJ0dWFsaXphdGlvbg==
