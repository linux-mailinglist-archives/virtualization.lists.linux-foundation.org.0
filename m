Return-Path: <virtualization-bounces@lists.linux-foundation.org>
X-Original-To: lists.virtualization@lfdr.de
Delivered-To: lists.virtualization@lfdr.de
Received: from mail.linuxfoundation.org (mail.linuxfoundation.org [140.211.169.12])
	by mail.lfdr.de (Postfix) with ESMTPS id 74278E9650
	for <lists.virtualization@lfdr.de>; Wed, 30 Oct 2019 07:16:32 +0100 (CET)
Received: from mail.linux-foundation.org (localhost [127.0.0.1])
	by mail.linuxfoundation.org (Postfix) with ESMTP id 06D22EBD;
	Wed, 30 Oct 2019 06:16:26 +0000 (UTC)
X-Original-To: virtualization@lists.linux-foundation.org
Delivered-To: virtualization@mail.linuxfoundation.org
Received: from smtp1.linuxfoundation.org (smtp1.linux-foundation.org
	[172.17.192.35])
	by mail.linuxfoundation.org (Postfix) with ESMTPS id 2D0AFEBD
	for <virtualization@lists.linux-foundation.org>;
	Wed, 30 Oct 2019 06:16:24 +0000 (UTC)
X-Greylist: domain auto-whitelisted by SQLgrey-1.7.6
Received: from mga02.intel.com (mga02.intel.com [134.134.136.20])
	by smtp1.linuxfoundation.org (Postfix) with ESMTPS id 645D78A
	for <virtualization@lists.linux-foundation.org>;
	Wed, 30 Oct 2019 06:16:23 +0000 (UTC)
X-Amp-Result: UNKNOWN
X-Amp-Original-Verdict: FILE UNKNOWN
X-Amp-File-Uploaded: False
Received: from orsmga005.jf.intel.com ([10.7.209.41])
	by orsmga101.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
	29 Oct 2019 23:16:22 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.68,246,1569308400"; d="scan'208";a="374792704"
Received: from dpdk-virtio-tbie-2.sh.intel.com (HELO ___) ([10.67.104.74])
	by orsmga005.jf.intel.com with ESMTP; 29 Oct 2019 23:16:20 -0700
Date: Wed, 30 Oct 2019 14:17:11 +0800
From: Tiwei Bie <tiwei.bie@intel.com>
To: Jason Wang <jasowang@redhat.com>
Subject: Re: [RFC] vhost_mdev: add network control vq support
Message-ID: <20191030061711.GA11968@___>
References: <20191029101726.12699-1-tiwei.bie@intel.com>
	<59474431-9e77-567c-9a46-a3965f587f65@redhat.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <59474431-9e77-567c-9a46-a3965f587f65@redhat.com>
User-Agent: Mutt/1.9.4 (2018-02-28)
X-Spam-Status: No, score=-4.2 required=5.0 tests=BAYES_00,RCVD_IN_DNSWL_MED
	autolearn=ham version=3.3.1
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on
	smtp1.linux-foundation.org
Cc: kvm@vger.kernel.org, mst@redhat.com, netdev@vger.kernel.org,
	linux-kernel@vger.kernel.org, virtualization@lists.linux-foundation.org,
	zhihong.wang@intel.com, lingshan.zhu@intel.com
X-BeenThere: virtualization@lists.linux-foundation.org
X-Mailman-Version: 2.1.12
Precedence: list
List-Id: Linux virtualization <virtualization.lists.linux-foundation.org>
List-Unsubscribe: <https://lists.linuxfoundation.org/mailman/options/virtualization>,
	<mailto:virtualization-request@lists.linux-foundation.org?subject=unsubscribe>
List-Archive: <http://lists.linuxfoundation.org/pipermail/virtualization/>
List-Post: <mailto:virtualization@lists.linux-foundation.org>
List-Help: <mailto:virtualization-request@lists.linux-foundation.org?subject=help>
List-Subscribe: <https://lists.linuxfoundation.org/mailman/listinfo/virtualization>,
	<mailto:virtualization-request@lists.linux-foundation.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Sender: virtualization-bounces@lists.linux-foundation.org
Errors-To: virtualization-bounces@lists.linux-foundation.org

T24gVHVlLCBPY3QgMjksIDIwMTkgYXQgMDY6NTE6MzJQTSArMDgwMCwgSmFzb24gV2FuZyB3cm90
ZToKPiBPbiAyMDE5LzEwLzI5IOS4i+WNiDY6MTcsIFRpd2VpIEJpZSB3cm90ZToKPiA+IFRoaXMg
cGF0Y2ggYWRkcyB0aGUgbmV0d29yayBjb250cm9sIHZxIHN1cHBvcnQgaW4gdmhvc3QtbWRldi4K
PiA+IEEgdmhvc3QtbWRldiBzcGVjaWZpYyBvcCBpcyBpbnRyb2R1Y2VkIHRvIGFsbG93IHBhcmVu
dCBkcml2ZXJzCj4gPiB0byBoYW5kbGUgdGhlIG5ldHdvcmsgY29udHJvbCBjb21tYW5kcyBjb21l
IGZyb20gdXNlcnNwYWNlLgo+IAo+IFByb2JhYmx5IHdvcmsgZm9yIHVzZXJzcGFjZSBkcml2ZXIg
YnV0IG5vdCBrZXJuZWwgZHJpdmVyLgoKRXhhY3RseS4gVGhpcyBpcyBvbmx5IGZvciB1c2Vyc3Bh
Y2UuCgpJIGdvdCB5b3VyIHBvaW50IG5vdy4gSW4gdmlydGlvLW1kZXYga2VybmVsIGRyaXZlciBj
YXNlLAp0aGUgY3RybC12cSBjYW4gYmUgc3BlY2lhbCBhcyB3ZWxsLgoKPiAKPiAKPiA+Cj4gPiBT
aWduZWQtb2ZmLWJ5OiBUaXdlaSBCaWUgPHRpd2VpLmJpZUBpbnRlbC5jb20+Cj4gPiAtLS0KPiA+
IFRoaXMgcGF0Y2ggZGVwZW5kcyBvbiBiZWxvdyBwYXRjaDoKPiA+IGh0dHBzOi8vbGttbC5vcmcv
bGttbC8yMDE5LzEwLzI5LzMzNQo+ID4KPiA+ICBkcml2ZXJzL3Zob3N0L21kZXYuYyAgICAgICAg
ICAgICB8IDM3ICsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKy0tCj4gPiAgaW5jbHVkZS9s
aW51eC92aXJ0aW9fbWRldl9vcHMuaCAgfCAxMCArKysrKysrKysKPiA+ICBpbmNsdWRlL3VhcGkv
bGludXgvdmhvc3QuaCAgICAgICB8ICA3ICsrKysrKwo+ID4gIGluY2x1ZGUvdWFwaS9saW51eC92
aG9zdF90eXBlcy5oIHwgIDYgKysrKysrCj4gPiAgNCBmaWxlcyBjaGFuZ2VkLCA1OCBpbnNlcnRp
b25zKCspLCAyIGRlbGV0aW9ucygtKQo+ID4KPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL3Zob3N0
L21kZXYuYyBiL2RyaXZlcnMvdmhvc3QvbWRldi5jCj4gPiBpbmRleCAzNWIyZmIzM2U2ODYuLmM5
YjNlYWE3NzQwNSAxMDA2NDQKPiA+IC0tLSBhL2RyaXZlcnMvdmhvc3QvbWRldi5jCj4gPiArKysg
Yi9kcml2ZXJzL3Zob3N0L21kZXYuYwo+ID4gQEAgLTQ3LDYgKzQ3LDEzIEBAIGVudW0gewo+ID4g
IAkJKDFVTEwgPDwgVklSVElPX05FVF9GX0hPU1RfVUZPKSB8Cj4gPiAgCQkoMVVMTCA8PCBWSVJU
SU9fTkVUX0ZfTVJHX1JYQlVGKSB8Cj4gPiAgCQkoMVVMTCA8PCBWSVJUSU9fTkVUX0ZfU1RBVFVT
KSB8Cj4gPiArCQkoMVVMTCA8PCBWSVJUSU9fTkVUX0ZfQ1RSTF9HVUVTVF9PRkZMT0FEUykgfAo+
ID4gKwkJKDFVTEwgPDwgVklSVElPX05FVF9GX0NUUkxfVlEpIHwKPiA+ICsJCSgxVUxMIDw8IFZJ
UlRJT19ORVRfRl9DVFJMX1JYKSB8Cj4gPiArCQkoMVVMTCA8PCBWSVJUSU9fTkVUX0ZfQ1RSTF9W
TEFOKSB8Cj4gPiArCQkoMVVMTCA8PCBWSVJUSU9fTkVUX0ZfQ1RSTF9SWF9FWFRSQSkgfAo+ID4g
KwkJKDFVTEwgPDwgVklSVElPX05FVF9GX0dVRVNUX0FOTk9VTkNFKSB8Cj4gPiArCQkoMVVMTCA8
PCBWSVJUSU9fTkVUX0ZfQ1RSTF9NQUNfQUREUikgfAo+ID4gIAkJKDFVTEwgPDwgVklSVElPX05F
VF9GX1NQRUVEX0RVUExFWCksCj4gPiAgfTsKPiA+ICAKPiA+IEBAIC0zNjIsNiArMzY5LDI5IEBA
IHN0YXRpYyBsb25nIHZob3N0X21kZXZfdnJpbmdfaW9jdGwoc3RydWN0IHZob3N0X21kZXYgKm0s
IHVuc2lnbmVkIGludCBjbWQsCj4gPiAgCXJldHVybiByOwo+ID4gIH0KPiA+ICAKPiA+ICsvKgo+
ID4gKyAqIERldmljZSBzcGVjaWZpYyAoZS5nLiBuZXR3b3JrKSBpb2N0bHMuCj4gPiArICovCj4g
PiArc3RhdGljIGxvbmcgdmhvc3RfbWRldl9kZXZfaW9jdGwoc3RydWN0IHZob3N0X21kZXYgKm0s
IHVuc2lnbmVkIGludCBjbWQsCj4gPiArCQkJCSB2b2lkIF9fdXNlciAqYXJncCkKPiA+ICt7Cj4g
PiArCXN0cnVjdCBtZGV2X2RldmljZSAqbWRldiA9IG0tPm1kZXY7Cj4gPiArCWNvbnN0IHN0cnVj
dCB2aXJ0aW9fbWRldl9kZXZpY2Vfb3BzICpvcHMgPSBtZGV2X2dldF92aG9zdF9vcHMobWRldik7
Cj4gPiArCj4gPiArCXN3aXRjaCAobS0+dmlydGlvX2lkKSB7Cj4gPiArCWNhc2UgVklSVElPX0lE
X05FVDoKPiA+ICsJCXN3aXRjaCAoY21kKSB7Cj4gPiArCQljYXNlIFZIT1NUX01ERVZfTkVUX0NU
Ukw6Cj4gPiArCQkJaWYgKCFvcHMtPm5ldC5jdHJsKQo+ID4gKwkJCQlyZXR1cm4gLUVOT1RTVVBQ
Owo+ID4gKwkJCXJldHVybiBvcHMtPm5ldC5jdHJsKG1kZXYsIGFyZ3ApOwo+ID4gKwkJfQo+ID4g
KwkJYnJlYWs7Cj4gPiArCX0KPiA+ICsKPiA+ICsJcmV0dXJuIC1FTk9JT0NUTENNRDsKPiA+ICt9
Cj4gCj4gQXMgeW91IGNvbW1lbnQgYWJvdmUsIHRoZW4gdmhvc3QtbWRldiBuZWVkIGRldmljZSBz
cGVjaWZpYyBzdHVmZnMuCgpZZWFoLiBCdXQgdGhpcyBkZXZpY2Ugc3BlY2lmaWMgc3R1ZmYgaXMg
cXVpdGUgc21hbGwgYW5kCnNpbXBsZS4gSXQncyBqdXN0IHRvIGZvcndhcmQgdGhlIHNldHRpbmdz
IGJldHdlZW4gcGFyZW50CmFuZCB1c2Vyc3BhY2UuIEJ1dCBJIHRvdGFsbHkgYWdyZWUgaXQgd291
bGQgYmUgcmVhbGx5CmdyZWF0IGlmIHdlIGNvdWxkIGF2b2lkIGl0IGluIGFuIGVsZWdhbnQgd2F5
LgoKPiAKPiAKPiA+ICsKPiA+ICBzdGF0aWMgaW50IHZob3N0X21kZXZfb3Blbih2b2lkICpkZXZp
Y2VfZGF0YSkKPiA+ICB7Cj4gPiAgCXN0cnVjdCB2aG9zdF9tZGV2ICptID0gZGV2aWNlX2RhdGE7
Cj4gPiBAQCAtNDYwLDggKzQ5MCwxMSBAQCBzdGF0aWMgbG9uZyB2aG9zdF9tZGV2X3VubG9ja2Vk
X2lvY3RsKHZvaWQgKmRldmljZV9kYXRhLAo+ID4gIAkJICogVkhPU1RfU0VUX0xPR19GRCBhcmUg
bm90IHVzZWQgeWV0Lgo+ID4gIAkJICovCj4gPiAgCQlyID0gdmhvc3RfZGV2X2lvY3RsKCZtLT5k
ZXYsIGNtZCwgYXJncCk7Cj4gPiAtCQlpZiAociA9PSAtRU5PSU9DVExDTUQpCj4gPiAtCQkJciA9
IHZob3N0X21kZXZfdnJpbmdfaW9jdGwobSwgY21kLCBhcmdwKTsKPiA+ICsJCWlmIChyID09IC1F
Tk9JT0NUTENNRCkgewo+ID4gKwkJCXIgPSB2aG9zdF9tZGV2X2Rldl9pb2N0bChtLCBjbWQsIGFy
Z3ApOwo+ID4gKwkJCWlmIChyID09IC1FTk9JT0NUTENNRCkKPiA+ICsJCQkJciA9IHZob3N0X21k
ZXZfdnJpbmdfaW9jdGwobSwgY21kLCBhcmdwKTsKPiA+ICsJCX0KPiA+ICAJfQo+ID4gIAo+ID4g
IAltdXRleF91bmxvY2soJm0tPm11dGV4KTsKPiA+IGRpZmYgLS1naXQgYS9pbmNsdWRlL2xpbnV4
L3ZpcnRpb19tZGV2X29wcy5oIGIvaW5jbHVkZS9saW51eC92aXJ0aW9fbWRldl9vcHMuaAo+ID4g
aW5kZXggZDQxN2I0MWYyODQ1Li42MjI4NjE4MDRlYmQgMTAwNjQ0Cj4gPiAtLS0gYS9pbmNsdWRl
L2xpbnV4L3ZpcnRpb19tZGV2X29wcy5oCj4gPiArKysgYi9pbmNsdWRlL2xpbnV4L3ZpcnRpb19t
ZGV2X29wcy5oCj4gPiBAQCAtMjAsNiArMjAsOCBAQCBzdHJ1Y3QgdmlydGlvX21kZXZfY2FsbGJh
Y2sgewo+ID4gIAl2b2lkICpwcml2YXRlOwo+ID4gIH07Cj4gPiAgCj4gPiArc3RydWN0IHZob3N0
X21kZXZfbmV0X2N0cmw7Cj4gPiArCj4gPiAgLyoqCj4gPiAgICogc3RydWN0IHZmaW9fbWRldl9k
ZXZpY2Vfb3BzIC0gU3RydWN0dXJlIHRvIGJlIHJlZ2lzdGVyZWQgZm9yIGVhY2gKPiA+ICAgKiBt
ZGV2IGRldmljZSB0byByZWdpc3RlciB0aGUgZGV2aWNlIGZvciB2aXJ0aW8vdmhvc3QgZHJpdmVy
cy4KPiA+IEBAIC0xNTEsNiArMTUzLDE0IEBAIHN0cnVjdCB2aXJ0aW9fbWRldl9kZXZpY2Vfb3Bz
IHsKPiA+ICAKPiA+ICAJLyogTWRldiBkZXZpY2Ugb3BzICovCj4gPiAgCXU2NCAoKmdldF9tZGV2
X2ZlYXR1cmVzKShzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYpOwo+ID4gKwo+ID4gKwkvKiBWaG9z
dC1tZGV2IChNREVWX0NMQVNTX0lEX1ZIT1NUKSBzcGVjaWZpYyBvcHMgKi8KPiA+ICsJdW5pb24g
ewo+ID4gKwkJc3RydWN0IHsKPiA+ICsJCQlpbnQgKCpjdHJsKShzdHJ1Y3QgbWRldl9kZXZpY2Ug
Km1kZXYsCj4gPiArCQkJCSAgICBzdHJ1Y3Qgdmhvc3RfbWRldl9uZXRfY3RybCBfX3VzZXIgKmN0
cmwpOwo+ID4gKwkJfSBuZXQ7Cj4gPiArCX07Cj4gCj4gQW5kIHNvIGRpZCBkZXZpY2Vfb3BzLiBJ
IHN0aWxsIHRoaW5rIHdlJ2QgdHJ5IG91dCBiZXN0IHRvIGF2b2lkIHN1Y2ggdGhpbmcuCgpJIHRv
dGFsbHkgYWdyZWUgd2Ugc2hvdWxkIHRyeSBvdXIgYmVzdCB0byBhdm9pZCBpdC4KQnV0IGluIHRo
aXMgY2FzZSwgSSB0aGluayBpdCBtYXkgYmUgd29ydGggY29uc2lkZXJpbmcKYXMgaXQgZG9lcyBz
aW1wbGlmeSB0aGUgdXNlcnNwYWNlIEFQSSBhbmQgdGhlIHBhcmVudApkcml2ZXIgaW1wbGVtZW50
YXRpb24gYSBsb3QuLgoKCj4gCj4gVGhhbmtzCj4gCj4gCj4gPiAgfTsKPiA+ICAKPiA+ICB2b2lk
IG1kZXZfc2V0X3ZpcnRpb19vcHMoc3RydWN0IG1kZXZfZGV2aWNlICptZGV2LAo+ID4gZGlmZiAt
LWdpdCBhL2luY2x1ZGUvdWFwaS9saW51eC92aG9zdC5oIGIvaW5jbHVkZS91YXBpL2xpbnV4L3Zo
b3N0LmgKPiA+IGluZGV4IDA2MWEyODI0YTFiMy4uMzY5M2IyY2JhMGM0IDEwMDY0NAo+ID4gLS0t
IGEvaW5jbHVkZS91YXBpL2xpbnV4L3Zob3N0LmgKPiA+ICsrKyBiL2luY2x1ZGUvdWFwaS9saW51
eC92aG9zdC5oCj4gPiBAQCAtMTM0LDQgKzEzNCwxMSBAQAo+ID4gIC8qIEdldCB0aGUgbWF4IHJp
bmcgc2l6ZS4gKi8KPiA+ICAjZGVmaW5lIFZIT1NUX01ERVZfR0VUX1ZSSU5HX05VTQlfSU9SKFZI
T1NUX1ZJUlRJTywgMHg3NiwgX191MTYpCj4gPiAgCj4gPiArLyogVkhPU1RfTURFViBkZXZpY2Ug
c3BlY2lmaWMgZGVmaW5lcyAqLwo+ID4gKwo+ID4gKy8qIFNlbmQgdmlydGlvLW5ldCBjb21tYW5k
cy4gVGhlIGNvbW1hbmRzIGZvbGxvdyB0aGUgc2FtZSBkZWZpbml0aW9uCj4gPiArICogb2YgdGhl
IHZpcnRpby1uZXQgY29tbWFuZHMgZGVmaW5lZCBpbiB2aXJ0aW8tc3BlYy4KPiA+ICsgKi8KPiA+
ICsjZGVmaW5lIFZIT1NUX01ERVZfTkVUX0NUUkwJCV9JT1coVkhPU1RfVklSVElPLCAweDc3LCBz
dHJ1Y3Qgdmhvc3RfbWRldl9uZXRfY3RybCAqKQo+ID4gKwo+ID4gICNlbmRpZgo+ID4gZGlmZiAt
LWdpdCBhL2luY2x1ZGUvdWFwaS9saW51eC92aG9zdF90eXBlcy5oIGIvaW5jbHVkZS91YXBpL2xp
bnV4L3Zob3N0X3R5cGVzLmgKPiA+IGluZGV4IDdiMTA1ZDBiMmZiOS4uZTc2YjRkOGUzNWU1IDEw
MDY0NAo+ID4gLS0tIGEvaW5jbHVkZS91YXBpL2xpbnV4L3Zob3N0X3R5cGVzLmgKPiA+ICsrKyBi
L2luY2x1ZGUvdWFwaS9saW51eC92aG9zdF90eXBlcy5oCj4gPiBAQCAtMTI3LDYgKzEyNywxMiBA
QCBzdHJ1Y3Qgdmhvc3RfbWRldl9jb25maWcgewo+ID4gIAlfX3U4IGJ1ZlswXTsKPiA+ICB9Owo+
ID4gIAo+ID4gK3N0cnVjdCB2aG9zdF9tZGV2X25ldF9jdHJsIHsKPiA+ICsJX191OCBjbGFzczsK
PiA+ICsJX191OCBjbWQ7Cj4gPiArCV9fdTggY21kX2RhdGFbMF07Cj4gPiArfSBfX2F0dHJpYnV0
ZV9fKChwYWNrZWQpKTsKPiA+ICsKPiA+ICAvKiBGZWF0dXJlIGJpdHMgKi8KPiA+ICAvKiBMb2cg
YWxsIHdyaXRlIGRlc2NyaXB0b3JzLiBDYW4gYmUgY2hhbmdlZCB3aGlsZSBkZXZpY2UgaXMgYWN0
aXZlLiAqLwo+ID4gICNkZWZpbmUgVkhPU1RfRl9MT0dfQUxMIDI2Cj4gCl9fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClZpcnR1YWxpemF0aW9uIG1haWxpbmcg
bGlzdApWaXJ0dWFsaXphdGlvbkBsaXN0cy5saW51eC1mb3VuZGF0aW9uLm9yZwpodHRwczovL2xp
c3RzLmxpbnV4Zm91bmRhdGlvbi5vcmcvbWFpbG1hbi9saXN0aW5mby92aXJ0dWFsaXphdGlvbg==
