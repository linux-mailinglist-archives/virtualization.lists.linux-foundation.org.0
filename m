Return-Path: <virtualization-bounces@lists.linux-foundation.org>
X-Original-To: lists.virtualization@lfdr.de
Delivered-To: lists.virtualization@lfdr.de
Received: from mail.linuxfoundation.org (mail.linuxfoundation.org [140.211.169.12])
	by mail.lfdr.de (Postfix) with ESMTPS id AB4E88087A
	for <lists.virtualization@lfdr.de>; Sat,  3 Aug 2019 23:56:52 +0200 (CEST)
Received: from mail.linux-foundation.org (localhost [127.0.0.1])
	by mail.linuxfoundation.org (Postfix) with ESMTP id E3D551B5F;
	Sat,  3 Aug 2019 21:56:45 +0000 (UTC)
X-Original-To: virtualization@lists.linux-foundation.org
Delivered-To: virtualization@mail.linuxfoundation.org
Received: from smtp1.linuxfoundation.org (smtp1.linux-foundation.org
	[172.17.192.35])
	by mail.linuxfoundation.org (Postfix) with ESMTPS id 8C27E1B55
	for <virtualization@lists.linux-foundation.org>;
	Sat,  3 Aug 2019 21:54:13 +0000 (UTC)
X-Greylist: whitelisted by SQLgrey-1.7.6
Received: from mail-qk1-f193.google.com (mail-qk1-f193.google.com
	[209.85.222.193])
	by smtp1.linuxfoundation.org (Postfix) with ESMTPS id F02DD712
	for <virtualization@lists.linux-foundation.org>;
	Sat,  3 Aug 2019 21:54:11 +0000 (UTC)
Received: by mail-qk1-f193.google.com with SMTP id t8so57504689qkt.1
	for <virtualization@lists.linux-foundation.org>;
	Sat, 03 Aug 2019 14:54:11 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
	d=1e100.net; s=20161025;
	h=x-gm-message-state:date:from:to:cc:subject:message-id:references
	:mime-version:content-disposition:content-transfer-encoding
	:in-reply-to;
	bh=H1SVOFt/yThP/rkMBT/0eQhlCtO4ErcplAf5onE4G9U=;
	b=NoB62qsvZEcxKbm1GvTr/jiO7E4GUf9wUHVh0sYtEWgbgaozGJ+OS9RcXs2ua7G3XE
	ABjnn0ViQBcaBBGZ/buWFLEyik1LdjmssVOkUNkXJpLRSAgYAIbe28CcVWhpPsC6U0Yq
	y0OSsfzjO6vt5vY8sku3nAuAlZFVMQzGgERSDb4VL7iKyGpNSiAIi+MCZzTerPik+rlJ
	Qw0pOQfo63v/nms2tRjWOVqjAlwV5NQzAMvUt3iPoaOroYS72mlQzwDgbyxRH0YhypYM
	TgwdPZelVswJ/k2zCnMJi1gpwGXQdLKQ/7yGaRJi7RqVmePYOURA4KiiTAQPbLm5dIg5
	mwQg==
X-Gm-Message-State: APjAAAVcEyM2bJmznGdLXUieaMtmcEZcHRKAK5Y/dwWSBFBBSqWlY5yS
	UrhUp9aDXgYfCbuQ6/fngFUo5w==
X-Google-Smtp-Source: APXvYqy2xJPkq1yyWqA762uWqtrjp2aYVi3s2Z7pybWgnX0PKkhuxdJpmmWR/cnca9tJ6wg6KdaenA==
X-Received: by 2002:a05:620a:533:: with SMTP id
	h19mr95687295qkh.325.1564869250917; 
	Sat, 03 Aug 2019 14:54:10 -0700 (PDT)
Received: from redhat.com (bzq-79-181-91-42.red.bezeqint.net. [79.181.91.42])
	by smtp.gmail.com with ESMTPSA id
	v17sm43365522qtc.23.2019.08.03.14.54.07
	(version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
	Sat, 03 Aug 2019 14:54:10 -0700 (PDT)
Date: Sat, 3 Aug 2019 17:54:04 -0400
From: "Michael S. Tsirkin" <mst@redhat.com>
To: Jason Wang <jasowang@redhat.com>
Subject: Re: [PATCH V2 7/9] vhost: do not use RCU to synchronize MMU notifier
	with worker
Message-ID: <20190803173825-mutt-send-email-mst@kernel.org>
References: <20190731084655.7024-1-jasowang@redhat.com>
	<20190731084655.7024-8-jasowang@redhat.com>
	<20190731132438-mutt-send-email-mst@kernel.org>
	<130386548.6222676.1564646773879.JavaMail.zimbra@redhat.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <130386548.6222676.1564646773879.JavaMail.zimbra@redhat.com>
X-Spam-Status: No, score=-1.9 required=5.0 tests=BAYES_00,RCVD_IN_DNSWL_NONE
	autolearn=ham version=3.3.1
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on
	smtp1.linux-foundation.org
Cc: kvm@vger.kernel.org, jgg@ziepe.ca, netdev@vger.kernel.org,
	linux-kernel@vger.kernel.org,
	virtualization@lists.linux-foundation.org, linux-mm@kvack.org,
	"Paul E. McKenney" <paulmck@linux.ibm.com>
X-BeenThere: virtualization@lists.linux-foundation.org
X-Mailman-Version: 2.1.12
Precedence: list
List-Id: Linux virtualization <virtualization.lists.linux-foundation.org>
List-Unsubscribe: <https://lists.linuxfoundation.org/mailman/options/virtualization>,
	<mailto:virtualization-request@lists.linux-foundation.org?subject=unsubscribe>
List-Archive: <http://lists.linuxfoundation.org/pipermail/virtualization/>
List-Post: <mailto:virtualization@lists.linux-foundation.org>
List-Help: <mailto:virtualization-request@lists.linux-foundation.org?subject=help>
List-Subscribe: <https://lists.linuxfoundation.org/mailman/listinfo/virtualization>,
	<mailto:virtualization-request@lists.linux-foundation.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Sender: virtualization-bounces@lists.linux-foundation.org
Errors-To: virtualization-bounces@lists.linux-foundation.org

T24gVGh1LCBBdWcgMDEsIDIwMTkgYXQgMDQ6MDY6MTNBTSAtMDQwMCwgSmFzb24gV2FuZyB3cm90
ZToKPiBPbiAyMDE5LzgvMSDkuIrljYgyOjI5LCBNaWNoYWVsIFMuIFRzaXJraW4gd3JvdGU6Cj4g
PiBPbiBXZWQsIEp1bCAzMSwgMjAxOSBhdCAwNDo0Njo1M0FNIC0wNDAwLCBKYXNvbiBXYW5nIHdy
b3RlOgo+ID4+IFdlIHVzZWQgdG8gdXNlIFJDVSB0byBzeW5jaHJvbml6ZSBNTVUgbm90aWZpZXIg
d2l0aCB3b3JrZXIuIFRoaXMgbGVhZHMKPiA+PiBjYWxsaW5nIHN5bmNocm9uaXplX3JjdSgpIGlu
IGludmFsaWRhdGVfcmFuZ2Vfc3RhcnQoKS4gQnV0IG9uIGEgYnVzeQo+ID4+IHN5c3RlbSwgdGhl
cmUgd291bGQgYmUgbWFueSBmYWN0b3JzIHRoYXQgbWF5IHNsb3cgZG93biB0aGUKPiA+PiBzeW5j
aHJvbml6ZV9yY3UoKSB3aGljaCBtYWtlcyBpdCB1bnN1aXRhYmxlIHRvIGJlIGNhbGxlZCBpbiBN
TVUKPiA+PiBub3RpZmllci4KPiA+Pgo+ID4+IEEgc29sdXRpb24gaXMgU1JDVSBidXQgaXRzIG92
ZXJoZWFkIGlzIG9idmlvdXMgd2l0aCB0aGUgZXhwZW5zaXZlIGZ1bGwKPiA+PiBtZW1vcnkgYmFy
cmllci4gQW5vdGhlciBjaG9pY2UgaXMgdG8gdXNlIHNlcWxvY2ssIGJ1dCBpdCBkb2Vzbid0Cj4g
Pj4gcHJvdmlkZSBhIHN5bmNocm9uaXphdGlvbiBtZXRob2QgYmV0d2VlbiByZWFkZXJzIGFuZCB3
cml0ZXJzLiBUaGUgbGFzdAo+ID4+IGNob2ljZSBpcyB0byB1c2UgdnEgbXV0ZXgsIGJ1dCBpdCBu
ZWVkIHRvIGRlYWwgd2l0aCB0aGUgd29yc3QgY2FzZQo+ID4+IHRoYXQgTU1VIG5vdGlmaWVyIG11
c3QgYmUgYmxvY2tlZCBhbmQgd2FpdCBmb3IgdGhlIGZpbmlzaCBvZiBzd2FwIGluLgo+ID4+Cj4g
Pj4gU28gdGhpcyBwYXRjaCBzd2l0Y2hlcyB1c2UgYSBjb3VudGVyIHRvIHRyYWNrIHdoZXRoZXIg
b3Igbm90IHRoZSBtYXAKPiA+PiB3YXMgdXNlZC4gVGhlIGNvdW50ZXIgd2FzIGluY3JlYXNlZCB3
aGVuIHZxIHRyeSB0byBzdGFydCBvciBmaW5pc2gKPiA+PiB1c2VzIHRoZSBtYXAuIFRoaXMgbWVh
bnMsIHdoZW4gaXQgd2FzIGV2ZW4sIHdlJ3JlIHN1cmUgdGhlcmUncyBubwo+ID4+IHJlYWRlcnMg
YW5kIE1NVSBub3RpZmllciBpcyBzeW5jaHJvbml6ZWQuIFdoZW4gaXQgd2FzIG9kZCwgaXQgbWVh
bnMKPiA+PiB0aGVyZSdzIGEgcmVhZGVyIHdlIG5lZWQgdG8gd2FpdCBpdCB0byBiZSBldmVuIGFn
YWluIHRoZW4gd2UgYXJlCj4gPj4gc3luY2hyb25pemVkLiBUbyBhdm9pZCBmdWxsIG1lbW9yeSBi
YXJyaWVyLCBzdG9yZV9yZWxlYXNlICsKPiA+PiBsb2FkX2FjcXVpcmUgb24gdGhlIGNvdW50ZXIg
aXMgdXNlZC4KPiA+Cj4gPiBVbmZvcnR1bmF0ZWx5IHRoaXMgbmVlZHMgYSBsb3Qgb2YgcmV2aWV3
IGFuZCB0ZXN0aW5nLCBzbyB0aGlzIGNhbid0IG1ha2UKPiA+IHJjMiwgYW5kIEkgZG9uJ3QgdGhp
bmsgdGhpcyBpcyB0aGUga2luZCBvZiBwYXRjaCBJIGNhbiBtZXJnZSBhZnRlciByYzMuCj4gPiBT
dWJ0bGUgbWVtb3J5IGJhcnJpZXIgdHJpY2tzIGxpa2UgdGhpcyBjYW4gaW50cm9kdWNlIG5ldyBi
dWdzIHdoaWxlIHRoZXkKPiA+IGFyZSBmaXhpbmcgb2xkIG9uZXMuCj4gCj4gSSBhZG1pdCB0aGUg
cGF0Y2ggaXMgdHJpY2t5LiBTb21lIHF1ZXN0aW9uczoKPiAKPiAtIERvIHdlIG11c3QgYWRkcmVz
cyB0aGUgY2FzZSBvZiBlLmcgc3dhcCBpbj8gSWYgbm90LCBhIHNpbXBsZQo+ICAgdmhvc3Rfd29y
a19mbHVzaCgpIGluc3RlYWQgb2Ygc3luY2hyb25pemVfcmN1KCkgbWF5IHdvcmsuCj4gLSBIYXZp
bmcgc29tZSBoYXJkIHRob3VnaHQsIEkgdGhpbmsgd2UgY2FuIHVzZSBzZXFsb2NrLCBpdCBsb29r
cwo+ICAgdG8gbWUgc21wX3dtYigpIGlzIGluIHdyaXRlX3NlZ2NvdW50X2JlZ2luKCkgaXMgc3Vm
ZmljaWVudCwgd2UgZG9uJ3QKPiAgIGNhcmUgdnEtPm1hcCByZWFkIGJlZm9yZSBzbXBfd21iKCks
IGFuZCBmb3IgdGhlIG90aGVyIHdlIGFsbCBoYXZlCj4gICBnb29kIGRhdGEgZGV2ZW5kZW5jeSBz
byBzbXBfd21iKCkgaW4gdGhlIHdyaXRlX3NlcWJlZ2luX2VuZCgpIGlzCj4gICBzdWZmaWNpZW50
LgoKSWYgd2UgbmVlZCBhbiBtYiBpbiB0aGUgYmVnaW4oKSB3ZSBjYW4gc3dpdGNoIHRvCmRlcGVu
ZGVudF9wdHJfbWIuIGlmIHlvdSBuZWVkIG1lIHRvIGZpeCBpdCB1cAphbmQgcmVwb3N0LCBsZXQg
bWUga25vdy4KCldoeSBpc24ndCBpdCBhIHByb2JsZW0gaWYgdGhlIG1hcCBpcwphY2Nlc3NlZCBv
dXRzaWRlIHRoZSBsb2NrPwoKCgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL3Zob3N0L3Zob3N0LmMg
Yi9kcml2ZXJzL3Zob3N0L3Zob3N0LmMKPiBpbmRleCBkYjJjODFjYjFlOTAuLjZkOTUwMTMwMzI1
OCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL3Zob3N0L3Zob3N0LmMKPiArKysgYi9kcml2ZXJzL3Zo
b3N0L3Zob3N0LmMKPiBAQCAtMzYzLDM5ICszNjMsMjkgQEAgc3RhdGljIGJvb2wgdmhvc3RfbWFw
X3JhbmdlX292ZXJsYXAoc3RydWN0IHZob3N0X3VhZGRyICp1YWRkciwKPiAgCj4gIHN0YXRpYyB2
b2lkIGlubGluZSB2aG9zdF92cV9hY2Nlc3NfbWFwX2JlZ2luKHN0cnVjdCB2aG9zdF92aXJ0cXVl
dWUgKnZxKQo+ICB7Cj4gLQlpbnQgcmVmID0gUkVBRF9PTkNFKHZxLT5yZWYpOwo+IC0KPiAtCXNt
cF9zdG9yZV9yZWxlYXNlKCZ2cS0+cmVmLCByZWYgKyAxKTsKPiAtCS8qIE1ha2Ugc3VyZSByZWYg
Y291bnRlciBpcyB2aXNpYmxlIGJlZm9yZSBhY2Nlc3NpbmcgdGhlIG1hcCAqLwo+IC0Jc21wX2xv
YWRfYWNxdWlyZSgmdnEtPnJlZik7Cj4gKwl3cml0ZV9zZXFjb3VudF9iZWdpbigmdnEtPnNlcSk7
Cj4gIH0KPiAgCj4gIHN0YXRpYyB2b2lkIGlubGluZSB2aG9zdF92cV9hY2Nlc3NfbWFwX2VuZChz
dHJ1Y3Qgdmhvc3RfdmlydHF1ZXVlICp2cSkKPiAgewo+IC0JaW50IHJlZiA9IFJFQURfT05DRSh2
cS0+cmVmKTsKPiAtCj4gLQkvKiBNYWtlIHN1cmUgdnEgYWNjZXNzIGlzIGRvbmUgYmVmb3JlIGlu
Y3JlYXNpbmcgcmVmIGNvdW50ZXIgKi8KPiAtCXNtcF9zdG9yZV9yZWxlYXNlKCZ2cS0+cmVmLCBy
ZWYgKyAxKTsKPiArCXdyaXRlX3NlcWNvdW50X2VuZCgmdnEtPnNlcSk7Cj4gIH0KPiAgCj4gIHN0
YXRpYyB2b2lkIGlubGluZSB2aG9zdF92cV9zeW5jX2FjY2VzcyhzdHJ1Y3Qgdmhvc3RfdmlydHF1
ZXVlICp2cSkKPiAgewo+IC0JaW50IHJlZjsKPiArCXVuc2lnbmVkIGludCByZXQ7Cj4gIAo+ICAJ
LyogTWFrZSBzdXJlIG1hcCBjaGFuZ2Ugd2FzIGRvbmUgYmVmb3JlIGNoZWNraW5nIHJlZiBjb3Vu
dGVyICovCj4gIAlzbXBfbWIoKTsKPiAtCj4gLQlyZWYgPSBSRUFEX09OQ0UodnEtPnJlZik7Cj4g
LQlpZiAocmVmICYgMHgxKSB7Cj4gLQkJLyogV2hlbiByZWYgY2hhbmdlLCB3ZSBhcmUgc3VyZSBu
byByZWFkZXIgY2FuIHNlZQo+ICsJcmV0ID0gcmF3X3JlYWRfc2VxY291bnQoJnZxLT5zZXEpOwo+
ICsJaWYgKHJldCAmIDB4MSkgewo+ICsJCS8qIFdoZW4gc2VxIGNoYW5nZXMsIHdlIGFyZSBzdXJl
IG5vIHJlYWRlciBjYW4gc2VlCj4gIAkJICogcHJldmlvdXMgbWFwICovCj4gLQkJd2hpbGUgKFJF
QURfT05DRSh2cS0+cmVmKSA9PSByZWYpIHsKPiAtCQkJc2V0X2N1cnJlbnRfc3RhdGUoVEFTS19S
VU5OSU5HKTsKPiArCQl3aGlsZSAocmF3X3JlYWRfc2VxY291bnQoJnZxLT5zZXEpID09IHJldCkK
PiAgCQkJc2NoZWR1bGUoKTsKCgpTbyB3aHkgZG8gd2Ugc2V0IHN0YXRlIGhlcmU/IEFuZCBzaG91
bGQgbm90IHdlCmNoZWNrIG5lZWRfc2NoZWQ/CgoKPiAtCQl9Cj4gIAl9Cj4gLQkvKiBNYWtlIHN1
cmUgcmVmIGNvdW50ZXIgd2FzIGNoZWNrZWQgYmVmb3JlIGFueSBvdGhlcgo+IC0JICogb3BlcmF0
aW9ucyB0aGF0IHdhcyBkZW5lIG9uIG1hcC4gKi8KPiArCS8qIE1ha2Ugc3VyZSBzZXEgd2FzIGNo
ZWNrZWQgYmVmb3JlIGFueSBvdGhlciBvcGVyYXRpb25zIHRoYXQKPiArCSAqIHdhcyBkZW5lIG9u
IG1hcC4gKi8KPiAgCXNtcF9tYigpOwo+ICB9Cj4gIAo+IEBAIC02OTEsNyArNjgxLDcgQEAgdm9p
ZCB2aG9zdF9kZXZfaW5pdChzdHJ1Y3Qgdmhvc3RfZGV2ICpkZXYsCj4gIAkJdnEtPmluZGlyZWN0
ID0gTlVMTDsKPiAgCQl2cS0+aGVhZHMgPSBOVUxMOwo+ICAJCXZxLT5kZXYgPSBkZXY7Cj4gLQkJ
dnEtPnJlZiA9IDA7Cj4gKwkJc2VxY291bnRfaW5pdCgmdnEtPnNlcSk7Cj4gIAkJbXV0ZXhfaW5p
dCgmdnEtPm11dGV4KTsKPiAgCQlzcGluX2xvY2tfaW5pdCgmdnEtPm1tdV9sb2NrKTsKPiAgCQl2
aG9zdF92cV9yZXNldChkZXYsIHZxKTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy92aG9zdC92aG9z
dC5oIGIvZHJpdmVycy92aG9zdC92aG9zdC5oCj4gaW5kZXggM2QxMGRhMGFlNTExLi4xYTcwNWUx
ODFhODQgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy92aG9zdC92aG9zdC5oCj4gKysrIGIvZHJpdmVy
cy92aG9zdC92aG9zdC5oCj4gQEAgLTEyNSw3ICsxMjUsNyBAQCBzdHJ1Y3Qgdmhvc3RfdmlydHF1
ZXVlIHsKPiAgCSAqLwo+ICAJc3RydWN0IHZob3N0X3VhZGRyIHVhZGRyc1tWSE9TVF9OVU1fQURE
UlNdOwo+ICAjZW5kaWYKPiAtCWludCByZWY7Cj4gKwlzZXFjb3VudF90IHNlcTsKPiAgCWNvbnN0
IHN0cnVjdCB2aG9zdF91bWVtX25vZGUgKm1ldGFfaW90bGJbVkhPU1RfTlVNX0FERFJTXTsKPiAg
Cj4gIAlzdHJ1Y3QgZmlsZSAqa2ljazsKPiAtLSAKPiAyLjE4LjEKPiAKPiA+Cj4gPgo+ID4KPiA+
Cj4gPgo+ID4+Cj4gPj4gQ29uc2lkZXIgdGhlIHJlYWQgY3JpdGljYWwgc2VjdGlvbiBpcyBwcmV0
dHkgc21hbGwgdGhlIHN5bmNocm9uaXphdGlvbgo+ID4+IHNob3VsZCBiZSBkb25lIHZlcnkgZmFz
dC4KPiA+Pgo+ID4+IE5vdGUgdGhlIHBhdGNoIGxlYWQgYWJvdXQgMyUgUFBTIGRyb3BwaW5nLgo+
ID4KPiA+IFNvcnJ5IHdoYXQgZG8geW91IG1lYW4gYnkgdGhpcyBsYXN0IHNlbnRlbmNlPyBUaGlz
IGRlZ3JhZGVzIHBlcmZvcm1hbmNlCj4gPiBjb21wYXJlZCB0byB3aGF0Pwo+IAo+IENvbXBhcmUg
dG8gd2l0aG91dCB0aGlzIHBhdGNoLgoKT0sgaXMgdGhlIGZlYXR1cmUgc3RpbGwgYSBwZXJmb3Jt
YW5jZSB3aW4/IG9yIHNob3VsZCB3ZSBkcm9wIGl0IGZvciBub3c/Cgo+ID4KPiA+Pgo+ID4+IFJl
cG9ydGVkLWJ5OiBNaWNoYWVsIFMuIFRzaXJraW4gPG1zdEByZWRoYXQuY29tPgo+ID4+IEZpeGVz
OiA3ZjQ2NjAzMmRjOWUgKCJ2aG9zdDogYWNjZXNzIHZxIG1ldGFkYXRhIHRocm91Z2gga2VybmVs
IHZpcnR1YWwgYWRkcmVzcyIpCj4gPj4gU2lnbmVkLW9mZi1ieTogSmFzb24gV2FuZyA8amFzb3dh
bmdAcmVkaGF0LmNvbT4KPiA+PiAtLS0KPiA+PiAgZHJpdmVycy92aG9zdC92aG9zdC5jIHwgMTQ1
ICsrKysrKysrKysrKysrKysrKysrKysrKysrLS0tLS0tLS0tLS0tLS0tLQo+ID4+ICBkcml2ZXJz
L3Zob3N0L3Zob3N0LmggfCAgIDcgKy0KPiA+PiAgMiBmaWxlcyBjaGFuZ2VkLCA5NCBpbnNlcnRp
b25zKCspLCA1OCBkZWxldGlvbnMoLSkKPiA+Pgo+ID4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL3Zo
b3N0L3Zob3N0LmMgYi9kcml2ZXJzL3Zob3N0L3Zob3N0LmMKPiA+PiBpbmRleCBjZmMxMWY5ZWQ5
YzkuLmRiMmM4MWNiMWU5MCAxMDA2NDQKPiA+PiAtLS0gYS9kcml2ZXJzL3Zob3N0L3Zob3N0LmMK
PiA+PiArKysgYi9kcml2ZXJzL3Zob3N0L3Zob3N0LmMKPiA+PiBAQCAtMzI0LDE3ICszMjQsMTYg
QEAgc3RhdGljIHZvaWQgdmhvc3RfdW5pbml0X3ZxX21hcHMoc3RydWN0IHZob3N0X3ZpcnRxdWV1
ZSAqdnEpCj4gPj4gIAo+ID4+ICAJc3Bpbl9sb2NrKCZ2cS0+bW11X2xvY2spOwo+ID4+ICAJZm9y
IChpID0gMDsgaSA8IFZIT1NUX05VTV9BRERSUzsgaSsrKSB7Cj4gPj4gLQkJbWFwW2ldID0gcmN1
X2RlcmVmZXJlbmNlX3Byb3RlY3RlZCh2cS0+bWFwc1tpXSwKPiA+PiAtCQkJCSAgbG9ja2RlcF9p
c19oZWxkKCZ2cS0+bW11X2xvY2spKTsKPiA+PiArCQltYXBbaV0gPSB2cS0+bWFwc1tpXTsKPiA+
PiAgCQlpZiAobWFwW2ldKSB7Cj4gPj4gIAkJCXZob3N0X3NldF9tYXBfZGlydHkodnEsIG1hcFtp
XSwgaSk7Cj4gPj4gLQkJCXJjdV9hc3NpZ25fcG9pbnRlcih2cS0+bWFwc1tpXSwgTlVMTCk7Cj4g
Pj4gKwkJCXZxLT5tYXBzW2ldID0gTlVMTDsKPiA+PiAgCQl9Cj4gPj4gIAl9Cj4gPj4gIAlzcGlu
X3VubG9jaygmdnEtPm1tdV9sb2NrKTsKPiA+PiAgCj4gPj4gLQkvKiBObyBuZWVkIGZvciBzeW5j
aHJvbml6ZV9yY3UoKSBvciBrZnJlZV9yY3UoKSBzaW5jZSB3ZSBhcmUKPiA+PiAtCSAqIHNlcmlh
bGl6ZWQgd2l0aCBtZW1vcnkgYWNjZXNzb3JzIChlLmcgdnEgbXV0ZXggaGVsZCkuCj4gPj4gKwkv
KiBObyBuZWVkIGZvciBzeW5jaHJvbml6YXRpb24gc2luY2Ugd2UgYXJlIHNlcmlhbGl6ZWQgd2l0
aAo+ID4+ICsJICogbWVtb3J5IGFjY2Vzc29ycyAoZS5nIHZxIG11dGV4IGhlbGQpLgo+ID4+ICAJ
ICovCj4gPj4gIAo+ID4+ICAJZm9yIChpID0gMDsgaSA8IFZIT1NUX05VTV9BRERSUzsgaSsrKQo+
ID4+IEBAIC0zNjIsNiArMzYxLDQ0IEBAIHN0YXRpYyBib29sIHZob3N0X21hcF9yYW5nZV9vdmVy
bGFwKHN0cnVjdCB2aG9zdF91YWRkciAqdWFkZHIsCj4gPj4gIAlyZXR1cm4gIShlbmQgPCB1YWRk
ci0+dWFkZHIgfHwgc3RhcnQgPiB1YWRkci0+dWFkZHIgLSAxICsgdWFkZHItPnNpemUpOwo+ID4+
ICB9Cj4gPj4gIAo+ID4+ICtzdGF0aWMgdm9pZCBpbmxpbmUgdmhvc3RfdnFfYWNjZXNzX21hcF9i
ZWdpbihzdHJ1Y3Qgdmhvc3RfdmlydHF1ZXVlICp2cSkKPiA+PiArewo+ID4+ICsJaW50IHJlZiA9
IFJFQURfT05DRSh2cS0+cmVmKTsKPiA+PiArCj4gPj4gKwlzbXBfc3RvcmVfcmVsZWFzZSgmdnEt
PnJlZiwgcmVmICsgMSk7Cj4gPj4gKwkvKiBNYWtlIHN1cmUgcmVmIGNvdW50ZXIgaXMgdmlzaWJs
ZSBiZWZvcmUgYWNjZXNzaW5nIHRoZSBtYXAgKi8KPiA+PiArCXNtcF9sb2FkX2FjcXVpcmUoJnZx
LT5yZWYpOwo+ID4KPiA+IFRoZSBtYXAgYWNjZXNzIGlzIGFmdGVyIHRoaXMgc2VxdWVuY2UsIGNv
cnJlY3Q/Cj4gCj4gWWVzLgo+IAo+ID4KPiA+IEp1c3QgZ29pbmcgYnkgdGhlIHJ1bGVzIGluIERv
Y3VtZW50YXRpb24vbWVtb3J5LWJhcnJpZXJzLnR4dCwKPiA+IEkgdGhpbmsgdGhhdCB0aGlzIHBh
aXIgd2lsbCBub3Qgb3JkZXIgZm9sbG93aW5nIGFjY2Vzc2VzIHdpdGggcmVmIHN0b3JlLgo+ID4K
PiA+IERvY3VtZW50YXRpb24vbWVtb3J5LWJhcnJpZXJzLnR4dCBzYXlzOgo+ID4KPiA+Cj4gPiAr
ICAgICBJbiBhZGRpdGlvbiwgYSBSRUxFQVNFK0FDUVVJUkUKPiA+ICsgICAgIHBhaXIgaXMgLW5v
dC0gZ3VhcmFudGVlZCB0byBhY3QgYXMgYSBmdWxsIG1lbW9yeSBiYXJyaWVyLgo+ID4KPiA+Cj4g
Pgo+ID4gVGhlIGd1YXJhbnRlZSB0aGF0IGlzIG1hZGUgaXMgdGhpczoKPiA+IAlhZnRlcgo+ID4g
ICAgICBhbiBBQ1FVSVJFIG9uIGEgZ2l2ZW4gdmFyaWFibGUsIGFsbCBtZW1vcnkgYWNjZXNzZXMg
cHJlY2VkaW5nIGFueSBwcmlvcgo+ID4gICAgICBSRUxFQVNFIG9uIHRoYXQgc2FtZSB2YXJpYWJs
ZSBhcmUgZ3VhcmFudGVlZCB0byBiZSB2aXNpYmxlLgo+IAo+IFllcywgYnV0IGl0J3Mgbm90IGNs
ZWFyIGFib3V0IHRoZSBvcmRlciBvZiBBQ1FVSVJFIHRoZSBzYW1lIGxvY2F0aW9uCj4gb2YgcHJl
dmlvdXMgUkVMRUFTRS4gQW5kIGl0IG9ubHkgaGFzIGEgZXhhbXBsZSBsaWtlOgo+IAo+ICIKPiAJ
KkEgPSBhOwo+IAlSRUxFQVNFIE0KPiAJQUNRVUlSRSBOCj4gCSpCID0gYjsKPiAKPiBjb3VsZCBv
Y2N1ciBhczoKPiAKPiAJQUNRVUlSRSBOLCBTVE9SRSAqQiwgU1RPUkUgKkEsIFJFTEVBU0UgTQo+
ICIKPiAKPiBCdXQgaXQgZG9lc24ndCBleHBsYWluIHdoYXQgaGFwcGVuIHdoZW4KPiAKPiAqQSA9
IGEKPiBSRUxFQVNFIE0KPiBBQ1FVSVJFIE0KPiAqQiA9IGI7Cj4gCj4gQW5kIHRvb2xzL21lbW9y
eS1tb2RlbC9Eb2N1bWVudGF0aW9uIHNhaWQKPiAKPiAiCj4gRmlyc3QsIHdoZW4gYSBsb2NrLWFj
cXVpcmUgcmVhZHMgZnJvbSBhIGxvY2stcmVsZWFzZSwgdGhlIExLTU0KPiByZXF1aXJlcyB0aGF0
IGV2ZXJ5IGluc3RydWN0aW9uIHBvLWJlZm9yZSB0aGUgbG9jay1yZWxlYXNlIG11c3QKPiBleGVj
dXRlIGJlZm9yZSBhbnkgaW5zdHJ1Y3Rpb24gcG8tYWZ0ZXIgdGhlIGxvY2stYWNxdWlyZS4KPiAi
Cj4gCj4gSXMgdGhpcyBhIGhpbnQgdGhhdCBJIHdhcyBjb3JyZWN0PwoKSSBkb24ndCB0aGluayBp
dCdzIGNvcnJlY3Qgc2luY2UgYnkgdGhpcyBsb2dpYwptZW1vcnkgYmFycmllcnMgY2FuIGJlIG5v
cHMgb24geDg2LgoKPiA+Cj4gPgo+ID4gQW5kIGlmIHdlIGFsc28gaGFkIHRoZSByZXZlcnNlIHJ1
bGUgd2UnZCBlbmQgdXAgd2l0aCBhIGZ1bGwgYmFycmllciwKPiA+IHdvbid0IHdlPwo+ID4KPiA+
IENjIFBhdWwgaW4gY2FzZSBJIG1pc3NlZCBzb21ldGhpbmcgaGVyZS4gQW5kIGlmIEknbSByaWdo
dCwKPiA+IG1heWJlIHdlIHNob3VsZCBjYWxsIHRoaXMgb3V0LCBhZGRpbmcKPiA+Cj4gPiAJIlRo
ZSBvcHBvc2l0ZSBpcyBub3QgdHJ1ZTogYSBwcmlvciBSRUxFQVNFIGlzIG5vdAo+ID4gCSBndWFy
YW50ZWVkIHRvIGJlIHZpc2libGUgYmVmb3JlIG1lbW9yeSBhY2Nlc3NlcyBmb2xsb3dpbmcKPiA+
IAkgdGhlIHN1YnNlcXVlbnQgQUNRVUlSRSIuCj4gCj4gVGhhdCBraW5kcyBvZiB2aW9sYXRlcyB0
aGUgUkVMRUFTRT8KPiAKPiAiCj4gICAgICBUaGlzIGFsc28gYWN0cyBhcyBhIG9uZS13YXkgcGVy
bWVhYmxlIGJhcnJpZXIuICBJdCBndWFyYW50ZWVzIHRoYXQgYWxsCj4gICAgICBtZW1vcnkgb3Bl
cmF0aW9ucyBiZWZvcmUgdGhlIFJFTEVBU0Ugb3BlcmF0aW9uIHdpbGwgYXBwZWFyIHRvIGhhcHBl
bgo+ICAgICAgYmVmb3JlIHRoZSBSRUxFQVNFIG9wZXJhdGlvbiB3aXRoIHJlc3BlY3QgdG8gdGhl
IG90aGVyIGNvbXBvbmVudHMgb2YgdGhlCj4gIgoKCnllcyBidXQgd2UgYXJlIHRhbGtpbmcgYWJv
dXQgUkVMRUFTRSBpdHNlbGYgdmVyc3VzIHN0dWZmCnRoYXQgY29tZXMgYWZ0ZXIgaXQuCgo+ID4K
PiA+Cj4gPgo+ID4+ICt9Cj4gPj4gKwo+ID4+ICtzdGF0aWMgdm9pZCBpbmxpbmUgdmhvc3RfdnFf
YWNjZXNzX21hcF9lbmQoc3RydWN0IHZob3N0X3ZpcnRxdWV1ZSAqdnEpCj4gPj4gK3sKPiA+PiAr
CWludCByZWYgPSBSRUFEX09OQ0UodnEtPnJlZik7Cj4gPj4gKwo+ID4+ICsJLyogTWFrZSBzdXJl
IHZxIGFjY2VzcyBpcyBkb25lIGJlZm9yZSBpbmNyZWFzaW5nIHJlZiBjb3VudGVyICovCj4gPj4g
KwlzbXBfc3RvcmVfcmVsZWFzZSgmdnEtPnJlZiwgcmVmICsgMSk7Cj4gPj4gK30KPiA+PiArCj4g
Pj4gK3N0YXRpYyB2b2lkIGlubGluZSB2aG9zdF92cV9zeW5jX2FjY2VzcyhzdHJ1Y3Qgdmhvc3Rf
dmlydHF1ZXVlICp2cSkKPiA+PiArewo+ID4+ICsJaW50IHJlZjsKPiA+PiArCj4gPj4gKwkvKiBN
YWtlIHN1cmUgbWFwIGNoYW5nZSB3YXMgZG9uZSBiZWZvcmUgY2hlY2tpbmcgcmVmIGNvdW50ZXIg
Ki8KPiA+PiArCXNtcF9tYigpOwo+ID4+ICsKPiA+PiArCXJlZiA9IFJFQURfT05DRSh2cS0+cmVm
KTsKPiA+PiArCWlmIChyZWYgJiAweDEpIHsKPiA+Cj4gPiBQbGVhc2UgZG9jdW1lbnQgdGhlIGV2
ZW4vb2RkIHRyaWNrIGhlcmUgdG9vLCBub3QganVzdCBpbiB0aGUgY29tbWl0IGxvZy4KPiA+Cj4g
Cj4gT2suCj4gCj4gPj4gKwkJLyogV2hlbiByZWYgY2hhbmdlLAo+ID4KPiA+IGNoYW5nZXMKPiA+
Cj4gPj4gd2UgYXJlIHN1cmUgbm8gcmVhZGVyIGNhbiBzZWUKPiA+PiArCQkgKiBwcmV2aW91cyBt
YXAgKi8KPiA+PiArCQl3aGlsZSAoUkVBRF9PTkNFKHZxLT5yZWYpID09IHJlZikgewo+ID4KPiA+
Cj4gPiB3aGF0IGlzIHRoZSBiZWxvdyBsaW5lIGluIGFpZCBvZj8KPiA+Cj4gPj4gKwkJCXNldF9j
dXJyZW50X3N0YXRlKFRBU0tfUlVOTklORyk7CgphbnkgYW5zd2VycyBoZXJlPwoKPiA+PiArCQkJ
c2NoZWR1bGUoKTsKPiA+Cj4gPiAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmVlZF9yZXNj
aGVkKCkpCj4gPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjaGVkdWxlKCk7Cj4g
Pgo+ID4gPwo+IAo+IFllcywgYmV0dGVyLgo+IAo+ID4KPiA+PiArCQl9Cj4gPgo+ID4gT24gYW4g
aW50ZXJydXB0aWJsZSBrZXJuZWwsIHRoZXJlJ3MgYSByaXNrIGhlcmUgaXMgdGhhdAo+ID4gYSB0
YXNrIGdvdCBwcmVlbXB0ZWQgd2l0aCBhbiBvZGQgcmVmLgo+ID4gU28gSSBzdXNwZWN0IHdlJ2xs
IGhhdmUgdG8gZGlzYWJsZSBwcmVlbXB0aW9uIHdoZW4gd2UKPiA+IG1ha2UgcmVmIG9kZC4KPiAK
PiBJJ20gbm90IHN1cmUgSSBnZXQsIGlmIHRoZSBvZGQgaXMgbm90IHRoZSBvcmlnaW5hbCB2YWx1
ZSB3ZSByZWFkLAo+IHdlJ3JlIHN1cmUgaXQgd29uJ3QgcmVhZCB0aGUgbmV3IG1hcCBoZXJlIEkg
YmVsaWV2ZS4KCkJ1dCB3ZSB3aWxsIHNwaW4gZm9yIGEgdmVyeSBsb25nIHRpbWUgaW4gdGhpcyBj
YXNlLgoKPiA+Cj4gPgo+ID4+ICsJfQo+ID4+ICsJLyogTWFrZSBzdXJlIHJlZiBjb3VudGVyIHdh
cyBjaGVja2VkIGJlZm9yZSBhbnkgb3RoZXIKPiA+PiArCSAqIG9wZXJhdGlvbnMgdGhhdCB3YXMg
ZGVuZSBvbiBtYXAuICovCj4gPgo+ID4gd2FzIGRlbmUgLT4gd2VyZSBkb25lPwo+ID4KPiAKPiBZ
ZXMuCj4gCj4gPj4gKwlzbXBfbWIoKTsKPiA+PiArfQo+ID4+ICsKPiA+PiAgc3RhdGljIHZvaWQg
dmhvc3RfaW52YWxpZGF0ZV92cV9zdGFydChzdHJ1Y3Qgdmhvc3RfdmlydHF1ZXVlICp2cSwKPiA+
PiAgCQkJCSAgICAgIGludCBpbmRleCwKPiA+PiAgCQkJCSAgICAgIHVuc2lnbmVkIGxvbmcgc3Rh
cnQsCj4gPj4gQEAgLTM3NiwxNiArNDEzLDE1IEBAIHN0YXRpYyB2b2lkIHZob3N0X2ludmFsaWRh
dGVfdnFfc3RhcnQoc3RydWN0IHZob3N0X3ZpcnRxdWV1ZSAqdnEsCj4gPj4gIAlzcGluX2xvY2so
JnZxLT5tbXVfbG9jayk7Cj4gPj4gIAkrK3ZxLT5pbnZhbGlkYXRlX2NvdW50Owo+ID4+ICAKPiA+
PiAtCW1hcCA9IHJjdV9kZXJlZmVyZW5jZV9wcm90ZWN0ZWQodnEtPm1hcHNbaW5kZXhdLAo+ID4+
IC0JCQkJCWxvY2tkZXBfaXNfaGVsZCgmdnEtPm1tdV9sb2NrKSk7Cj4gPj4gKwltYXAgPSB2cS0+
bWFwc1tpbmRleF07Cj4gPj4gIAlpZiAobWFwKSB7Cj4gPj4gIAkJdmhvc3Rfc2V0X21hcF9kaXJ0
eSh2cSwgbWFwLCBpbmRleCk7Cj4gPj4gLQkJcmN1X2Fzc2lnbl9wb2ludGVyKHZxLT5tYXBzW2lu
ZGV4XSwgTlVMTCk7Cj4gPj4gKwkJdnEtPm1hcHNbaW5kZXhdID0gTlVMTDsKPiA+PiAgCX0KPiA+
PiAgCXNwaW5fdW5sb2NrKCZ2cS0+bW11X2xvY2spOwo+ID4+ICAKPiA+PiAgCWlmIChtYXApIHsK
PiA+PiAtCQlzeW5jaHJvbml6ZV9yY3UoKTsKPiA+PiArCQl2aG9zdF92cV9zeW5jX2FjY2Vzcyh2
cSk7Cj4gPj4gIAkJdmhvc3RfbWFwX3VucHJlZmV0Y2gobWFwKTsKPiA+PiAgCX0KPiA+PiAgfQo+
ID4+IEBAIC00NTcsNyArNDkzLDcgQEAgc3RhdGljIHZvaWQgdmhvc3RfaW5pdF9tYXBzKHN0cnVj
dCB2aG9zdF9kZXYgKmRldikKPiA+PiAgCWZvciAoaSA9IDA7IGkgPCBkZXYtPm52cXM7ICsraSkg
ewo+ID4+ICAJCXZxID0gZGV2LT52cXNbaV07Cj4gPj4gIAkJZm9yIChqID0gMDsgaiA8IFZIT1NU
X05VTV9BRERSUzsgaisrKQo+ID4+IC0JCQlSQ1VfSU5JVF9QT0lOVEVSKHZxLT5tYXBzW2pdLCBO
VUxMKTsKPiA+PiArCQkJdnEtPm1hcHNbal0gPSBOVUxMOwo+ID4+ICAJfQo+ID4+ICB9Cj4gPj4g
ICNlbmRpZgo+ID4+IEBAIC02NTUsNiArNjkxLDcgQEAgdm9pZCB2aG9zdF9kZXZfaW5pdChzdHJ1
Y3Qgdmhvc3RfZGV2ICpkZXYsCj4gPj4gIAkJdnEtPmluZGlyZWN0ID0gTlVMTDsKPiA+PiAgCQl2
cS0+aGVhZHMgPSBOVUxMOwo+ID4+ICAJCXZxLT5kZXYgPSBkZXY7Cj4gPj4gKwkJdnEtPnJlZiA9
IDA7Cj4gPj4gIAkJbXV0ZXhfaW5pdCgmdnEtPm11dGV4KTsKPiA+PiAgCQlzcGluX2xvY2tfaW5p
dCgmdnEtPm1tdV9sb2NrKTsKPiA+PiAgCQl2aG9zdF92cV9yZXNldChkZXYsIHZxKTsKPiA+PiBA
QCAtOTIxLDcgKzk1OCw3IEBAIHN0YXRpYyBpbnQgdmhvc3RfbWFwX3ByZWZldGNoKHN0cnVjdCB2
aG9zdF92aXJ0cXVldWUgKnZxLAo+ID4+ICAJbWFwLT5ucGFnZXMgPSBucGFnZXM7Cj4gPj4gIAlt
YXAtPnBhZ2VzID0gcGFnZXM7Cj4gPj4gIAo+ID4+IC0JcmN1X2Fzc2lnbl9wb2ludGVyKHZxLT5t
YXBzW2luZGV4XSwgbWFwKTsKPiA+PiArCXZxLT5tYXBzW2luZGV4XSA9IG1hcDsKPiA+PiAgCS8q
IE5vIG5lZWQgZm9yIGEgc3luY2hyb25pemVfcmN1KCkuIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGJl
Cj4gPj4gIAkgKiBjYWxsZWQgYnkgZGV2LT53b3JrZXIgc28gd2UgYXJlIHNlcmlhbGl6ZWQgd2l0
aCBhbGwKPiA+PiAgCSAqIHJlYWRlcnMuCj4gPj4gQEAgLTEyMTYsMTggKzEyNTMsMTggQEAgc3Rh
dGljIGlubGluZSBpbnQgdmhvc3RfcHV0X2F2YWlsX2V2ZW50KHN0cnVjdCB2aG9zdF92aXJ0cXVl
dWUgKnZxKQo+ID4+ICAJc3RydWN0IHZyaW5nX3VzZWQgKnVzZWQ7Cj4gPj4gIAo+ID4+ICAJaWYg
KCF2cS0+aW90bGIpIHsKPiA+PiAtCQlyY3VfcmVhZF9sb2NrKCk7Cj4gPj4gKwkJdmhvc3RfdnFf
YWNjZXNzX21hcF9iZWdpbih2cSk7Cj4gPj4gIAo+ID4+IC0JCW1hcCA9IHJjdV9kZXJlZmVyZW5j
ZSh2cS0+bWFwc1tWSE9TVF9BRERSX1VTRURdKTsKPiA+PiArCQltYXAgPSB2cS0+bWFwc1tWSE9T
VF9BRERSX1VTRURdOwo+ID4+ICAJCWlmIChsaWtlbHkobWFwKSkgewo+ID4+ICAJCQl1c2VkID0g
bWFwLT5hZGRyOwo+ID4+ICAJCQkqKChfX3ZpcnRpbzE2ICopJnVzZWQtPnJpbmdbdnEtPm51bV0p
ID0KPiA+PiAgCQkJCWNwdV90b192aG9zdDE2KHZxLCB2cS0+YXZhaWxfaWR4KTsKPiA+PiAtCQkJ
cmN1X3JlYWRfdW5sb2NrKCk7Cj4gPj4gKwkJCXZob3N0X3ZxX2FjY2Vzc19tYXBfZW5kKHZxKTsK
PiA+PiAgCQkJcmV0dXJuIDA7Cj4gPj4gIAkJfQo+ID4+ICAKPiA+PiAtCQlyY3VfcmVhZF91bmxv
Y2soKTsKPiA+PiArCQl2aG9zdF92cV9hY2Nlc3NfbWFwX2VuZCh2cSk7Cj4gPj4gIAl9Cj4gPj4g
ICNlbmRpZgo+ID4+ICAKPiA+PiBAQCAtMTI0NSwxOCArMTI4MiwxOCBAQCBzdGF0aWMgaW5saW5l
IGludCB2aG9zdF9wdXRfdXNlZChzdHJ1Y3Qgdmhvc3RfdmlydHF1ZXVlICp2cSwKPiA+PiAgCXNp
emVfdCBzaXplOwo+ID4+ICAKPiA+PiAgCWlmICghdnEtPmlvdGxiKSB7Cj4gPj4gLQkJcmN1X3Jl
YWRfbG9jaygpOwo+ID4+ICsJCXZob3N0X3ZxX2FjY2Vzc19tYXBfYmVnaW4odnEpOwo+ID4+ICAK
PiA+PiAtCQltYXAgPSByY3VfZGVyZWZlcmVuY2UodnEtPm1hcHNbVkhPU1RfQUREUl9VU0VEXSk7
Cj4gPj4gKwkJbWFwID0gdnEtPm1hcHNbVkhPU1RfQUREUl9VU0VEXTsKPiA+PiAgCQlpZiAobGlr
ZWx5KG1hcCkpIHsKPiA+PiAgCQkJdXNlZCA9IG1hcC0+YWRkcjsKPiA+PiAgCQkJc2l6ZSA9IGNv
dW50ICogc2l6ZW9mKCpoZWFkKTsKPiA+PiAgCQkJbWVtY3B5KHVzZWQtPnJpbmcgKyBpZHgsIGhl
YWQsIHNpemUpOwo+ID4+IC0JCQlyY3VfcmVhZF91bmxvY2soKTsKPiA+PiArCQkJdmhvc3RfdnFf
YWNjZXNzX21hcF9lbmQodnEpOwo+ID4+ICAJCQlyZXR1cm4gMDsKPiA+PiAgCQl9Cj4gPj4gIAo+
ID4+IC0JCXJjdV9yZWFkX3VubG9jaygpOwo+ID4+ICsJCXZob3N0X3ZxX2FjY2Vzc19tYXBfZW5k
KHZxKTsKPiA+PiAgCX0KPiA+PiAgI2VuZGlmCj4gPj4gIAo+ID4+IEBAIC0xMjcyLDE3ICsxMzA5
LDE3IEBAIHN0YXRpYyBpbmxpbmUgaW50IHZob3N0X3B1dF91c2VkX2ZsYWdzKHN0cnVjdCB2aG9z
dF92aXJ0cXVldWUgKnZxKQo+ID4+ICAJc3RydWN0IHZyaW5nX3VzZWQgKnVzZWQ7Cj4gPj4gIAo+
ID4+ICAJaWYgKCF2cS0+aW90bGIpIHsKPiA+PiAtCQlyY3VfcmVhZF9sb2NrKCk7Cj4gPj4gKwkJ
dmhvc3RfdnFfYWNjZXNzX21hcF9iZWdpbih2cSk7Cj4gPj4gIAo+ID4+IC0JCW1hcCA9IHJjdV9k
ZXJlZmVyZW5jZSh2cS0+bWFwc1tWSE9TVF9BRERSX1VTRURdKTsKPiA+PiArCQltYXAgPSB2cS0+
bWFwc1tWSE9TVF9BRERSX1VTRURdOwo+ID4+ICAJCWlmIChsaWtlbHkobWFwKSkgewo+ID4+ICAJ
CQl1c2VkID0gbWFwLT5hZGRyOwo+ID4+ICAJCQl1c2VkLT5mbGFncyA9IGNwdV90b192aG9zdDE2
KHZxLCB2cS0+dXNlZF9mbGFncyk7Cj4gPj4gLQkJCXJjdV9yZWFkX3VubG9jaygpOwo+ID4+ICsJ
CQl2aG9zdF92cV9hY2Nlc3NfbWFwX2VuZCh2cSk7Cj4gPj4gIAkJCXJldHVybiAwOwo+ID4+ICAJ
CX0KPiA+PiAgCj4gPj4gLQkJcmN1X3JlYWRfdW5sb2NrKCk7Cj4gPj4gKwkJdmhvc3RfdnFfYWNj
ZXNzX21hcF9lbmQodnEpOwo+ID4+ICAJfQo+ID4+ICAjZW5kaWYKPiA+PiAgCj4gPj4gQEAgLTEy
OTgsMTcgKzEzMzUsMTcgQEAgc3RhdGljIGlubGluZSBpbnQgdmhvc3RfcHV0X3VzZWRfaWR4KHN0
cnVjdCB2aG9zdF92aXJ0cXVldWUgKnZxKQo+ID4+ICAJc3RydWN0IHZyaW5nX3VzZWQgKnVzZWQ7
Cj4gPj4gIAo+ID4+ICAJaWYgKCF2cS0+aW90bGIpIHsKPiA+PiAtCQlyY3VfcmVhZF9sb2NrKCk7
Cj4gPj4gKwkJdmhvc3RfdnFfYWNjZXNzX21hcF9iZWdpbih2cSk7Cj4gPj4gIAo+ID4+IC0JCW1h
cCA9IHJjdV9kZXJlZmVyZW5jZSh2cS0+bWFwc1tWSE9TVF9BRERSX1VTRURdKTsKPiA+PiArCQlt
YXAgPSB2cS0+bWFwc1tWSE9TVF9BRERSX1VTRURdOwo+ID4+ICAJCWlmIChsaWtlbHkobWFwKSkg
ewo+ID4+ICAJCQl1c2VkID0gbWFwLT5hZGRyOwo+ID4+ICAJCQl1c2VkLT5pZHggPSBjcHVfdG9f
dmhvc3QxNih2cSwgdnEtPmxhc3RfdXNlZF9pZHgpOwo+ID4+IC0JCQlyY3VfcmVhZF91bmxvY2so
KTsKPiA+PiArCQkJdmhvc3RfdnFfYWNjZXNzX21hcF9lbmQodnEpOwo+ID4+ICAJCQlyZXR1cm4g
MDsKPiA+PiAgCQl9Cj4gPj4gIAo+ID4+IC0JCXJjdV9yZWFkX3VubG9jaygpOwo+ID4+ICsJCXZo
b3N0X3ZxX2FjY2Vzc19tYXBfZW5kKHZxKTsKPiA+PiAgCX0KPiA+PiAgI2VuZGlmCj4gPj4gIAo+
ID4+IEBAIC0xMzYyLDE3ICsxMzk5LDE3IEBAIHN0YXRpYyBpbmxpbmUgaW50IHZob3N0X2dldF9h
dmFpbF9pZHgoc3RydWN0IHZob3N0X3ZpcnRxdWV1ZSAqdnEsCj4gPj4gIAlzdHJ1Y3QgdnJpbmdf
YXZhaWwgKmF2YWlsOwo+ID4+ICAKPiA+PiAgCWlmICghdnEtPmlvdGxiKSB7Cj4gPj4gLQkJcmN1
X3JlYWRfbG9jaygpOwo+ID4+ICsJCXZob3N0X3ZxX2FjY2Vzc19tYXBfYmVnaW4odnEpOwo+ID4+
ICAKPiA+PiAtCQltYXAgPSByY3VfZGVyZWZlcmVuY2UodnEtPm1hcHNbVkhPU1RfQUREUl9BVkFJ
TF0pOwo+ID4+ICsJCW1hcCA9IHZxLT5tYXBzW1ZIT1NUX0FERFJfQVZBSUxdOwo+ID4+ICAJCWlm
IChsaWtlbHkobWFwKSkgewo+ID4+ICAJCQlhdmFpbCA9IG1hcC0+YWRkcjsKPiA+PiAgCQkJKmlk
eCA9IGF2YWlsLT5pZHg7Cj4gPj4gLQkJCXJjdV9yZWFkX3VubG9jaygpOwo+ID4+ICsJCQl2aG9z
dF92cV9hY2Nlc3NfbWFwX2VuZCh2cSk7Cj4gPj4gIAkJCXJldHVybiAwOwo+ID4+ICAJCX0KPiA+
PiAgCj4gPj4gLQkJcmN1X3JlYWRfdW5sb2NrKCk7Cj4gPj4gKwkJdmhvc3RfdnFfYWNjZXNzX21h
cF9lbmQodnEpOwo+ID4+ICAJfQo+ID4+ICAjZW5kaWYKPiA+PiAgCj4gPj4gQEAgLTEzODcsMTcg
KzE0MjQsMTcgQEAgc3RhdGljIGlubGluZSBpbnQgdmhvc3RfZ2V0X2F2YWlsX2hlYWQoc3RydWN0
IHZob3N0X3ZpcnRxdWV1ZSAqdnEsCj4gPj4gIAlzdHJ1Y3QgdnJpbmdfYXZhaWwgKmF2YWlsOwo+
ID4+ICAKPiA+PiAgCWlmICghdnEtPmlvdGxiKSB7Cj4gPj4gLQkJcmN1X3JlYWRfbG9jaygpOwo+
ID4+ICsJCXZob3N0X3ZxX2FjY2Vzc19tYXBfYmVnaW4odnEpOwo+ID4+ICAKPiA+PiAtCQltYXAg
PSByY3VfZGVyZWZlcmVuY2UodnEtPm1hcHNbVkhPU1RfQUREUl9BVkFJTF0pOwo+ID4+ICsJCW1h
cCA9IHZxLT5tYXBzW1ZIT1NUX0FERFJfQVZBSUxdOwo+ID4+ICAJCWlmIChsaWtlbHkobWFwKSkg
ewo+ID4+ICAJCQlhdmFpbCA9IG1hcC0+YWRkcjsKPiA+PiAgCQkJKmhlYWQgPSBhdmFpbC0+cmlu
Z1tpZHggJiAodnEtPm51bSAtIDEpXTsKPiA+PiAtCQkJcmN1X3JlYWRfdW5sb2NrKCk7Cj4gPj4g
KwkJCXZob3N0X3ZxX2FjY2Vzc19tYXBfZW5kKHZxKTsKPiA+PiAgCQkJcmV0dXJuIDA7Cj4gPj4g
IAkJfQo+ID4+ICAKPiA+PiAtCQlyY3VfcmVhZF91bmxvY2soKTsKPiA+PiArCQl2aG9zdF92cV9h
Y2Nlc3NfbWFwX2VuZCh2cSk7Cj4gPj4gIAl9Cj4gPj4gICNlbmRpZgo+ID4+ICAKPiA+PiBAQCAt
MTQxMywxNyArMTQ1MCwxNyBAQCBzdGF0aWMgaW5saW5lIGludCB2aG9zdF9nZXRfYXZhaWxfZmxh
Z3Moc3RydWN0IHZob3N0X3ZpcnRxdWV1ZSAqdnEsCj4gPj4gIAlzdHJ1Y3QgdnJpbmdfYXZhaWwg
KmF2YWlsOwo+ID4+ICAKPiA+PiAgCWlmICghdnEtPmlvdGxiKSB7Cj4gPj4gLQkJcmN1X3JlYWRf
bG9jaygpOwo+ID4+ICsJCXZob3N0X3ZxX2FjY2Vzc19tYXBfYmVnaW4odnEpOwo+ID4+ICAKPiA+
PiAtCQltYXAgPSByY3VfZGVyZWZlcmVuY2UodnEtPm1hcHNbVkhPU1RfQUREUl9BVkFJTF0pOwo+
ID4+ICsJCW1hcCA9IHZxLT5tYXBzW1ZIT1NUX0FERFJfQVZBSUxdOwo+ID4+ICAJCWlmIChsaWtl
bHkobWFwKSkgewo+ID4+ICAJCQlhdmFpbCA9IG1hcC0+YWRkcjsKPiA+PiAgCQkJKmZsYWdzID0g
YXZhaWwtPmZsYWdzOwo+ID4+IC0JCQlyY3VfcmVhZF91bmxvY2soKTsKPiA+PiArCQkJdmhvc3Rf
dnFfYWNjZXNzX21hcF9lbmQodnEpOwo+ID4+ICAJCQlyZXR1cm4gMDsKPiA+PiAgCQl9Cj4gPj4g
IAo+ID4+IC0JCXJjdV9yZWFkX3VubG9jaygpOwo+ID4+ICsJCXZob3N0X3ZxX2FjY2Vzc19tYXBf
ZW5kKHZxKTsKPiA+PiAgCX0KPiA+PiAgI2VuZGlmCj4gPj4gIAo+ID4+IEBAIC0xNDM4LDE1ICsx
NDc1LDE1IEBAIHN0YXRpYyBpbmxpbmUgaW50IHZob3N0X2dldF91c2VkX2V2ZW50KHN0cnVjdCB2
aG9zdF92aXJ0cXVldWUgKnZxLAo+ID4+ICAJc3RydWN0IHZyaW5nX2F2YWlsICphdmFpbDsKPiA+
PiAgCj4gPj4gIAlpZiAoIXZxLT5pb3RsYikgewo+ID4+IC0JCXJjdV9yZWFkX2xvY2soKTsKPiA+
PiAtCQltYXAgPSByY3VfZGVyZWZlcmVuY2UodnEtPm1hcHNbVkhPU1RfQUREUl9BVkFJTF0pOwo+
ID4+ICsJCXZob3N0X3ZxX2FjY2Vzc19tYXBfYmVnaW4odnEpOwo+ID4+ICsJCW1hcCA9IHZxLT5t
YXBzW1ZIT1NUX0FERFJfQVZBSUxdOwo+ID4+ICAJCWlmIChsaWtlbHkobWFwKSkgewo+ID4+ICAJ
CQlhdmFpbCA9IG1hcC0+YWRkcjsKPiA+PiAgCQkJKmV2ZW50ID0gKF9fdmlydGlvMTYpYXZhaWwt
PnJpbmdbdnEtPm51bV07Cj4gPj4gLQkJCXJjdV9yZWFkX3VubG9jaygpOwo+ID4+ICsJCQl2aG9z
dF92cV9hY2Nlc3NfbWFwX2VuZCh2cSk7Cj4gPj4gIAkJCXJldHVybiAwOwo+ID4+ICAJCX0KPiA+
PiAtCQlyY3VfcmVhZF91bmxvY2soKTsKPiA+PiArCQl2aG9zdF92cV9hY2Nlc3NfbWFwX2VuZCh2
cSk7Cj4gPj4gIAl9Cj4gPj4gICNlbmRpZgo+ID4+ICAKPiA+PiBAQCAtMTQ2MSwxNyArMTQ5OCwx
NyBAQCBzdGF0aWMgaW5saW5lIGludCB2aG9zdF9nZXRfdXNlZF9pZHgoc3RydWN0IHZob3N0X3Zp
cnRxdWV1ZSAqdnEsCj4gPj4gIAlzdHJ1Y3QgdnJpbmdfdXNlZCAqdXNlZDsKPiA+PiAgCj4gPj4g
IAlpZiAoIXZxLT5pb3RsYikgewo+ID4+IC0JCXJjdV9yZWFkX2xvY2soKTsKPiA+PiArCQl2aG9z
dF92cV9hY2Nlc3NfbWFwX2JlZ2luKHZxKTsKPiA+PiAgCj4gPj4gLQkJbWFwID0gcmN1X2RlcmVm
ZXJlbmNlKHZxLT5tYXBzW1ZIT1NUX0FERFJfVVNFRF0pOwo+ID4+ICsJCW1hcCA9IHZxLT5tYXBz
W1ZIT1NUX0FERFJfVVNFRF07Cj4gPj4gIAkJaWYgKGxpa2VseShtYXApKSB7Cj4gPj4gIAkJCXVz
ZWQgPSBtYXAtPmFkZHI7Cj4gPj4gIAkJCSppZHggPSB1c2VkLT5pZHg7Cj4gPj4gLQkJCXJjdV9y
ZWFkX3VubG9jaygpOwo+ID4+ICsJCQl2aG9zdF92cV9hY2Nlc3NfbWFwX2VuZCh2cSk7Cj4gPj4g
IAkJCXJldHVybiAwOwo+ID4+ICAJCX0KPiA+PiAgCj4gPj4gLQkJcmN1X3JlYWRfdW5sb2NrKCk7
Cj4gPj4gKwkJdmhvc3RfdnFfYWNjZXNzX21hcF9lbmQodnEpOwo+ID4+ICAJfQo+ID4+ICAjZW5k
aWYKPiA+PiAgCj4gPj4gQEAgLTE0ODYsMTcgKzE1MjMsMTcgQEAgc3RhdGljIGlubGluZSBpbnQg
dmhvc3RfZ2V0X2Rlc2Moc3RydWN0IHZob3N0X3ZpcnRxdWV1ZSAqdnEsCj4gPj4gIAlzdHJ1Y3Qg
dnJpbmdfZGVzYyAqZDsKPiA+PiAgCj4gPj4gIAlpZiAoIXZxLT5pb3RsYikgewo+ID4+IC0JCXJj
dV9yZWFkX2xvY2soKTsKPiA+PiArCQl2aG9zdF92cV9hY2Nlc3NfbWFwX2JlZ2luKHZxKTsKPiA+
PiAgCj4gPj4gLQkJbWFwID0gcmN1X2RlcmVmZXJlbmNlKHZxLT5tYXBzW1ZIT1NUX0FERFJfREVT
Q10pOwo+ID4+ICsJCW1hcCA9IHZxLT5tYXBzW1ZIT1NUX0FERFJfREVTQ107Cj4gPj4gIAkJaWYg
KGxpa2VseShtYXApKSB7Cj4gPj4gIAkJCWQgPSBtYXAtPmFkZHI7Cj4gPj4gIAkJCSpkZXNjID0g
KihkICsgaWR4KTsKPiA+PiAtCQkJcmN1X3JlYWRfdW5sb2NrKCk7Cj4gPj4gKwkJCXZob3N0X3Zx
X2FjY2Vzc19tYXBfZW5kKHZxKTsKPiA+PiAgCQkJcmV0dXJuIDA7Cj4gPj4gIAkJfQo+ID4+ICAK
PiA+PiAtCQlyY3VfcmVhZF91bmxvY2soKTsKPiA+PiArCQl2aG9zdF92cV9hY2Nlc3NfbWFwX2Vu
ZCh2cSk7Cj4gPj4gIAl9Cj4gPj4gICNlbmRpZgo+ID4+ICAKPiA+PiBAQCAtMTg0MywxMyArMTg4
MCwxMSBAQCBzdGF0aWMgYm9vbCBpb3RsYl9hY2Nlc3Nfb2soc3RydWN0IHZob3N0X3ZpcnRxdWV1
ZSAqdnEsCj4gPj4gICNpZiBWSE9TVF9BUkNIX0NBTl9BQ0NFTF9VQUNDRVNTCj4gPj4gIHN0YXRp
YyB2b2lkIHZob3N0X3ZxX21hcF9wcmVmZXRjaChzdHJ1Y3Qgdmhvc3RfdmlydHF1ZXVlICp2cSkK
PiA+PiAgewo+ID4+IC0Jc3RydWN0IHZob3N0X21hcCBfX3JjdSAqbWFwOwo+ID4+ICsJc3RydWN0
IHZob3N0X21hcCAqbWFwOwo+ID4+ICAJaW50IGk7Cj4gPj4gIAo+ID4+ICAJZm9yIChpID0gMDsg
aSA8IFZIT1NUX05VTV9BRERSUzsgaSsrKSB7Cj4gPj4gLQkJcmN1X3JlYWRfbG9jaygpOwo+ID4+
IC0JCW1hcCA9IHJjdV9kZXJlZmVyZW5jZSh2cS0+bWFwc1tpXSk7Cj4gPj4gLQkJcmN1X3JlYWRf
dW5sb2NrKCk7Cj4gPj4gKwkJbWFwID0gdnEtPm1hcHNbaV07Cj4gPj4gIAkJaWYgKHVubGlrZWx5
KCFtYXApKQo+ID4+ICAJCQl2aG9zdF9tYXBfcHJlZmV0Y2godnEsIGkpOwo+ID4+ICAJfQo+ID4+
IGRpZmYgLS1naXQgYS9kcml2ZXJzL3Zob3N0L3Zob3N0LmggYi9kcml2ZXJzL3Zob3N0L3Zob3N0
LmgKPiA+PiBpbmRleCBhOWEyYTkzODU3ZDIuLmY5ZTk1NThhNTI5ZCAxMDA2NDQKPiA+PiAtLS0g
YS9kcml2ZXJzL3Zob3N0L3Zob3N0LmgKPiA+PiArKysgYi9kcml2ZXJzL3Zob3N0L3Zob3N0LmgK
PiA+PiBAQCAtMTE1LDE2ICsxMTUsMTcgQEAgc3RydWN0IHZob3N0X3ZpcnRxdWV1ZSB7Cj4gPj4g
ICNpZiBWSE9TVF9BUkNIX0NBTl9BQ0NFTF9VQUNDRVNTCj4gPj4gIAkvKiBSZWFkIGJ5IG1lbW9y
eSBhY2Nlc3NvcnMsIG1vZGlmaWVkIGJ5IG1ldGEgZGF0YQo+ID4+ICAJICogcHJlZmV0Y2hpbmcs
IE1NVSBub3RpZmllciBhbmQgdnJpbmcgaW9jdGwoKS4KPiA+PiAtCSAqIFN5bmNob25yaXplZCB0
aHJvdWdoIG1tdV9sb2NrICh3cml0ZXJzKSBhbmQgUkNVICh3cml0ZXJzCj4gPj4gLQkgKiBhbmQg
cmVhZGVycykuCj4gPj4gKwkgKiBTeW5jaG9ucml6ZWQgdGhyb3VnaCBtbXVfbG9jayAod3JpdGVy
cykgYW5kIHJlZiBjb3VudGVycywKPiA+PiArCSAqIHNlZSB2aG9zdF92cV9hY2Nlc3NfbWFwX2Jl
Z2luKCkvdmhvc3RfdnFfYWNjZXNzX21hcF9lbmQoKS4KPiA+PiAgCSAqLwo+ID4+IC0Jc3RydWN0
IHZob3N0X21hcCBfX3JjdSAqbWFwc1tWSE9TVF9OVU1fQUREUlNdOwo+ID4+ICsJc3RydWN0IHZo
b3N0X21hcCAqbWFwc1tWSE9TVF9OVU1fQUREUlNdOwo+ID4+ICAJLyogUmVhZCBieSBNTVUgbm90
aWZpZXIsIG1vZGlmaWVkIGJ5IHZyaW5nIGlvY3RsKCksCj4gPj4gIAkgKiBzeW5jaHJvbml6ZWQg
dGhyb3VnaCBNTVUgbm90aWZpZXIKPiA+PiAgCSAqIHJlZ2lzdGVyaW5nL3VucmVnaXN0ZXJpbmcu
Cj4gPj4gIAkgKi8KPiA+PiAgCXN0cnVjdCB2aG9zdF91YWRkciB1YWRkcnNbVkhPU1RfTlVNX0FE
RFJTXTsKPiA+PiAgI2VuZGlmCj4gPj4gKwlpbnQgcmVmOwo+ID4KPiA+IElzIGl0IGltcG9ydGFu
dCB0aGF0IHRoaXMgaXMgc2lnbmVkPyBJZiBub3QgSSdkIGRvIHVuc2lnbmVkIGhlcmU6Cj4gPiBl
dmVuIHRob3VnaCBrZXJuZWwgZG9lcyBjb21waWxlIHdpdGggMnMgY29tcGxlbWVudCBzaWduIG92
ZXJmbG93LAo+ID4gaXQgc2VlbXMgY2xlYW5lciBub3QgdG8gZGVwZW5kIG9uIHRoYXQuCj4gCj4g
Tm90IGEgbXVzdCwgbGV0IG1lIGZpeC4KPiAKPiBUaGFua3MKPiAKPiA+Cj4gPj4gIAljb25zdCBz
dHJ1Y3Qgdmhvc3RfdW1lbV9ub2RlICptZXRhX2lvdGxiW1ZIT1NUX05VTV9BRERSU107Cj4gPj4g
IAo+ID4+ICAJc3RydWN0IGZpbGUgKmtpY2s7Cj4gPj4gLS0gCj4gPj4gMi4xOC4xCl9fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClZpcnR1YWxpemF0aW9uIG1h
aWxpbmcgbGlzdApWaXJ0dWFsaXphdGlvbkBsaXN0cy5saW51eC1mb3VuZGF0aW9uLm9yZwpodHRw
czovL2xpc3RzLmxpbnV4Zm91bmRhdGlvbi5vcmcvbWFpbG1hbi9saXN0aW5mby92aXJ0dWFsaXph
dGlvbg==
