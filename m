Return-Path: <virtualization-bounces@lists.linux-foundation.org>
X-Original-To: lists.virtualization@lfdr.de
Delivered-To: lists.virtualization@lfdr.de
Received: from smtp4.osuosl.org (smtp4.osuosl.org [IPv6:2605:bc80:3010::137])
	by mail.lfdr.de (Postfix) with ESMTPS id 8BAE543B2F4
	for <lists.virtualization@lfdr.de>; Tue, 26 Oct 2021 15:10:08 +0200 (CEST)
Received: from localhost (localhost [127.0.0.1])
	by smtp4.osuosl.org (Postfix) with ESMTP id 288D7401CC;
	Tue, 26 Oct 2021 13:10:07 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp4.osuosl.org ([127.0.0.1])
	by localhost (smtp4.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id MGL0-05DOJDU; Tue, 26 Oct 2021 13:10:04 +0000 (UTC)
Received: from lists.linuxfoundation.org (lf-lists.osuosl.org [IPv6:2605:bc80:3010:104::8cd3:938])
	by smtp4.osuosl.org (Postfix) with ESMTPS id 3AD26401B6;
	Tue, 26 Oct 2021 13:10:04 +0000 (UTC)
Received: from lf-lists.osuosl.org (localhost [127.0.0.1])
	by lists.linuxfoundation.org (Postfix) with ESMTP id D8528C0021;
	Tue, 26 Oct 2021 13:10:03 +0000 (UTC)
X-Original-To: virtualization@lists.linux-foundation.org
Delivered-To: virtualization@lists.linuxfoundation.org
Received: from smtp1.osuosl.org (smtp1.osuosl.org [140.211.166.138])
 by lists.linuxfoundation.org (Postfix) with ESMTP id 01A41C000E
 for <virtualization@lists.linux-foundation.org>;
 Tue, 26 Oct 2021 13:10:03 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by smtp1.osuosl.org (Postfix) with ESMTP id E469E80DAF
 for <virtualization@lists.linux-foundation.org>;
 Tue, 26 Oct 2021 13:10:02 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
Authentication-Results: smtp1.osuosl.org (amavisd-new);
 dkim=pass (1024-bit key) header.d=redhat.com
Received: from smtp1.osuosl.org ([127.0.0.1])
 by localhost (smtp1.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id g14MNIx_-pjJ
 for <virtualization@lists.linux-foundation.org>;
 Tue, 26 Oct 2021 13:10:01 +0000 (UTC)
X-Greylist: domain auto-whitelisted by SQLgrey-1.8.0
Received: from us-smtp-delivery-124.mimecast.com
 (us-smtp-delivery-124.mimecast.com [170.10.133.124])
 by smtp1.osuosl.org (Postfix) with ESMTPS id E419580A7B
 for <virtualization@lists.linux-foundation.org>;
 Tue, 26 Oct 2021 13:10:00 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=redhat.com;
 s=mimecast20190719; t=1635253799;
 h=from:from:reply-to:subject:subject:date:date:message-id:message-id:
 to:to:cc:cc:mime-version:mime-version:content-type:content-type:
 content-transfer-encoding:content-transfer-encoding:
 in-reply-to:in-reply-to:references:references;
 bh=+T1jaOaI5BChreD/xv26cx5yavKeXy0N+IRJc86+8zA=;
 b=ZQ6rav5XDvV7+zXWp+Zulr4AgIzB76O7At9yzrbX6rFEudNbgFhaOI+0vqH+yMaXgwUxsP
 RGj8QEoe1NrrI+i094MH2x1VegzKBWFFF/MJBV0jz20DKfBQCyKILVnJLW4fRx8OIwHC/Q
 VRPml2D4GEk4ZiMtrU3Gt7/vdQ0snKw=
Received: from mail-ed1-f70.google.com (mail-ed1-f70.google.com
 [209.85.208.70]) (Using TLS) by relay.mimecast.com with ESMTP id
 us-mta-136-k4IlMx1cN4mxxI-tG_a31Q-1; Tue, 26 Oct 2021 09:09:58 -0400
X-MC-Unique: k4IlMx1cN4mxxI-tG_a31Q-1
Received: by mail-ed1-f70.google.com with SMTP id
 w7-20020a056402268700b003dd46823a18so7116157edd.18
 for <virtualization@lists.linux-foundation.org>;
 Tue, 26 Oct 2021 06:09:58 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20210112;
 h=x-gm-message-state:date:from:to:cc:subject:message-id:references
 :mime-version:content-disposition:content-transfer-encoding
 :in-reply-to;
 bh=+T1jaOaI5BChreD/xv26cx5yavKeXy0N+IRJc86+8zA=;
 b=mwB0Ba28hsQpWca6Gz3m+hm6CvNcCQWZMIImLLP1+CHzmmNZl4bPyQJbPDf78OeV8y
 OC1232De09tYX4UZznFI2lnYPhuNQwQEsQv+2Z38+WqA6qdJxNF3aPy4FJ3Q61xwouSH
 71dTiq8o7CAtPWVulUnX4CDGOmIj7OOw9aAoP1L98kPZbqbLFLATFmaaE5060RBunYY2
 ZTFQd0V0lX6dNTA1E0w99EJkYj86niPCplIAg1k+mSaKXloA+zA/oaBpNT+rKx/DLvXW
 N7xnG9kLqqHABEZqpccoMUkk7L4o+Mvjp2BQXJBe5+NcLkleVdkEU3dQX5Z7CrMq3/Rj
 l9Cw==
X-Gm-Message-State: AOAM531ZR1U+Rg1CeHpeFhNh6MskzH5apJx+dkNjid20RWN1zhOlFmOc
 gjRBAgd44sf6ygcppb9Ij4v8IeJjSp8yGZxmZjTBjYrlbOi61O+OjONy76DtWiyi/0ogYLDhYQk
 MopDgLofXN5zcBPaBJvVgM4qvlmn1GMc71JXWK0jkQg==
X-Received: by 2002:a50:e089:: with SMTP id f9mr35469309edl.290.1635253797312; 
 Tue, 26 Oct 2021 06:09:57 -0700 (PDT)
X-Google-Smtp-Source: ABdhPJzS16VF15bYjw6cvyx4L7QAFjS9aeDgYBqxdayK9ps2NSM0wqv1vAECb1yP1LoL59OvZWcF4g==
X-Received: by 2002:a50:e089:: with SMTP id f9mr35469275edl.290.1635253797038; 
 Tue, 26 Oct 2021 06:09:57 -0700 (PDT)
Received: from redhat.com ([2.55.34.39])
 by smtp.gmail.com with ESMTPSA id y22sm11958781edc.76.2021.10.26.06.09.54
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Tue, 26 Oct 2021 06:09:56 -0700 (PDT)
Date: Tue, 26 Oct 2021 09:09:52 -0400
From: "Michael S. Tsirkin" <mst@redhat.com>
To: Jason Wang <jasowang@redhat.com>
Subject: Re: [PATCH V3 11/11] vhost: allow userspace to create workers
Message-ID: <20211026090923-mutt-send-email-mst@kernel.org>
References: <20211022051911.108383-1-michael.christie@oracle.com>
 <20211022051911.108383-13-michael.christie@oracle.com>
 <8aee8f07-76bd-f111-bc5f-fc5cad46ce56@redhat.com>
MIME-Version: 1.0
In-Reply-To: <8aee8f07-76bd-f111-bc5f-fc5cad46ce56@redhat.com>
Authentication-Results: relay.mimecast.com;
 auth=pass smtp.auth=CUSA124A263 smtp.mailfrom=mst@redhat.com
X-Mimecast-Spam-Score: 0
X-Mimecast-Originator: redhat.com
Content-Disposition: inline
Cc: linux-scsi@vger.kernel.org, virtualization@lists.linux-foundation.org,
 target-devel@vger.kernel.org, stefanha@redhat.com, pbonzini@redhat.com
X-BeenThere: virtualization@lists.linux-foundation.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: Linux virtualization <virtualization.lists.linux-foundation.org>
List-Unsubscribe: <https://lists.linuxfoundation.org/mailman/options/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=unsubscribe>
List-Archive: <http://lists.linuxfoundation.org/pipermail/virtualization/>
List-Post: <mailto:virtualization@lists.linux-foundation.org>
List-Help: <mailto:virtualization-request@lists.linux-foundation.org?subject=help>
List-Subscribe: <https://lists.linuxfoundation.org/mailman/listinfo/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: virtualization-bounces@lists.linux-foundation.org
Sender: "Virtualization" <virtualization-bounces@lists.linux-foundation.org>

T24gVHVlLCBPY3QgMjYsIDIwMjEgYXQgMDE6Mzc6MTRQTSArMDgwMCwgSmFzb24gV2FuZyB3cm90
ZToKPiAKPiDlnKggMjAyMS8xMC8yMiDkuIvljYgxOjE5LCBNaWtlIENocmlzdGllIOWGmemBkzoK
PiA+IFRoaXMgcGF0Y2ggYWxsb3dzIHVzZXJzcGFjZSB0byBjcmVhdGUgd29ya2VycyBhbmQgYmlu
ZCB0aGVtIHRvIHZxcy4gWW91Cj4gPiBjYW4gaGF2ZSBOIHdvcmtlcnMgcGVyIGRldiBhbmQgYWxz
byBzaGFyZSBOIHdvcmtlcnMgd2l0aCBNIHZxcy4KPiA+IAo+ID4gU2lnbmVkLW9mZi1ieTogTWlr
ZSBDaHJpc3RpZSA8bWljaGFlbC5jaHJpc3RpZUBvcmFjbGUuY29tPgo+IAo+IAo+IEEgcXVlc3Rp
b24sIHdobyBpcyB0aGUgYmVzdCBvbmUgdG8gZGV0ZXJtaW5lIHRoZSBiaW5kaW5nPyBJcyBpdCB0
aGUgVk1NCj4gKFFlbXUgZXRjKSBvciB0aGUgbWFuYWdlbWVudCBzdGFjaz8gSWYgdGhlIGxhdHRl
ciwgaXQgbG9va3MgdG8gbWUgaXQncwo+IGJldHRlciB0byBleHBvc2UgdGhpcyB2aWEgc3lzZnM/
CgpJIHRoaW5rIGl0J3MgYSBiaXQgbXVjaCB0byBleHBlY3QgdGhpcyBmcm9tIG1hbmFnZW1lbnQu
Cgo+IAo+ID4gLS0tCj4gPiAgIGRyaXZlcnMvdmhvc3Qvdmhvc3QuYyAgICAgICAgICAgIHwgOTkg
KysrKysrKysrKysrKysrKysrKysrKysrKysrKy0tLS0KPiA+ICAgZHJpdmVycy92aG9zdC92aG9z
dC5oICAgICAgICAgICAgfCAgMiArLQo+ID4gICBpbmNsdWRlL3VhcGkvbGludXgvdmhvc3QuaCAg
ICAgICB8IDExICsrKysKPiA+ICAgaW5jbHVkZS91YXBpL2xpbnV4L3Zob3N0X3R5cGVzLmggfCAx
MiArKysrCj4gPiAgIDQgZmlsZXMgY2hhbmdlZCwgMTEyIGluc2VydGlvbnMoKyksIDEyIGRlbGV0
aW9ucygtKQo+ID4gCj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy92aG9zdC92aG9zdC5jIGIvZHJp
dmVycy92aG9zdC92aG9zdC5jCj4gPiBpbmRleCAwNGY0M2E2NDQ1ZTEuLmM4NmU4OGQ3ZjM1YyAx
MDA2NDQKPiA+IC0tLSBhL2RyaXZlcnMvdmhvc3Qvdmhvc3QuYwo+ID4gKysrIGIvZHJpdmVycy92
aG9zdC92aG9zdC5jCj4gPiBAQCAtNDkzLDcgKzQ5Myw2IEBAIHZvaWQgdmhvc3RfZGV2X2luaXQo
c3RydWN0IHZob3N0X2RldiAqZGV2LAo+ID4gICAJZGV2LT51bWVtID0gTlVMTDsKPiA+ICAgCWRl
di0+aW90bGIgPSBOVUxMOwo+ID4gICAJZGV2LT5tbSA9IE5VTEw7Cj4gPiAtCWRldi0+d29ya2Vy
ID0gTlVMTDsKPiA+ICAgCWRldi0+aW92X2xpbWl0ID0gaW92X2xpbWl0Owo+ID4gICAJZGV2LT53
ZWlnaHQgPSB3ZWlnaHQ7Cj4gPiAgIAlkZXYtPmJ5dGVfd2VpZ2h0ID0gYnl0ZV93ZWlnaHQ7Cj4g
PiBAQCAtNTc2LDIwICs1NzUsNDAgQEAgc3RhdGljIHZvaWQgdmhvc3Rfd29ya2VyX3N0b3Aoc3Ry
dWN0IHZob3N0X3dvcmtlciAqd29ya2VyKQo+ID4gICAJd2FpdF9mb3JfY29tcGxldGlvbih3b3Jr
ZXItPmV4aXRfZG9uZSk7Cj4gPiAgIH0KPiA+IC1zdGF0aWMgdm9pZCB2aG9zdF93b3JrZXJfZnJl
ZShzdHJ1Y3Qgdmhvc3RfZGV2ICpkZXYpCj4gPiAtewo+ID4gLQlzdHJ1Y3Qgdmhvc3Rfd29ya2Vy
ICp3b3JrZXIgPSBkZXYtPndvcmtlcjsKPiA+ICtzdGF0aWMgdm9pZCB2aG9zdF93b3JrZXJfcHV0
KHN0cnVjdCB2aG9zdF93b3JrZXIgKndvcmtlcikKPiA+ICt7Cj4gPiAgIAlpZiAoIXdvcmtlcikK
PiA+ICAgCQlyZXR1cm47Cj4gPiAtCWRldi0+d29ya2VyID0gTlVMTDsKPiA+ICsJaWYgKCFyZWZj
b3VudF9kZWNfYW5kX3Rlc3QoJndvcmtlci0+cmVmY291bnQpKQo+ID4gKwkJcmV0dXJuOwo+ID4g
Kwo+ID4gICAJV0FSTl9PTighbGxpc3RfZW1wdHkoJndvcmtlci0+d29ya19saXN0KSk7Cj4gPiAg
IAl2aG9zdF93b3JrZXJfc3RvcCh3b3JrZXIpOwo+ID4gICAJa2ZyZWUod29ya2VyKTsKPiA+ICAg
fQo+ID4gLXN0YXRpYyBzdHJ1Y3Qgdmhvc3Rfd29ya2VyICp2aG9zdF93b3JrZXJfY3JlYXRlKHN0
cnVjdCB2aG9zdF9kZXYgKmRldikKPiA+ICtzdGF0aWMgdm9pZCB2aG9zdF92cV9jbGVhcl93b3Jr
ZXIoc3RydWN0IHZob3N0X3ZpcnRxdWV1ZSAqdnEpCj4gPiArewo+ID4gKwlpZiAodnEtPndvcmtl
cikKPiA+ICsJCXZob3N0X3dvcmtlcl9wdXQodnEtPndvcmtlcik7Cj4gPiArCXZxLT53b3JrZXIg
PSBOVUxMOwo+ID4gK30KPiA+ICsKPiA+ICtzdGF0aWMgdm9pZCB2aG9zdF93b3JrZXJzX2ZyZWUo
c3RydWN0IHZob3N0X2RldiAqZGV2KQo+ID4gK3sKPiA+ICsJaW50IGk7Cj4gPiArCj4gPiArCWlm
ICghZGV2LT51c2Vfd29ya2VyKQo+ID4gKwkJcmV0dXJuOwo+ID4gKwo+ID4gKwlmb3IgKGkgPSAw
OyBpIDwgZGV2LT5udnFzOyBpKyspCj4gPiArCQl2aG9zdF92cV9jbGVhcl93b3JrZXIoZGV2LT52
cXNbaV0pOwo+ID4gK30KPiA+ICsKPiA+ICtzdGF0aWMgc3RydWN0IHZob3N0X3dvcmtlciAqdmhv
c3Rfd29ya2VyX2NyZWF0ZShzdHJ1Y3Qgdmhvc3RfZGV2ICpkZXYsCj4gPiArCQkJCQkJaW50IGlu
aXRfdnFfbWFwX2NvdW50KQo+ID4gICB7Cj4gPiAgIAlzdHJ1Y3Qgdmhvc3Rfd29ya2VyICp3b3Jr
ZXI7Cj4gPiAgIAlzdHJ1Y3QgdGFza19zdHJ1Y3QgKnRhc2s7Cj4gPiBAQCAtNTk4LDkgKzYxNyw5
IEBAIHN0YXRpYyBzdHJ1Y3Qgdmhvc3Rfd29ya2VyICp2aG9zdF93b3JrZXJfY3JlYXRlKHN0cnVj
dCB2aG9zdF9kZXYgKmRldikKPiA+ICAgCWlmICghd29ya2VyKQo+ID4gICAJCXJldHVybiBOVUxM
Owo+ID4gLQlkZXYtPndvcmtlciA9IHdvcmtlcjsKPiA+ICAgCXdvcmtlci0+a2Nvdl9oYW5kbGUg
PSBrY292X2NvbW1vbl9oYW5kbGUoKTsKPiA+ICAgCWluaXRfbGxpc3RfaGVhZCgmd29ya2VyLT53
b3JrX2xpc3QpOwo+ID4gKwlyZWZjb3VudF9zZXQoJndvcmtlci0+cmVmY291bnQsIGluaXRfdnFf
bWFwX2NvdW50KTsKPiA+ICAgCS8qCj4gPiAgIAkgKiB2aG9zdCB1c2VkIHRvIHVzZSB0aGUga3Ro
cmVhZCBBUEkgd2hpY2ggaWdub3JlcyBhbGwgc2lnbmFscyBieQo+ID4gQEAgLTYxNywxMCArNjM2
LDU4IEBAIHN0YXRpYyBzdHJ1Y3Qgdmhvc3Rfd29ya2VyICp2aG9zdF93b3JrZXJfY3JlYXRlKHN0
cnVjdCB2aG9zdF9kZXYgKmRldikKPiA+ICAgZnJlZV93b3JrZXI6Cj4gPiAgIAlrZnJlZSh3b3Jr
ZXIpOwo+ID4gLQlkZXYtPndvcmtlciA9IE5VTEw7Cj4gPiAgIAlyZXR1cm4gTlVMTDsKPiA+ICAg
fQo+ID4gK3N0YXRpYyBzdHJ1Y3Qgdmhvc3Rfd29ya2VyICp2aG9zdF93b3JrZXJfZmluZChzdHJ1
Y3Qgdmhvc3RfZGV2ICpkZXYsIHBpZF90IHBpZCkKPiA+ICt7Cj4gPiArCXN0cnVjdCB2aG9zdF93
b3JrZXIgKndvcmtlciA9IE5VTEw7Cj4gPiArCWludCBpOwo+ID4gKwo+ID4gKwlmb3IgKGkgPSAw
OyBpIDwgZGV2LT5udnFzOyBpKyspIHsKPiA+ICsJCWlmIChkZXYtPnZxc1tpXS0+d29ya2VyLT50
YXNrLT5waWQgIT0gcGlkKQo+ID4gKwkJCWNvbnRpbnVlOwo+ID4gKwo+ID4gKwkJd29ya2VyID0g
ZGV2LT52cXNbaV0tPndvcmtlcjsKPiA+ICsJCWJyZWFrOwo+ID4gKwl9Cj4gPiArCj4gPiArCXJl
dHVybiB3b3JrZXI7Cj4gPiArfQo+ID4gKwo+ID4gKy8qIENhbGxlciBtdXN0IGhhdmUgZGV2aWNl
IG11dGV4ICovCj4gPiArc3RhdGljIGludCB2aG9zdF92cV9zZXR1cF93b3JrZXIoc3RydWN0IHZo
b3N0X3ZpcnRxdWV1ZSAqdnEsCj4gPiArCQkJCSBzdHJ1Y3Qgdmhvc3RfdnJpbmdfd29ya2VyICpp
bmZvKQo+ID4gK3sKPiA+ICsJc3RydWN0IHZob3N0X2RldiAqZGV2ID0gdnEtPmRldjsKPiA+ICsJ
c3RydWN0IHZob3N0X3dvcmtlciAqd29ya2VyOwo+ID4gKwo+ID4gKwlpZiAoIWRldi0+dXNlX3dv
cmtlcikKPiA+ICsJCXJldHVybiAtRUlOVkFMOwo+ID4gKwo+ID4gKwkvKiBXZSBkb24ndCBzdXBw
b3J0IHNldHRpbmcgYSB3b3JrZXIgb24gYW4gYWN0aXZlIHZxICovCj4gPiArCWlmICh2cS0+cHJp
dmF0ZV9kYXRhKQo+ID4gKwkJcmV0dXJuIC1FQlVTWTsKPiAKPiAKPiBJcyBpdCB2YWx1YWJsZSB0
byBhbGxvdyB0aGUgd29ya2VyIHN3aXRjaGluZyBvbiBhY3RpdmUgdnE/Cj4gCj4gCj4gPiArCj4g
PiArCWlmIChpbmZvLT5waWQgPT0gVkhPU1RfVlJJTkdfTkVXX1dPUktFUikgewo+ID4gKwkJd29y
a2VyID0gdmhvc3Rfd29ya2VyX2NyZWF0ZShkZXYsIDEpOwo+ID4gKwkJaWYgKCF3b3JrZXIpCj4g
PiArCQkJcmV0dXJuIC1FTk9NRU07Cj4gPiArCj4gPiArCQlpbmZvLT5waWQgPSB3b3JrZXItPnRh
c2stPnBpZDsKPiA+ICsJfSBlbHNlIHsKPiA+ICsJCXdvcmtlciA9IHZob3N0X3dvcmtlcl9maW5k
KGRldiwgaW5mby0+cGlkKTsKPiA+ICsJCWlmICghd29ya2VyKQo+ID4gKwkJCXJldHVybiAtRU5P
REVWOwo+ID4gKwo+ID4gKwkJcmVmY291bnRfaW5jKCZ3b3JrZXItPnJlZmNvdW50KTsKPiA+ICsJ
fQo+ID4gKwo+ID4gKwl2aG9zdF92cV9jbGVhcl93b3JrZXIodnEpOwo+ID4gKwl2cS0+d29ya2Vy
ID0gd29ya2VyOwo+ID4gKwlyZXR1cm4gMDsKPiA+ICt9Cj4gPiArCj4gPiAgIC8qIENhbGxlciBz
aG91bGQgaGF2ZSBkZXZpY2UgbXV0ZXggKi8KPiA+ICAgbG9uZyB2aG9zdF9kZXZfc2V0X293bmVy
KHN0cnVjdCB2aG9zdF9kZXYgKmRldikKPiA+ICAgewo+ID4gQEAgLTYzNiw3ICs3MDMsNyBAQCBs
b25nIHZob3N0X2Rldl9zZXRfb3duZXIoc3RydWN0IHZob3N0X2RldiAqZGV2KQo+ID4gICAJdmhv
c3RfYXR0YWNoX21tKGRldik7Cj4gPiAgIAlpZiAoZGV2LT51c2Vfd29ya2VyKSB7Cj4gPiAtCQl3
b3JrZXIgPSB2aG9zdF93b3JrZXJfY3JlYXRlKGRldik7Cj4gPiArCQl3b3JrZXIgPSB2aG9zdF93
b3JrZXJfY3JlYXRlKGRldiwgZGV2LT5udnFzKTsKPiA+ICAgCQlpZiAoIXdvcmtlcikKPiA+ICAg
CQkJZ290byBlcnJfd29ya2VyOwo+ID4gQEAgLTY1MCw3ICs3MTcsNyBAQCBsb25nIHZob3N0X2Rl
dl9zZXRfb3duZXIoc3RydWN0IHZob3N0X2RldiAqZGV2KQo+ID4gICAJcmV0dXJuIDA7Cj4gPiAg
IGVycl9pb3ZlY3M6Cj4gPiAtCXZob3N0X3dvcmtlcl9mcmVlKGRldik7Cj4gPiArCXZob3N0X3dv
cmtlcnNfZnJlZShkZXYpOwo+ID4gICBlcnJfd29ya2VyOgo+ID4gICAJdmhvc3RfZGV0YWNoX21t
KGRldik7Cj4gPiAgIGVycl9tbToKPiA+IEBAIC03NDIsNyArODA5LDcgQEAgdm9pZCB2aG9zdF9k
ZXZfY2xlYW51cChzdHJ1Y3Qgdmhvc3RfZGV2ICpkZXYpCj4gPiAgIAlkZXYtPmlvdGxiID0gTlVM
TDsKPiA+ICAgCXZob3N0X2NsZWFyX21zZyhkZXYpOwo+ID4gICAJd2FrZV91cF9pbnRlcnJ1cHRp
YmxlX3BvbGwoJmRldi0+d2FpdCwgRVBPTExJTiB8IEVQT0xMUkROT1JNKTsKPiA+IC0Jdmhvc3Rf
d29ya2VyX2ZyZWUoZGV2KTsKPiA+ICsJdmhvc3Rfd29ya2Vyc19mcmVlKGRldik7Cj4gPiAgIAl2
aG9zdF9kZXRhY2hfbW0oZGV2KTsKPiA+ICAgfQo+ID4gICBFWFBPUlRfU1lNQk9MX0dQTCh2aG9z
dF9kZXZfY2xlYW51cCk7Cj4gPiBAQCAtMTYxMiw2ICsxNjc5LDcgQEAgbG9uZyB2aG9zdF92cmlu
Z19pb2N0bChzdHJ1Y3Qgdmhvc3RfZGV2ICpkLCB1bnNpZ25lZCBpbnQgaW9jdGwsIHZvaWQgX191
c2VyICphcmcKPiA+ICAgCXN0cnVjdCBldmVudGZkX2N0eCAqY3R4ID0gTlVMTDsKPiA+ICAgCXUz
MiBfX3VzZXIgKmlkeHAgPSBhcmdwOwo+ID4gICAJc3RydWN0IHZob3N0X3ZpcnRxdWV1ZSAqdnE7
Cj4gPiArCXN0cnVjdCB2aG9zdF92cmluZ193b3JrZXIgdzsKPiA+ICAgCXN0cnVjdCB2aG9zdF92
cmluZ19zdGF0ZSBzOwo+ID4gICAJc3RydWN0IHZob3N0X3ZyaW5nX2ZpbGUgZjsKPiA+ICAgCXUz
MiBpZHg7Cj4gPiBAQCAtMTcxOSw2ICsxNzg3LDE1IEBAIGxvbmcgdmhvc3RfdnJpbmdfaW9jdGwo
c3RydWN0IHZob3N0X2RldiAqZCwgdW5zaWduZWQgaW50IGlvY3RsLCB2b2lkIF9fdXNlciAqYXJn
Cj4gPiAgIAkJaWYgKGNvcHlfdG9fdXNlcihhcmdwLCAmcywgc2l6ZW9mKHMpKSkKPiA+ICAgCQkJ
ciA9IC1FRkFVTFQ7Cj4gPiAgIAkJYnJlYWs7Cj4gPiArCWNhc2UgVkhPU1RfU0VUX1ZSSU5HX1dP
UktFUjoKPiA+ICsJCWlmIChjb3B5X2Zyb21fdXNlcigmdywgYXJncCwgc2l6ZW9mKHcpKSkgewo+
ID4gKwkJCXIgPSAtRUZBVUxUOwo+ID4gKwkJCWJyZWFrOwo+ID4gKwkJfQo+ID4gKwkJciA9IHZo
b3N0X3ZxX3NldHVwX3dvcmtlcih2cSwgJncpOwo+ID4gKwkJaWYgKCFyICYmIGNvcHlfdG9fdXNl
cihhcmdwLCAmdywgc2l6ZW9mKHcpKSkKPiA+ICsJCQlyID0gLUVGQVVMVDsKPiA+ICsJCWJyZWFr
Owo+ID4gICAJZGVmYXVsdDoKPiA+ICAgCQlyID0gLUVOT0lPQ1RMQ01EOwo+ID4gICAJfQo+ID4g
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvdmhvc3Qvdmhvc3QuaCBiL2RyaXZlcnMvdmhvc3Qvdmhvc3Qu
aAo+ID4gaW5kZXggMzNjNjNiMjQxODdhLi4wOTExZDFhOWJkM2IgMTAwNjQ0Cj4gPiAtLS0gYS9k
cml2ZXJzL3Zob3N0L3Zob3N0LmgKPiA+ICsrKyBiL2RyaXZlcnMvdmhvc3Qvdmhvc3QuaAo+ID4g
QEAgLTM1LDYgKzM1LDcgQEAgc3RydWN0IHZob3N0X3dvcmtlciB7Cj4gPiAgIAlzdHJ1Y3QgbGxp
c3RfaGVhZAl3b3JrX2xpc3Q7Cj4gPiAgIAl1NjQJCQlrY292X2hhbmRsZTsKPiA+ICAgCXVuc2ln
bmVkIGxvbmcJCWZsYWdzOwo+ID4gKwlyZWZjb3VudF90CQlyZWZjb3VudDsKPiA+ICAgfTsKPiA+
ICAgLyogUG9sbCBhIGZpbGUgKGV2ZW50ZmQgb3Igc29ja2V0KSAqLwo+ID4gQEAgLTE2MCw3ICsx
NjEsNiBAQCBzdHJ1Y3Qgdmhvc3RfZGV2IHsKPiA+ICAgCXN0cnVjdCB2aG9zdF92aXJ0cXVldWUg
Kip2cXM7Cj4gPiAgIAlpbnQgbnZxczsKPiA+ICAgCXN0cnVjdCBldmVudGZkX2N0eCAqbG9nX2N0
eDsKPiA+IC0Jc3RydWN0IHZob3N0X3dvcmtlciAqd29ya2VyOwo+ID4gICAJc3RydWN0IHZob3N0
X2lvdGxiICp1bWVtOwo+ID4gICAJc3RydWN0IHZob3N0X2lvdGxiICppb3RsYjsKPiA+ICAgCXNw
aW5sb2NrX3QgaW90bGJfbG9jazsKPiA+IGRpZmYgLS1naXQgYS9pbmNsdWRlL3VhcGkvbGludXgv
dmhvc3QuaCBiL2luY2x1ZGUvdWFwaS9saW51eC92aG9zdC5oCj4gPiBpbmRleCBjOTk4ODYwZDdi
YmMuLmU1YzA2Njk0MzBlNSAxMDA2NDQKPiA+IC0tLSBhL2luY2x1ZGUvdWFwaS9saW51eC92aG9z
dC5oCj4gPiArKysgYi9pbmNsdWRlL3VhcGkvbGludXgvdmhvc3QuaAo+ID4gQEAgLTcwLDYgKzcw
LDE3IEBACj4gPiAgICNkZWZpbmUgVkhPU1RfVlJJTkdfQklHX0VORElBTiAxCj4gPiAgICNkZWZp
bmUgVkhPU1RfU0VUX1ZSSU5HX0VORElBTiBfSU9XKFZIT1NUX1ZJUlRJTywgMHgxMywgc3RydWN0
IHZob3N0X3ZyaW5nX3N0YXRlKQo+ID4gICAjZGVmaW5lIFZIT1NUX0dFVF9WUklOR19FTkRJQU4g
X0lPVyhWSE9TVF9WSVJUSU8sIDB4MTQsIHN0cnVjdCB2aG9zdF92cmluZ19zdGF0ZSkKPiA+ICsv
KiBCeSBkZWZhdWx0LCBhIGRldmljZSBnZXRzIG9uZSB2aG9zdF93b3JrZXIgY3JlYXRlZCBkdXJp
bmcgVkhPU1RfU0VUX09XTkVSCj4gPiArICogdGhhdCBpdHMgdmlydHF1ZXVlcyBzaGFyZS4gVGhp
cyBhbGxvd3MgdXNlcnNwYWNlIHRvIGNyZWF0ZSBhIHZob3N0X3dvcmtlcgo+ID4gKyAqIGFuZCBt
YXAgYSB2aXJ0cXVldWUgdG8gaXQgb3IgbWFwIGEgdmlydHF1ZXVlIHRvIGFuIGV4aXN0aW5nIHdv
cmtlci4KPiA+ICsgKgo+ID4gKyAqIElmIHBpZCA+IDAgYW5kIGl0IG1hdGNoZXMgYW4gZXhpc3Rp
bmcgdmhvc3Rfd29ya2VyIHRocmVhZCBpdCB3aWxsIGJlIGJvdW5kCj4gPiArICogdG8gdGhlIHZx
LiBJZiBwaWQgaXMgVkhPU1RfVlJJTkdfTkVXX1dPUktFUiwgdGhlbiBhIG5ldyB3b3JrZXIgd2ls
bCBiZQo+ID4gKyAqIGNyZWF0ZWQgYW5kIGJvdW5kIHRvIHRoZSB2cS4KPiA+ICsgKgo+ID4gKyAq
IFRoaXMgbXVzdCBiZSBjYWxsZWQgYWZ0ZXIgVkhPU1RfU0VUX09XTkVSIGFuZCBiZWZvcmUgdGhl
IHZxIGlzIGFjdGl2ZS4KPiA+ICsgKi8KPiA+ICsjZGVmaW5lIFZIT1NUX1NFVF9WUklOR19XT1JL
RVIgX0lPV1IoVkhPU1RfVklSVElPLCAweDE1LCBzdHJ1Y3Qgdmhvc3RfdnJpbmdfd29ya2VyKQo+
ID4gICAvKiBUaGUgZm9sbG93aW5nIGlvY3RscyB1c2UgZXZlbnRmZCBmaWxlIGRlc2NyaXB0b3Jz
IHRvIHNpZ25hbCBhbmQgcG9sbAo+ID4gICAgKiBmb3IgZXZlbnRzLiAqLwo+ID4gZGlmZiAtLWdp
dCBhL2luY2x1ZGUvdWFwaS9saW51eC92aG9zdF90eXBlcy5oIGIvaW5jbHVkZS91YXBpL2xpbnV4
L3Zob3N0X3R5cGVzLmgKPiA+IGluZGV4IGY3ZjZhM2EyODk3Ny4uYWY2NTRlM2NlZjBlIDEwMDY0
NAo+ID4gLS0tIGEvaW5jbHVkZS91YXBpL2xpbnV4L3Zob3N0X3R5cGVzLmgKPiA+ICsrKyBiL2lu
Y2x1ZGUvdWFwaS9saW51eC92aG9zdF90eXBlcy5oCj4gPiBAQCAtNDcsNiArNDcsMTggQEAgc3Ry
dWN0IHZob3N0X3ZyaW5nX2FkZHIgewo+ID4gICAJX191NjQgbG9nX2d1ZXN0X2FkZHI7Cj4gPiAg
IH07Cj4gPiArI2RlZmluZSBWSE9TVF9WUklOR19ORVdfV09SS0VSIC0xCj4gCj4gCj4gRG8gd2Ug
bmVlZCBWSE9TVF9WUklOR19GUkVFX1dPUktFUj8gQW5kIEkgd29uZGVyIGlmIHVzaW5nIGRlZGlj
YXRlZCBpb2N0bHMKPiBhcmUgYmV0dGVyOgo+IAo+IFZIT1NUX1ZSSU5HX05FVy9GUkVFX1dPUktF
Ugo+IFZIT1NUX1ZSSU5HX0FUVEFDSF9XT1JLRVIKPiAKPiBldGMuCj4gCj4gVGhhbmtzCj4gCj4g
Cj4gPiArCj4gPiArc3RydWN0IHZob3N0X3ZyaW5nX3dvcmtlciB7Cj4gPiArCXVuc2lnbmVkIGlu
dCBpbmRleDsKPiA+ICsJLyoKPiA+ICsJICogVGhlIHBpZCBvZiB0aGUgdmhvc3Qgd29ya2VyIHRo
YXQgdGhlIHZxIHdpbGwgYmUgYm91bmQgdG8uIElmCj4gPiArCSAqIHBpZCBpcyBWSE9TVF9WUklO
R19ORVdfV09SS0VSIGEgbmV3IHdvcmtlciB3aWxsIGJlIGNyZWF0ZWQgYW5kIGl0cwo+ID4gKwkg
KiBwaWQgd2lsbCBiZSByZXR1cm5lZCBpbiBwaWQuCj4gPiArCSAqLwo+ID4gKwlfX2tlcm5lbF9w
aWRfdCBwaWQ7Cj4gPiArfTsKPiA+ICsKPiA+ICAgLyogbm8gYWxpZ25tZW50IHJlcXVpcmVtZW50
ICovCj4gPiAgIHN0cnVjdCB2aG9zdF9pb3RsYl9tc2cgewo+ID4gICAJX191NjQgaW92YTsKCl9f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClZpcnR1YWxpemF0
aW9uIG1haWxpbmcgbGlzdApWaXJ0dWFsaXphdGlvbkBsaXN0cy5saW51eC1mb3VuZGF0aW9uLm9y
ZwpodHRwczovL2xpc3RzLmxpbnV4Zm91bmRhdGlvbi5vcmcvbWFpbG1hbi9saXN0aW5mby92aXJ0
dWFsaXphdGlvbg==
