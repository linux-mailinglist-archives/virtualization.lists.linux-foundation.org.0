Return-Path: <virtualization-bounces@lists.linux-foundation.org>
X-Original-To: lists.virtualization@lfdr.de
Delivered-To: lists.virtualization@lfdr.de
Received: from smtp2.osuosl.org (smtp2.osuosl.org [IPv6:2605:bc80:3010::133])
	by mail.lfdr.de (Postfix) with ESMTPS id 299446C77F5
	for <lists.virtualization@lfdr.de>; Fri, 24 Mar 2023 07:33:02 +0100 (CET)
Received: from localhost (localhost [127.0.0.1])
	by smtp2.osuosl.org (Postfix) with ESMTP id A78F9408D0;
	Fri, 24 Mar 2023 06:33:00 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp2.osuosl.org A78F9408D0
Authentication-Results: smtp2.osuosl.org;
	dkim=fail reason="signature verification failed" (1024-bit key) header.d=redhat.com header.i=@redhat.com header.a=rsa-sha256 header.s=mimecast20190719 header.b=M90f06tf
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp2.osuosl.org ([127.0.0.1])
	by localhost (smtp2.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id o4Kl9idwOGzD; Fri, 24 Mar 2023 06:32:59 +0000 (UTC)
Received: from lists.linuxfoundation.org (lf-lists.osuosl.org [140.211.9.56])
	by smtp2.osuosl.org (Postfix) with ESMTPS id 29B8D40610;
	Fri, 24 Mar 2023 06:32:59 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp2.osuosl.org 29B8D40610
Received: from lf-lists.osuosl.org (localhost [127.0.0.1])
	by lists.linuxfoundation.org (Postfix) with ESMTP id 5F2CEC008A;
	Fri, 24 Mar 2023 06:32:58 +0000 (UTC)
X-Original-To: virtualization@lists.linux-foundation.org
Delivered-To: virtualization@lists.linuxfoundation.org
Received: from smtp3.osuosl.org (smtp3.osuosl.org [140.211.166.136])
 by lists.linuxfoundation.org (Postfix) with ESMTP id 0A060C0032
 for <virtualization@lists.linux-foundation.org>;
 Fri, 24 Mar 2023 06:32:57 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by smtp3.osuosl.org (Postfix) with ESMTP id D795960E63
 for <virtualization@lists.linux-foundation.org>;
 Fri, 24 Mar 2023 06:32:56 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp3.osuosl.org D795960E63
Authentication-Results: smtp3.osuosl.org;
 dkim=pass (1024-bit key) header.d=redhat.com header.i=@redhat.com
 header.a=rsa-sha256 header.s=mimecast20190719 header.b=M90f06tf
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp3.osuosl.org ([127.0.0.1])
 by localhost (smtp3.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id eR3LAETJgl5t
 for <virtualization@lists.linux-foundation.org>;
 Fri, 24 Mar 2023 06:32:55 +0000 (UTC)
X-Greylist: domain auto-whitelisted by SQLgrey-1.8.0
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp3.osuosl.org DA17E60E24
Received: from us-smtp-delivery-124.mimecast.com
 (us-smtp-delivery-124.mimecast.com [170.10.129.124])
 by smtp3.osuosl.org (Postfix) with ESMTPS id DA17E60E24
 for <virtualization@lists.linux-foundation.org>;
 Fri, 24 Mar 2023 06:32:54 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=redhat.com;
 s=mimecast20190719; t=1679639573;
 h=from:from:reply-to:subject:subject:date:date:message-id:message-id:
 to:to:cc:cc:mime-version:mime-version:content-type:content-type:
 content-transfer-encoding:content-transfer-encoding:
 in-reply-to:in-reply-to:references:references;
 bh=cpoTUd8gexKD/LUwfjlQ6Nm5sxxfq01/bpYgncpDATA=;
 b=M90f06tfWw9xkcjIbDElS685Hb3ZUCg92gRF1uoTbgD9QCe1TFLGzqz72Y4Ts7vpfq6D+k
 V7XlGEZk+m53ntq1YK91dTNGulsan31X3ZZyqANSR92tY/otTv90F41flTMnXdPgW7OnfC
 ikGyaqWMql+SC8OCO0KmA8jOkpyzdSs=
Received: from mail-oa1-f69.google.com (mail-oa1-f69.google.com
 [209.85.160.69]) by relay.mimecast.com with ESMTP with STARTTLS
 (version=TLSv1.3, cipher=TLS_AES_256_GCM_SHA384) id
 us-mta-483-DaLoW-AdM6KaznZ1BqB-0w-1; Fri, 24 Mar 2023 02:32:52 -0400
X-MC-Unique: DaLoW-AdM6KaznZ1BqB-0w-1
Received: by mail-oa1-f69.google.com with SMTP id
 586e51a60fabf-17ab1d11480so482102fac.13
 for <virtualization@lists.linux-foundation.org>;
 Thu, 23 Mar 2023 23:32:52 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20210112; t=1679639571;
 h=content-transfer-encoding:cc:to:subject:message-id:date:from
 :in-reply-to:references:mime-version:x-gm-message-state:from:to:cc
 :subject:date:message-id:reply-to;
 bh=cpoTUd8gexKD/LUwfjlQ6Nm5sxxfq01/bpYgncpDATA=;
 b=y+5ttkfNX1zmBXhCOeZdzdCP2mhTVzP3fpnucGsrhoNuoIVY2lBt9Ekd+zHQqypwQ0
 Os65ZLiJtujpYDH1xWhaK1FCxN2g1s1g/RLCxvUgCvhiFbR8sbV4IwbsuhCcQu+HW7/Z
 Ric88SV4uVAxvYO3UhbcH/+wggFS8ax6mR96AWArzZxbS34xPszhizbn266IvPq35MJ7
 EpvXj25bmVuS0ra0SUWvI6Q9/+eUN1TTHaDaD8zbylagpJNhEQ2ONyyjGES7mtpP/EHV
 /knE232u9+L1rJlmbRhSOxNzUKb4YcosgL7XJPXrd4Kav0lj36aeCHZJMrzO8AbYli55
 ikig==
X-Gm-Message-State: AO0yUKW6+EhvbdN1EUcBqPG0X/whcnVBqgNJSw2irX7qAF/iCjxtFkqa
 U0JLuFxbdlf7EjpL0nW8gijMKSx1xCxuvHM+nI7K/aWMbKkB78eNHdIakaamZgcdS+s5KqFE1h8
 GbJdyUp6RFtPeU8sQeQBsipefu8DRU1TOQkgkNZqjkpbtDT5wO9s33Ablfw==
X-Received: by 2002:a9d:6acc:0:b0:69b:1bd:7f9e with SMTP id
 m12-20020a9d6acc000000b0069b01bd7f9emr677557otq.2.1679639571680; 
 Thu, 23 Mar 2023 23:32:51 -0700 (PDT)
X-Google-Smtp-Source: AKy350aFJp+rrnSyF9Y9mDMmNwT4uiiNpuMwxyABPCR8hjBwQYQPmeMliyEZOME3iFyeMvWPGdC3TGi46/NYXdoNrhs=
X-Received: by 2002:a9d:6acc:0:b0:69b:1bd:7f9e with SMTP id
 m12-20020a9d6acc000000b0069b01bd7f9emr677552otq.2.1679639571415; Thu, 23 Mar
 2023 23:32:51 -0700 (PDT)
MIME-Version: 1.0
References: <20230321085953.24949-1-huangjie.albert@bytedance.com>
 <CACGkMEvx_-3XbnBk1PakqODhL+C0Oy-BVORm=FsMxvzVcBbrnA@mail.gmail.com>
 <CABKxMyNSp1-pJW11B3YuDm39mg=eT48JspDsrEePjKFrHNK8NQ@mail.gmail.com>
 <CACGkMEsG3_+GmfoO-y_dMxSeMn_Ry5L0PVgLSKSAJzRbym4j8A@mail.gmail.com>
 <20230324013805-mutt-send-email-mst@kernel.org>
In-Reply-To: <20230324013805-mutt-send-email-mst@kernel.org>
From: Jason Wang <jasowang@redhat.com>
Date: Fri, 24 Mar 2023 14:32:40 +0800
Message-ID: <CACGkMEvAvOCCuB4QRQa1goAhWEyXfTiJahTT7NQ+HT3J0GUNyw@mail.gmail.com>
Subject: Re: [External] Re: [PATCH] virtio_ring: Suppress tx interrupt when
 napi_tx disable
To: "Michael S. Tsirkin" <mst@redhat.com>
X-Mimecast-Spam-Score: 0
X-Mimecast-Originator: redhat.com
Cc: =?UTF-8?B?6buE5p2w?= <huangjie.albert@bytedance.com>,
 open list <linux-kernel@vger.kernel.org>,
 "open list:VIRTIO CORE AND NET DRIVERS"
 <virtualization@lists.linux-foundation.org>
X-BeenThere: virtualization@lists.linux-foundation.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: Linux virtualization <virtualization.lists.linux-foundation.org>
List-Unsubscribe: <https://lists.linuxfoundation.org/mailman/options/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=unsubscribe>
List-Archive: <http://lists.linuxfoundation.org/pipermail/virtualization/>
List-Post: <mailto:virtualization@lists.linux-foundation.org>
List-Help: <mailto:virtualization-request@lists.linux-foundation.org?subject=help>
List-Subscribe: <https://lists.linuxfoundation.org/mailman/listinfo/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: virtualization-bounces@lists.linux-foundation.org
Sender: "Virtualization" <virtualization-bounces@lists.linux-foundation.org>

T24gRnJpLCBNYXIgMjQsIDIwMjMgYXQgMTo1OeKAr1BNIE1pY2hhZWwgUy4gVHNpcmtpbiA8bXN0
QHJlZGhhdC5jb20+IHdyb3RlOgo+Cj4gT24gRnJpLCBNYXIgMjQsIDIwMjMgYXQgMTE6NDE6MTJB
TSArMDgwMCwgSmFzb24gV2FuZyB3cm90ZToKPiA+IE9uIFRodSwgTWFyIDIzLCAyMDIzIGF0IDQ6
MDHigK9QTSDpu4TmnbAgPGh1YW5namllLmFsYmVydEBieXRlZGFuY2UuY29tPiB3cm90ZToKPiA+
ID4KPiA+ID4gSmFzb24gV2FuZyA8amFzb3dhbmdAcmVkaGF0LmNvbT4g5LqOMjAyM+W5tDPmnIgy
MuaXpeWRqOS4iSAxMDozN+WGmemBk++8mgo+ID4gPiA+Cj4gPiA+ID4gT24gVHVlLCBNYXIgMjEs
IDIwMjMgYXQgNTowMOKAr1BNIEFsYmVydCBIdWFuZwo+ID4gPiA+IDxodWFuZ2ppZS5hbGJlcnRA
Ynl0ZWRhbmNlLmNvbT4gd3JvdGU6Cj4gPiA+ID4gPgo+ID4gPiA+ID4gRnJvbTogImh1YW5namll
LmFsYmVydCIgPGh1YW5namllLmFsYmVydEBieXRlZGFuY2UuY29tPgo+ID4gPiA+ID4KPiA+ID4g
PiA+IGZpeCBjb21taXQgOGQ2MjJkMjFkMjQ4ICgidmlydGlvOiBmaXggdXAgdmlydGlvX2Rpc2Fi
bGVfY2IiKQo+ID4gPiA+ID4KPiA+ID4gPiA+IGlmIHdlIGRpc2FibGUgdGhlIG5hcGlfdHguIHdo
ZW4gd2UgdHJpZ2VyIGEgdHggaW50ZXJydXB0LCB0aGUKPiA+ID4gPgo+ID4gPiA+IHR5cG8gc2hv
dWxkIGJlICJ0cmlnZ2VyIgo+ID4gPiA+Cj4gPiA+Cj4gPiA+IE9LLCB0aGFua3MgZm9yIHRoaXMu
IEkgd2lsbCBjb3JyZWN0IGl0IGluIHRoZSBuZXh0IHZlcnNpb24KPiA+ID4KPiA+ID4gPiA+IHZx
LT5ldmVudF90cmlnZ2VyZWQgd2lsbCBiZSBzZXQgdG8gdHJ1ZS4gSXQgd2lsbCBubyBsb25nZXIg
YmUKPiA+ID4gPiA+IHNldCB0byBmYWxzZS4gVW5sZXNzIHdlIGV4cGxpY2l0bHkgY2FsbCB2aXJ0
cXVldWVfZW5hYmxlX2NiX2RlbGF5ZWQKPiA+ID4gPiA+IG9yIHZpcnRxdWV1ZV9lbmFibGVfY2Jf
cHJlcGFyZQo+ID4gPiA+ID4KPiA+ID4gPiA+IGlmIHdlIGRpc2FibGUgdGhlIG5hcGlfdHgsIEl0
IHdpbGwgb25seSBiZSBjYWxsZWQgd2hlbiB0aGUgdHggcmluZwo+ID4gPiA+ID4gYnVmZmVyIGlz
IHJlbGF0aXZlbHkgc21hbGw6Cj4gPiA+ID4gPiB2aXJ0aW9fbmV0LT5zdGFydF94bWl0Ogo+ID4g
PiA+ID4gICAgICAgICBpZiAoc3EtPnZxLT5udW1fZnJlZSA8IDIrTUFYX1NLQl9GUkFHUykgewo+
ID4gPiA+ID4gICAgICAgICAgICAgICAgIG5ldGlmX3N0b3Bfc3VicXVldWUoZGV2LCBxbnVtKTsK
PiA+ID4gPiA+ICAgICAgICAgICAgICAgICBpZiAoIXVzZV9uYXBpICYmCj4gPiA+ID4gPiAgICAg
ICAgICAgICAgICAgICAgIHVubGlrZWx5KCF2aXJ0cXVldWVfZW5hYmxlX2NiX2RlbGF5ZWQoc3Et
PnZxKSkpIHsKPiA+ID4gPiA+ICAgICAgICAgICAgICAgICAgICAgICAgIC8qIE1vcmUganVzdCBn
b3QgdXNlZCwgZnJlZSB0aGVtIHRoZW4gcmVjaGVjay4gKi8KPiA+ID4gPiA+ICAgICAgICAgICAg
ICAgICAgICAgICAgIGZyZWVfb2xkX3htaXRfc2ticyhzcSwgZmFsc2UpOwo+ID4gPiA+ID4gICAg
ICAgICAgICAgICAgICAgICAgICAgaWYgKHNxLT52cS0+bnVtX2ZyZWUgPj0gMitNQVhfU0tCX0ZS
QUdTKSB7Cj4gPiA+ID4gPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldGlmX3N0
YXJ0X3N1YnF1ZXVlKGRldiwgcW51bSk7Cj4gPiA+ID4gPiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIHZpcnRxdWV1ZV9kaXNhYmxlX2NiKHNxLT52cSk7Cj4gPiA+ID4gPiAgICAgICAg
ICAgICAgICAgICAgICAgICB9Cj4gPiA+ID4KPiA+ID4gPiBUaGUgY29kZSBleGFtcGxlIGhlcmUg
aXMgb3V0IG9mIGRhdGUsIG1ha2Ugc3VyZSB5b3VyIHRyZWUgaGFzIHRoaXM6Cj4gPiA+Cj4gPiA+
IGFsc28sIEkgd2lsbCBjb3JyZWN0IGl0IGluIHRoZSBuZXh0IHZlcnNpb27vvIx0aGlzIGlzIGZy
b20ga2VybmVsIDUuMTUuCj4gPiA+Cj4gPiA+ID4KPiA+ID4gPiBjb21taXQgZDcxZWJlODExNGI0
YmY2MjI4MDRiODEwZjVlMjc0MDY5MDYwYTE3NAo+ID4gPiA+IEF1dGhvcjogSmFzb24gV2FuZyA8
amFzb3dhbmdAcmVkaGF0LmNvbT4KPiA+ID4gPiBEYXRlOiAgIFR1ZSBKYW4gMTcgMTE6NDc6MDcg
MjAyMyArMDgwMAo+ID4gPiA+Cj4gPiA+ID4gICAgIHZpcnRpby1uZXQ6IGNvcnJlY3RseSBlbmFi
bGUgY2FsbGJhY2sgZHVyaW5nIHN0YXJ0X3htaXQKPiA+ID4gPgo+ID4gPiA+ID4gICAgICAgICAg
ICAgICAgIH0KPiA+ID4gPiA+ICAgICAgICAgfQo+ID4gPiA+ID4gQmVjYXVzZSBldmVudF90cmln
Z2VyZWQgaXMgdHJ1ZS5UaGVyZWZvcmUsIFZSSU5HX0FWQUlMX0ZfTk9fSU5URVJSVVBUIG9yCj4g
PiA+ID4gPiBWUklOR19QQUNLRURfRVZFTlRfRkxBR19ESVNBQkxFIHdpbGwgbm90IGJlIHNldC5T
byB3ZSB1cGRhdGUKPiA+ID4gPiA+IHZyaW5nX3VzZWRfZXZlbnQoJnZxLT5zcGxpdC52cmluZykg
b3IgdnEtPnBhY2tlZC52cmluZy5kcml2ZXItPm9mZl93cmFwCj4gPiA+ID4gPiBldmVyeSB0aW1l
IHdlIGNhbGwgdmlydHF1ZXVlX2dldF9idWZfY3R4LlRoaXMgd2lsbCBicmluZyBtb3JlIGludGVy
cnVwdGlvbnMuCj4gPiA+ID4KPiA+ID4gPiBDYW4geW91IHBsZWFzZSBwb3N0IGhvdyB0byB0ZXN0
IHdpdGggdGhlIHBlcmZvcm1hbmNlIG51bWJlcnM/Cj4gPiA+ID4KPiA+ID4KPiA+ID4gaXBlcmYz
IHRjcCBzdHJlYW06Cj4gPiA+IHZtMSAtLS0tLS0tLS0tLS0tLS0tLT4gdm0yCj4gPiA+IHZtMiBq
dXN0IHJlY2VpdmUgdGNwIGRhdGEgc3RyZWFtIGZyb20gdm0xLCBhbmQgc2VuZCB0aGUgYWNrIHRv
IHZtMSwKPiA+ID4gdGhlcmUgYXJlIHNvCj4gPiA+IG1hbnkgdHggaW50ZXJydXB0aW9ucyAgaW4g
dm0yLgo+ID4gPgo+ID4gPiBidXQgd2l0aG91dCBldmVudF90cmlnZ2VyZWQgdGhlcmUgYXJlIGp1
c3QgYSBmZXcgdHggaW50ZXJydXB0aW9ucy4KPiA+ID4KPiA+ID4gPiA+Cj4gPiA+ID4gPiBpZiBl
dmVudF90cmlnZ2VyZWQgaXMgc2V0IHRvIHRydWUsIGRvIG5vdCB1cGRhdGUgdnJpbmdfdXNlZF9l
dmVudCgmdnEtPnNwbGl0LnZyaW5nKQo+ID4gPiA+ID4gb3IgdnEtPnBhY2tlZC52cmluZy5kcml2
ZXItPm9mZl93cmFwCj4gPiA+ID4gPgo+ID4gPiA+ID4gU2lnbmVkLW9mZi1ieTogaHVhbmdqaWUu
YWxiZXJ0IDxodWFuZ2ppZS5hbGJlcnRAYnl0ZWRhbmNlLmNvbT4KPiA+ID4gPiA+IC0tLQo+ID4g
PiA+ID4gIGRyaXZlcnMvdmlydGlvL3ZpcnRpb19yaW5nLmMgfCA2ICsrKystLQo+ID4gPiA+ID4g
IDEgZmlsZSBjaGFuZ2VkLCA0IGluc2VydGlvbnMoKyksIDIgZGVsZXRpb25zKC0pCj4gPiA+ID4g
Pgo+ID4gPiA+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvdmlydGlvL3ZpcnRpb19yaW5nLmMgYi9k
cml2ZXJzL3ZpcnRpby92aXJ0aW9fcmluZy5jCj4gPiA+ID4gPiBpbmRleCAzMDdlMTM5Y2IxMWQu
LmY0ODZjY2NhZGJlYiAxMDA2NDQKPiA+ID4gPiA+IC0tLSBhL2RyaXZlcnMvdmlydGlvL3ZpcnRp
b19yaW5nLmMKPiA+ID4gPiA+ICsrKyBiL2RyaXZlcnMvdmlydGlvL3ZpcnRpb19yaW5nLmMKPiA+
ID4gPiA+IEBAIC03OTUsNyArNzk1LDggQEAgc3RhdGljIHZvaWQgKnZpcnRxdWV1ZV9nZXRfYnVm
X2N0eF9zcGxpdChzdHJ1Y3QgdmlydHF1ZXVlICpfdnEsCj4gPiA+ID4gPiAgICAgICAgIC8qIElm
IHdlIGV4cGVjdCBhbiBpbnRlcnJ1cHQgZm9yIHRoZSBuZXh0IGVudHJ5LCB0ZWxsIGhvc3QKPiA+
ID4gPiA+ICAgICAgICAgICogYnkgd3JpdGluZyBldmVudCBpbmRleCBhbmQgZmx1c2ggb3V0IHRo
ZSB3cml0ZSBiZWZvcmUKPiA+ID4gPiA+ICAgICAgICAgICogdGhlIHJlYWQgaW4gdGhlIG5leHQg
Z2V0X2J1ZiBjYWxsLiAqLwo+ID4gPiA+ID4gLSAgICAgICBpZiAoISh2cS0+c3BsaXQuYXZhaWxf
ZmxhZ3Nfc2hhZG93ICYgVlJJTkdfQVZBSUxfRl9OT19JTlRFUlJVUFQpKQo+ID4gPiA+ID4gKyAg
ICAgICBpZiAoISh2cS0+c3BsaXQuYXZhaWxfZmxhZ3Nfc2hhZG93ICYgVlJJTkdfQVZBSUxfRl9O
T19JTlRFUlJVUFQpCj4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAmJiAodnEtPmV2
ZW50X3RyaWdnZXJlZCA9PSBmYWxzZSkpCj4gPiA+ID4KPiA+ID4gPiBJJ20gbm90IHN1cmUgdGhp
cyBjYW4gd29yaywgd2hlbiBldmVudF90cmlnZ2VyZWQgaXMgdHJ1ZSBpdCBtZWFucwo+ID4gPiA+
IHdlJ3ZlIGdvdCBhbiBpbnRlcnJ1cHQsIGluIHRoaXMgY2FzZSBpZiB3ZSB3YW50IGFub3RoZXIg
aW50ZXJydXB0IGZvcgo+ID4gPiA+IHRoZSBuZXh0IGVudHJ5LCB3ZSBzaG91bGQgdXBkYXRlIHVz
ZWRfZXZlbnQgb3RoZXJ3aXNlIHdlIHdpbGwgbG9zZQo+ID4gPiA+IHRoYXQgaW50ZXJydXB0Pwo+
ID4gPiA+Cj4gPiA+ID4gVGhhbmtzCj4gPiA+Cj4gPiA+IE5vcm1hbGx5LCBpZiB3ZSByZWNlaXZl
IGFuIGludGVycnVwdCwgd2Ugc2hvdWxkIGRpc2FibGUgdGhlIGludGVycnVwdAo+ID4gPiBpbiB0
aGUgaW50ZXJydXB0IGNhbGxiYWNrIGhhbmRsZXIuCj4gPgo+ID4gU28gdGhlIHByb2JsZW0gaXM6
Cj4gPgo+ID4gMSkgZXZlbnRfdHJpZ2dlcmVkIHdhcyBzZXQgdG8gdHJ1ZSBpbiB2cmluZ19pbnRl
cnJ1cHQoKQo+ID4KPiA+IDIpIGFmdGVyIHRoaXMgbm90aGluZyB3aWxsIGhhcHBlbiBmb3Igdmly
dHF1ZXVlX2Rpc2FibGVfY2IoKSBzbwo+ID4gVlJJTkdfQVZBSUxfRl9OT19JTlRFUlJVUFQgaXMg
bm90IHNldCBpbiBhdmFpbF9mbGFnc19zaGFkb3cKPiA+IDMpIHZpcnRxdWV1ZV9nZXRfYnVmX2N0
eF9zcGxpdCgpIHdpbGwgc3RpbGwgdGhpbmsgdGhlIGNiIGlzIGVuYWJsZWQKPiA+IHRoZW4gaXQg
dHJpZXMgdG8gcHVibGlzaCBuZXcgZXZlbnQKPgo+IE9oLiBHb29kIHBvaW50ISBJIHRoaW5rIHdo
ZW4gSSB3cm90ZSB1cAo+IDhkNjIyZDIxZDI0OCAoInZpcnRpbzogZml4IHVwIHZpcnRpb19kaXNh
YmxlX2NiIikKPiBJIG1pc3NlZCB0aGlzIGNvcm5lciBjYXNlLgo+Cj4KPgo+ID4gVGhpcyBtYWtl
cyBtZSB0aGluayBhYm91dCB3aGV0aGVyIG9yIG5vdCB3ZSByZWFsbHkgbmVlZAo+ID4gZXZlbnRf
dHJpZ2dlcmVkLiBUaGUgYXNzdW1wdGlvbiBpbiB0aGUgdmlydHF1ZXVlX2Rpc2FibGVfY2IoKSBz
ZWVtcwo+ID4gd3Jvbmc6Cj4gPgo+ID4gLyogSWYgZGV2aWNlIHRyaWdnZXJlZCBhbiBldmVudCBh
bHJlYWR5IGl0IHdvbid0IHRyaWdnZXIgb25lIGFnYWluOgo+ID4gICogbm8gbmVlZCB0byBkaXNh
YmxlLgo+ID4gICovCj4gPiBpZiAodnEtPmV2ZW50X3RyaWdnZXJlZCkKPiA+ICAgICAgICAgICAg
ICAgICByZXR1cm47Cj4gPgo+ID4gVGhpcyBpcyB3cm9uZyBpZiB0aGVyZSdzIG5vIGV2ZW50IGlu
ZGV4IHN1cHBvcnQuCj4KPgo+IEkgZG9uJ3QgZ2V0IGl0LiAgaG93IGRvZXMgdGhpcyBnZXQgdHJp
Z2dlcmVkPwo+Cj4gWW91IGFyZSB0YWxraW5nIGFib3V0IGRldmljZSB3aXRob3V0IGV2ZW50IGlu
ZGV4Pwo+IEhlcmUncyBjb2RlIGZyb20gdnJpbmdfaW50ZXJydXB0KCk6Cj4KPiAgICAgICAgIC8q
IEp1c3QgYSBoaW50IGZvciBwZXJmb3JtYW5jZTogc28gaXQncyBvayB0aGF0IHRoaXMgY2FuIGJl
IHJhY3khICovCj4gICAgICAgICBpZiAodnEtPmV2ZW50KQo+ICAgICAgICAgICAgICAgICB2cS0+
ZXZlbnRfdHJpZ2dlcmVkID0gdHJ1ZTsKCkJ1dCB3ZSBoYXZlIHRoZSBmb2xsb3dpbmcgaW4gdmly
dHF1ZXVlX2Rpc2FibGVfY2IoKToKCiAgICAgICAgLyogSWYgZGV2aWNlIHRyaWdnZXJlZCBhbiBl
dmVudCBhbHJlYWR5IGl0IHdvbid0IHRyaWdnZXIgb25lIGFnYWluOgogICAgICAgICAqIG5vIG5l
ZWQgdG8gZGlzYWJsZS4KICAgICAgICAgKi8KICAgICAgICBpZiAodnEtPmV2ZW50X3RyaWdnZXJl
ZCkKICAgICAgICAgICAgICAgIHJldHVybjsKCiAgICAgICAgaWYgKHZxLT5wYWNrZWRfcmluZykK
ICAgICAgICAgICAgICAgIHZpcnRxdWV1ZV9kaXNhYmxlX2NiX3BhY2tlZChfdnEpOwogICAgICAg
IGVsc2UKICAgICAgICAgICAgICAgIHZpcnRxdWV1ZV9kaXNhYmxlX2NiX3NwbGl0KF92cSk7CgpU
aGlzIG1lYW5zLCB3aXRob3V0IGFuIGV2ZW50IGluZGV4LCB3ZSBkb24ndCBzZXQgYXZhaWwgZmxh
Z3MuIFNvIHRoZQppbnRlcnJ1cHQgaXMgbm90IGRpc2FibGVkIGFjdHVhbGx5IGluIHRoaXMgY2Fz
ZS4KClRoYW5rcwoKPgo+Cj4KPgo+ID4gQW5kIHRoZQo+ID4gZXZlbnRfdHJpZ2dlcmVkIGlzIHNv
bWVob3cgZHVwbGljYXRlZCB3aXRoIHRoZQo+ID4gVlJJTkdfQVZBSUxfRl9OT19JTlRFUlJVUFQg
aW4gdGhlIGNhc2Ugb2YgZXZlbnQgaW5kZXguIFRoZSBjb3JyZWN0IGZpeAo+ID4gbWlnaHQgYmU6
Cj4gPgo+ID4gMSkgcmVtb3ZlIGV2ZW50X3RyaWdnZXJlZAo+ID4gMikgc2V0IFZSSU5HX0FWQUlM
X0ZfTk9fSU5URVJSVVBUIGluIGF2YWlsX2ZsYWdzX3NoYWRvdyBpbgo+ID4gdnJpbmdfaW50ZXJy
cnVwdCBpZiBldmVudCBpbmRleCBpcyBzdXBwb3J0ZWQKPiA+Cj4gPiA/Cj4gPgo+ID4gVGhhbmtz
Cj4KPiBJIGFtIG5vdCBzdXJlIGFsbCB0aGlzIGlzIHJpZ2h0IGFuZCBJJ2QgcmF0aGVyIHdlIGZv
Y3VzZWQKPiBwZXJmb3JtYW5jZS9jb3JyZWN0bmVzcyBhbmQgY2xlYW51cHMgc2VwYXJhdGVseS4K
Pgo+Cj4KPgo+ID4KPiA+ID4gQnV0IGJlY2F1c2Ugb2YgdGhlIGludHJvZHVjdGlvbiBvZiBldmVu
dF90cmlnZ2VyZWQsIGhlcmUsCj4gPiA+IHZpcnRxdWV1ZV9nZXRfYnVmX2N0eF9zcGxpdCAgY2Fu
bm90IGJlIHJlY29nbml6ZWQKPiA+ID4gdGhhdCB0aGUgaW50ZXJydXB0IGhhcyBiZWVuIHR1cm5l
ZCBvZmYuCj4gPiA+Cj4gPiA+IGlmIHdlIHdhbnQgIGFub3RoZXIgaW50ZXJydXB0IGZvciB0aGUg
bmV4dCBlbnRyeSwgV2Ugc2hvdWxkIHByb2JhYmx5Cj4gPiA+IGNhbGwgdmlydHF1ZXVlX2VuYWJs
ZV9jYu+8nwo+ID4gPgo+ID4gPiBUaGFua3MKPiA+ID4KPiA+ID4gPgo+ID4gPiA+ID4gICAgICAg
ICAgICAgICAgIHZpcnRpb19zdG9yZV9tYih2cS0+d2Vha19iYXJyaWVycywKPiA+ID4gPiA+ICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJnZyaW5nX3VzZWRfZXZlbnQoJnZxLT5zcGxp
dC52cmluZyksCj4gPiA+ID4gPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwdV90
b192aXJ0aW8xNihfdnEtPnZkZXYsIHZxLT5sYXN0X3VzZWRfaWR4KSk7Cj4gPiA+ID4gPiBAQCAt
MTUyOSw3ICsxNTMwLDggQEAgc3RhdGljIHZvaWQgKnZpcnRxdWV1ZV9nZXRfYnVmX2N0eF9wYWNr
ZWQoc3RydWN0IHZpcnRxdWV1ZSAqX3ZxLAo+ID4gPiA+ID4gICAgICAgICAgKiBieSB3cml0aW5n
IGV2ZW50IGluZGV4IGFuZCBmbHVzaCBvdXQgdGhlIHdyaXRlIGJlZm9yZQo+ID4gPiA+ID4gICAg
ICAgICAgKiB0aGUgcmVhZCBpbiB0aGUgbmV4dCBnZXRfYnVmIGNhbGwuCj4gPiA+ID4gPiAgICAg
ICAgICAqLwo+ID4gPiA+ID4gLSAgICAgICBpZiAodnEtPnBhY2tlZC5ldmVudF9mbGFnc19zaGFk
b3cgPT0gVlJJTkdfUEFDS0VEX0VWRU5UX0ZMQUdfREVTQykKPiA+ID4gPiA+ICsgICAgICAgaWYg
KHZxLT5wYWNrZWQuZXZlbnRfZmxhZ3Nfc2hhZG93ID09IFZSSU5HX1BBQ0tFRF9FVkVOVF9GTEFH
X0RFU0MKPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICYmICh2cS0+ZXZlbnRfdHJp
Z2dlcmVkID09IGZhbHNlKSkKPiA+ID4gPiA+ICAgICAgICAgICAgICAgICB2aXJ0aW9fc3RvcmVf
bWIodnEtPndlYWtfYmFycmllcnMsCj4gPiA+ID4gPiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICZ2cS0+cGFja2VkLnZyaW5nLmRyaXZlci0+b2ZmX3dyYXAsCj4gPiA+ID4gPiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwdV90b19sZTE2KHZxLT5sYXN0X3VzZWRfaWR4
KSk7Cj4gPiA+ID4gPiAtLQo+ID4gPiA+ID4gMi4zMS4xCj4gPiA+ID4gPgo+ID4gPiA+Cj4gPiA+
Cj4KCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClZpcnR1
YWxpemF0aW9uIG1haWxpbmcgbGlzdApWaXJ0dWFsaXphdGlvbkBsaXN0cy5saW51eC1mb3VuZGF0
aW9uLm9yZwpodHRwczovL2xpc3RzLmxpbnV4Zm91bmRhdGlvbi5vcmcvbWFpbG1hbi9saXN0aW5m
by92aXJ0dWFsaXphdGlvbg==
