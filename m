Return-Path: <virtualization-bounces@lists.linux-foundation.org>
X-Original-To: lists.virtualization@lfdr.de
Delivered-To: lists.virtualization@lfdr.de
Received: from smtp3.osuosl.org (smtp3.osuosl.org [IPv6:2605:bc80:3010::136])
	by mail.lfdr.de (Postfix) with ESMTPS id EA2CA42D326
	for <lists.virtualization@lfdr.de>; Thu, 14 Oct 2021 09:02:55 +0200 (CEST)
Received: from localhost (localhost [127.0.0.1])
	by smtp3.osuosl.org (Postfix) with ESMTP id 4B49C60E9B;
	Thu, 14 Oct 2021 07:02:54 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp3.osuosl.org ([127.0.0.1])
	by localhost (smtp3.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id hbjAh6HNXJbQ; Thu, 14 Oct 2021 07:02:51 +0000 (UTC)
Received: from lists.linuxfoundation.org (lf-lists.osuosl.org [140.211.9.56])
	by smtp3.osuosl.org (Postfix) with ESMTPS id 70E9560E95;
	Thu, 14 Oct 2021 07:02:51 +0000 (UTC)
Received: from lf-lists.osuosl.org (localhost [127.0.0.1])
	by lists.linuxfoundation.org (Postfix) with ESMTP id C7784C000D;
	Thu, 14 Oct 2021 07:02:50 +0000 (UTC)
X-Original-To: virtualization@lists.linux-foundation.org
Delivered-To: virtualization@lists.linuxfoundation.org
Received: from smtp4.osuosl.org (smtp4.osuosl.org [IPv6:2605:bc80:3010::137])
 by lists.linuxfoundation.org (Postfix) with ESMTP id 1273BC000D
 for <virtualization@lists.linux-foundation.org>;
 Thu, 14 Oct 2021 07:02:50 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by smtp4.osuosl.org (Postfix) with ESMTP id 005F8407B4
 for <virtualization@lists.linux-foundation.org>;
 Thu, 14 Oct 2021 07:02:50 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
Authentication-Results: smtp4.osuosl.org (amavisd-new);
 dkim=pass (1024-bit key) header.d=redhat.com
Received: from smtp4.osuosl.org ([127.0.0.1])
 by localhost (smtp4.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id yJQjlvivOF1g
 for <virtualization@lists.linux-foundation.org>;
 Thu, 14 Oct 2021 07:02:49 +0000 (UTC)
X-Greylist: domain auto-whitelisted by SQLgrey-1.8.0
Received: from us-smtp-delivery-124.mimecast.com
 (us-smtp-delivery-124.mimecast.com [216.205.24.124])
 by smtp4.osuosl.org (Postfix) with ESMTPS id F2966407B3
 for <virtualization@lists.linux-foundation.org>;
 Thu, 14 Oct 2021 07:02:48 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=redhat.com;
 s=mimecast20190719; t=1634194968;
 h=from:from:reply-to:subject:subject:date:date:message-id:message-id:
 to:to:cc:cc:mime-version:mime-version:content-type:content-type:
 content-transfer-encoding:content-transfer-encoding:
 in-reply-to:in-reply-to:references:references;
 bh=d1S01grw2ngdkEJ0YAicVY3DzsPYjPDrt6hoE0ljtY0=;
 b=Jt3PyopLOajHq/LqTxnOzYjh55pwJOji6N4b9GeOTCZpYanr+21LlKKizdtach5ueVkBTL
 VHUUekYZvKtDC6+AFWrqowKQAHppRwsy7XOhIJ0eBbafoHVZl1qewjAUQB4aBAWyCnRDYf
 FAxyUTPX/mpH0RLR4z7c/WGJK0Z+hiU=
Received: from mail-lf1-f71.google.com (mail-lf1-f71.google.com
 [209.85.167.71]) (Using TLS) by relay.mimecast.com with ESMTP id
 us-mta-429-0EjZ_meoPoeSO9yrQ-5Gzw-1; Thu, 14 Oct 2021 03:02:46 -0400
X-MC-Unique: 0EjZ_meoPoeSO9yrQ-5Gzw-1
Received: by mail-lf1-f71.google.com with SMTP id
 bp4-20020a056512158400b003fd96a37f3bso3670426lfb.21
 for <virtualization@lists.linux-foundation.org>;
 Thu, 14 Oct 2021 00:02:46 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20210112;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=d1S01grw2ngdkEJ0YAicVY3DzsPYjPDrt6hoE0ljtY0=;
 b=IM109biV+X0Xt4jQODJKyi6KVXX3BwyHWTKkfiTAym5LQXWbGe3EuqkePuGKUbo6tz
 6L3N1/qKn4VtTgLzV9Ys8M7b8x1BgEb1CY+68bku+5IGcbEIfIt4AHOAN0Nfcp/ZqrL0
 hwtQxFhrehrYednDXKjRZPTAG4V6/L+ZX14FbgdOd/kkF7wrr7GayS8Bnk7SA/m1TTKk
 SZgiaUOBzAEqGBPxjz1+VA2AzoxXvgHotX20gjW3nC02Mie/BX7YZB7pXQdLadUls96v
 7ZyOfx6dZiBGfWgPcU0GMhKq1I3oTiFX+fHnjDnojm04HLSqVRaBCBrWLVHo2cTt5HAv
 aytA==
X-Gm-Message-State: AOAM531ugh57g+swiWN0YRrmU2uMs5zlyaOkXh8awClqnDEBSxRINAn+
 0Z9Kraw8VwCB72gu2eduCFFbPwQeMnXsG2eda/Sp2Zhk8QsGxwhaLQmPLmgNufH+B/9uBN5dclK
 WLWWRkfaQhTMnv05gpVB8/0mEb97LyKtkRplVaP3joW/i4m/0XAHisTt6tA==
X-Received: by 2002:a05:6512:3d29:: with SMTP id
 d41mr3684683lfv.481.1634194965180; 
 Thu, 14 Oct 2021 00:02:45 -0700 (PDT)
X-Google-Smtp-Source: ABdhPJx2GzXJhGJxRMaWeavgK4vnAcEQnZsLm1XOr06y9iTnvnRn8g0FhszB1AEK9nWBNyaSFB6fIAgvCrq1e+0fipA=
X-Received: by 2002:a05:6512:3d29:: with SMTP id
 d41mr3684652lfv.481.1634194964831; 
 Thu, 14 Oct 2021 00:02:44 -0700 (PDT)
MIME-Version: 1.0
References: <20211012140710.804529-1-eperezma@redhat.com>
 <20211012140710.804529-4-eperezma@redhat.com>
 <CACGkMEsGDoWuE0WEq7P-S5V5XiLPCZcVAszQFHDLsLDZEAAh5A@mail.gmail.com>
 <CAJaqyWdW+JarVW6tOfM6rYHh2fb=whGHFdwmFy0AMcLqukOrpg@mail.gmail.com>
In-Reply-To: <CAJaqyWdW+JarVW6tOfM6rYHh2fb=whGHFdwmFy0AMcLqukOrpg@mail.gmail.com>
From: Jason Wang <jasowang@redhat.com>
Date: Thu, 14 Oct 2021 15:02:33 +0800
Message-ID: <CACGkMEv1P3MiRYENsDfx-iarEiv7Bik-qTaYUEAAmAUV1nEfWg@mail.gmail.com>
Subject: Re: [PATCH v3 3/3] vdpa: Check for iova range at mappings changes
To: Eugenio Perez Martin <eperezma@redhat.com>
Authentication-Results: relay.mimecast.com;
 auth=pass smtp.auth=CUSA124A263 smtp.mailfrom=jasowang@redhat.com
X-Mimecast-Spam-Score: 0
X-Mimecast-Originator: redhat.com
Cc: Parav Pandit <parav@mellanox.com>, "Michael S. Tsirkin" <mst@redhat.com>,
 qemu-devel <qemu-devel@nongnu.org>,
 virtualization <virtualization@lists.linux-foundation.org>,
 Stefan Hajnoczi <stefanha@redhat.com>, Eli Cohen <eli@mellanox.com>
X-BeenThere: virtualization@lists.linux-foundation.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: Linux virtualization <virtualization.lists.linux-foundation.org>
List-Unsubscribe: <https://lists.linuxfoundation.org/mailman/options/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=unsubscribe>
List-Archive: <http://lists.linuxfoundation.org/pipermail/virtualization/>
List-Post: <mailto:virtualization@lists.linux-foundation.org>
List-Help: <mailto:virtualization-request@lists.linux-foundation.org?subject=help>
List-Subscribe: <https://lists.linuxfoundation.org/mailman/listinfo/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: virtualization-bounces@lists.linux-foundation.org
Sender: "Virtualization" <virtualization-bounces@lists.linux-foundation.org>

T24gVGh1LCBPY3QgMTQsIDIwMjEgYXQgMTo1NyBQTSBFdWdlbmlvIFBlcmV6IE1hcnRpbgo8ZXBl
cmV6bWFAcmVkaGF0LmNvbT4gd3JvdGU6Cj4KPiBPbiBUaHUsIE9jdCAxNCwgMjAyMSBhdCA1OjMw
IEFNIEphc29uIFdhbmcgPGphc293YW5nQHJlZGhhdC5jb20+IHdyb3RlOgo+ID4KPiA+IE9uIFR1
ZSwgT2N0IDEyLCAyMDIxIGF0IDEwOjA3IFBNIEV1Z2VuaW8gUMOpcmV6IDxlcGVyZXptYUByZWRo
YXQuY29tPiB3cm90ZToKPiA+ID4KPiA+ID4gQ2hlY2sgdmRwYSBkZXZpY2UgcmFuZ2UgYmVmb3Jl
IHVwZGF0aW5nIG1lbW9yeSByZWdpb25zIHNvIHdlIGRvbid0IGFkZAo+ID4gPiBhbnkgb3V0c2lk
ZSBvZiBpdCwgYW5kIHJlcG9ydCB0aGUgaW52YWxpZCBjaGFuZ2UgaWYgYW55Lgo+ID4gPgo+ID4g
PiBTaWduZWQtb2ZmLWJ5OiBFdWdlbmlvIFDDqXJleiA8ZXBlcmV6bWFAcmVkaGF0LmNvbT4KPiA+
ID4gLS0tCj4gPiA+ICBpbmNsdWRlL2h3L3ZpcnRpby92aG9zdC12ZHBhLmggfCAgMiArKwo+ID4g
PiAgaHcvdmlydGlvL3Zob3N0LXZkcGEuYyAgICAgICAgIHwgNjIgKysrKysrKysrKysrKysrKysr
KysrKysrKy0tLS0tLS0tLQo+ID4gPiAgaHcvdmlydGlvL3RyYWNlLWV2ZW50cyAgICAgICAgIHwg
IDEgKwo+ID4gPiAgMyBmaWxlcyBjaGFuZ2VkLCA0OSBpbnNlcnRpb25zKCspLCAxNiBkZWxldGlv
bnMoLSkKPiA+ID4KPiA+ID4gZGlmZiAtLWdpdCBhL2luY2x1ZGUvaHcvdmlydGlvL3Zob3N0LXZk
cGEuaCBiL2luY2x1ZGUvaHcvdmlydGlvL3Zob3N0LXZkcGEuaAo+ID4gPiBpbmRleCBhODk2M2Rh
MmQ5Li5jMjg4Y2Y3ZWNiIDEwMDY0NAo+ID4gPiAtLS0gYS9pbmNsdWRlL2h3L3ZpcnRpby92aG9z
dC12ZHBhLmgKPiA+ID4gKysrIGIvaW5jbHVkZS9ody92aXJ0aW8vdmhvc3QtdmRwYS5oCj4gPiA+
IEBAIC0xMyw2ICsxMyw3IEBACj4gPiA+ICAjZGVmaW5lIEhXX1ZJUlRJT19WSE9TVF9WRFBBX0gK
PiA+ID4KPiA+ID4gICNpbmNsdWRlICJody92aXJ0aW8vdmlydGlvLmgiCj4gPiA+ICsjaW5jbHVk
ZSAic3RhbmRhcmQtaGVhZGVycy9saW51eC92aG9zdF90eXBlcy5oIgo+ID4gPgo+ID4gPiAgdHlw
ZWRlZiBzdHJ1Y3QgVmhvc3RWRFBBSG9zdE5vdGlmaWVyIHsKPiA+ID4gICAgICBNZW1vcnlSZWdp
b24gbXI7Cj4gPiA+IEBAIC0yNCw2ICsyNSw3IEBAIHR5cGVkZWYgc3RydWN0IHZob3N0X3ZkcGEg
ewo+ID4gPiAgICAgIHVpbnQzMl90IG1zZ190eXBlOwo+ID4gPiAgICAgIGJvb2wgaW90bGJfYmF0
Y2hfYmVnaW5fc2VudDsKPiA+ID4gICAgICBNZW1vcnlMaXN0ZW5lciBsaXN0ZW5lcjsKPiA+ID4g
KyAgICBzdHJ1Y3Qgdmhvc3RfdmRwYV9pb3ZhX3JhbmdlIGlvdmFfcmFuZ2U7Cj4gPiA+ICAgICAg
c3RydWN0IHZob3N0X2RldiAqZGV2Owo+ID4gPiAgICAgIFZob3N0VkRQQUhvc3ROb3RpZmllciBu
b3RpZmllcltWSVJUSU9fUVVFVUVfTUFYXTsKPiA+ID4gIH0gVmhvc3RWRFBBOwo+ID4gPiBkaWZm
IC0tZ2l0IGEvaHcvdmlydGlvL3Zob3N0LXZkcGEuYyBiL2h3L3ZpcnRpby92aG9zdC12ZHBhLmMK
PiA+ID4gaW5kZXggYmU3YzYzYjRiYS4uZGJmNzczZDAzMiAxMDA2NDQKPiA+ID4gLS0tIGEvaHcv
dmlydGlvL3Zob3N0LXZkcGEuYwo+ID4gPiArKysgYi9ody92aXJ0aW8vdmhvc3QtdmRwYS5jCj4g
PiA+IEBAIC0zNywyMCArMzcsMzQgQEAgc3RhdGljIEludDEyOCB2aG9zdF92ZHBhX3NlY3Rpb25f
ZW5kKGNvbnN0IE1lbW9yeVJlZ2lvblNlY3Rpb24gKnNlY3Rpb24pCj4gPiA+ICAgICAgcmV0dXJu
IGxsZW5kOwo+ID4gPiAgfQo+ID4gPgo+ID4gPiAtc3RhdGljIGJvb2wgdmhvc3RfdmRwYV9saXN0
ZW5lcl9za2lwcGVkX3NlY3Rpb24oTWVtb3J5UmVnaW9uU2VjdGlvbiAqc2VjdGlvbikKPiA+ID4g
LXsKPiA+ID4gLSAgICByZXR1cm4gKCFtZW1vcnlfcmVnaW9uX2lzX3JhbShzZWN0aW9uLT5tcikg
JiYKPiA+ID4gLSAgICAgICAgICAgICFtZW1vcnlfcmVnaW9uX2lzX2lvbW11KHNlY3Rpb24tPm1y
KSkgfHwKPiA+ID4gLSAgICAgICAgICAgIG1lbW9yeV9yZWdpb25faXNfcHJvdGVjdGVkKHNlY3Rp
b24tPm1yKSB8fAo+ID4gPiAtICAgICAgICAgICAvKiB2aG9zdC12RFBBIGRvZXNuJ3QgYWxsb3cg
TU1JTyB0byBiZSBtYXBwZWQgICovCj4gPiA+IC0gICAgICAgICAgICBtZW1vcnlfcmVnaW9uX2lz
X3JhbV9kZXZpY2Uoc2VjdGlvbi0+bXIpIHx8Cj4gPiA+IC0gICAgICAgICAgIC8qCj4gPiA+IC0g
ICAgICAgICAgICAqIFNpemluZyBhbiBlbmFibGVkIDY0LWJpdCBCQVIgY2FuIGNhdXNlIHNwdXJp
b3VzIG1hcHBpbmdzIHRvCj4gPiA+IC0gICAgICAgICAgICAqIGFkZHJlc3NlcyBpbiB0aGUgdXBw
ZXIgcGFydCBvZiB0aGUgNjQtYml0IGFkZHJlc3Mgc3BhY2UuICBUaGVzZQo+ID4gPiAtICAgICAg
ICAgICAgKiBhcmUgbmV2ZXIgYWNjZXNzZWQgYnkgdGhlIENQVSBhbmQgYmV5b25kIHRoZSBhZGRy
ZXNzIHdpZHRoIG9mCj4gPiA+IC0gICAgICAgICAgICAqIHNvbWUgSU9NTVUgaGFyZHdhcmUuICBU
T0RPOiBWRFBBIHNob3VsZCB0ZWxsIHVzIHRoZSBJT01NVSB3aWR0aC4KPiA+ID4gLSAgICAgICAg
ICAgICovCj4gPiA+IC0gICAgICAgICAgIHNlY3Rpb24tPm9mZnNldF93aXRoaW5fYWRkcmVzc19z
cGFjZSAmICgxVUxMIDw8IDYzKTsKPgo+IFsxXQo+Cj4gPiA+ICtzdGF0aWMgYm9vbCB2aG9zdF92
ZHBhX2xpc3RlbmVyX3NraXBwZWRfc2VjdGlvbihNZW1vcnlSZWdpb25TZWN0aW9uICpzZWN0aW9u
LAo+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
dWludDY0X3QgaW92YV9taW4sCj4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICB1aW50NjRfdCBpb3ZhX21heCkKPiA+ID4gK3sKPiA+ID4gKyAgICBJ
bnQxMjggbGxlbmQ7Cj4gPiA+ICsKPiA+ID4gKyAgICBpZiAoKCFtZW1vcnlfcmVnaW9uX2lzX3Jh
bShzZWN0aW9uLT5tcikgJiYKPiA+ID4gKyAgICAgICAgICFtZW1vcnlfcmVnaW9uX2lzX2lvbW11
KHNlY3Rpb24tPm1yKSkgfHwKPiA+ID4gKyAgICAgICAgbWVtb3J5X3JlZ2lvbl9pc19wcm90ZWN0
ZWQoc2VjdGlvbi0+bXIpIHx8Cj4gPiA+ICsgICAgICAgIC8qIHZob3N0LXZEUEEgZG9lc24ndCBh
bGxvdyBNTUlPIHRvIGJlIG1hcHBlZCAgKi8KPiA+ID4gKyAgICAgICAgbWVtb3J5X3JlZ2lvbl9p
c19yYW1fZGV2aWNlKHNlY3Rpb24tPm1yKSkgewo+ID4gPiArICAgICAgICByZXR1cm4gdHJ1ZTsK
PiA+ID4gKyAgICB9Cj4gPiA+ICsKPiA+ID4gKyAgICBpZiAoc2VjdGlvbi0+b2Zmc2V0X3dpdGhp
bl9hZGRyZXNzX3NwYWNlIDwgaW92YV9taW4pIHsKPiA+ID4gKyAgICAgICAgZXJyb3JfcmVwb3J0
KCJSQU0gc2VjdGlvbiBvdXQgb2YgZGV2aWNlIHJhbmdlIChtaW49JWx1LCBhZGRyPSVsdSkiLAo+
ID4gPiArICAgICAgICAgICAgICAgICAgICAgaW92YV9taW4sIHNlY3Rpb24tPm9mZnNldF93aXRo
aW5fYWRkcmVzc19zcGFjZSk7Cj4gPiA+ICsgICAgICAgIHJldHVybiB0cnVlOwo+ID4gPiArICAg
IH0KPiA+ID4gKwo+ID4gPiArICAgIGxsZW5kID0gdmhvc3RfdmRwYV9zZWN0aW9uX2VuZChzZWN0
aW9uKTsKPiA+ID4gKyAgICBpZiAoaW50MTI4X2d0KGxsZW5kLCBpbnQxMjhfbWFrZTY0KGlvdmFf
bWF4KSkpIHsKPiA+ID4gKyAgICAgICAgZXJyb3JfcmVwb3J0KCJSQU0gc2VjdGlvbiBvdXQgb2Yg
ZGV2aWNlIHJhbmdlIChtYXg9JWx1LCBlbmQgYWRkcj0lbHUpIiwKPiA+ID4gKyAgICAgICAgICAg
ICAgICAgICAgIGlvdmFfbWF4LCBpbnQxMjhfZ2V0NjQobGxlbmQpKTsKPiA+ID4gKyAgICAgICAg
cmV0dXJuIHRydWU7Cj4gPiA+ICsgICAgfQo+ID4gPiArCj4gPiA+ICsgICAgcmV0dXJuIGZhbHNl
Owo+ID4gPiAgfQo+ID4gPgo+ID4gPiAgc3RhdGljIGludCB2aG9zdF92ZHBhX2RtYV9tYXAoc3Ry
dWN0IHZob3N0X3ZkcGEgKnYsIGh3YWRkciBpb3ZhLCBod2FkZHIgc2l6ZSwKPiA+ID4gQEAgLTE2
Miw3ICsxNzYsOCBAQCBzdGF0aWMgdm9pZCB2aG9zdF92ZHBhX2xpc3RlbmVyX3JlZ2lvbl9hZGQo
TWVtb3J5TGlzdGVuZXIgKmxpc3RlbmVyLAo+ID4gPiAgICAgIHZvaWQgKnZhZGRyOwo+ID4gPiAg
ICAgIGludCByZXQ7Cj4gPiA+Cj4gPiA+IC0gICAgaWYgKHZob3N0X3ZkcGFfbGlzdGVuZXJfc2tp
cHBlZF9zZWN0aW9uKHNlY3Rpb24pKSB7Cj4gPiA+ICsgICAgaWYgKHZob3N0X3ZkcGFfbGlzdGVu
ZXJfc2tpcHBlZF9zZWN0aW9uKHNlY3Rpb24sIHYtPmlvdmFfcmFuZ2UuZmlyc3QsCj4gPiA+ICsg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYtPmlvdmFfcmFuZ2Uu
bGFzdCkpIHsKPiA+ID4gICAgICAgICAgcmV0dXJuOwo+ID4gPiAgICAgIH0KPiA+ID4KPiA+ID4g
QEAgLTIyMCw3ICsyMzUsOCBAQCBzdGF0aWMgdm9pZCB2aG9zdF92ZHBhX2xpc3RlbmVyX3JlZ2lv
bl9kZWwoTWVtb3J5TGlzdGVuZXIgKmxpc3RlbmVyLAo+ID4gPiAgICAgIEludDEyOCBsbGVuZCwg
bGxzaXplOwo+ID4gPiAgICAgIGludCByZXQ7Cj4gPiA+Cj4gPiA+IC0gICAgaWYgKHZob3N0X3Zk
cGFfbGlzdGVuZXJfc2tpcHBlZF9zZWN0aW9uKHNlY3Rpb24pKSB7Cj4gPiA+ICsgICAgaWYgKHZo
b3N0X3ZkcGFfbGlzdGVuZXJfc2tpcHBlZF9zZWN0aW9uKHNlY3Rpb24sIHYtPmlvdmFfcmFuZ2Uu
Zmlyc3QsCj4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHYtPmlvdmFfcmFuZ2UubGFzdCkpIHsKPiA+ID4gICAgICAgICAgcmV0dXJuOwo+ID4gPiAgICAg
IH0KPiA+ID4KPiA+ID4gQEAgLTI4OCw2ICszMDQsMTkgQEAgc3RhdGljIHZvaWQgdmhvc3RfdmRw
YV9hZGRfc3RhdHVzKHN0cnVjdCB2aG9zdF9kZXYgKmRldiwgdWludDhfdCBzdGF0dXMpCj4gPiA+
ICAgICAgdmhvc3RfdmRwYV9jYWxsKGRldiwgVkhPU1RfVkRQQV9TRVRfU1RBVFVTLCAmcyk7Cj4g
PiA+ICB9Cj4gPiA+Cj4gPiA+ICtzdGF0aWMgdm9pZCB2aG9zdF92ZHBhX2dldF9pb3ZhX3Jhbmdl
KHN0cnVjdCB2aG9zdF92ZHBhICp2KQo+ID4gPiArewo+ID4gPiArICAgIGludCByZXQgPSB2aG9z
dF92ZHBhX2NhbGwodi0+ZGV2LCBWSE9TVF9WRFBBX0dFVF9JT1ZBX1JBTkdFLAo+ID4gPiArICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgJnYtPmlvdmFfcmFuZ2UpOwo+ID4gPiArICAgIGlm
IChyZXQgIT0gMCkgewo+ID4gPiArICAgICAgICB2LT5pb3ZhX3JhbmdlLmZpcnN0ID0gMDsKPiA+
ID4gKyAgICAgICAgdi0+aW92YV9yYW5nZS5sYXN0ID0gTUFLRV82NEJJVF9NQVNLKDAsIDYzKTsK
PiA+Cj4gPiBOaXQ6Cj4gPgo+ID4gVUxMT05HX01BWD8KPiA+Cj4KPiBJdCBzaG91bGQgYmUgVUxM
T05HX01BWCA+PiAxIHRvIG1hdGNoIHRoZSBwcmV2aW91cyBsaW1pdCBbMV0sCgpJIHRoaW5rIHRo
ZXkgZG9uJ3QgY29uZmxpY3QuIFdlIGp1c3Qgd2FudCB0byBwcmVzZXJ2ZSB0aGUgZGVmYXVsdCBp
b3ZhCnJhbmdlIGFzIHdoYXQgdGhlIGtlcm5lbCBkaWQuIEtlcm5lbCB3aWxsIGdpdmUgVUxMT05H
X01BWCBpZgpnZXRfaW92YV9yYW5nZSgpIGlzIG5vdCBpbXBsZW1lbnRlZCBieSB0aGUgZGV2aWNl
PwoKCj4gYW5kCj4gdHJ1c3RpbmcgdGhhdCB1aW50NjRfdCBpcyBlZmZlY3RpdmVseSB1bnNpZ25l
ZCBsb25nIGxvbmcuIEkgc2VlIGEgNjMKPiBiaXRzIG1hc2sgaW1tZWRpYXRlbHkgd2l0aCBNQUtF
XzY0QklUX01BU0sgKG9uY2UgSSByZW1lbWJlciB0aGUKPiBwYXJhbWV0ZXIgb3JkZXIpLCBidXQg
SSBmaW5kIGl0IGhhcmRlciB0byBzZWUgaXQgd2l0aCAoVUxMT05HX01BWCA+Pgo+IDEpLgo+Cj4g
SWYgeW91IHByZWZlciB0aGUgX01BWCBvcHRpb25zLCBJIHdvdWxkIHNheSBpdCBpcyBiZXR0ZXIg
dG8gc3RpY2sgd2l0aAo+IChVSU5UNjRfTUFYID4+IDEpIG9yIChIV0FERFJfTUFYID4+IDEpLCBi
ZWNhdXNlIG9mIHRoaXMgaW4KPiBDT0RJTkdfU1RZTEUucnN0Ogo+Cj4gIklmIHlvdSdyZSB1c2lu
ZyAiaW50IiBvciAibG9uZyIsIG9kZHMgYXJlIGdvb2QgdGhhdCB0aGVyZSdzIGEgYmV0dGVyCj4g
dHlwZS4gLi4uIiwgIkluIHRoZSBldmVudCB0aGF0IHlvdSByZXF1aXJlIGEgc3BlY2lmaWMgd2lk
dGgsIHVzZSBhCj4gc3RhbmRhcmQgdHlwZSBsaWtlIGludDMyX3QsIHVpbnQzMl90LCB1aW50NjRf
dCwgZXRjIiwgIlVzZSBod2FkZHIgZm9yCj4gZ3Vlc3QgcGh5c2ljYWwgYWRkcmVzc2VzIi4KPgo+
IERvZXMgaXQgbWFrZSBzZW5zZSB0byB5b3U/CgpJZiBJIHdhcyBub3Qgd3JvbmcsIHdlIGNhbiB1
c2UgVUlOVDY0X01BWC4KClRoYW5rcwoKPgo+IFRoYW5rcyEKPgo+ID4gT3RoZXJzIGxvb2sgZ29v
ZC4KPiA+Cj4gPiBUaGFua3MKPiA+Cj4gPiA+ICsgICAgfQo+ID4gPiArCj4gPiA+ICsgICAgdHJh
Y2Vfdmhvc3RfdmRwYV9nZXRfaW92YV9yYW5nZSh2LT5kZXYsIHYtPmlvdmFfcmFuZ2UuZmlyc3Qs
Cj4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LT5pb3ZhX3Jhbmdl
Lmxhc3QpOwo+ID4gPiArfQo+ID4gPiArCj4gPiA+ICBzdGF0aWMgaW50IHZob3N0X3ZkcGFfaW5p
dChzdHJ1Y3Qgdmhvc3RfZGV2ICpkZXYsIHZvaWQgKm9wYXF1ZSwgRXJyb3IgKiplcnJwKQo+ID4g
PiAgewo+ID4gPiAgICAgIHN0cnVjdCB2aG9zdF92ZHBhICp2Owo+ID4gPiBAQCAtMzAwLDYgKzMy
OSw3IEBAIHN0YXRpYyBpbnQgdmhvc3RfdmRwYV9pbml0KHN0cnVjdCB2aG9zdF9kZXYgKmRldiwg
dm9pZCAqb3BhcXVlLCBFcnJvciAqKmVycnApCj4gPiA+ICAgICAgdi0+bGlzdGVuZXIgPSB2aG9z
dF92ZHBhX21lbW9yeV9saXN0ZW5lcjsKPiA+ID4gICAgICB2LT5tc2dfdHlwZSA9IFZIT1NUX0lP
VExCX01TR19WMjsKPiA+ID4KPiA+ID4gKyAgICB2aG9zdF92ZHBhX2dldF9pb3ZhX3JhbmdlKHYp
Owo+ID4gPiAgICAgIHZob3N0X3ZkcGFfYWRkX3N0YXR1cyhkZXYsIFZJUlRJT19DT05GSUdfU19B
Q0tOT1dMRURHRSB8Cj4gPiA+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVklSVElP
X0NPTkZJR19TX0RSSVZFUik7Cj4gPiA+Cj4gPiA+IGRpZmYgLS1naXQgYS9ody92aXJ0aW8vdHJh
Y2UtZXZlbnRzIGIvaHcvdmlydGlvL3RyYWNlLWV2ZW50cwo+ID4gPiBpbmRleCA4ZWQxOWU5ZDBj
Li42NTBlNTIxZTM1IDEwMDY0NAo+ID4gPiAtLS0gYS9ody92aXJ0aW8vdHJhY2UtZXZlbnRzCj4g
PiA+ICsrKyBiL2h3L3ZpcnRpby90cmFjZS1ldmVudHMKPiA+ID4gQEAgLTUyLDYgKzUyLDcgQEAg
dmhvc3RfdmRwYV9zZXRfdnJpbmdfY2FsbCh2b2lkICpkZXYsIHVuc2lnbmVkIGludCBpbmRleCwg
aW50IGZkKSAiZGV2OiAlcCBpbmRleDoKPiA+ID4gIHZob3N0X3ZkcGFfZ2V0X2ZlYXR1cmVzKHZv
aWQgKmRldiwgdWludDY0X3QgZmVhdHVyZXMpICJkZXY6ICVwIGZlYXR1cmVzOiAweCUiUFJJeDY0
Cj4gPiA+ICB2aG9zdF92ZHBhX3NldF9vd25lcih2b2lkICpkZXYpICJkZXY6ICVwIgo+ID4gPiAg
dmhvc3RfdmRwYV92cV9nZXRfYWRkcih2b2lkICpkZXYsIHZvaWQgKnZxLCB1aW50NjRfdCBkZXNj
X3VzZXJfYWRkciwgdWludDY0X3QgYXZhaWxfdXNlcl9hZGRyLCB1aW50NjRfdCB1c2VkX3VzZXJf
YWRkcikgImRldjogJXAgdnE6ICVwIGRlc2NfdXNlcl9hZGRyOiAweCUiUFJJeDY0IiBhdmFpbF91
c2VyX2FkZHI6IDB4JSJQUkl4NjQiIHVzZWRfdXNlcl9hZGRyOiAweCUiUFJJeDY0Cj4gPiA+ICt2
aG9zdF92ZHBhX2dldF9pb3ZhX3JhbmdlKHZvaWQgKmRldiwgdWludDY0X3QgZmlyc3QsIHVpbnQ2
NF90IGxhc3QpICJkZXY6ICVwIGZpcnN0OiAweCUiUFJJeDY0IiBsYXN0OiAweCUiUFJJeDY0Cj4g
PiA+Cj4gPiA+ICAjIHZpcnRpby5jCj4gPiA+ICB2aXJ0cXVldWVfYWxsb2NfZWxlbWVudCh2b2lk
ICplbGVtLCBzaXplX3Qgc3osIHVuc2lnbmVkIGluX251bSwgdW5zaWduZWQgb3V0X251bSkgImVs
ZW0gJXAgc2l6ZSAlemQgaW5fbnVtICV1IG91dF9udW0gJXUiCj4gPiA+IC0tCj4gPiA+IDIuMjcu
MAo+ID4gPgo+ID4KPgoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX18KVmlydHVhbGl6YXRpb24gbWFpbGluZyBsaXN0ClZpcnR1YWxpemF0aW9uQGxpc3RzLmxp
bnV4LWZvdW5kYXRpb24ub3JnCmh0dHBzOi8vbGlzdHMubGludXhmb3VuZGF0aW9uLm9yZy9tYWls
bWFuL2xpc3RpbmZvL3ZpcnR1YWxpemF0aW9u
