Return-Path: <virtualization-bounces@lists.linux-foundation.org>
X-Original-To: lists.virtualization@lfdr.de
Delivered-To: lists.virtualization@lfdr.de
Received: from smtp1.osuosl.org (smtp1.osuosl.org [140.211.166.138])
	by mail.lfdr.de (Postfix) with ESMTPS id B8AD26BC948
	for <lists.virtualization@lfdr.de>; Thu, 16 Mar 2023 09:38:40 +0100 (CET)
Received: from localhost (localhost [127.0.0.1])
	by smtp1.osuosl.org (Postfix) with ESMTP id 5BA6080C36;
	Thu, 16 Mar 2023 08:38:39 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp1.osuosl.org 5BA6080C36
Authentication-Results: smtp1.osuosl.org;
	dkim=fail reason="signature verification failed" (1024-bit key) header.d=redhat.com header.i=@redhat.com header.a=rsa-sha256 header.s=mimecast20190719 header.b=ioAj7Rha
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp1.osuosl.org ([127.0.0.1])
	by localhost (smtp1.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Lu6oHtLykbJv; Thu, 16 Mar 2023 08:38:38 +0000 (UTC)
Received: from lists.linuxfoundation.org (lf-lists.osuosl.org [IPv6:2605:bc80:3010:104::8cd3:938])
	by smtp1.osuosl.org (Postfix) with ESMTPS id C229C80C81;
	Thu, 16 Mar 2023 08:38:37 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp1.osuosl.org C229C80C81
Received: from lf-lists.osuosl.org (localhost [127.0.0.1])
	by lists.linuxfoundation.org (Postfix) with ESMTP id F1496C008C;
	Thu, 16 Mar 2023 08:38:36 +0000 (UTC)
X-Original-To: virtualization@lists.linux-foundation.org
Delivered-To: virtualization@lists.linuxfoundation.org
Received: from smtp3.osuosl.org (smtp3.osuosl.org [IPv6:2605:bc80:3010::136])
 by lists.linuxfoundation.org (Postfix) with ESMTP id CA235C0032
 for <virtualization@lists.linux-foundation.org>;
 Thu, 16 Mar 2023 08:38:35 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by smtp3.osuosl.org (Postfix) with ESMTP id AB5E5605E0
 for <virtualization@lists.linux-foundation.org>;
 Thu, 16 Mar 2023 08:38:35 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp3.osuosl.org AB5E5605E0
Authentication-Results: smtp3.osuosl.org;
 dkim=pass (1024-bit key) header.d=redhat.com header.i=@redhat.com
 header.a=rsa-sha256 header.s=mimecast20190719 header.b=ioAj7Rha
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp3.osuosl.org ([127.0.0.1])
 by localhost (smtp3.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id fqYSLX973Ewa
 for <virtualization@lists.linux-foundation.org>;
 Thu, 16 Mar 2023 08:38:34 +0000 (UTC)
X-Greylist: domain auto-whitelisted by SQLgrey-1.8.0
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp3.osuosl.org 14D8F600D1
Received: from us-smtp-delivery-124.mimecast.com
 (us-smtp-delivery-124.mimecast.com [170.10.133.124])
 by smtp3.osuosl.org (Postfix) with ESMTPS id 14D8F600D1
 for <virtualization@lists.linux-foundation.org>;
 Thu, 16 Mar 2023 08:38:33 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=redhat.com;
 s=mimecast20190719; t=1678955912;
 h=from:from:reply-to:subject:subject:date:date:message-id:message-id:
 to:to:cc:cc:mime-version:mime-version:content-type:content-type:
 content-transfer-encoding:content-transfer-encoding:
 in-reply-to:in-reply-to:references:references;
 bh=dzJh6sIVhiyeFQIKCjTmdWjn+gxrNuoUiWPXBqU+VHc=;
 b=ioAj7Rhaz6rILrdYq9VOR2po3J4ageMnEeTSUPBeS1BskUJFuOfVwflMujBzP5U49Z101+
 rXM74CFz5CipGuDWebAIcQaI0gALuyLadSj9M8WhFU0a2qosjGDth07A/JLb8NzuDYwTc/
 QcscT1J3jzjtb0uEdnxc0FjSB97cOqs=
Received: from mail-wm1-f72.google.com (mail-wm1-f72.google.com
 [209.85.128.72]) by relay.mimecast.com with ESMTP with STARTTLS
 (version=TLSv1.3, cipher=TLS_AES_256_GCM_SHA384) id
 us-mta-214-8SDaej62OAujjTFlJxNagA-1; Thu, 16 Mar 2023 04:38:31 -0400
X-MC-Unique: 8SDaej62OAujjTFlJxNagA-1
Received: by mail-wm1-f72.google.com with SMTP id
 l17-20020a05600c1d1100b003ed29ba093cso333530wms.6
 for <virtualization@lists.linux-foundation.org>;
 Thu, 16 Mar 2023 01:38:31 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20210112; t=1678955908;
 h=in-reply-to:content-transfer-encoding:content-disposition
 :mime-version:references:message-id:subject:cc:to:from:date
 :x-gm-message-state:from:to:cc:subject:date:message-id:reply-to;
 bh=dzJh6sIVhiyeFQIKCjTmdWjn+gxrNuoUiWPXBqU+VHc=;
 b=sgwE0z5k+WXWXTEt1tnEw0rxX4/ANSPkHBQuLejfPog4Vl0/js4hzwH4jczk7mb8kQ
 2dKDiL7BKWAQ+wJr3mm1duCQqJSVNV+Ve2xMMqfeqVloA9u+7AqJYoWP2lPPX8C8YFge
 ZfOcH/FHOQunr3ZSqXL6tP8usyu5msWg0mGE3QGjBg7/GVeWPWgO5VqYMmaC2H8R8z8v
 dVgYIBKP7mwR/lYZ8LxKMrr2hVXO5T7SvI7eEN7OiZRaeexBjUyk8+atbho6cxHI05D6
 s9Jq4p3rCjtFtgnKOI+jZHB/WhmuFj52K7qkROKyOaPpL8ccjeURJsbTsTvvvYB468eg
 iEVA==
X-Gm-Message-State: AO0yUKWjGwTARjW+kRVzSwK3TSeZJJJsyPay2lb7xkh2LRkvMEdiYs3M
 1JSOhbTduz5Ov4y1qxKdtuHpdaWObA4T9iMARiepklbeFfg+tV9hXBwJ60fWbrDKzqBtPH+REWe
 DTcepCZ++zn4t4TCNJeRFsCZ8i2Btemn9ZIMxBfioHA==
X-Received: by 2002:a5d:6304:0:b0:2ce:a13b:76b4 with SMTP id
 i4-20020a5d6304000000b002cea13b76b4mr3730838wru.24.1678955908599; 
 Thu, 16 Mar 2023 01:38:28 -0700 (PDT)
X-Google-Smtp-Source: AK7set+XWpF24aY7eonF1LBR7DCOh17PTZr5Eke9UGKmTA/J2Y6eMkhHwpioi0MF9qnMf6V3Qo8aGw==
X-Received: by 2002:a5d:6304:0:b0:2ce:a13b:76b4 with SMTP id
 i4-20020a5d6304000000b002cea13b76b4mr3730825wru.24.1678955908276; 
 Thu, 16 Mar 2023 01:38:28 -0700 (PDT)
Received: from sgarzare-redhat (host-82-57-51-170.retail.telecomitalia.it.
 [82.57.51.170]) by smtp.gmail.com with ESMTPSA id
 b10-20020a5d550a000000b002c706c754fesm6539517wrv.32.2023.03.16.01.38.27
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Thu, 16 Mar 2023 01:38:27 -0700 (PDT)
Date: Thu, 16 Mar 2023 09:38:25 +0100
From: Stefano Garzarella <sgarzare@redhat.com>
To: Jason Wang <jasowang@redhat.com>
Subject: Re: [PATCH v2 4/8] vringh: support VA with iotlb
Message-ID: <20230316083825.wslrk7abt4nts4us@sgarzare-redhat>
References: <20230302113421.174582-1-sgarzare@redhat.com>
 <20230302113421.174582-5-sgarzare@redhat.com>
 <CACGkMEui+-8JcTOsF+=b3W7oduMLsaL3Y7upUDmAMu4zPcrQTg@mail.gmail.com>
MIME-Version: 1.0
In-Reply-To: <CACGkMEui+-8JcTOsF+=b3W7oduMLsaL3Y7upUDmAMu4zPcrQTg@mail.gmail.com>
X-Mimecast-Spam-Score: 0
X-Mimecast-Originator: redhat.com
Content-Disposition: inline
Cc: Andrey Zhadchenko <andrey.zhadchenko@virtuozzo.com>, kvm@vger.kernel.org,
 "Michael S. Tsirkin" <mst@redhat.com>, netdev@vger.kernel.org,
 linux-kernel@vger.kernel.org, virtualization@lists.linux-foundation.org,
 eperezma@redhat.com, stefanha@redhat.com
X-BeenThere: virtualization@lists.linux-foundation.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: Linux virtualization <virtualization.lists.linux-foundation.org>
List-Unsubscribe: <https://lists.linuxfoundation.org/mailman/options/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=unsubscribe>
List-Archive: <http://lists.linuxfoundation.org/pipermail/virtualization/>
List-Post: <mailto:virtualization@lists.linux-foundation.org>
List-Help: <mailto:virtualization-request@lists.linux-foundation.org?subject=help>
List-Subscribe: <https://lists.linuxfoundation.org/mailman/listinfo/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: virtualization-bounces@lists.linux-foundation.org
Sender: "Virtualization" <virtualization-bounces@lists.linux-foundation.org>

T24gVHVlLCBNYXIgMTQsIDIwMjMgYXQgMTI6NTM6NTdQTSArMDgwMCwgSmFzb24gV2FuZyB3cm90
ZToKPk9uIFRodSwgTWFyIDIsIDIwMjMgYXQgNzozNeKAr1BNIFN0ZWZhbm8gR2FyemFyZWxsYSA8
c2dhcnphcmVAcmVkaGF0LmNvbT4gd3JvdGU6Cj4+Cj4+IHZEUEEgc3VwcG9ydHMgdGhlIHBvc3Np
YmlsaXR5IHRvIHVzZSB1c2VyIFZBIGluIHRoZSBpb3RsYiBtZXNzYWdlcy4KPj4gU28sIGxldCdz
IGFkZCBzdXBwb3J0IGZvciB1c2VyIFZBIGluIHZyaW5naCB0byB1c2UgaXQgaW4gdGhlIHZEUEEK
Pj4gc2ltdWxhdG9ycy4KPj4KPj4gU2lnbmVkLW9mZi1ieTogU3RlZmFubyBHYXJ6YXJlbGxhIDxz
Z2FyemFyZUByZWRoYXQuY29tPgo+PiAtLS0KPj4KPj4gTm90ZXM6Cj4+ICAgICB2MjoKPj4gICAg
IC0gcmVwbGFjZSBrbWFwX2F0b21pYygpIHdpdGgga21hcF9sb2NhbF9wYWdlKCkgW3NlZSBwcmV2
aW91cyBwYXRjaF0KPj4gICAgIC0gZml4IGNhc3Qgd2FybmluZ3Mgd2hlbiBidWlsZCB3aXRoIFc9
MSBDPTEKPj4KPj4gIGluY2x1ZGUvbGludXgvdnJpbmdoLmggICAgICAgICAgICB8ICAgNSArLQo+
PiAgZHJpdmVycy92ZHBhL21seDUvbmV0L21seDVfdm5ldC5jIHwgICAyICstCj4+ICBkcml2ZXJz
L3ZkcGEvdmRwYV9zaW0vdmRwYV9zaW0uYyAgfCAgIDQgKy0KPj4gIGRyaXZlcnMvdmhvc3QvdnJp
bmdoLmMgICAgICAgICAgICB8IDI0NyArKysrKysrKysrKysrKysrKysrKysrKystLS0tLS0KPj4g
IDQgZmlsZXMgY2hhbmdlZCwgMjA1IGluc2VydGlvbnMoKyksIDUzIGRlbGV0aW9ucygtKQo+Pgo+
PiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS9saW51eC92cmluZ2guaCBiL2luY2x1ZGUvbGludXgvdnJp
bmdoLmgKPj4gaW5kZXggMTk5MWEwMmM2NDMxLi5kMzliOWYyZGNiYTAgMTAwNjQ0Cj4+IC0tLSBh
L2luY2x1ZGUvbGludXgvdnJpbmdoLmgKPj4gKysrIGIvaW5jbHVkZS9saW51eC92cmluZ2guaAo+
PiBAQCAtMzIsNiArMzIsOSBAQCBzdHJ1Y3QgdnJpbmdoIHsKPj4gICAgICAgICAvKiBDYW4gd2Ug
Z2V0IGF3YXkgd2l0aCB3ZWFrIGJhcnJpZXJzPyAqLwo+PiAgICAgICAgIGJvb2wgd2Vha19iYXJy
aWVyczsKPj4KPj4gKyAgICAgICAvKiBVc2UgdXNlcidzIFZBICovCj4+ICsgICAgICAgYm9vbCB1
c2VfdmE7Cj4+ICsKPj4gICAgICAgICAvKiBMYXN0IGF2YWlsYWJsZSBpbmRleCB3ZSBzYXcgKGll
LiB3aGVyZSB3ZSdyZSB1cCB0bykuICovCj4+ICAgICAgICAgdTE2IGxhc3RfYXZhaWxfaWR4Owo+
Pgo+PiBAQCAtMjc5LDcgKzI4Miw3IEBAIHZvaWQgdnJpbmdoX3NldF9pb3RsYihzdHJ1Y3QgdnJp
bmdoICp2cmgsIHN0cnVjdCB2aG9zdF9pb3RsYiAqaW90bGIsCj4+ICAgICAgICAgICAgICAgICAg
ICAgICBzcGlubG9ja190ICppb3RsYl9sb2NrKTsKPj4KPj4gIGludCB2cmluZ2hfaW5pdF9pb3Rs
YihzdHJ1Y3QgdnJpbmdoICp2cmgsIHU2NCBmZWF0dXJlcywKPj4gLSAgICAgICAgICAgICAgICAg
ICAgIHVuc2lnbmVkIGludCBudW0sIGJvb2wgd2Vha19iYXJyaWVycywKPj4gKyAgICAgICAgICAg
ICAgICAgICAgIHVuc2lnbmVkIGludCBudW0sIGJvb2wgd2Vha19iYXJyaWVycywgYm9vbCB1c2Vf
dmEsCj4+ICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdnJpbmdfZGVzYyAqZGVzYywKPj4g
ICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB2cmluZ19hdmFpbCAqYXZhaWwsCj4+ICAgICAg
ICAgICAgICAgICAgICAgICBzdHJ1Y3QgdnJpbmdfdXNlZCAqdXNlZCk7Cj4+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL3ZkcGEvbWx4NS9uZXQvbWx4NV92bmV0LmMgYi9kcml2ZXJzL3ZkcGEvbWx4NS9u
ZXQvbWx4NV92bmV0LmMKPj4gaW5kZXggM2EwZTcyMWFlZjA1Li5iYWJjOGRkMTcxYTYgMTAwNjQ0
Cj4+IC0tLSBhL2RyaXZlcnMvdmRwYS9tbHg1L25ldC9tbHg1X3ZuZXQuYwo+PiArKysgYi9kcml2
ZXJzL3ZkcGEvbWx4NS9uZXQvbWx4NV92bmV0LmMKPj4gQEAgLTI1MzcsNyArMjUzNyw3IEBAIHN0
YXRpYyBpbnQgc2V0dXBfY3ZxX3ZyaW5nKHN0cnVjdCBtbHg1X3ZkcGFfZGV2ICptdmRldikKPj4K
Pj4gICAgICAgICBpZiAobXZkZXYtPmFjdHVhbF9mZWF0dXJlcyAmIEJJVF9VTEwoVklSVElPX05F
VF9GX0NUUkxfVlEpKQo+PiAgICAgICAgICAgICAgICAgZXJyID0gdnJpbmdoX2luaXRfaW90bGIo
JmN2cS0+dnJpbmcsIG12ZGV2LT5hY3R1YWxfZmVhdHVyZXMsCj4+IC0gICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBNTFg1X0NWUV9NQVhfRU5ULCBmYWxzZSwKPj4gKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1MWDVfQ1ZRX01BWF9FTlQsIGZhbHNl
LCBmYWxzZSwKPj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzdHJ1
Y3QgdnJpbmdfZGVzYyAqKSh1aW50cHRyX3QpY3ZxLT5kZXNjX2FkZHIsCj4+ICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc3RydWN0IHZyaW5nX2F2YWlsICopKHVpbnRw
dHJfdCljdnEtPmRyaXZlcl9hZGRyLAo+PiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgKHN0cnVjdCB2cmluZ191c2VkICopKHVpbnRwdHJfdCljdnEtPmRldmljZV9hZGRy
KTsKPj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvdmRwYS92ZHBhX3NpbS92ZHBhX3NpbS5jIGIvZHJp
dmVycy92ZHBhL3ZkcGFfc2ltL3ZkcGFfc2ltLmMKPj4gaW5kZXggNmEwYTY1ODE0NjI2Li40ODFl
YjE1NjY1OGIgMTAwNjQ0Cj4+IC0tLSBhL2RyaXZlcnMvdmRwYS92ZHBhX3NpbS92ZHBhX3NpbS5j
Cj4+ICsrKyBiL2RyaXZlcnMvdmRwYS92ZHBhX3NpbS92ZHBhX3NpbS5jCj4+IEBAIC02MCw3ICs2
MCw3IEBAIHN0YXRpYyB2b2lkIHZkcGFzaW1fcXVldWVfcmVhZHkoc3RydWN0IHZkcGFzaW0gKnZk
cGFzaW0sIHVuc2lnbmVkIGludCBpZHgpCj4+ICAgICAgICAgc3RydWN0IHZkcGFzaW1fdmlydHF1
ZXVlICp2cSA9ICZ2ZHBhc2ltLT52cXNbaWR4XTsKPj4gICAgICAgICB1aW50MTZfdCBsYXN0X2F2
YWlsX2lkeCA9IHZxLT52cmluZy5sYXN0X2F2YWlsX2lkeDsKPj4KPj4gLSAgICAgICB2cmluZ2hf
aW5pdF9pb3RsYigmdnEtPnZyaW5nLCB2ZHBhc2ltLT5mZWF0dXJlcywgdnEtPm51bSwgdHJ1ZSwK
Pj4gKyAgICAgICB2cmluZ2hfaW5pdF9pb3RsYigmdnEtPnZyaW5nLCB2ZHBhc2ltLT5mZWF0dXJl
cywgdnEtPm51bSwgdHJ1ZSwgZmFsc2UsCj4+ICAgICAgICAgICAgICAgICAgICAgICAgICAgKHN0
cnVjdCB2cmluZ19kZXNjICopKHVpbnRwdHJfdCl2cS0+ZGVzY19hZGRyLAo+PiAgICAgICAgICAg
ICAgICAgICAgICAgICAgIChzdHJ1Y3QgdnJpbmdfYXZhaWwgKikKPj4gICAgICAgICAgICAgICAg
ICAgICAgICAgICAodWludHB0cl90KXZxLT5kcml2ZXJfYWRkciwKPj4gQEAgLTgxLDcgKzgxLDcg
QEAgc3RhdGljIHZvaWQgdmRwYXNpbV92cV9yZXNldChzdHJ1Y3QgdmRwYXNpbSAqdmRwYXNpbSwK
Pj4gICAgICAgICB2cS0+Y2IgPSBOVUxMOwo+PiAgICAgICAgIHZxLT5wcml2YXRlID0gTlVMTDsK
Pj4gICAgICAgICB2cmluZ2hfaW5pdF9pb3RsYigmdnEtPnZyaW5nLCB2ZHBhc2ltLT5kZXZfYXR0
ci5zdXBwb3J0ZWRfZmVhdHVyZXMsCj4+IC0gICAgICAgICAgICAgICAgICAgICAgICAgVkRQQVNJ
TV9RVUVVRV9NQVgsIGZhbHNlLCBOVUxMLCBOVUxMLCBOVUxMKTsKPj4gKyAgICAgICAgICAgICAg
ICAgICAgICAgICBWRFBBU0lNX1FVRVVFX01BWCwgZmFsc2UsIGZhbHNlLCBOVUxMLCBOVUxMLCBO
VUxMKTsKPj4KPj4gICAgICAgICB2cS0+dnJpbmcubm90aWZ5ID0gTlVMTDsKPj4gIH0KPj4gZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvdmhvc3QvdnJpbmdoLmMgYi9kcml2ZXJzL3Zob3N0L3ZyaW5naC5j
Cj4+IGluZGV4IDBiYTNlZjgwOWU0OC4uNjFjNzljZWE0NGNhIDEwMDY0NAo+PiAtLS0gYS9kcml2
ZXJzL3Zob3N0L3ZyaW5naC5jCj4+ICsrKyBiL2RyaXZlcnMvdmhvc3QvdnJpbmdoLmMKPj4gQEAg
LTEwOTQsMTUgKzEwOTQsOTkgQEAgRVhQT1JUX1NZTUJPTCh2cmluZ2hfbmVlZF9ub3RpZnlfa2Vy
bik7Cj4+Cj4+ICAjaWYgSVNfUkVBQ0hBQkxFKENPTkZJR19WSE9TVF9JT1RMQikKPj4KPj4gLXN0
YXRpYyBpbnQgaW90bGJfdHJhbnNsYXRlKGNvbnN0IHN0cnVjdCB2cmluZ2ggKnZyaCwKPj4gLSAg
ICAgICAgICAgICAgICAgICAgICAgICAgdTY0IGFkZHIsIHU2NCBsZW4sIHU2NCAqdHJhbnNsYXRl
ZCwKPj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGJpb192ZWMgaW92W10sCj4+
IC0gICAgICAgICAgICAgICAgICAgICAgICAgIGludCBpb3Zfc2l6ZSwgdTMyIHBlcm0pCj4+ICtz
dGF0aWMgaW50IGlvdGxiX3RyYW5zbGF0ZV92YShjb25zdCBzdHJ1Y3QgdnJpbmdoICp2cmgsCj4+
ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHU2NCBhZGRyLCB1NjQgbGVuLCB1NjQgKnRy
YW5zbGF0ZWQsCj4+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBpb3ZlYyBp
b3ZbXSwKPj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50IGlvdl9zaXplLCB1MzIg
cGVybSkKPj4gIHsKPj4gICAgICAgICBzdHJ1Y3Qgdmhvc3RfaW90bGJfbWFwICptYXA7Cj4+ICAg
ICAgICAgc3RydWN0IHZob3N0X2lvdGxiICppb3RsYiA9IHZyaC0+aW90bGI7Cj4+ICsgICAgICAg
dTY0IHMgPSAwLCBsYXN0ID0gYWRkciArIGxlbiAtIDE7Cj4+ICAgICAgICAgaW50IHJldCA9IDA7
Cj4+ICsKPj4gKyAgICAgICBzcGluX2xvY2sodnJoLT5pb3RsYl9sb2NrKTsKPj4gKwo+PiArICAg
ICAgIHdoaWxlIChsZW4gPiBzKSB7Cj4+ICsgICAgICAgICAgICAgICB1NjQgc2l6ZTsKPj4gKwo+
PiArICAgICAgICAgICAgICAgaWYgKHVubGlrZWx5KHJldCA+PSBpb3Zfc2l6ZSkpIHsKPj4gKyAg
ICAgICAgICAgICAgICAgICAgICAgcmV0ID0gLUVOT0JVRlM7Cj4+ICsgICAgICAgICAgICAgICAg
ICAgICAgIGJyZWFrOwo+PiArICAgICAgICAgICAgICAgfQo+PiArCj4+ICsgICAgICAgICAgICAg
ICBtYXAgPSB2aG9zdF9pb3RsYl9pdHJlZV9maXJzdChpb3RsYiwgYWRkciwgbGFzdCk7Cj4+ICsg
ICAgICAgICAgICAgICBpZiAoIW1hcCB8fCBtYXAtPnN0YXJ0ID4gYWRkcikgewo+PiArICAgICAg
ICAgICAgICAgICAgICAgICByZXQgPSAtRUlOVkFMOwo+PiArICAgICAgICAgICAgICAgICAgICAg
ICBicmVhazsKPj4gKyAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIShtYXAtPnBlcm0gJiBwZXJt
KSkgewo+PiArICAgICAgICAgICAgICAgICAgICAgICByZXQgPSAtRVBFUk07Cj4+ICsgICAgICAg
ICAgICAgICAgICAgICAgIGJyZWFrOwo+PiArICAgICAgICAgICAgICAgfQo+PiArCj4+ICsgICAg
ICAgICAgICAgICBzaXplID0gbWFwLT5zaXplIC0gYWRkciArIG1hcC0+c3RhcnQ7Cj4+ICsgICAg
ICAgICAgICAgICBpb3ZbcmV0XS5pb3ZfbGVuID0gbWluKGxlbiAtIHMsIHNpemUpOwo+PiArICAg
ICAgICAgICAgICAgaW92W3JldF0uaW92X2Jhc2UgPSAodm9pZCBfX3VzZXIgKikodW5zaWduZWQg
bG9uZykKPj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG1hcC0+YWRkciAr
IGFkZHIgLSBtYXAtPnN0YXJ0KTsKPj4gKyAgICAgICAgICAgICAgIHMgKz0gc2l6ZTsKPj4gKyAg
ICAgICAgICAgICAgIGFkZHIgKz0gc2l6ZTsKPj4gKyAgICAgICAgICAgICAgICsrcmV0Owo+PiAr
ICAgICAgIH0KPj4gKwo+PiArICAgICAgIHNwaW5fdW5sb2NrKHZyaC0+aW90bGJfbG9jayk7Cj4+
ICsKPj4gKyAgICAgICBpZiAodHJhbnNsYXRlZCkKPj4gKyAgICAgICAgICAgICAgICp0cmFuc2xh
dGVkID0gbWluKGxlbiwgcyk7Cj4+ICsKPj4gKyAgICAgICByZXR1cm4gcmV0Owo+PiArfQo+PiAr
Cj4+ICtzdGF0aWMgaW5saW5lIGludCBjb3B5X2Zyb21fdmEoY29uc3Qgc3RydWN0IHZyaW5naCAq
dnJoLCB2b2lkICpkc3QsIHZvaWQgKnNyYywKPj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHU2NCBsZW4sIHU2NCAqdHJhbnNsYXRlZCkKPj4gK3sKPj4gKyAgICAgICBzdHJ1Y3QgaW92
ZWMgaW92WzE2XTsKPj4gKyAgICAgICBzdHJ1Y3QgaW92X2l0ZXIgaXRlcjsKPj4gKyAgICAgICBp
bnQgcmV0Owo+PiArCj4+ICsgICAgICAgcmV0ID0gaW90bGJfdHJhbnNsYXRlX3ZhKHZyaCwgKHU2
NCkodWludHB0cl90KXNyYywgbGVuLCB0cmFuc2xhdGVkLCBpb3YsCj4+ICsgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIEFSUkFZX1NJWkUoaW92KSwgVkhPU1RfTUFQX1JPKTsKPj4gKyAg
ICAgICBpZiAocmV0ID09IC1FTk9CVUZTKQo+PiArICAgICAgICAgICAgICAgcmV0ID0gQVJSQVlf
U0laRShpb3YpOwo+PiArICAgICAgIGVsc2UgaWYgKHJldCA8IDApCj4+ICsgICAgICAgICAgICAg
ICByZXR1cm4gcmV0Owo+PiArCj4+ICsgICAgICAgaW92X2l0ZXJfaW5pdCgmaXRlciwgSVRFUl9T
T1VSQ0UsIGlvdiwgcmV0LCAqdHJhbnNsYXRlZCk7Cj4+ICsKPj4gKyAgICAgICByZXR1cm4gY29w
eV9mcm9tX2l0ZXIoZHN0LCAqdHJhbnNsYXRlZCwgJml0ZXIpOwo+PiArfQo+PiArCj4+ICtzdGF0
aWMgaW5saW5lIGludCBjb3B5X3RvX3ZhKGNvbnN0IHN0cnVjdCB2cmluZ2ggKnZyaCwgdm9pZCAq
ZHN0LCB2b2lkICpzcmMsCj4+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgdTY0IGxlbiwg
dTY0ICp0cmFuc2xhdGVkKQo+PiArewo+PiArICAgICAgIHN0cnVjdCBpb3ZlYyBpb3ZbMTZdOwo+
PiArICAgICAgIHN0cnVjdCBpb3ZfaXRlciBpdGVyOwo+PiArICAgICAgIGludCByZXQ7Cj4+ICsK
Pj4gKyAgICAgICByZXQgPSBpb3RsYl90cmFuc2xhdGVfdmEodnJoLCAodTY0KSh1aW50cHRyX3Qp
ZHN0LCBsZW4sIHRyYW5zbGF0ZWQsIGlvdiwKPj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgQVJSQVlfU0laRShpb3YpLCBWSE9TVF9NQVBfV08pOwo+PiArICAgICAgIGlmIChyZXQg
PT0gLUVOT0JVRlMpCj4+ICsgICAgICAgICAgICAgICByZXQgPSBBUlJBWV9TSVpFKGlvdik7Cj4+
ICsgICAgICAgZWxzZSBpZiAocmV0IDwgMCkKPj4gKyAgICAgICAgICAgICAgIHJldHVybiByZXQ7
Cj4+ICsKPj4gKyAgICAgICBpb3ZfaXRlcl9pbml0KCZpdGVyLCBJVEVSX0RFU1QsIGlvdiwgcmV0
LCAqdHJhbnNsYXRlZCk7Cj4+ICsKPj4gKyAgICAgICByZXR1cm4gY29weV90b19pdGVyKHNyYywg
KnRyYW5zbGF0ZWQsICZpdGVyKTsKPj4gK30KPj4gKwo+PiArc3RhdGljIGludCBpb3RsYl90cmFu
c2xhdGVfcGEoY29uc3Qgc3RydWN0IHZyaW5naCAqdnJoLAo+PiArICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICB1NjQgYWRkciwgdTY0IGxlbiwgdTY0ICp0cmFuc2xhdGVkLAo+PiArICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgYmlvX3ZlYyBpb3ZbXSwKPj4gKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgaW50IGlvdl9zaXplLCB1MzIgcGVybSkKPj4gK3sKPj4gKyAg
ICAgICBzdHJ1Y3Qgdmhvc3RfaW90bGJfbWFwICptYXA7Cj4+ICsgICAgICAgc3RydWN0IHZob3N0
X2lvdGxiICppb3RsYiA9IHZyaC0+aW90bGI7Cj4+ICAgICAgICAgdTY0IHMgPSAwLCBsYXN0ID0g
YWRkciArIGxlbiAtIDE7Cj4+ICsgICAgICAgaW50IHJldCA9IDA7Cj4+Cj4+ICAgICAgICAgc3Bp
bl9sb2NrKHZyaC0+aW90bGJfbG9jayk7Cj4+Cj4+IEBAIC0xMTQxLDI4ICsxMjI1LDYxIEBAIHN0
YXRpYyBpbnQgaW90bGJfdHJhbnNsYXRlKGNvbnN0IHN0cnVjdCB2cmluZ2ggKnZyaCwKPj4gICAg
ICAgICByZXR1cm4gcmV0Owo+PiAgfQo+Pgo+PiArc3RhdGljIGlubGluZSBpbnQgY29weV9mcm9t
X3BhKGNvbnN0IHN0cnVjdCB2cmluZ2ggKnZyaCwgdm9pZCAqZHN0LCB2b2lkICpzcmMsCj4+ICsg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1NjQgbGVuLCB1NjQgKnRyYW5zbGF0ZWQpCj4+
ICt7Cj4+ICsgICAgICAgc3RydWN0IGJpb192ZWMgaW92WzE2XTsKPj4gKyAgICAgICBzdHJ1Y3Qg
aW92X2l0ZXIgaXRlcjsKPj4gKyAgICAgICBpbnQgcmV0Owo+PiArCj4+ICsgICAgICAgcmV0ID0g
aW90bGJfdHJhbnNsYXRlX3BhKHZyaCwgKHU2NCkodWludHB0cl90KXNyYywgbGVuLCB0cmFuc2xh
dGVkLCBpb3YsCj4+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFSUkFZX1NJWkUo
aW92KSwgVkhPU1RfTUFQX1JPKTsKPj4gKyAgICAgICBpZiAocmV0ID09IC1FTk9CVUZTKQo+PiAr
ICAgICAgICAgICAgICAgcmV0ID0gQVJSQVlfU0laRShpb3YpOwo+PiArICAgICAgIGVsc2UgaWYg
KHJldCA8IDApCj4+ICsgICAgICAgICAgICAgICByZXR1cm4gcmV0Owo+PiArCj4+ICsgICAgICAg
aW92X2l0ZXJfYnZlYygmaXRlciwgSVRFUl9TT1VSQ0UsIGlvdiwgcmV0LCAqdHJhbnNsYXRlZCk7
Cj4+ICsKPj4gKyAgICAgICByZXR1cm4gY29weV9mcm9tX2l0ZXIoZHN0LCAqdHJhbnNsYXRlZCwg
Jml0ZXIpOwo+PiArfQo+PiArCj4+ICtzdGF0aWMgaW5saW5lIGludCBjb3B5X3RvX3BhKGNvbnN0
IHN0cnVjdCB2cmluZ2ggKnZyaCwgdm9pZCAqZHN0LCB2b2lkICpzcmMsCj4+ICsgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgdTY0IGxlbiwgdTY0ICp0cmFuc2xhdGVkKQo+PiArewo+PiArICAg
ICAgIHN0cnVjdCBiaW9fdmVjIGlvdlsxNl07Cj4+ICsgICAgICAgc3RydWN0IGlvdl9pdGVyIGl0
ZXI7Cj4+ICsgICAgICAgaW50IHJldDsKPj4gKwo+PiArICAgICAgIHJldCA9IGlvdGxiX3RyYW5z
bGF0ZV9wYSh2cmgsICh1NjQpKHVpbnRwdHJfdClkc3QsIGxlbiwgdHJhbnNsYXRlZCwgaW92LAo+
PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBUlJBWV9TSVpFKGlvdiksIFZIT1NU
X01BUF9XTyk7Cj4+ICsgICAgICAgaWYgKHJldCA9PSAtRU5PQlVGUykKPj4gKyAgICAgICAgICAg
ICAgIHJldCA9IEFSUkFZX1NJWkUoaW92KTsKPj4gKyAgICAgICBlbHNlIGlmIChyZXQgPCAwKQo+
PiArICAgICAgICAgICAgICAgcmV0dXJuIHJldDsKPj4gKwo+PiArICAgICAgIGlvdl9pdGVyX2J2
ZWMoJml0ZXIsIElURVJfREVTVCwgaW92LCByZXQsICp0cmFuc2xhdGVkKTsKPj4gKwo+PiArICAg
ICAgIHJldHVybiBjb3B5X3RvX2l0ZXIoc3JjLCAqdHJhbnNsYXRlZCwgJml0ZXIpOwo+PiArfQo+
PiArCj4+ICBzdGF0aWMgaW5saW5lIGludCBjb3B5X2Zyb21faW90bGIoY29uc3Qgc3RydWN0IHZy
aW5naCAqdnJoLCB2b2lkICpkc3QsCj4+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICB2b2lkICpzcmMsIHNpemVfdCBsZW4pCj4+ICB7Cj4+ICAgICAgICAgdTY0IHRvdGFsX3RyYW5z
bGF0ZWQgPSAwOwo+Pgo+PiAgICAgICAgIHdoaWxlICh0b3RhbF90cmFuc2xhdGVkIDwgbGVuKSB7
Cj4+IC0gICAgICAgICAgICAgICBzdHJ1Y3QgYmlvX3ZlYyBpb3ZbMTZdOwo+PiAtICAgICAgICAg
ICAgICAgc3RydWN0IGlvdl9pdGVyIGl0ZXI7Cj4+ICAgICAgICAgICAgICAgICB1NjQgdHJhbnNs
YXRlZDsKPj4gICAgICAgICAgICAgICAgIGludCByZXQ7Cj4+Cj4+IC0gICAgICAgICAgICAgICBy
ZXQgPSBpb3RsYl90cmFuc2xhdGUodnJoLCAodTY0KSh1aW50cHRyX3Qpc3JjLAo+PiAtICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlbiAtIHRvdGFsX3RyYW5zbGF0ZWQsICZ0
cmFuc2xhdGVkLAo+PiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlvdiwg
QVJSQVlfU0laRShpb3YpLCBWSE9TVF9NQVBfUk8pOwo+PiAtICAgICAgICAgICAgICAgaWYgKHJl
dCA9PSAtRU5PQlVGUykKPj4gLSAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gQVJSQVlfU0la
RShpb3YpOwo+PiAtICAgICAgICAgICAgICAgZWxzZSBpZiAocmV0IDwgMCkKPj4gLSAgICAgICAg
ICAgICAgICAgICAgICAgcmV0dXJuIHJldDsKPj4gLQo+PiAtICAgICAgICAgICAgICAgaW92X2l0
ZXJfYnZlYygmaXRlciwgSVRFUl9TT1VSQ0UsIGlvdiwgcmV0LCB0cmFuc2xhdGVkKTsKPj4gKyAg
ICAgICAgICAgICAgIGlmICh2cmgtPnVzZV92YSkgewo+PiArICAgICAgICAgICAgICAgICAgICAg
ICByZXQgPSBjb3B5X2Zyb21fdmEodnJoLCBkc3QsIHNyYywKPj4gKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIGxlbiAtIHRvdGFsX3RyYW5zbGF0ZWQsICZ0cmFuc2xh
dGVkKTsKPj4gKyAgICAgICAgICAgICAgIH0gZWxzZSB7Cj4+ICsgICAgICAgICAgICAgICAgICAg
ICAgIHJldCA9IGNvcHlfZnJvbV9wYSh2cmgsIGRzdCwgc3JjLAo+PiArICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVuIC0gdG90YWxfdHJhbnNsYXRlZCwgJnRyYW5z
bGF0ZWQpOwo+PiArICAgICAgICAgICAgICAgfQo+Pgo+PiAtICAgICAgICAgICAgICAgcmV0ID0g
Y29weV9mcm9tX2l0ZXIoZHN0LCB0cmFuc2xhdGVkLCAmaXRlcik7Cj4+ICAgICAgICAgICAgICAg
ICBpZiAocmV0IDwgMCkKPj4gICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDsKPj4K
Pj4gQEAgLTExODAsMjIgKzEyOTcsMTcgQEAgc3RhdGljIGlubGluZSBpbnQgY29weV90b19pb3Rs
Yihjb25zdCBzdHJ1Y3QgdnJpbmdoICp2cmgsIHZvaWQgKmRzdCwKPj4gICAgICAgICB1NjQgdG90
YWxfdHJhbnNsYXRlZCA9IDA7Cj4+Cj4+ICAgICAgICAgd2hpbGUgKHRvdGFsX3RyYW5zbGF0ZWQg
PCBsZW4pIHsKPj4gLSAgICAgICAgICAgICAgIHN0cnVjdCBiaW9fdmVjIGlvdlsxNl07Cj4+IC0g
ICAgICAgICAgICAgICBzdHJ1Y3QgaW92X2l0ZXIgaXRlcjsKPj4gICAgICAgICAgICAgICAgIHU2
NCB0cmFuc2xhdGVkOwo+PiAgICAgICAgICAgICAgICAgaW50IHJldDsKPj4KPj4gLSAgICAgICAg
ICAgICAgIHJldCA9IGlvdGxiX3RyYW5zbGF0ZSh2cmgsICh1NjQpKHVpbnRwdHJfdClkc3QsCj4+
IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVuIC0gdG90YWxfdHJhbnNs
YXRlZCwgJnRyYW5zbGF0ZWQsCj4+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgaW92LCBBUlJBWV9TSVpFKGlvdiksIFZIT1NUX01BUF9XTyk7Cj4+IC0gICAgICAgICAgICAg
ICBpZiAocmV0ID09IC1FTk9CVUZTKQo+PiAtICAgICAgICAgICAgICAgICAgICAgICByZXQgPSBB
UlJBWV9TSVpFKGlvdik7Cj4+IC0gICAgICAgICAgICAgICBlbHNlIGlmIChyZXQgPCAwKQo+PiAt
ICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0Owo+PiAtCj4+IC0gICAgICAgICAgICAg
ICBpb3ZfaXRlcl9idmVjKCZpdGVyLCBJVEVSX0RFU1QsIGlvdiwgcmV0LCB0cmFuc2xhdGVkKTsK
Pj4gKyAgICAgICAgICAgICAgIGlmICh2cmgtPnVzZV92YSkgewo+PiArICAgICAgICAgICAgICAg
ICAgICAgICByZXQgPSBjb3B5X3RvX3ZhKHZyaCwgZHN0LCBzcmMsCj4+ICsgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVuIC0gdG90YWxfdHJhbnNsYXRlZCwgJnRyYW5z
bGF0ZWQpOwo+PiArICAgICAgICAgICAgICAgfSBlbHNlIHsKPj4gKyAgICAgICAgICAgICAgICAg
ICAgICAgcmV0ID0gY29weV90b19wYSh2cmgsIGRzdCwgc3JjLAo+PiArICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIGxlbiAtIHRvdGFsX3RyYW5zbGF0ZWQsICZ0cmFuc2xh
dGVkKTsKPj4gKyAgICAgICAgICAgICAgIH0KPj4KPj4gLSAgICAgICAgICAgICAgIHJldCA9IGNv
cHlfdG9faXRlcihzcmMsIHRyYW5zbGF0ZWQsICZpdGVyKTsKPj4gICAgICAgICAgICAgICAgIGlm
IChyZXQgPCAwKQo+PiAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0Owo+Pgo+PiBA
QCAtMTIxMCwyMCArMTMyMiwzNyBAQCBzdGF0aWMgaW5saW5lIGludCBjb3B5X3RvX2lvdGxiKGNv
bnN0IHN0cnVjdCB2cmluZ2ggKnZyaCwgdm9pZCAqZHN0LAo+PiAgc3RhdGljIGlubGluZSBpbnQg
Z2V0dTE2X2lvdGxiKGNvbnN0IHN0cnVjdCB2cmluZ2ggKnZyaCwKPj4gICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIHUxNiAqdmFsLCBjb25zdCBfX3ZpcnRpbzE2ICpwKQo+PiAgewo+PiAt
ICAgICAgIHN0cnVjdCBiaW9fdmVjIGlvdjsKPj4gLSAgICAgICB2b2lkICprYWRkciwgKmZyb207
Cj4+ICAgICAgICAgaW50IHJldDsKPj4KPj4gICAgICAgICAvKiBBdG9taWMgcmVhZCBpcyBuZWVk
ZWQgZm9yIGdldHUxNiAqLwo+PiAtICAgICAgIHJldCA9IGlvdGxiX3RyYW5zbGF0ZSh2cmgsICh1
NjQpKHVpbnRwdHJfdClwLCBzaXplb2YoKnApLCBOVUxMLAo+PiAtICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAmaW92LCAxLCBWSE9TVF9NQVBfUk8pOwo+PiAtICAgICAgIGlmIChyZXQgPCAw
KQo+PiAtICAgICAgICAgICAgICAgcmV0dXJuIHJldDsKPj4gKyAgICAgICBpZiAodnJoLT51c2Vf
dmEpIHsKPj4gKyAgICAgICAgICAgICAgIHN0cnVjdCBpb3ZlYyBpb3Y7Cj4+ICsgICAgICAgICAg
ICAgICBfX3ZpcnRpbzE2IHRtcDsKPj4gKwo+PiArICAgICAgICAgICAgICAgcmV0ID0gaW90bGJf
dHJhbnNsYXRlX3ZhKHZyaCwgKHU2NCkodWludHB0cl90KXAsIHNpemVvZigqcCksCj4+ICsgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTlVMTCwgJmlvdiwgMSwgVkhPU1Rf
TUFQX1JPKTsKPj4gKyAgICAgICAgICAgICAgIGlmIChyZXQgPCAwKQo+PiArICAgICAgICAgICAg
ICAgICAgICAgICByZXR1cm4gcmV0Owo+Cj5OaXQ6IHNpbmNlIHdlIGhhdmUgY29weV90b192YS9j
b3B5X3RvX3BhIHZhcmlhbnRzLCBsZXQncyBpbnRyb2R1Y2UKPmdldHUxNl9pb3RsYl92YS9wYSB2
YXJpYW50cz8KClllcCEKCj4KPj4KPj4gLSAgICAgICBrYWRkciA9IGttYXBfbG9jYWxfcGFnZShp
b3YuYnZfcGFnZSk7Cj4+IC0gICAgICAgZnJvbSA9IGthZGRyICsgaW92LmJ2X29mZnNldDsKPj4g
LSAgICAgICAqdmFsID0gdnJpbmdoMTZfdG9fY3B1KHZyaCwgUkVBRF9PTkNFKCooX192aXJ0aW8x
NiAqKWZyb20pKTsKPj4gLSAgICAgICBrdW5tYXBfbG9jYWwoa2FkZHIpOwo+PiArICAgICAgICAg
ICAgICAgcmV0ID0gX19nZXRfdXNlcih0bXAsIChfX3ZpcnRpbzE2IF9fdXNlciAqKWlvdi5pb3Zf
YmFzZSk7Cj4+ICsgICAgICAgICAgICAgICBpZiAocmV0KQo+PiArICAgICAgICAgICAgICAgICAg
ICAgICByZXR1cm4gcmV0Owo+PiArCj4+ICsgICAgICAgICAgICAgICAqdmFsID0gdnJpbmdoMTZf
dG9fY3B1KHZyaCwgdG1wKTsKPj4gKyAgICAgICB9IGVsc2Ugewo+PiArICAgICAgICAgICAgICAg
c3RydWN0IGJpb192ZWMgaW92Owo+PiArICAgICAgICAgICAgICAgdm9pZCAqa2FkZHIsICpmcm9t
Owo+PiArCj4+ICsgICAgICAgICAgICAgICByZXQgPSBpb3RsYl90cmFuc2xhdGVfcGEodnJoLCAo
dTY0KSh1aW50cHRyX3QpcCwgc2l6ZW9mKCpwKSwKPj4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBOVUxMLCAmaW92LCAxLCBWSE9TVF9NQVBfUk8pOwo+PiArICAgICAg
ICAgICAgICAgaWYgKHJldCA8IDApCj4+ICsgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBy
ZXQ7Cj4+ICsKPj4gKyAgICAgICAgICAgICAgIGthZGRyID0ga21hcF9sb2NhbF9wYWdlKGlvdi5i
dl9wYWdlKTsKPgo+SWYgd2UgZGVjaWRlIHRvIGhhdmUgYSB1c2VfdmEgc3dpdGNoLCBpcyBrbWFw
X2xvY2FsX3BhZ2UoKSBzdGlsbCByZXF1aXJlZCBoZXJlPwo+CgpJIHRoaW5rIHllcy4gVGhpcyBp
cyByZWxhdGVkIHRvIHRoZSBlbWFpbCB3aGVyZSBGYWJpbyBjbGFyaWZpZWQgZm9yIHVzLApyaWdo
dD8KCj5PdGhlciBsb29rcyBnb29kLgoKVGhhbmtzLApTdGVmYW5vCgpfX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpWaXJ0dWFsaXphdGlvbiBtYWlsaW5nIGxp
c3QKVmlydHVhbGl6YXRpb25AbGlzdHMubGludXgtZm91bmRhdGlvbi5vcmcKaHR0cHM6Ly9saXN0
cy5saW51eGZvdW5kYXRpb24ub3JnL21haWxtYW4vbGlzdGluZm8vdmlydHVhbGl6YXRpb24=
