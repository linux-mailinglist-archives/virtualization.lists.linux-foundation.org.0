Return-Path: <virtualization-bounces@lists.linux-foundation.org>
X-Original-To: lists.virtualization@lfdr.de
Delivered-To: lists.virtualization@lfdr.de
Received: from smtp1.osuosl.org (smtp1.osuosl.org [IPv6:2605:bc80:3010::138])
	by mail.lfdr.de (Postfix) with ESMTPS id 3583C7800DE
	for <lists.virtualization@lfdr.de>; Fri, 18 Aug 2023 00:12:08 +0200 (CEST)
Received: from localhost (localhost [127.0.0.1])
	by smtp1.osuosl.org (Postfix) with ESMTP id C435B83D20;
	Thu, 17 Aug 2023 22:12:06 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp1.osuosl.org C435B83D20
Authentication-Results: smtp1.osuosl.org;
	dkim=fail reason="signature verification failed" (2048-bit key) header.d=gmail.com header.i=@gmail.com header.a=rsa-sha256 header.s=20221208 header.b=YJ4CAftZ
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp1.osuosl.org ([127.0.0.1])
	by localhost (smtp1.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 2Eah1F0pmBf1; Thu, 17 Aug 2023 22:12:05 +0000 (UTC)
Received: from lists.linuxfoundation.org (lf-lists.osuosl.org [IPv6:2605:bc80:3010:104::8cd3:938])
	by smtp1.osuosl.org (Postfix) with ESMTPS id 4712083D30;
	Thu, 17 Aug 2023 22:12:05 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp1.osuosl.org 4712083D30
Received: from lf-lists.osuosl.org (localhost [127.0.0.1])
	by lists.linuxfoundation.org (Postfix) with ESMTP id 6DBB7C008C;
	Thu, 17 Aug 2023 22:12:04 +0000 (UTC)
X-Original-To: virtualization@lists.linux-foundation.org
Delivered-To: virtualization@lists.linuxfoundation.org
Received: from smtp1.osuosl.org (smtp1.osuosl.org [IPv6:2605:bc80:3010::138])
 by lists.linuxfoundation.org (Postfix) with ESMTP id 68A7AC0032
 for <virtualization@lists.linux-foundation.org>;
 Thu, 17 Aug 2023 22:12:03 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by smtp1.osuosl.org (Postfix) with ESMTP id 3AE7A83D1D
 for <virtualization@lists.linux-foundation.org>;
 Thu, 17 Aug 2023 22:12:03 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp1.osuosl.org 3AE7A83D1D
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp1.osuosl.org ([127.0.0.1])
 by localhost (smtp1.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id Ua5oMq_lqLoq
 for <virtualization@lists.linux-foundation.org>;
 Thu, 17 Aug 2023 22:12:02 +0000 (UTC)
Received: from mail-vs1-xe36.google.com (mail-vs1-xe36.google.com
 [IPv6:2607:f8b0:4864:20::e36])
 by smtp1.osuosl.org (Postfix) with ESMTPS id 2924D83B96
 for <virtualization@lists.linux-foundation.org>;
 Thu, 17 Aug 2023 22:12:02 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp1.osuosl.org 2924D83B96
Received: by mail-vs1-xe36.google.com with SMTP id
 ada2fe7eead31-44bf0ddc091so89115137.1
 for <virtualization@lists.linux-foundation.org>;
 Thu, 17 Aug 2023 15:12:02 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20221208; t=1692310321; x=1692915121;
 h=content-transfer-encoding:cc:to:subject:message-id:date:from
 :in-reply-to:references:mime-version:from:to:cc:subject:date
 :message-id:reply-to;
 bh=wKzW1qsagZiZ5SXKF1K93AuCKmfVAku4MiXPKUa1AjA=;
 b=YJ4CAftZ6cebuEFArgjUXd6zZAE9Bmc0GbTAAGrG9MDrNZsiz7VP47CJ69a7DJgEQw
 qRTHywmYKZKMiXiSzVPxSONBS3th3eRksa0KiTnzEmja+EAFizfUQOWbAcQeAVcVpotD
 Dl4DxS/nPm2CLH1UZBXhilYTpuaZg2JVn4udB0qiAc4ZpGrE4+K7lzk0nwb9JSjO35my
 QxJ2sRkawWF91Ls0s95E/5Ch2uNARiiGVvYmqoe2j4gTb1/IzCkv3PAXfbeNxBBlzcSK
 bDB9gu4hgvK+R53zT0G93dWu3fkKJnWaG1PeqB+DY7F9FxP0LAHxQNcKMQO7uvSjavkk
 ip3g==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20221208; t=1692310321; x=1692915121;
 h=content-transfer-encoding:cc:to:subject:message-id:date:from
 :in-reply-to:references:mime-version:x-gm-message-state:from:to:cc
 :subject:date:message-id:reply-to;
 bh=wKzW1qsagZiZ5SXKF1K93AuCKmfVAku4MiXPKUa1AjA=;
 b=PpLgEGzAPN/gYdxqVAP3C01fvPElMbOLjQUcUXz7VZcKXdEDu2b0o8OGGIlsy1G3ng
 o3iNEO7pqjxVknAHO4vLQtXNqUY7u6/P6Q9100jDeKPqMmRucHA9qZ63pKEWbFxiDPVw
 OIpaAobnUXBgxjL6sP+NlJ2RSVnfffQ1JjJNm+pZX4bhDaB4WEGDXYy9of6TbRIZcbjT
 jW9dt5yuhr82xbaE+b/P7Gu7B4GJ1Kv+Ty1RoraJtEVnlG/jqoRvtbHD80aus7NjZ7cK
 KaC5FjTZQNJmRfgygHxdY8xoVJo/houQXA+sGHyzxNznDr+way/i3YKBgZmbLTVTlwFn
 BDWg==
X-Gm-Message-State: AOJu0YxzA8apqnh+9cWF/bcVl3IyPYjkJdjBIJiwSOpjyH++G/WcDxdf
 B6lhPxyGUjZvq7IawaL6N8Y/+Qxvg+nPjQyAR3g=
X-Google-Smtp-Source: AGHT+IHcirvC7P0ygxXyBj7Mkj7tszYFqc+LRkF5wAjhDS0F9kxYDwjIKRPlVOikYWoGUpYMMVFAVRJ5sDlOKd/y7jo=
X-Received: by 2002:a05:6102:411:b0:443:a4d2:86b9 with SMTP id
 d17-20020a056102041100b00443a4d286b9mr1031239vsq.0.1692310320840; Thu, 17 Aug
 2023 15:12:00 -0700 (PDT)
MIME-Version: 1.0
References: <20230817151941.18692-1-feliu@nvidia.com>
 <CAF=yD-KN=-2fhc2nxxzr-bJ5kwQVFken_iTo4sBbuAkjmbn3fQ@mail.gmail.com>
 <b2edfbbf-1018-745e-2ce4-946ffe27e5e5@nvidia.com>
In-Reply-To: <b2edfbbf-1018-745e-2ce4-946ffe27e5e5@nvidia.com>
From: Willem de Bruijn <willemdebruijn.kernel@gmail.com>
Date: Thu, 17 Aug 2023 18:11:23 -0400
Message-ID: <CAF=yD-LBHYk=+ty1zTNnN_cU4NoJe0=VZwHy2zVkQiPVx_9gqw@mail.gmail.com>
Subject: Re: [PATCH net-next v2] virtio_net: Introduce skb_vnet_common_hdr to
 avoid typecasting
To: Feng Liu <feliu@nvidia.com>
Cc: Xuan Zhuo <xuanzhuo@linux.alibaba.com>,
 "Michael S . Tsirkin" <mst@redhat.com>, netdev@vger.kernel.org,
 linux-kernel@vger.kernel.org, virtualization@lists.linux-foundation.org,
 Eric Dumazet <edumazet@google.com>, Simon Horman <horms@kernel.org>,
 Jiri Pirko <jiri@nvidia.com>, Bodong Wang <bodong@nvidia.com>,
 Jakub Kicinski <kuba@kernel.org>, Paolo Abeni <pabeni@redhat.com>,
 "David S . Miller" <davem@davemloft.net>
X-BeenThere: virtualization@lists.linux-foundation.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: Linux virtualization <virtualization.lists.linux-foundation.org>
List-Unsubscribe: <https://lists.linuxfoundation.org/mailman/options/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=unsubscribe>
List-Archive: <http://lists.linuxfoundation.org/pipermail/virtualization/>
List-Post: <mailto:virtualization@lists.linux-foundation.org>
List-Help: <mailto:virtualization-request@lists.linux-foundation.org?subject=help>
List-Subscribe: <https://lists.linuxfoundation.org/mailman/listinfo/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: virtualization-bounces@lists.linux-foundation.org
Sender: "Virtualization" <virtualization-bounces@lists.linux-foundation.org>

T24gVGh1LCBBdWcgMTcsIDIwMjMgYXQgNTo1MuKAr1BNIEZlbmcgTGl1IDxmZWxpdUBudmlkaWEu
Y29tPiB3cm90ZToKPgo+Cj4KPiBPbiAyMDIzLTA4LTE3IHAubS4yOjI2LCBXaWxsZW0gZGUgQnJ1
aWpuIHdyb3RlOgo+ID4gRXh0ZXJuYWwgZW1haWw6IFVzZSBjYXV0aW9uIG9wZW5pbmcgbGlua3Mg
b3IgYXR0YWNobWVudHMKPiA+Cj4gPgo+ID4gT24gVGh1LCBBdWcgMTcsIDIwMjMgYXQgMTE6MjDi
gK9BTSBGZW5nIExpdSA8ZmVsaXVAbnZpZGlhLmNvbT4gd3JvdGU6Cj4gPj4KPiA+PiBUaGUgdmly
dGlvX25ldCBkcml2ZXIgY3VycmVudGx5IGRlYWxzIHdpdGggZGlmZmVyZW50IHZlcnNpb25zIGFu
ZCB0eXBlcwo+ID4+IG9mIHZpcnRpbyBuZXQgaGVhZGVycywgc3VjaCBhcyB2aXJ0aW9fbmV0X2hk
cl9tcmdfcnhidWYsCj4gPj4gdmlydGlvX25ldF9oZHJfdjFfaGFzaCwgZXRjLiBEdWUgdG8gdGhl
c2UgdmFyaWF0aW9ucywgdGhlIGNvZGUgcmVsaWVzCj4gPj4gb24gbXVsdGlwbGUgdHlwZSBjYXN0
cyB0byBjb252ZXJ0IG1lbW9yeSBiZXR3ZWVuIGRpZmZlcmVudCBzdHJ1Y3R1cmVzLAo+ID4+IHBv
dGVudGlhbGx5IGxlYWRpbmcgdG8gYnVncyB3aGVuIHRoZXJlIGFyZSBjaGFuZ2VzIGluIHRoZXNl
IHN0cnVjdHVyZXMuCj4gPj4KPiA+PiBJbnRyb2R1Y2VzIHRoZSAic3RydWN0IHNrYl92bmV0X2Nv
bW1vbl9oZHIiIGFzIGEgdW5pZnlpbmcgaGVhZGVyCj4gPj4gc3RydWN0dXJlIHVzaW5nIGEgdW5p
b24uIFdpdGggdGhpcyBhcHByb2FjaCwgdmFyaW91cyB2aXJ0aW8gbmV0IGhlYWRlcgo+ID4+IHN0
cnVjdHVyZXMgY2FuIGJlIGNvbnZlcnRlZCBieSBhY2Nlc3NpbmcgZGlmZmVyZW50IG1lbWJlcnMg
b2YgdGhpcwo+ID4+IHN0cnVjdHVyZSwgdGh1cyBlbGltaW5hdGluZyB0aGUgbmVlZCBmb3IgdHlw
ZSBjYXN0aW5nIGFuZCByZWR1Y2luZyB0aGUKPiA+PiByaXNrIG9mIHBvdGVudGlhbCBidWdzLgo+
ID4+Cj4gPj4gRm9yIGV4YW1wbGUgZm9sbG93aW5nIGNvZGU6Cj4gPj4gc3RhdGljIHN0cnVjdCBz
a19idWZmICpwYWdlX3RvX3NrYihzdHJ1Y3QgdmlydG5ldF9pbmZvICp2aSwKPiA+PiAgICAgICAg
ICAgICAgICAgIHN0cnVjdCByZWNlaXZlX3F1ZXVlICpycSwKPiA+PiAgICAgICAgICAgICAgICAg
IHN0cnVjdCBwYWdlICpwYWdlLCB1bnNpZ25lZCBpbnQgb2Zmc2V0LAo+ID4+ICAgICAgICAgICAg
ICAgICAgdW5zaWduZWQgaW50IGxlbiwgdW5zaWduZWQgaW50IHRydWVzaXplLAo+ID4+ICAgICAg
ICAgICAgICAgICAgdW5zaWduZWQgaW50IGhlYWRyb29tKQo+ID4+IHsKPiA+PiBbLi4uXQo+ID4+
ICAgICAgICAgIHN0cnVjdCB2aXJ0aW9fbmV0X2hkcl9tcmdfcnhidWYgKmhkcjsKPiA+PiBbLi4u
XQo+ID4+ICAgICAgICAgIGhkcl9sZW4gPSB2aS0+aGRyX2xlbjsKPiA+PiBbLi4uXQo+ID4+IG9r
Ogo+ID4+ICAgICAgICAgIGhkciA9IHNrYl92bmV0X2hkcihza2IpOwo+ID4+ICAgICAgICAgIG1l
bWNweShoZHIsIGhkcl9wLCBoZHJfbGVuKTsKPiA+PiBbLi4uXQo+ID4+IH0KPiA+Pgo+ID4+IFdo
ZW4gVklSVElPX05FVF9GX0hBU0hfUkVQT1JUIGZlYXR1cmUgaXMgZW5hYmxlZCwgaGRyX2xlbiA9
IDIwCj4gPj4gQnV0IHRoZSBzaXplb2YoKmhkcikgaXMgMTIsCj4gPj4gbWVtY3B5KGhkciwgaGRy
X3AsIGhkcl9sZW4pOyB3aWxsIGNvcHkgMjAgYnl0ZXMgdG8gdGhlIGhkciwKPiA+PiB3aGljaCBt
YWtlIGEgcG90ZW50aWFsIHJpc2sgb2YgYnVnLiBBbmQgdGhpcyByaXNrIGNhbiBiZSBhdm9pZGVk
IGJ5Cj4gPj4gaW50cm9kdWNpbmcgc3RydWN0IHZpcnRpb19uZXRfaGRyX21yZ19yeGJ1Zi4KPiA+
Cj4gPiBZb3UgbWVhbiB2aXJ0aW9fbmV0X2NvbW1vbl9oZHI/Cj4gPgo+IEl0IGlzIGEgdHlwbywg
d2lsbCBjb3JyZWN0IGl0Lgo+Cj4gPiBJJ20gbm90IHN1cmUgSSBmb2xsb3cgdGhlIHJlYXNvbmlu
Zy4gQmVjYXVzZSB0aGVuIGhkcl9sZW4gbWlnaHQgYmUKPiA+IHNpemVvZih2aXJ0aW9fbmV0X2hk
cl9tcmdfcnhidWYpLCBidXQgc2l6ZW9mKHZpcnRpb19uZXRfY29tbW9uX2hkcikgaXMKPiA+IGxh
cmdlci4gU28gdGhlIHNhbWUgaXNzdWUgcmVtYWlucz8KPiA+Cj4gc3RhdGljIGludCB2aXJ0bmV0
X3Byb2JlKHN0cnVjdCB2aXJ0aW9fZGV2aWNlICp2ZGV2KQo+IHsKPiBbLi4uXQo+ICAgICAgICAg
aWYgKHZpLT5oYXNfcnNzX2hhc2hfcmVwb3J0KSB7Cj4gICAgICAgICAgICAgICAgIHZpLT5oZHJf
bGVuID0gc2l6ZW9mKHN0cnVjdCB2aXJ0aW9fbmV0X2hkcl92MV9oYXNoKTsgLyogaGRyX2xlbiB3
aWxsCj4gYmUgMjAgYnl0ZXMgKi8KPiAgICAgICAgIH0KPiAgICAgICAgIGVsc2UgaWYgKHZpcnRp
b19oYXNfZmVhdHVyZSh2ZGV2LCBWSVJUSU9fTkVUX0ZfTVJHX1JYQlVGKSB8fAo+ICAgICAgICAg
ICAgICAgICAgdmlydGlvX2hhc19mZWF0dXJlKHZkZXYsIFZJUlRJT19GX1ZFUlNJT05fMSkpCj4g
ICAgICAgICAgICAgICAgIHZpLT5oZHJfbGVuID0gc2l6ZW9mKHN0cnVjdCB2aXJ0aW9fbmV0X2hk
cl9tcmdfcnhidWYpOwo+ICAgICAgICAgZWxzZQo+ICAgICAgICAgICAgICAgICB2aS0+aGRyX2xl
biA9IHNpemVvZihzdHJ1Y3QgdmlydGlvX25ldF9oZHIpOwo+IFsuLi5dCj4gfQo+Cj4gV2hlbiBW
SVJUSU9fTkVUX0ZfSEFTSF9SRVBPUlQgaXMgZW5hYmxlZCwgaGRyX2xlbiA9IDIwIChhcyBhYm92
ZSk7IGFuZAo+IHRoZSBzaXplIG9mIHZpcnRpb19uZXRfaGRyX21yZ19yeGJ1ZiBpcyAxMiwgc28g
dmlydGlvX25ldF9oZHJfbXJnX3J4YnVmCj4gaXMgd3JvbmcsIHNob3VsZCB1c2Ugc3RydWN0IHZp
cnRpb19uZXRfY29tbW9uX2hkciBoZXJlLgoKSSB1bmRlcnN0YW5kIGluIHRoaXMgc3BlY2lmaWMg
aW5zdGFuY2UuIEknbSBqdXN0IHNheWluZyB0aGF0IHVzaW5nIHNpemVvZiBjYW4KYmUgd3Jvbmcg
Ym90aCBpbiB0aGUgbmV3IGFuZCBvbGQgY2FzZS4KClRoaXMgZG9lcyBub3QgZml4IGEgcmVhbCBi
dWcsIGFzIG1lbWNweSBqdXN0IHVzZXMgaGRyX2xlbiwgd2hpY2ggaXMgY29ycmVjdC4KCj4gPiBJ
bmRlZWQsIGV2ZXJ5d2hlcmUgdGhpcyBwYXRjaGVzIHJlcGxhY2VzIHRoZSBvbmUgd2l0aCB0aGUg
b3RoZXIsIHlvdQo+ID4gaGF2ZSB0byB2ZXJpZnkgdGhhdCBub3RoaW5nIHdhcyB1c2luZyBzaXpl
b2YoKmhkcikuIFdoaWNoIHdvdWxkIG5vdCBiZQo+ID4gdmlzaWJsZSBmcm9tIHRoZSB0cnVuY2F0
ZWQgcGF0Y2ggY29udGVudHMgaXRzZWxmLgo+ID4KPiBIYXZlIGNoZWNrZWQuIE5vdGhpbmcgaXMg
dXNpbmcgc2l6ZW9mKCpoZHIpLgoKVGhhbmtzLgo+Cj4gPj4KPiA+PiBDaGFuZ2UgbG9nCj4gPj4g
djEtPnYyCj4gPj4gZmVlZGJhY2sgZnJvbSBXaWxsZW0gZGUgQnJ1aWpuIDx3aWxsZW1kZWJydWlq
bi5rZXJuZWxAZ21haWwuY29tPgo+ID4+IGZlZWRiYWNrIGZyb20gU2ltb24gSG9ybWFuIDxob3Jt
c0BrZXJuZWwub3JnPgo+ID4+IDEuIGNoYW5nZSB0byB1c2UgbmV0LW5leHQgdHJlZS4KPiA+PiAy
LiBtb3ZlIHNrYl92bmV0X2NvbW1vbl9oZHIgaW5zaWRlIGtlcm5lbCBmaWxlIGluc3RlYWQgb2Yg
dGhlIFVBUEkgaGVhZGVyLgo+ID4+Cj4gPj4gU2lnbmVkLW9mZi1ieTogRmVuZyBMaXUgPGZlbGl1
QG52aWRpYS5jb20+Cj4gPj4gUmV2aWV3ZWQtYnk6IEppcmkgUGlya28gPGppcmlAbnZpZGlhLmNv
bT4KPiA+PiAtLS0KPiA+PiAgIGRyaXZlcnMvbmV0L3ZpcnRpb19uZXQuYyB8IDM2ICsrKysrKysr
KysrKysrKysrKysrKysrLS0tLS0tLS0tLS0tLQo+ID4+ICAgMSBmaWxlIGNoYW5nZWQsIDIzIGlu
c2VydGlvbnMoKyksIDEzIGRlbGV0aW9ucygtKQo+ID4+Cj4gPj4gZGlmZiAtLWdpdCBhL2RyaXZl
cnMvbmV0L3ZpcnRpb19uZXQuYyBiL2RyaXZlcnMvbmV0L3ZpcnRpb19uZXQuYwo+ID4+IGluZGV4
IDEyNzBjOGQyMzQ2My4uMDNjZjc0NGRlNTEyIDEwMDY0NAo+ID4+IC0tLSBhL2RyaXZlcnMvbmV0
L3ZpcnRpb19uZXQuYwo+ID4+ICsrKyBiL2RyaXZlcnMvbmV0L3ZpcnRpb19uZXQuYwo+ID4+IEBA
IC0zMDMsNiArMzAzLDEzIEBAIHN0cnVjdCBwYWRkZWRfdm5ldF9oZHIgewo+ID4+ICAgICAgICAg
IGNoYXIgcGFkZGluZ1sxMl07Cj4gPj4gICB9Owo+ID4+Cj4gPj4gK3N0cnVjdCB2aXJ0aW9fbmV0
X2NvbW1vbl9oZHIgewo+ID4+ICsgICAgICAgdW5pb24gewo+ID4+ICsgICAgICAgICAgICAgICBz
dHJ1Y3QgdmlydGlvX25ldF9oZHJfbXJnX3J4YnVmIG1yZ19oZHI7Cj4gPj4gKyAgICAgICAgICAg
ICAgIHN0cnVjdCB2aXJ0aW9fbmV0X2hkcl92MV9oYXNoIGhhc2hfdjFfaGRyOwo+ID4+ICsgICAg
ICAgfTsKPiA+PiArfTsKPiA+Cj4gPiBQZXJoYXBzIGV2ZW4gYWRkIGluIHN0cnVjdCB2aXJ0aW9f
bmV0X2hkci4gQXMgdGhhdCBpcyB0aGUgb3JpZ2luYWwgb2YKPiA+IHRoZSB0aHJlZSBzdHJ1Y3Rz
LCBhbmQgYWxsIHRoZSBpbml0aWFsIGZpZWxkcyBvdmVybGFwLgo+ID4KPgo+IEJ1dCBJIGRpZG4n
dCB1c2UgdmlydGlvX25ldF9oZHIgaW4gdGhpcyBwYXRjaCwgaXMgaXQgcmVkdW5kYW50IHRvIHB1
dCBpdAo+IGhlcmXvvJ8gd2hhdCBkbyB5b3UgdGhpbms/CgpUaGF0J3MgdHJ1ZS4gQnV0IGlmIHdl
J3JlIGdvaW5nIHRvIGFkZCBhIGhlbHBlciB0byBiaW5kIHRvZ2V0aGVyIGFsbGwgdGhlCnZpcnRp
byB2YXJpYW50cywgdGhlbiBJIHRoaW5rIGl0IHNob3VsZCBiZSB0aGVyZT8KCk5vIHN0cm9uZyBv
cGluaW9uLiBMZWF2ZSBvdXQgaWYgeW91IHByZWZlciBhbmQgbm8gb25lIGVsc2Ugc3BlYWtzIHVw
LgoKPiA+PiBAQCAtMTU3Nyw3ICsxNTg1LDggQEAgc3RhdGljIHZvaWQgcmVjZWl2ZV9idWYoc3Ry
dWN0IHZpcnRuZXRfaW5mbyAqdmksIHN0cnVjdCByZWNlaXZlX3F1ZXVlICpycSwKPiA+PiAgIHsK
PiA+PiAgICAgICAgICBzdHJ1Y3QgbmV0X2RldmljZSAqZGV2ID0gdmktPmRldjsKPiA+PiAgICAg
ICAgICBzdHJ1Y3Qgc2tfYnVmZiAqc2tiOwo+ID4+IC0gICAgICAgc3RydWN0IHZpcnRpb19uZXRf
aGRyX21yZ19yeGJ1ZiAqaGRyOwo+ID4+ICsgICAgICAgc3RydWN0IHZpcnRpb19uZXRfY29tbW9u
X2hkciAqY29tbW9uX2hkcjsKPiA+PiArICAgICAgIHN0cnVjdCB2aXJ0aW9fbmV0X2hkcl9tcmdf
cnhidWYgKm1yZ19oZHI7Cj4gPgo+ID4gTm8gbW9yZSBuZWVkIGZvciB0aGlzIHNlY29uZCBzdHJ1
Y3Qgbm93IHRoYXQgd2UgaGF2ZSB0aGUgdW5pb24uIFRoYXQncwo+ID4gaXRzIHdob2xlIHB1cnBv
c2U/Cj4KPiBZZXMsIHN0cnVjdCB2aXJ0aW9fbmV0X2hkcl9tcmdfcnhidWYgKm1yZ19oZHIgaXMg
bm90IG5lZWRlZC4gV3JpdGluZwo+IG1yZ19oZHIgaGVyZSBpcyBqdXN0IHRvIG1ha2UgdGhlIGNv
ZGUgbG9vayBtb3JlIGNvbmNpc2UsIHN1Y2ggYXMKPiBtcmdfaGRyLT5oZHIuZmxhZ3MsIGlmIG1y
Z19oZHIgaXMgbm90IHVzZWQsIGl0IHNob3VsZCBiZSB3cml0dGVuIGFzCj4gY29tbW9uX2hkci0+
bXJnX2hkci5oZHIuZmxhZ3MsIEkgdGhpbmsgaXQgbG9va3MgdG9vIGxvbmcuIHdoYXQgeW91IHRo
aW5rPwoKSWYgd2UncmUgZ29pbmcgdG8gY29udGludWUgdG8gYXNzaWduIHRvIGRpZmZlcmVudCBz
dHJ1Y3RzLCB0aGVuIEknbSBob25lc3RseQpub3Qgc3VyZSBob3cgbXVjaCB0aGlzIHBhdGNoIGJ1
eXMgdXMuCgpBZGRpbmcgdmlydGlvX25ldF9oZHIgdG8gdGhlIHVuaW9uIGFsc28gc2hvcnRlbnMg
dGhlIGNvZGUgYnR3LiBUaGVuIGl0CmNhbiBiZSBjb21tb25faGRyLT5oZHIuZmxhZ3MKCkFsc28s
IGp1c3QgYSBzaG9ydGVyIHZhcmlhYmxlIG5hbWUgdGhhbiBjb21tb25faGRyLiBGaW5lIHRvIGNh
bGwgaXQgaGRyLgoKPgo+ID4+Cj4gPj4gICAgICAgICAgaWYgKHVubGlrZWx5KGxlbiA8IHZpLT5o
ZHJfbGVuICsgRVRIX0hMRU4pKSB7Cj4gPj4gICAgICAgICAgICAgICAgICBwcl9kZWJ1ZygiJXM6
IHNob3J0IHBhY2tldCAlaVxuIiwgZGV2LT5uYW1lLCBsZW4pOwo+ID4+IEBAIC0xNTk3LDE4ICsx
NjA2LDE5IEBAIHN0YXRpYyB2b2lkIHJlY2VpdmVfYnVmKHN0cnVjdCB2aXJ0bmV0X2luZm8gKnZp
LCBzdHJ1Y3QgcmVjZWl2ZV9xdWV1ZSAqcnEsCj4gPj4gICAgICAgICAgaWYgKHVubGlrZWx5KCFz
a2IpKQo+ID4+ICAgICAgICAgICAgICAgICAgcmV0dXJuOwo+ID4+Cj4gPj4gLSAgICAgICBoZHIg
PSBza2Jfdm5ldF9oZHIoc2tiKTsKPiA+PiArICAgICAgIGNvbW1vbl9oZHIgPSBza2Jfdm5ldF9j
b21tb25faGRyKHNrYik7Cj4gPj4gICAgICAgICAgaWYgKGRldi0+ZmVhdHVyZXMgJiBORVRJRl9G
X1JYSEFTSCAmJiB2aS0+aGFzX3Jzc19oYXNoX3JlcG9ydCkKPiA+PiAtICAgICAgICAgICAgICAg
dmlydGlvX3NrYl9zZXRfaGFzaCgoY29uc3Qgc3RydWN0IHZpcnRpb19uZXRfaGRyX3YxX2hhc2gg
KiloZHIsIHNrYik7Cj4gPj4gKyAgICAgICAgICAgICAgIHZpcnRpb19za2Jfc2V0X2hhc2goJmNv
bW1vbl9oZHItPmhhc2hfdjFfaGRyLCBza2IpOwo+ID4+Cj4gPj4gLSAgICAgICBpZiAoaGRyLT5o
ZHIuZmxhZ3MgJiBWSVJUSU9fTkVUX0hEUl9GX0RBVEFfVkFMSUQpCj4gPj4gKyAgICAgICBtcmdf
aGRyID0gJmNvbW1vbl9oZHItPm1yZ19oZHI7Cj4gPj4gKyAgICAgICBpZiAobXJnX2hkci0+aGRy
LmZsYWdzICYgVklSVElPX05FVF9IRFJfRl9EQVRBX1ZBTElEKQo+ID4+ICAgICAgICAgICAgICAg
ICAgc2tiLT5pcF9zdW1tZWQgPSBDSEVDS1NVTV9VTk5FQ0VTU0FSWTsKPiA+Pgo+ID4+IC0gICAg
ICAgaWYgKHZpcnRpb19uZXRfaGRyX3RvX3NrYihza2IsICZoZHItPmhkciwKPiA+PiArICAgICAg
IGlmICh2aXJ0aW9fbmV0X2hkcl90b19za2Ioc2tiLCAmbXJnX2hkci0+aGRyLAo+ID4+ICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlydGlvX2lzX2xpdHRsZV9lbmRpYW4odmkt
PnZkZXYpKSkgewo+ID4+ICAgICAgICAgICAgICAgICAgbmV0X3dhcm5fcmF0ZWxpbWl0ZWQoIiVz
OiBiYWQgZ3NvOiB0eXBlOiAldSwgc2l6ZTogJXVcbiIsCj4gPj4gLSAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIGRldi0+bmFtZSwgaGRyLT5oZHIuZ3NvX3R5cGUsCj4gPj4gLSAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhkci0+aGRyLmdzb19zaXplKTsKPiA+
PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2LT5uYW1lLCBtcmdfaGRy
LT5oZHIuZ3NvX3R5cGUsCj4gPj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IG1yZ19oZHItPmhkci5nc29fc2l6ZSk7Cj4gPj4gICAgICAgICAgICAgICAgICBnb3RvIGZyYW1l
X2VycjsKPiA+PiAgICAgICAgICB9Cj4gPj4KPiA+PiBAQCAtMjEwNSw3ICsyMTE1LDcgQEAgc3Rh
dGljIGludCB4bWl0X3NrYihzdHJ1Y3Qgc2VuZF9xdWV1ZSAqc3EsIHN0cnVjdCBza19idWZmICpz
a2IpCj4gPj4gICAgICAgICAgaWYgKGNhbl9wdXNoKQo+ID4+ICAgICAgICAgICAgICAgICAgaGRy
ID0gKHN0cnVjdCB2aXJ0aW9fbmV0X2hkcl9tcmdfcnhidWYgKikoc2tiLT5kYXRhIC0gaGRyX2xl
bik7Cj4gPj4gICAgICAgICAgZWxzZQo+ID4+IC0gICAgICAgICAgICAgICBoZHIgPSBza2Jfdm5l
dF9oZHIoc2tiKTsKPiA+PiArICAgICAgICAgICAgICAgaGRyID0gJnNrYl92bmV0X2NvbW1vbl9o
ZHIoc2tiKS0+bXJnX2hkcjsKPiA+Pgo+ID4+ICAgICAgICAgIGlmICh2aXJ0aW9fbmV0X2hkcl9m
cm9tX3NrYihza2IsICZoZHItPmhkciwKPiA+PiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgdmlydGlvX2lzX2xpdHRsZV9lbmRpYW4odmktPnZkZXYpLCBmYWxzZSwKPiA+PiAt
LQo+ID4+IDIuMzcuMSAoQXBwbGUgR2l0LTEzNy4xKQo+ID4+Cl9fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fClZpcnR1YWxpemF0aW9uIG1haWxpbmcgbGlzdApW
aXJ0dWFsaXphdGlvbkBsaXN0cy5saW51eC1mb3VuZGF0aW9uLm9yZwpodHRwczovL2xpc3RzLmxp
bnV4Zm91bmRhdGlvbi5vcmcvbWFpbG1hbi9saXN0aW5mby92aXJ0dWFsaXphdGlvbg==
