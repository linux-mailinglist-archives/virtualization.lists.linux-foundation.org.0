Return-Path: <virtualization-bounces@lists.linux-foundation.org>
X-Original-To: lists.virtualization@lfdr.de
Delivered-To: lists.virtualization@lfdr.de
Received: from smtp1.osuosl.org (smtp1.osuosl.org [IPv6:2605:bc80:3010::138])
	by mail.lfdr.de (Postfix) with ESMTPS id 009696AD864
	for <lists.virtualization@lfdr.de>; Tue,  7 Mar 2023 08:44:21 +0100 (CET)
Received: from localhost (localhost [127.0.0.1])
	by smtp1.osuosl.org (Postfix) with ESMTP id 365B28145C;
	Tue,  7 Mar 2023 07:44:20 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp1.osuosl.org 365B28145C
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp1.osuosl.org ([127.0.0.1])
	by localhost (smtp1.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Vu1ec4HD4IRD; Tue,  7 Mar 2023 07:44:19 +0000 (UTC)
Received: from lists.linuxfoundation.org (lf-lists.osuosl.org [IPv6:2605:bc80:3010:104::8cd3:938])
	by smtp1.osuosl.org (Postfix) with ESMTPS id B46C68175E;
	Tue,  7 Mar 2023 07:44:18 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp1.osuosl.org B46C68175E
Received: from lf-lists.osuosl.org (localhost [127.0.0.1])
	by lists.linuxfoundation.org (Postfix) with ESMTP id 04164C0032;
	Tue,  7 Mar 2023 07:44:18 +0000 (UTC)
X-Original-To: virtualization@lists.linux-foundation.org
Delivered-To: virtualization@lists.linuxfoundation.org
Received: from smtp4.osuosl.org (smtp4.osuosl.org [140.211.166.137])
 by lists.linuxfoundation.org (Postfix) with ESMTP id 839B0C0032
 for <virtualization@lists.linux-foundation.org>;
 Tue,  7 Mar 2023 07:44:16 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by smtp4.osuosl.org (Postfix) with ESMTP id 5EF174098A
 for <virtualization@lists.linux-foundation.org>;
 Tue,  7 Mar 2023 07:44:16 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp4.osuosl.org 5EF174098A
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp4.osuosl.org ([127.0.0.1])
 by localhost (smtp4.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id v_twEsBgibcj
 for <virtualization@lists.linux-foundation.org>;
 Tue,  7 Mar 2023 07:44:14 +0000 (UTC)
X-Greylist: domain auto-whitelisted by SQLgrey-1.8.0
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp4.osuosl.org E492041703
Received: from out30-111.freemail.mail.aliyun.com
 (out30-111.freemail.mail.aliyun.com [115.124.30.111])
 by smtp4.osuosl.org (Postfix) with ESMTPS id E492041703
 for <virtualization@lists.linux-foundation.org>;
 Tue,  7 Mar 2023 07:44:13 +0000 (UTC)
X-Alimail-AntiSpam: AC=PASS; BC=-1|-1; BR=01201311R981e4; CH=green; DM=||false|;
 DS=||; FP=0|-1|-1|-1|0|-1|-1|-1; HT=ay29a033018046060;
 MF=xuanzhuo@linux.alibaba.com; NM=1; PH=DS; RN=3; SR=0;
 TI=SMTPD_---0VdKMVY2_1678175048; 
Received: from localhost(mailfrom:xuanzhuo@linux.alibaba.com
 fp:SMTPD_---0VdKMVY2_1678175048) by smtp.aliyun-inc.com;
 Tue, 07 Mar 2023 15:44:08 +0800
Message-ID: <1678174785.2022989-7-xuanzhuo@linux.alibaba.com>
Subject: Re: [PATCH vhost v1 03/12] virtio_ring: split: introduce
 virtqueue_add_split_premapped()
Date: Tue, 7 Mar 2023 15:39:45 +0800
From: Xuan Zhuo <xuanzhuo@linux.alibaba.com>
To: Jason Wang <jasowang@redhat.com>
References: <20230302115908.1461-1-xuanzhuo@linux.alibaba.com>
 <20230302115908.1461-4-xuanzhuo@linux.alibaba.com>
 <CACGkMEv5p2=s0pNRqf=e42AW-thZmzvH8gFZExA=gbG_GNAT5A@mail.gmail.com>
In-Reply-To: <CACGkMEv5p2=s0pNRqf=e42AW-thZmzvH8gFZExA=gbG_GNAT5A@mail.gmail.com>
Cc: "Michael S. Tsirkin" <mst@redhat.com>,
 virtualization@lists.linux-foundation.org
X-BeenThere: virtualization@lists.linux-foundation.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: Linux virtualization <virtualization.lists.linux-foundation.org>
List-Unsubscribe: <https://lists.linuxfoundation.org/mailman/options/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=unsubscribe>
List-Archive: <http://lists.linuxfoundation.org/pipermail/virtualization/>
List-Post: <mailto:virtualization@lists.linux-foundation.org>
List-Help: <mailto:virtualization-request@lists.linux-foundation.org?subject=help>
List-Subscribe: <https://lists.linuxfoundation.org/mailman/listinfo/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: virtualization-bounces@lists.linux-foundation.org
Sender: "Virtualization" <virtualization-bounces@lists.linux-foundation.org>

T24gVHVlLCA3IE1hciAyMDIzIDE0OjQzOjQyICswODAwLCBKYXNvbiBXYW5nIDxqYXNvd2FuZ0By
ZWRoYXQuY29tPiB3cm90ZToKPiBPbiBUaHUsIE1hciAyLCAyMDIzIGF0IDc6NTnigK9QTSBYdWFu
IFpodW8gPHh1YW56aHVvQGxpbnV4LmFsaWJhYmEuY29tPiB3cm90ZToKPiA+Cj4gPiB2aXJ0cXVl
dWVfYWRkX3NwbGl0KCkgb25seSBzdXBwb3J0cyB2aXJ0dWFsIGFkZHJlc3NlcywgZG1hIGlzIGNv
bXBsZXRlZAo+ID4gaW4gdmlydHF1ZXVlX2FkZF9zcGxpdCgpLgo+ID4KPiA+IEluIHNvbWUgc2Nl
bmFyaW9zIChzdWNoIGFzIHRoZSBBRl9YRFAgc2NlbmFyaW8pLCB0aGUgbWVtb3J5IGlzIGFsbG9j
YXRlZAo+ID4gYW5kIERNQSBpcyBjb21wbGV0ZWQgaW4gYWR2YW5jZSwgc28gaXQgaXMgbmVjZXNz
YXJ5IGZvciB1cyB0byBzdXBwb3J0Cj4gPiBwYXNzaW5nIHRoZSBETUEgYWRkcmVzcyB0byB2aXJ0
aW8gY29yZS4KPiA+Cj4gPiBTaWduZWQtb2ZmLWJ5OiBYdWFuIFpodW8gPHh1YW56aHVvQGxpbnV4
LmFsaWJhYmEuY29tPgo+ID4gLS0tCj4gPiAgZHJpdmVycy92aXJ0aW8vdmlydGlvX3JpbmcuYyB8
IDc0ICsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKystLS0tLQo+ID4gIGluY2x1ZGUvbGlu
dXgvdmlydGlvLmggICAgICAgfCAgNSArKysKPiA+ICAyIGZpbGVzIGNoYW5nZWQsIDY5IGluc2Vy
dGlvbnMoKyksIDEwIGRlbGV0aW9ucygtKQo+ID4KPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL3Zp
cnRpby92aXJ0aW9fcmluZy5jIGIvZHJpdmVycy92aXJ0aW8vdmlydGlvX3JpbmcuYwo+ID4gaW5k
ZXggMTc1MjBmMGQ3NjQ5Li41YjE4NmNlNzNkMzUgMTAwNjQ0Cj4gPiAtLS0gYS9kcml2ZXJzL3Zp
cnRpby92aXJ0aW9fcmluZy5jCj4gPiArKysgYi9kcml2ZXJzL3ZpcnRpby92aXJ0aW9fcmluZy5j
Cj4gPiBAQCAtNzAsNiArNzAsNyBAQAo+ID4gIHN0cnVjdCB2cmluZ19kZXNjX3N0YXRlX3NwbGl0
IHsKPiA+ICAgICAgICAgdm9pZCAqZGF0YTsgICAgICAgICAgICAgICAgICAgICAvKiBEYXRhIGZv
ciBjYWxsYmFjay4gKi8KPiA+ICAgICAgICAgc3RydWN0IHZyaW5nX2Rlc2MgKmluZGlyX2Rlc2M7
ICAvKiBJbmRpcmVjdCBkZXNjcmlwdG9yLCBpZiBhbnkuICovCj4gPiArICAgICAgIGJvb2wgZG1h
X21hcDsgICAgICAgICAgICAgICAgICAgLyogQWRkciBpcyBtYXBwZWQgYnkgdmlydGlvIGNvcmUg
b3Igbm90LiAqLwo+Cj4gVGhpcyB3aWxsIHN0cmVzcyB0aGUgY2FjaGUsIGNhbiB3ZSBwYWNrIHRo
ZSBib29sZWFuIGludG8gaW5kaXJfZGVzYz8KCgpSZXRoaW5rIGFib3V0IHRoaXMsIEkgdGhpbmsg
d2UgY2Fubm90IHBhY2sgdGhpcyBpbnRvIGluZGlyX2Rlc2MuCkJlY2F1c2Ugd2UgbWF5IHNhdmUg
Y3R4IHRvIGluZGlyX2Rlc2MuCgpXZSBjYW4gc2F2ZSB0aGlzIGluZm8gdG8gdnJpbmdfZGVzY19l
eHRyYS5hZGRyLCBudWxsIG1lYW5zIG5vdCBkbWEgbWFwcGVkIGJ5CnZpcnRpbyBjb3JlLgoKVGhh
bmtzLgoKCj4KPiA+ICB9Owo+ID4KPiA+ICBzdHJ1Y3QgdnJpbmdfZGVzY19zdGF0ZV9wYWNrZWQg
ewo+ID4gQEAgLTQ0MCw3ICs0NDEsNyBAQCBzdGF0aWMgdm9pZCB2cmluZ191bm1hcF9vbmVfc3Bs
aXRfaW5kaXJlY3QoY29uc3Qgc3RydWN0IHZyaW5nX3ZpcnRxdWV1ZSAqdnEsCj4gPiAgfQo+ID4K
PiA+ICBzdGF0aWMgdW5zaWduZWQgaW50IHZyaW5nX3VubWFwX29uZV9zcGxpdChjb25zdCBzdHJ1
Y3QgdnJpbmdfdmlydHF1ZXVlICp2cSwKPiA+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIHVuc2lnbmVkIGludCBpKQo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgdW5zaWduZWQgaW50IGksIGJvb2wgZG1hX21hcCkKPiA+ICB7Cj4g
PiAgICAgICAgIHN0cnVjdCB2cmluZ19kZXNjX2V4dHJhICpleHRyYSA9IHZxLT5zcGxpdC5kZXNj
X2V4dHJhOwo+ID4gICAgICAgICB1MTYgZmxhZ3M7Cj4gPiBAQCAtNDU3LDYgKzQ1OCw5IEBAIHN0
YXRpYyB1bnNpZ25lZCBpbnQgdnJpbmdfdW5tYXBfb25lX3NwbGl0KGNvbnN0IHN0cnVjdCB2cmlu
Z192aXJ0cXVldWUgKnZxLAo+ID4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGZs
YWdzICYgVlJJTkdfREVTQ19GX1dSSVRFKSA/Cj4gPiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBETUFfRlJPTV9ERVZJQ0UgOiBETUFfVE9fREVWSUNFKTsKPiA+ICAgICAgICAgfSBl
bHNlIHsKPiA+ICsgICAgICAgICAgICAgICBpZiAoIWRtYV9tYXApCj4gPiArICAgICAgICAgICAg
ICAgICAgICAgICBnb3RvIG91dDsKPiA+ICsKPiA+ICAgICAgICAgICAgICAgICBkbWFfdW5tYXBf
cGFnZSh2cmluZ19kbWFfZGV2KHZxKSwKPiA+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBleHRyYVtpXS5hZGRyLAo+ID4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJh
W2ldLmxlbiwKPiA+IEBAIC03NTEsNiArNzU1LDcgQEAgc3RhdGljIGlubGluZSBpbnQgdmlydHF1
ZXVlX2FkZF9zcGxpdChzdHJ1Y3QgdmlydHF1ZXVlICpfdnEsCj4gPiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHVuc2lnbmVkIGludCBpbl9zZ3MsCj4gPiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgKmRhdGEsCj4gPiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgKmN0eCwKPiA+ICsgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgYm9vbCBkbWFfbWFwLAo+ID4gICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBnZnBfdCBnZnApCj4gPiAgewo+ID4gICAgICAgICBzdHJ1Y3Qg
dnJpbmdfdmlydHF1ZXVlICp2cSA9IHRvX3Z2cShfdnEpOwo+ID4gQEAgLTc2Nyw5ICs3NzIsMTEg
QEAgc3RhdGljIGlubGluZSBpbnQgdmlydHF1ZXVlX2FkZF9zcGxpdChzdHJ1Y3QgdmlydHF1ZXVl
ICpfdnEsCj4gPiAgICAgICAgICAgICAgICAgZ290byBlbmQ7Cj4gPiAgICAgICAgIH0KPiA+Cj4g
PiAtICAgICAgIGVyciA9IHZpcnRxdWV1ZV9tYXBfc2dzKHZxLCBzZ3MsIHRvdGFsX3NnLCBvdXRf
c2dzLCBpbl9zZ3MpOwo+ID4gLSAgICAgICBpZiAoZXJyKQo+ID4gLSAgICAgICAgICAgICAgIGdv
dG8gZXJyOwo+ID4gKyAgICAgICBpZiAoZG1hX21hcCkgewo+Cj4gQ291bGQgd2Ugc2ltcGx5IGNo
ZWNrIHNnLT5kbWFfYWRkciBpbiB0aGlzIGNhc2U/IFRoZW4gd2UgZG9uJ3QgbmVlZCB0bwo+IGlu
dHJvZHVjZSB0aGUgZG1hX21hcCBmbGFnLgo+Cj4gVGhhbmtzCj4KPgo+ID4gKyAgICAgICAgICAg
ICAgIGVyciA9IHZpcnRxdWV1ZV9tYXBfc2dzKHZxLCBzZ3MsIHRvdGFsX3NnLCBvdXRfc2dzLCBp
bl9zZ3MpOwo+ID4gKyAgICAgICAgICAgICAgIGlmIChlcnIpCj4gPiArICAgICAgICAgICAgICAg
ICAgICAgICBnb3RvIGVycjsKPiA+ICsgICAgICAgfQo+ID4KPiA+ICAgICAgICAgaGVhZCA9IHZx
LT5mcmVlX2hlYWQ7Cj4gPiAgICAgICAgIGVyciA9IHZpcnRxdWV1ZV9hZGRfdnJpbmdfc3BsaXQo
dnEsIHNncywgdG90YWxfc2csIG91dF9zZ3MsIGluX3NncywgZGVzYyk7Cj4gPiBAQCAtNzc5LDEx
ICs3ODYsMTMgQEAgc3RhdGljIGlubGluZSBpbnQgdmlydHF1ZXVlX2FkZF9zcGxpdChzdHJ1Y3Qg
dmlydHF1ZXVlICpfdnEsCj4gPiAgICAgICAgIC8qIFN0b3JlIHRva2VuIGFuZCBpbmRpcmVjdCBi
dWZmZXIgc3RhdGUuICovCj4gPiAgICAgICAgIHZxLT5zcGxpdC5kZXNjX3N0YXRlW2hlYWRdLmRh
dGEgPSBkYXRhOwo+ID4gICAgICAgICB2cS0+c3BsaXQuZGVzY19zdGF0ZVtoZWFkXS5pbmRpcl9k
ZXNjID0gZGVzYyA/IGRlc2MgOiBjdHg7Cj4gPiArICAgICAgIHZxLT5zcGxpdC5kZXNjX3N0YXRl
W2hlYWRdLmRtYV9tYXAgPSBkbWFfbWFwOwo+ID4KPiA+ICAgICAgICAgZ290byBlbmQ7Cj4gPgo+
ID4gIGVycjoKPiA+IC0gICAgICAgdmlydHF1ZXVlX3VubWFwX3Nncyh2cSwgc2dzLCB0b3RhbF9z
Zywgb3V0X3NncywgaW5fc2dzKTsKPiA+ICsgICAgICAgaWYgKGRtYV9tYXApCj4gPiArICAgICAg
ICAgICAgICAgdmlydHF1ZXVlX3VubWFwX3Nncyh2cSwgc2dzLCB0b3RhbF9zZywgb3V0X3Nncywg
aW5fc2dzKTsKPiA+Cj4gPiAgICAgICAgIGtmcmVlKGRlc2MpOwo+ID4KPiA+IEBAIC04MjgsMjAg
KzgzNywyMyBAQCBzdGF0aWMgdm9pZCBkZXRhY2hfYnVmX3NwbGl0KHN0cnVjdCB2cmluZ192aXJ0
cXVldWUgKnZxLCB1bnNpZ25lZCBpbnQgaGVhZCwKPiA+ICB7Cj4gPiAgICAgICAgIHVuc2lnbmVk
IGludCBpLCBqOwo+ID4gICAgICAgICBfX3ZpcnRpbzE2IG5leHRmbGFnID0gY3B1X3RvX3ZpcnRp
bzE2KHZxLT52cS52ZGV2LCBWUklOR19ERVNDX0ZfTkVYVCk7Cj4gPiArICAgICAgIGJvb2wgZG1h
X21hcDsKPiA+Cj4gPiAgICAgICAgIC8qIENsZWFyIGRhdGEgcHRyLiAqLwo+ID4gICAgICAgICB2
cS0+c3BsaXQuZGVzY19zdGF0ZVtoZWFkXS5kYXRhID0gTlVMTDsKPiA+Cj4gPiArICAgICAgIGRt
YV9tYXAgPSB2cS0+c3BsaXQuZGVzY19zdGF0ZVtoZWFkXS5kbWFfbWFwOwo+ID4gKwo+ID4gICAg
ICAgICAvKiBQdXQgYmFjayBvbiBmcmVlIGxpc3Q6IHVubWFwIGZpcnN0LWxldmVsIGRlc2NyaXB0
b3JzIGFuZCBmaW5kIGVuZCAqLwo+ID4gICAgICAgICBpID0gaGVhZDsKPiA+Cj4gPiAgICAgICAg
IHdoaWxlICh2cS0+c3BsaXQudnJpbmcuZGVzY1tpXS5mbGFncyAmIG5leHRmbGFnKSB7Cj4gPiAt
ICAgICAgICAgICAgICAgdnJpbmdfdW5tYXBfb25lX3NwbGl0KHZxLCBpKTsKPiA+ICsgICAgICAg
ICAgICAgICB2cmluZ191bm1hcF9vbmVfc3BsaXQodnEsIGksIGRtYV9tYXApOwo+ID4gICAgICAg
ICAgICAgICAgIGkgPSB2cS0+c3BsaXQuZGVzY19leHRyYVtpXS5uZXh0Owo+ID4gICAgICAgICAg
ICAgICAgIHZxLT52cS5udW1fZnJlZSsrOwo+ID4gICAgICAgICB9Cj4gPgo+ID4gLSAgICAgICB2
cmluZ191bm1hcF9vbmVfc3BsaXQodnEsIGkpOwo+ID4gKyAgICAgICB2cmluZ191bm1hcF9vbmVf
c3BsaXQodnEsIGksIGRtYV9tYXApOwo+ID4gICAgICAgICB2cS0+c3BsaXQuZGVzY19leHRyYVtp
XS5uZXh0ID0gdnEtPmZyZWVfaGVhZDsKPiA+ICAgICAgICAgdnEtPmZyZWVfaGVhZCA9IGhlYWQ7
Cj4gPgo+ID4gQEAgLTg2Myw4ICs4NzUsMTAgQEAgc3RhdGljIHZvaWQgZGV0YWNoX2J1Zl9zcGxp
dChzdHJ1Y3QgdnJpbmdfdmlydHF1ZXVlICp2cSwgdW5zaWduZWQgaW50IGhlYWQsCj4gPiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZSSU5HX0RFU0NfRl9JTkRJUkVDVCkpOwo+ID4g
ICAgICAgICAgICAgICAgIEJVR19PTihsZW4gPT0gMCB8fCBsZW4gJSBzaXplb2Yoc3RydWN0IHZy
aW5nX2Rlc2MpKTsKPiA+Cj4gPiAtICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGxlbiAv
IHNpemVvZihzdHJ1Y3QgdnJpbmdfZGVzYyk7IGorKykKPiA+IC0gICAgICAgICAgICAgICAgICAg
ICAgIHZyaW5nX3VubWFwX29uZV9zcGxpdF9pbmRpcmVjdCh2cSwgJmluZGlyX2Rlc2Nbal0pOwo+
ID4gKyAgICAgICAgICAgICAgIGlmIChkbWFfbWFwKSB7Cj4gPiArICAgICAgICAgICAgICAgICAg
ICAgICBmb3IgKGogPSAwOyBqIDwgbGVuIC8gc2l6ZW9mKHN0cnVjdCB2cmluZ19kZXNjKTsgaisr
KQo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2cmluZ191bm1hcF9vbmVfc3Bs
aXRfaW5kaXJlY3QodnEsICZpbmRpcl9kZXNjW2pdKTsKPiA+ICsgICAgICAgICAgICAgICB9Cj4g
Pgo+ID4gICAgICAgICAgICAgICAgIGtmcmVlKGluZGlyX2Rlc2MpOwo+ID4gICAgICAgICAgICAg
ICAgIHZxLT5zcGxpdC5kZXNjX3N0YXRlW2hlYWRdLmluZGlyX2Rlc2MgPSBOVUxMOwo+ID4gQEAg
LTIyMDQsNyArMjIxOCwyMiBAQCBzdGF0aWMgaW5saW5lIGludCB2aXJ0cXVldWVfYWRkKHN0cnVj
dCB2aXJ0cXVldWUgKl92cSwKPiA+ICAgICAgICAgcmV0dXJuIHZxLT5wYWNrZWRfcmluZyA/IHZp
cnRxdWV1ZV9hZGRfcGFja2VkKF92cSwgc2dzLCB0b3RhbF9zZywKPiA+ICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRfc2dzLCBpbl9zZ3MsIGRhdGEsIGN0eCwgZ2Zw
KSA6Cj4gPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXJ0cXVldWVfYWRkX3Nw
bGl0KF92cSwgc2dzLCB0b3RhbF9zZywKPiA+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBvdXRfc2dzLCBpbl9zZ3MsIGRhdGEsIGN0eCwgZ2ZwKTsKPiA+ICsgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRfc2dzLCBpbl9zZ3MsIGRhdGEsIGN0
eCwgdHJ1ZSwgZ2ZwKTsKPiA+ICt9Cj4gPiArCj4gPiArc3RhdGljIGlubGluZSBpbnQgdmlydHF1
ZXVlX2FkZF9wcmVtYXBwZWQoc3RydWN0IHZpcnRxdWV1ZSAqX3ZxLAo+ID4gKyAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHNjYXR0ZXJsaXN0ICpzZ3NbXSwK
PiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuc2lnbmVkIGlu
dCB0b3RhbF9zZywKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHVuc2lnbmVkIGludCBvdXRfc2dzLAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgdW5zaWduZWQgaW50IGluX3NncywKPiA+ICsgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHZvaWQgKmRhdGEsCj4gPiArICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICB2b2lkICpjdHgsCj4gPiArICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBnZnBfdCBnZnApCj4gPiArewo+ID4gKyAgICAgICBzdHJ1
Y3QgdnJpbmdfdmlydHF1ZXVlICp2cSA9IHRvX3Z2cShfdnEpOwo+ID4gKwo+ID4gKyAgICAgICBy
ZXR1cm4gdmlydHF1ZXVlX2FkZF9zcGxpdChfdnEsIHNncywgdG90YWxfc2csIG91dF9zZ3MsIGlu
X3NncywgZGF0YSwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4LCBm
YWxzZSwgZ2ZwKTsKPiA+ICB9Cj4gPgo+ID4gIC8qKgo+ID4gQEAgLTIyNjQsNiArMjI5MywzMSBA
QCBpbnQgdmlydHF1ZXVlX2FkZF9vdXRidWYoc3RydWN0IHZpcnRxdWV1ZSAqdnEsCj4gPiAgfQo+
ID4gIEVYUE9SVF9TWU1CT0xfR1BMKHZpcnRxdWV1ZV9hZGRfb3V0YnVmKTsKPiA+Cj4gPiArLyoq
Cj4gPiArICogdmlydHF1ZXVlX2FkZF9vdXRidWZfcHJlbWFwcGVkIC0gZXhwb3NlIG91dHB1dCBi
dWZmZXJzIHdpdGggZG1hIGFkZHJlc3MgdG8gb3RoZXIgZW5kCj4gPiArICogQHZxOiB0aGUgc3Ry
dWN0IHZpcnRxdWV1ZSB3ZSdyZSB0YWxraW5nIGFib3V0Lgo+ID4gKyAqIEBzZzogc2NhdHRlcmxp
c3QgKG11c3QgYmUgd2VsbC1mb3JtZWQgYW5kIHRlcm1pbmF0ZWQhKQo+ID4gKyAqIEBudW06IHRo
ZSBudW1iZXIgb2YgZW50cmllcyBpbiBAc2cgcmVhZGFibGUgYnkgb3RoZXIgc2lkZQo+ID4gKyAq
IEBkYXRhOiB0aGUgdG9rZW4gaWRlbnRpZnlpbmcgdGhlIGJ1ZmZlci4KPiA+ICsgKiBAZ2ZwOiBo
b3cgdG8gZG8gbWVtb3J5IGFsbG9jYXRpb25zIChpZiBuZWNlc3NhcnkpLgo+ID4gKyAqCj4gPiAr
ICogQ2FsbGVyIG11c3QgZW5zdXJlIHdlIGRvbid0IGNhbGwgdGhpcyB3aXRoIG90aGVyIHZpcnRx
dWV1ZSBvcGVyYXRpb25zCj4gPiArICogYXQgdGhlIHNhbWUgdGltZSAoZXhjZXB0IHdoZXJlIG5v
dGVkKS4KPiA+ICsgKgo+ID4gKyAqIEl0IGlzIHJlcXVpcmVkIHRoYXQgYWxsIGFkZHJzIGhhdmUg
Y29tcGxldGVkIERNQSBvcGVyYXRpb25zLiBBbmQgdXNlCj4gPiArICogc2ctPmRtYV9hZGRyZXNz
LCBzZy0+bGVuZ3RoIHRvIHBhc3MgYWRkciBhbmQgbGVuZ3RoLgo+ID4gKyAqCj4gPiArICogUmV0
dXJucyB6ZXJvIG9yIGEgbmVnYXRpdmUgZXJyb3IgKGllLiBFTk9TUEMsIEVOT01FTSwgRUlPKS4K
PiA+ICsgKi8KPiA+ICtpbnQgdmlydHF1ZXVlX2FkZF9vdXRidWZfcHJlbWFwcGVkKHN0cnVjdCB2
aXJ0cXVldWUgKnZxLAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1
Y3Qgc2NhdHRlcmxpc3QgKnNnLCB1bnNpZ25lZCBpbnQgbnVtLAo+ID4gKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICB2b2lkICpkYXRhLAo+ID4gKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBnZnBfdCBnZnApCj4gPiArewo+ID4gKyAgICAgICByZXR1cm4gdmlydHF1
ZXVlX2FkZF9wcmVtYXBwZWQodnEsICZzZywgbnVtLCAxLCAwLCBkYXRhLCBOVUxMLCBnZnApOwo+
ID4gK30KPiA+ICtFWFBPUlRfU1lNQk9MX0dQTCh2aXJ0cXVldWVfYWRkX291dGJ1Zl9wcmVtYXBw
ZWQpOwo+ID4gKwo+ID4gIC8qKgo+ID4gICAqIHZpcnRxdWV1ZV9hZGRfaW5idWYgLSBleHBvc2Ug
aW5wdXQgYnVmZmVycyB0byBvdGhlciBlbmQKPiA+ICAgKiBAdnE6IHRoZSBzdHJ1Y3QgdmlydHF1
ZXVlIHdlJ3JlIHRhbGtpbmcgYWJvdXQuCj4gPiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS9saW51eC92
aXJ0aW8uaCBiL2luY2x1ZGUvbGludXgvdmlydGlvLmgKPiA+IGluZGV4IGRjYWI5YzdlODc4NC4u
ZDhiNDcyYTdkY2FlIDEwMDY0NAo+ID4gLS0tIGEvaW5jbHVkZS9saW51eC92aXJ0aW8uaAo+ID4g
KysrIGIvaW5jbHVkZS9saW51eC92aXJ0aW8uaAo+ID4gQEAgLTQzLDYgKzQzLDExIEBAIGludCB2
aXJ0cXVldWVfYWRkX291dGJ1ZihzdHJ1Y3QgdmlydHF1ZXVlICp2cSwKPiA+ICAgICAgICAgICAg
ICAgICAgICAgICAgICB2b2lkICpkYXRhLAo+ID4gICAgICAgICAgICAgICAgICAgICAgICAgIGdm
cF90IGdmcCk7Cj4gPgo+ID4gK2ludCB2aXJ0cXVldWVfYWRkX291dGJ1Zl9wcmVtYXBwZWQoc3Ry
dWN0IHZpcnRxdWV1ZSAqdnEsCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHN0cnVjdCBzY2F0dGVybGlzdCAqc2csIHVuc2lnbmVkIGludCBudW0sCj4gPiArICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgKmRhdGEsCj4gPiArICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIGdmcF90IGdmcCk7Cj4gPiArCj4gPiAgaW50IHZpcnRxdWV1ZV9h
ZGRfaW5idWYoc3RydWN0IHZpcnRxdWV1ZSAqdnEsCj4gPiAgICAgICAgICAgICAgICAgICAgICAg
ICBzdHJ1Y3Qgc2NhdHRlcmxpc3Qgc2dbXSwgdW5zaWduZWQgaW50IG51bSwKPiA+ICAgICAgICAg
ICAgICAgICAgICAgICAgIHZvaWQgKmRhdGEsCj4gPiAtLQo+ID4gMi4zMi4wLjMuZzAxMTk1Y2Y5
Zgo+ID4KPgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpW
aXJ0dWFsaXphdGlvbiBtYWlsaW5nIGxpc3QKVmlydHVhbGl6YXRpb25AbGlzdHMubGludXgtZm91
bmRhdGlvbi5vcmcKaHR0cHM6Ly9saXN0cy5saW51eGZvdW5kYXRpb24ub3JnL21haWxtYW4vbGlz
dGluZm8vdmlydHVhbGl6YXRpb24=
