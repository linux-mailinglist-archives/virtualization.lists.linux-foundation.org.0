Return-Path: <virtualization-bounces@lists.linux-foundation.org>
X-Original-To: lists.virtualization@lfdr.de
Delivered-To: lists.virtualization@lfdr.de
Received: from smtp1.osuosl.org (smtp1.osuosl.org [IPv6:2605:bc80:3010::138])
	by mail.lfdr.de (Postfix) with ESMTPS id 8FF44725A95
	for <lists.virtualization@lfdr.de>; Wed,  7 Jun 2023 11:34:16 +0200 (CEST)
Received: from localhost (localhost [127.0.0.1])
	by smtp1.osuosl.org (Postfix) with ESMTP id 8DE2481D7C;
	Wed,  7 Jun 2023 09:34:14 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp1.osuosl.org 8DE2481D7C
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp1.osuosl.org ([127.0.0.1])
	by localhost (smtp1.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 5GjJudMEKi52; Wed,  7 Jun 2023 09:34:13 +0000 (UTC)
Received: from lists.linuxfoundation.org (lf-lists.osuosl.org [140.211.9.56])
	by smtp1.osuosl.org (Postfix) with ESMTPS id 8238B81DF6;
	Wed,  7 Jun 2023 09:34:12 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp1.osuosl.org 8238B81DF6
Received: from lf-lists.osuosl.org (localhost [127.0.0.1])
	by lists.linuxfoundation.org (Postfix) with ESMTP id D8394C008C;
	Wed,  7 Jun 2023 09:34:11 +0000 (UTC)
X-Original-To: virtualization@lists.linux-foundation.org
Delivered-To: virtualization@lists.linuxfoundation.org
Received: from smtp3.osuosl.org (smtp3.osuosl.org [140.211.166.136])
 by lists.linuxfoundation.org (Postfix) with ESMTP id EE400C0029
 for <virtualization@lists.linux-foundation.org>;
 Wed,  7 Jun 2023 09:34:09 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by smtp3.osuosl.org (Postfix) with ESMTP id C90C660EC4
 for <virtualization@lists.linux-foundation.org>;
 Wed,  7 Jun 2023 09:34:09 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp3.osuosl.org C90C660EC4
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp3.osuosl.org ([127.0.0.1])
 by localhost (smtp3.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id yFG4Ljc-JzTB
 for <virtualization@lists.linux-foundation.org>;
 Wed,  7 Jun 2023 09:34:07 +0000 (UTC)
X-Greylist: domain auto-whitelisted by SQLgrey-1.8.0
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp3.osuosl.org CCD7B6068B
Received: from out30-133.freemail.mail.aliyun.com
 (out30-133.freemail.mail.aliyun.com [115.124.30.133])
 by smtp3.osuosl.org (Postfix) with ESMTPS id CCD7B6068B
 for <virtualization@lists.linux-foundation.org>;
 Wed,  7 Jun 2023 09:34:06 +0000 (UTC)
X-Alimail-AntiSpam: AC=PASS; BC=-1|-1; BR=01201311R121e4; CH=green; DM=||false|;
 DS=||; FP=0|-1|-1|-1|0|-1|-1|-1; HT=ay29a033018045192;
 MF=xuanzhuo@linux.alibaba.com; NM=1; PH=DS; RN=11; SR=0;
 TI=SMTPD_---0Vka7PC3_1686130438; 
Received: from localhost(mailfrom:xuanzhuo@linux.alibaba.com
 fp:SMTPD_---0Vka7PC3_1686130438) by smtp.aliyun-inc.com;
 Wed, 07 Jun 2023 17:33:59 +0800
Message-ID: <1686130401.827606-3-xuanzhuo@linux.alibaba.com>
Subject: Re: [PATCH net-next 2/5] virtio_net: Add page_pool support to improve
 performance
Date: Wed, 7 Jun 2023 17:33:21 +0800
From: Xuan Zhuo <xuanzhuo@linux.alibaba.com>
To: Liang Chen <liangchen.linux@gmail.com>
References: <20230526054621.18371-1-liangchen.linux@gmail.com>
 <20230526054621.18371-2-liangchen.linux@gmail.com>
 <CACGkMEv+5150S4ooWFMnUs-GpwRYgRMTku0ZgkFpH5iFR1qQsw@mail.gmail.com>
 <CAKhg4tL2b9LEsaNuLi94Zf9XQ4S2FyoXWzW9wTTkrU8L1qNQcQ@mail.gmail.com>
 <20230528023956-mutt-send-email-mst@kernel.org>
 <CAKhg4t+8TsNZ-0hzfo63qCh_uFYHCmyZR+Fx+rC8garnMBt9jw@mail.gmail.com>
 <1685502651.282807-1-xuanzhuo@linux.alibaba.com>
 <CAKhg4tJ=+gLp0PYvcfaZD6CrjJUtp6CZjf_ww8wZ7P7Db28V3w@mail.gmail.com>
In-Reply-To: <CAKhg4tJ=+gLp0PYvcfaZD6CrjJUtp6CZjf_ww8wZ7P7Db28V3w@mail.gmail.com>
Cc: "Michael S. Tsirkin" <mst@redhat.com>, netdev@vger.kernel.org,
 linux-kernel@vger.kernel.org, alexander.duyck@gmail.com,
 virtualization@lists.linux-foundation.org, edumazet@google.com,
 kuba@kernel.org, pabeni@redhat.com, davem@davemloft.net
X-BeenThere: virtualization@lists.linux-foundation.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: Linux virtualization <virtualization.lists.linux-foundation.org>
List-Unsubscribe: <https://lists.linuxfoundation.org/mailman/options/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=unsubscribe>
List-Archive: <http://lists.linuxfoundation.org/pipermail/virtualization/>
List-Post: <mailto:virtualization@lists.linux-foundation.org>
List-Help: <mailto:virtualization-request@lists.linux-foundation.org?subject=help>
List-Subscribe: <https://lists.linuxfoundation.org/mailman/listinfo/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: virtualization-bounces@lists.linux-foundation.org
Sender: "Virtualization" <virtualization-bounces@lists.linux-foundation.org>

T24gV2VkLCA3IEp1biAyMDIzIDE3OjExOjQ0ICswODAwLCBMaWFuZyBDaGVuIDxsaWFuZ2NoZW4u
bGludXhAZ21haWwuY29tPiB3cm90ZToKPiBPbiBXZWQsIE1heSAzMSwgMjAyMyBhdCAxMToxMuKA
r0FNIFh1YW4gWmh1byA8eHVhbnpodW9AbGludXguYWxpYmFiYS5jb20+IHdyb3RlOgo+ID4KPiA+
IE9uIE1vbiwgMjkgTWF5IDIwMjMgMTU6Mjg6MTcgKzA4MDAsIExpYW5nIENoZW4gPGxpYW5nY2hl
bi5saW51eEBnbWFpbC5jb20+IHdyb3RlOgo+ID4gPiBPbiBTdW4sIE1heSAyOCwgMjAyMyBhdCAy
OjQw4oCvUE0gTWljaGFlbCBTLiBUc2lya2luIDxtc3RAcmVkaGF0LmNvbT4gd3JvdGU6Cj4gPiA+
ID4KPiA+ID4gPiBPbiBTYXQsIE1heSAyNywgMjAyMyBhdCAwODozNTowMVBNICswODAwLCBMaWFu
ZyBDaGVuIHdyb3RlOgo+ID4gPiA+ID4gT24gRnJpLCBNYXkgMjYsIDIwMjMgYXQgMjo1MeKAr1BN
IEphc29uIFdhbmcgPGphc293YW5nQHJlZGhhdC5jb20+IHdyb3RlOgo+ID4gPiA+ID4gPgo+ID4g
PiA+ID4gPiBPbiBGcmksIE1heSAyNiwgMjAyMyBhdCAxOjQ24oCvUE0gTGlhbmcgQ2hlbiA8bGlh
bmdjaGVuLmxpbnV4QGdtYWlsLmNvbT4gd3JvdGU6Cj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4g
PiBUaGUgaW1wbGVtZW50YXRpb24gYXQgdGhlIG1vbWVudCB1c2VzIG9uZSBwYWdlIHBlciBwYWNr
ZXQgaW4gYm90aCB0aGUKPiA+ID4gPiA+ID4gPiBub3JtYWwgYW5kIFhEUCBwYXRoLgo+ID4gPiA+
ID4gPgo+ID4gPiA+ID4gPiBJdCdzIGJldHRlciB0byBleHBsYWluIHdoeSB3ZSBuZWVkIGEgcGFn
ZSBwb29sIGFuZCBob3cgaXQgY2FuIGhlbHAgdGhlCj4gPiA+ID4gPiA+IHBlcmZvcm1hbmNlLgo+
ID4gPiA+ID4gPgo+ID4gPiA+ID4KPiA+ID4gPiA+IFN1cmUsIEkgd2lsbCBpbmNsdWRlIHRoYXQg
b24gdjIuCj4gPiA+ID4gPiA+ID4gSW4gYWRkaXRpb24sIGludHJvZHVjaW5nIGEgbW9kdWxlIHBh
cmFtZXRlciB0byBlbmFibGUKPiA+ID4gPiA+ID4gPiBvciBkaXNhYmxlIHRoZSB1c2FnZSBvZiBw
YWdlIHBvb2wgKGRpc2FibGVkIGJ5IGRlZmF1bHQpLgo+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiBJ
ZiBwYWdlIHBvb2wgd2lucyBmb3IgbW9zdCBvZiB0aGUgY2FzZXMsIGFueSByZWFzb24gdG8gZGlz
YWJsZSBpdCBieSBkZWZhdWx0Pwo+ID4gPiA+ID4gPgo+ID4gPiA+ID4KPiA+ID4gPiA+IFRoYW5r
IHlvdSBmb3IgcmFpc2luZyB0aGUgcG9pbnQuIEl0IGRvZXMgbWFrZSBzZW5zZSB0byBlbmFibGUg
aXQgYnkgZGVmYXVsdC4KPiA+ID4gPgo+ID4gPiA+IEknZCBsaWtlIHRvIHNlZSBtb3JlIGJlbmNo
bWFya3MgcGxzIHRoZW4sIHdpdGggYSB2YXJpZXR5IG9mIHBhY2tldAo+ID4gPiA+IHNpemVzLCB1
ZHAgYW5kIHRjcC4KPiA+ID4gPgo+ID4gPgo+ID4gPiBTdXJlLCBtb3JlIGJlbmNobWFya3Mgd2ls
bCBiZSBwcm92aWRlZC4gVGhhbmtzLgo+ID4KPiA+Cj4gPiBJIHRoaW5rIHNvLgo+ID4KPiA+IEkg
ZGlkIHRoaXMsIGJ1dCBJIGRpZCBub3QgZm91bmQgYW55IGltcHJvdmUuIFNvIEkgZ2F2ZSB1cCBp
dC4KPiA+Cj4gPiBUaGFua3MuCj4gPgo+ID4KPgo+IE91ciBVRFAgYmVuY2htYXJrIHNob3dzIGEg
c3RlYWR5IDAuOCBwZXJjZW50IGNoYW5nZSBpbiBQUFMKPiBtZWFzdXJlbWVudC4gSG93ZXZlciwg
d2hlbiBjb25kdWN0aW5nIGlwZXJmIFRDUCBzdHJlYW0gcGVyZm9ybWFuY2UKPiB0ZXN0aW5nLCB0
aGUgcmVzdWx0cyB2YXJ5IGRlcGVuZGluZyBvbiB0aGUgcGFja2V0IHNpemUgYW5kIHRlc3RpbmcK
PiBzZXR1cC4gV2l0aCBzbWFsbCBwYWNrZXQgc2l6ZXMsIHRoZSBwZXJmb3JtYW5jZSBhY3R1YWxs
eSBkcm9wcwo+IHNsaWdodGx5IGR1ZSB0byB0aGUgcmVhc29ucyBJIGV4cGxhaW5lZCBpbiB0aGUg
cHJldmlvdXMgZW1haWwuIE9uIHRoZQo+IG90aGVyIGhhbmQsIHdpdGggbGFyZ2UgcGFja2V0cywg
d2UgbmVlZCB0byBlbnN1cmUgdGhhdCB0aGUgc2VuZGVyIHNpZGUKPiBkb2Vzbid0IGJlY29tZSB0
aGUgYm90dGxlbmVjay4gVG8gYWNoaWV2ZSB0aGlzLCBvdXIgc2V0dXAgdXNlcyBhCj4gc2luZ2xl
LWNvcmUgdm0gdG8ga2VlcCB0aGUgcmVjZWl2ZXIgYnVzeSwgd2hpY2ggYWxsb3dzIHVzIHRvIGlk
ZW50aWZ5Cj4gcGVyZm9ybWFuY2UgZGlmZmVyZW5jZXMgaW4gdGhlIHJlY2VpdmluZyBwYXRoLgoK
Q291bGQgeW91IHNob3cgc29tZSBudW1iZXJzPwoKVGhhbmtzLgoKCj4KPgo+IFRoYW5rcywKPiBM
aWFuZwo+Cj4KPgo+Cj4gPiA+Cj4gPiA+Cj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiBJbiBz
aW5nbGUtY29yZSB2bSB0ZXN0aW5nIGVudmlyb25tZW50cywgaXQgZ2l2ZXMgYSBtb2Rlc3QgcGVy
Zm9ybWFuY2UgZ2Fpbgo+ID4gPiA+ID4gPiA+IGluIHRoZSBub3JtYWwgcGF0aC4KPiA+ID4gPiA+
ID4gPiAgIFVwc3RyZWFtIGNvZGViYXNlOiA0Ny41IEdiaXRzL3NlYwo+ID4gPiA+ID4gPiA+ICAg
VXBzdHJlYW0gY29kZWJhc2UgKyBwYWdlX3Bvb2wgc3VwcG9ydDogNTAuMiBHYml0cy9zZWMKPiA+
ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+IEluIG11bHRpLWNvcmUgdm0gdGVzdGluZyBlbnZpcm9u
bWVudHMsIFRoZSBtb3N0IHNpZ25pZmljYW50IHBlcmZvcm1hbmNlCj4gPiA+ID4gPiA+ID4gZ2Fp
biBpcyBvYnNlcnZlZCBpbiBYRFAgY3B1bWFwOgo+ID4gPiA+ID4gPiA+ICAgVXBzdHJlYW0gY29k
ZWJhc2U6IDEuMzggR2JpdHMvc2VjCj4gPiA+ID4gPiA+ID4gICBVcHN0cmVhbSBjb2RlYmFzZSAr
IHBhZ2VfcG9vbCBzdXBwb3J0OiA5Ljc0IEdiaXRzL3NlYwo+ID4gPiA+ID4gPgo+ID4gPiA+ID4g
PiBQbGVhc2Ugc2hvdyBtb3JlIGRldGFpbHMgb24gdGhlIHRlc3QuIEUuZyB3aGljaCBraW5kcyBv
ZiB0ZXN0cyBoYXZlCj4gPiA+ID4gPiA+IHlvdSBtZWFzdXJlZD8KPiA+ID4gPiA+ID4KPiA+ID4g
PiA+ID4gQnR3LCBpdCB3b3VsZCBiZSBiZXR0ZXIgdG8gbWVhc3VyZSBQUFMgYXMgd2VsbC4KPiA+
ID4gPiA+ID4KPiA+ID4gPiA+Cj4gPiA+ID4gPiBTdXJlLiBJdCB3aWxsIGJlIGFkZGVkIG9uIHYy
Lgo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gV2l0aCB0aGlzIGZvdW5kYXRpb24sIHdlIGNh
biBmdXJ0aGVyIGludGVncmF0ZSBwYWdlIHBvb2wgZnJhZ21lbnRhdGlvbiBhbmQKPiA+ID4gPiA+
ID4gPiBETUEgbWFwL3VubWFwIHN1cHBvcnQuCj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiBT
aWduZWQtb2ZmLWJ5OiBMaWFuZyBDaGVuIDxsaWFuZ2NoZW4ubGludXhAZ21haWwuY29tPgo+ID4g
PiA+ID4gPiA+IC0tLQo+ID4gPiA+ID4gPiA+ICBkcml2ZXJzL25ldC92aXJ0aW9fbmV0LmMgfCAx
ODggKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrLS0tLS0tLS0tCj4gPiA+ID4gPiA+Cj4g
PiA+ID4gPiA+IEkgYmVsaWV2ZSB3ZSBzaG91bGQgbWFrZSB2aXJ0aW8tbmV0IHRvIHNlbGVjdCBD
T05GSUdfUEFHRV9QT09MIG9yIGRvCj4gPiA+ID4gPiA+IHRoZSBpZmRlZiB0cmlja3MgYXQgbGVh
c3QuCj4gPiA+ID4gPiA+Cj4gPiA+ID4gPgo+ID4gPiA+ID4gU3VyZS4gaXQgd2lsbCBiZSBkb25l
IG9uIHYyLgo+ID4gPiA+ID4gPiA+ICAxIGZpbGUgY2hhbmdlZCwgMTQ2IGluc2VydGlvbnMoKyks
IDQyIGRlbGV0aW9ucygtKQo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gZGlmZiAtLWdpdCBh
L2RyaXZlcnMvbmV0L3ZpcnRpb19uZXQuYyBiL2RyaXZlcnMvbmV0L3ZpcnRpb19uZXQuYwo+ID4g
PiA+ID4gPiA+IGluZGV4IGM1ZGNhMGQ5MmU2NC4uOTljMGNhMGMxNzgxIDEwMDY0NAo+ID4gPiA+
ID4gPiA+IC0tLSBhL2RyaXZlcnMvbmV0L3ZpcnRpb19uZXQuYwo+ID4gPiA+ID4gPiA+ICsrKyBi
L2RyaXZlcnMvbmV0L3ZpcnRpb19uZXQuYwo+ID4gPiA+ID4gPiA+IEBAIC0zMSw2ICszMSw5IEBA
IG1vZHVsZV9wYXJhbShjc3VtLCBib29sLCAwNDQ0KTsKPiA+ID4gPiA+ID4gPiAgbW9kdWxlX3Bh
cmFtKGdzbywgYm9vbCwgMDQ0NCk7Cj4gPiA+ID4gPiA+ID4gIG1vZHVsZV9wYXJhbShuYXBpX3R4
LCBib29sLCAwNjQ0KTsKPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ICtzdGF0aWMgYm9vbCBw
YWdlX3Bvb2xfZW5hYmxlZDsKPiA+ID4gPiA+ID4gPiArbW9kdWxlX3BhcmFtKHBhZ2VfcG9vbF9l
bmFibGVkLCBib29sLCAwNDAwKTsKPiA+ID4gPiA+ID4gPiArCj4gPiA+ID4gPiA+ID4gIC8qIEZJ
WE1FOiBNVFUgaW4gY29uZmlnLiAqLwo+ID4gPiA+ID4gPiA+ICAjZGVmaW5lIEdPT0RfUEFDS0VU
X0xFTiAoRVRIX0hMRU4gKyBWTEFOX0hMRU4gKyBFVEhfREFUQV9MRU4pCj4gPiA+ID4gPiA+ID4g
ICNkZWZpbmUgR09PRF9DT1BZX0xFTiAgMTI4Cj4gPiA+ID4gPiA+ID4gQEAgLTE1OSw2ICsxNjIs
OSBAQCBzdHJ1Y3QgcmVjZWl2ZV9xdWV1ZSB7Cj4gPiA+ID4gPiA+ID4gICAgICAgICAvKiBDaGFp
biBwYWdlcyBieSB0aGUgcHJpdmF0ZSBwdHIuICovCj4gPiA+ID4gPiA+ID4gICAgICAgICBzdHJ1
Y3QgcGFnZSAqcGFnZXM7Cj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiArICAgICAgIC8qIFBh
Z2UgcG9vbCAqLwo+ID4gPiA+ID4gPiA+ICsgICAgICAgc3RydWN0IHBhZ2VfcG9vbCAqcGFnZV9w
b29sOwo+ID4gPiA+ID4gPiA+ICsKPiA+ID4gPiA+ID4gPiAgICAgICAgIC8qIEF2ZXJhZ2UgcGFj
a2V0IGxlbmd0aCBmb3IgbWVyZ2VhYmxlIHJlY2VpdmUgYnVmZmVycy4gKi8KPiA+ID4gPiA+ID4g
PiAgICAgICAgIHN0cnVjdCBld21hX3BrdF9sZW4gbXJnX2F2Z19wa3RfbGVuOwo+ID4gPiA+ID4g
PiA+Cj4gPiA+ID4gPiA+ID4gQEAgLTQ1OSw2ICs0NjUsMTQgQEAgc3RhdGljIHN0cnVjdCBza19i
dWZmICp2aXJ0bmV0X2J1aWxkX3NrYih2b2lkICpidWYsIHVuc2lnbmVkIGludCBidWZsZW4sCj4g
PiA+ID4gPiA+ID4gICAgICAgICByZXR1cm4gc2tiOwo+ID4gPiA+ID4gPiA+ICB9Cj4gPiA+ID4g
PiA+ID4KPiA+ID4gPiA+ID4gPiArc3RhdGljIHZvaWQgdmlydG5ldF9wdXRfcGFnZShzdHJ1Y3Qg
cmVjZWl2ZV9xdWV1ZSAqcnEsIHN0cnVjdCBwYWdlICpwYWdlKQo+ID4gPiA+ID4gPiA+ICt7Cj4g
PiA+ID4gPiA+ID4gKyAgICAgICBpZiAocnEtPnBhZ2VfcG9vbCkKPiA+ID4gPiA+ID4gPiArICAg
ICAgICAgICAgICAgcGFnZV9wb29sX3B1dF9mdWxsX3BhZ2UocnEtPnBhZ2VfcG9vbCwgcGFnZSwg
dHJ1ZSk7Cj4gPiA+ID4gPiA+ID4gKyAgICAgICBlbHNlCj4gPiA+ID4gPiA+ID4gKyAgICAgICAg
ICAgICAgIHB1dF9wYWdlKHBhZ2UpOwo+ID4gPiA+ID4gPiA+ICt9Cj4gPiA+ID4gPiA+ID4gKwo+
ID4gPiA+ID4gPiA+ICAvKiBDYWxsZWQgZnJvbSBib3R0b20gaGFsZiBjb250ZXh0ICovCj4gPiA+
ID4gPiA+ID4gIHN0YXRpYyBzdHJ1Y3Qgc2tfYnVmZiAqcGFnZV90b19za2Ioc3RydWN0IHZpcnRu
ZXRfaW5mbyAqdmksCj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBzdHJ1Y3QgcmVjZWl2ZV9xdWV1ZSAqcnEsCj4gPiA+ID4gPiA+ID4gQEAgLTU1NSw3ICs1
NjksNyBAQCBzdGF0aWMgc3RydWN0IHNrX2J1ZmYgKnBhZ2VfdG9fc2tiKHN0cnVjdCB2aXJ0bmV0
X2luZm8gKnZpLAo+ID4gPiA+ID4gPiA+ICAgICAgICAgaGRyID0gc2tiX3ZuZXRfaGRyKHNrYik7
Cj4gPiA+ID4gPiA+ID4gICAgICAgICBtZW1jcHkoaGRyLCBoZHJfcCwgaGRyX2xlbik7Cj4gPiA+
ID4gPiA+ID4gICAgICAgICBpZiAocGFnZV90b19mcmVlKQo+ID4gPiA+ID4gPiA+IC0gICAgICAg
ICAgICAgICBwdXRfcGFnZShwYWdlX3RvX2ZyZWUpOwo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAg
ICAgICB2aXJ0bmV0X3B1dF9wYWdlKHJxLCBwYWdlX3RvX2ZyZWUpOwo+ID4gPiA+ID4gPiA+Cj4g
PiA+ID4gPiA+ID4gICAgICAgICByZXR1cm4gc2tiOwo+ID4gPiA+ID4gPiA+ICB9Cj4gPiA+ID4g
PiA+ID4gQEAgLTgwMiw3ICs4MTYsNyBAQCBzdGF0aWMgaW50IHZpcnRuZXRfeGRwX3htaXQoc3Ry
dWN0IG5ldF9kZXZpY2UgKmRldiwKPiA+ID4gPiA+ID4gPiAgICAgICAgIHJldHVybiByZXQ7Cj4g
PiA+ID4gPiA+ID4gIH0KPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+IC1zdGF0aWMgdm9pZCBw
dXRfeGRwX2ZyYWdzKHN0cnVjdCB4ZHBfYnVmZiAqeGRwKQo+ID4gPiA+ID4gPiA+ICtzdGF0aWMg
dm9pZCBwdXRfeGRwX2ZyYWdzKHN0cnVjdCB4ZHBfYnVmZiAqeGRwLCBzdHJ1Y3QgcmVjZWl2ZV9x
dWV1ZSAqcnEpCj4gPiA+ID4gPiA+ID4gIHsKPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gcnEgY291
bGQgYmUgZmV0Y2hlZCBmcm9tIHhkcF9yeHFfaW5mbz8KPiA+ID4gPiA+Cj4gPiA+ID4gPiBZZWFo
LCBpdCBoYXMgdGhlIHF1ZXVlX2luZGV4IHRoZXJlLgo+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+
ICAgICAgICAgc3RydWN0IHNrYl9zaGFyZWRfaW5mbyAqc2hpbmZvOwo+ID4gPiA+ID4gPiA+ICAg
ICAgICAgc3RydWN0IHBhZ2UgKnhkcF9wYWdlOwo+ID4gPiA+ID4gPiA+IEBAIC04MTIsNyArODI2
LDcgQEAgc3RhdGljIHZvaWQgcHV0X3hkcF9mcmFncyhzdHJ1Y3QgeGRwX2J1ZmYgKnhkcCkKPiA+
ID4gPiA+ID4gPiAgICAgICAgICAgICAgICAgc2hpbmZvID0geGRwX2dldF9zaGFyZWRfaW5mb19m
cm9tX2J1ZmYoeGRwKTsKPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsg
aSA8IHNoaW5mby0+bnJfZnJhZ3M7IGkrKykgewo+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAg
ICAgICAgICAgIHhkcF9wYWdlID0gc2tiX2ZyYWdfcGFnZSgmc2hpbmZvLT5mcmFnc1tpXSk7Cj4g
PiA+ID4gPiA+ID4gLSAgICAgICAgICAgICAgICAgICAgICAgcHV0X3BhZ2UoeGRwX3BhZ2UpOwo+
ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgIHZpcnRuZXRfcHV0X3BhZ2UocnEs
IHhkcF9wYWdlKTsKPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgICAgfQo+ID4gPiA+ID4gPiA+
ICAgICAgICAgfQo+ID4gPiA+ID4gPiA+ICB9Cj4gPiA+ID4gPiA+ID4gQEAgLTkwMyw3ICs5MTcs
MTEgQEAgc3RhdGljIHN0cnVjdCBwYWdlICp4ZHBfbGluZWFyaXplX3BhZ2Uoc3RydWN0IHJlY2Vp
dmVfcXVldWUgKnJxLAo+ID4gPiA+ID4gPiA+ICAgICAgICAgaWYgKHBhZ2Vfb2ZmICsgKmxlbiAr
IHRhaWxyb29tID4gUEFHRV9TSVpFKQo+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgICByZXR1
cm4gTlVMTDsKPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+IC0gICAgICAgcGFnZSA9IGFsbG9j
X3BhZ2UoR0ZQX0FUT01JQyk7Cj4gPiA+ID4gPiA+ID4gKyAgICAgICBpZiAocnEtPnBhZ2VfcG9v
bCkKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgcGFnZSA9IHBhZ2VfcG9vbF9kZXZfYWxs
b2NfcGFnZXMocnEtPnBhZ2VfcG9vbCk7Cj4gPiA+ID4gPiA+ID4gKyAgICAgICBlbHNlCj4gPiA+
ID4gPiA+ID4gKyAgICAgICAgICAgICAgIHBhZ2UgPSBhbGxvY19wYWdlKEdGUF9BVE9NSUMpOwo+
ID4gPiA+ID4gPiA+ICsKPiA+ID4gPiA+ID4gPiAgICAgICAgIGlmICghcGFnZSkKPiA+ID4gPiA+
ID4gPiAgICAgICAgICAgICAgICAgcmV0dXJuIE5VTEw7Cj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+
ID4gPiBAQCAtOTI2LDIxICs5NDQsMjQgQEAgc3RhdGljIHN0cnVjdCBwYWdlICp4ZHBfbGluZWFy
aXplX3BhZ2Uoc3RydWN0IHJlY2VpdmVfcXVldWUgKnJxLAo+ID4gPiA+ID4gPiA+ICAgICAgICAg
ICAgICAgICAgKiBpcyBzZW5kaW5nIHBhY2tldCBsYXJnZXIgdGhhbiB0aGUgTVRVLgo+ID4gPiA+
ID4gPiA+ICAgICAgICAgICAgICAgICAgKi8KPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgICAg
aWYgKChwYWdlX29mZiArIGJ1ZmxlbiArIHRhaWxyb29tKSA+IFBBR0VfU0laRSkgewo+ID4gPiA+
ID4gPiA+IC0gICAgICAgICAgICAgICAgICAgICAgIHB1dF9wYWdlKHApOwo+ID4gPiA+ID4gPiA+
ICsgICAgICAgICAgICAgICAgICAgICAgIHZpcnRuZXRfcHV0X3BhZ2UocnEsIHApOwo+ID4gPiA+
ID4gPiA+ICAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8gZXJyX2J1ZjsKPiA+ID4gPiA+ID4g
PiAgICAgICAgICAgICAgICAgfQo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gICAgICAgICAg
ICAgICAgIG1lbWNweShwYWdlX2FkZHJlc3MocGFnZSkgKyBwYWdlX29mZiwKPiA+ID4gPiA+ID4g
PiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VfYWRkcmVzcyhwKSArIG9mZiwgYnVmbGVuKTsK
PiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgICAgcGFnZV9vZmYgKz0gYnVmbGVuOwo+ID4gPiA+
ID4gPiA+IC0gICAgICAgICAgICAgICBwdXRfcGFnZShwKTsKPiA+ID4gPiA+ID4gPiArICAgICAg
ICAgICAgICAgdmlydG5ldF9wdXRfcGFnZShycSwgcCk7Cj4gPiA+ID4gPiA+ID4gICAgICAgICB9
Cj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiAgICAgICAgIC8qIEhlYWRyb29tIGRvZXMgbm90
IGNvbnRyaWJ1dGUgdG8gcGFja2V0IGxlbmd0aCAqLwo+ID4gPiA+ID4gPiA+ICAgICAgICAgKmxl
biA9IHBhZ2Vfb2ZmIC0gVklSVElPX1hEUF9IRUFEUk9PTTsKPiA+ID4gPiA+ID4gPiAgICAgICAg
IHJldHVybiBwYWdlOwo+ID4gPiA+ID4gPiA+ICBlcnJfYnVmOgo+ID4gPiA+ID4gPiA+IC0gICAg
ICAgX19mcmVlX3BhZ2VzKHBhZ2UsIDApOwo+ID4gPiA+ID4gPiA+ICsgICAgICAgaWYgKHJxLT5w
YWdlX3Bvb2wpCj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAgIHBhZ2VfcG9vbF9wdXRfZnVs
bF9wYWdlKHJxLT5wYWdlX3Bvb2wsIHBhZ2UsIHRydWUpOwo+ID4gPiA+ID4gPiA+ICsgICAgICAg
ZWxzZQo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgICBfX2ZyZWVfcGFnZXMocGFnZSwgMCk7
Cj4gPiA+ID4gPiA+ID4gICAgICAgICByZXR1cm4gTlVMTDsKPiA+ID4gPiA+ID4gPiAgfQo+ID4g
PiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gQEAgLTExNDQsNyArMTE2NSw3IEBAIHN0YXRpYyB2b2lk
IG1lcmdlYWJsZV9idWZfZnJlZShzdHJ1Y3QgcmVjZWl2ZV9xdWV1ZSAqcnEsIGludCBudW1fYnVm
LAo+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgICB9Cj4gPiA+ID4gPiA+ID4gICAgICAgICAg
ICAgICAgIHN0YXRzLT5ieXRlcyArPSBsZW47Cj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICAg
IHBhZ2UgPSB2aXJ0X3RvX2hlYWRfcGFnZShidWYpOwo+ID4gPiA+ID4gPiA+IC0gICAgICAgICAg
ICAgICBwdXRfcGFnZShwYWdlKTsKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgdmlydG5l
dF9wdXRfcGFnZShycSwgcGFnZSk7Cj4gPiA+ID4gPiA+ID4gICAgICAgICB9Cj4gPiA+ID4gPiA+
ID4gIH0KPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+IEBAIC0xMjY0LDcgKzEyODUsNyBAQCBz
dGF0aWMgaW50IHZpcnRuZXRfYnVpbGRfeGRwX2J1ZmZfbXJnKHN0cnVjdCBuZXRfZGV2aWNlICpk
ZXYsCj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICAgIGN1cl9mcmFnX3NpemUgPSB0cnVlc2l6
ZTsKPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgICAgeGRwX2ZyYWdzX3RydWVzeiArPSBjdXJf
ZnJhZ19zaXplOwo+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgICBpZiAodW5saWtlbHkobGVu
ID4gdHJ1ZXNpemUgLSByb29tIHx8IGN1cl9mcmFnX3NpemUgPiBQQUdFX1NJWkUpKSB7Cj4gPiA+
ID4gPiA+ID4gLSAgICAgICAgICAgICAgICAgICAgICAgcHV0X3BhZ2UocGFnZSk7Cj4gPiA+ID4g
PiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgdmlydG5ldF9wdXRfcGFnZShycSwgcGFnZSk7
Cj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICAgICAgICAgICAgcHJfZGVidWcoIiVzOiByeCBl
cnJvcjogbGVuICV1IGV4Y2VlZHMgdHJ1ZXNpemUgJWx1XG4iLAo+ID4gPiA+ID4gPiA+ICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldi0+bmFtZSwgbGVuLCAodW5zaWduZWQgbG9u
ZykodHJ1ZXNpemUgLSByb29tKSk7Cj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICAgICAgICAg
ICAgZGV2LT5zdGF0cy5yeF9sZW5ndGhfZXJyb3JzKys7Cj4gPiA+ID4gPiA+ID4gQEAgLTEyODMs
NyArMTMwNCw3IEBAIHN0YXRpYyBpbnQgdmlydG5ldF9idWlsZF94ZHBfYnVmZl9tcmcoc3RydWN0
IG5ldF9kZXZpY2UgKmRldiwKPiA+ID4gPiA+ID4gPiAgICAgICAgIHJldHVybiAwOwo+ID4gPiA+
ID4gPiA+Cj4gPiA+ID4gPiA+ID4gIGVycjoKPiA+ID4gPiA+ID4gPiAtICAgICAgIHB1dF94ZHBf
ZnJhZ3MoeGRwKTsKPiA+ID4gPiA+ID4gPiArICAgICAgIHB1dF94ZHBfZnJhZ3MoeGRwLCBycSk7
Cj4gPiA+ID4gPiA+ID4gICAgICAgICByZXR1cm4gLUVJTlZBTDsKPiA+ID4gPiA+ID4gPiAgfQo+
ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gQEAgLTEzNDQsNyArMTM2NSwxMCBAQCBzdGF0aWMg
dm9pZCAqbWVyZ2VhYmxlX3hkcF9nZXRfYnVmKHN0cnVjdCB2aXJ0bmV0X2luZm8gKnZpLAo+ID4g
PiA+ID4gPiA+ICAgICAgICAgICAgICAgICBpZiAoKmxlbiArIHhkcF9yb29tID4gUEFHRV9TSVpF
KQo+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBOVUxMOwo+ID4g
PiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gLSAgICAgICAgICAgICAgIHhkcF9wYWdlID0gYWxsb2Nf
cGFnZShHRlBfQVRPTUlDKTsKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgaWYgKHJxLT5w
YWdlX3Bvb2wpCj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgeGRwX3BhZ2Ug
PSBwYWdlX3Bvb2xfZGV2X2FsbG9jX3BhZ2VzKHJxLT5wYWdlX3Bvb2wpOwo+ID4gPiA+ID4gPiA+
ICsgICAgICAgICAgICAgICBlbHNlCj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAg
ICAgeGRwX3BhZ2UgPSBhbGxvY19wYWdlKEdGUF9BVE9NSUMpOwo+ID4gPiA+ID4gPiA+ICAgICAg
ICAgICAgICAgICBpZiAoIXhkcF9wYWdlKQo+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgICAg
ICAgICAgIHJldHVybiBOVUxMOwo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gQEAgLTEzNTQs
NyArMTM3OCw3IEBAIHN0YXRpYyB2b2lkICptZXJnZWFibGVfeGRwX2dldF9idWYoc3RydWN0IHZp
cnRuZXRfaW5mbyAqdmksCj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiAgICAgICAgICpmcmFt
ZV9zeiA9IFBBR0VfU0laRTsKPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+IC0gICAgICAgcHV0
X3BhZ2UoKnBhZ2UpOwo+ID4gPiA+ID4gPiA+ICsgICAgICAgdmlydG5ldF9wdXRfcGFnZShycSwg
KnBhZ2UpOwo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gICAgICAgICAqcGFnZSA9IHhkcF9w
YWdlOwo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gQEAgLTE0MDAsNiArMTQyNCw4IEBAIHN0
YXRpYyBzdHJ1Y3Qgc2tfYnVmZiAqcmVjZWl2ZV9tZXJnZWFibGVfeGRwKHN0cnVjdCBuZXRfZGV2
aWNlICpkZXYsCj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICAgIGhlYWRfc2tiID0gYnVpbGRf
c2tiX2Zyb21feGRwX2J1ZmYoZGV2LCB2aSwgJnhkcCwgeGRwX2ZyYWdzX3RydWVzeik7Cj4gPiA+
ID4gPiA+ID4gICAgICAgICAgICAgICAgIGlmICh1bmxpa2VseSghaGVhZF9za2IpKQo+ID4gPiA+
ID4gPiA+ICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwo+ID4gPiA+ID4gPiA+ICsgICAg
ICAgICAgICAgICBpZiAocnEtPnBhZ2VfcG9vbCkKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAg
ICAgICAgICAgICBza2JfbWFya19mb3JfcmVjeWNsZShoZWFkX3NrYik7Cj4gPiA+ID4gPiA+ID4g
ICAgICAgICAgICAgICAgIHJldHVybiBoZWFkX3NrYjsKPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4g
PiA+ICAgICAgICAgY2FzZSBYRFBfVFg6Cj4gPiA+ID4gPiA+ID4gQEAgLTE0MTAsMTAgKzE0MzYs
MTAgQEAgc3RhdGljIHN0cnVjdCBza19idWZmICpyZWNlaXZlX21lcmdlYWJsZV94ZHAoc3RydWN0
IG5ldF9kZXZpY2UgKmRldiwKPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgICAgYnJlYWs7Cj4g
PiA+ID4gPiA+ID4gICAgICAgICB9Cj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiAtICAgICAg
IHB1dF94ZHBfZnJhZ3MoJnhkcCk7Cj4gPiA+ID4gPiA+ID4gKyAgICAgICBwdXRfeGRwX2ZyYWdz
KCZ4ZHAsIHJxKTsKPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ICBlcnJfeGRwOgo+ID4gPiA+
ID4gPiA+IC0gICAgICAgcHV0X3BhZ2UocGFnZSk7Cj4gPiA+ID4gPiA+ID4gKyAgICAgICB2aXJ0
bmV0X3B1dF9wYWdlKHJxLCBwYWdlKTsKPiA+ID4gPiA+ID4gPiAgICAgICAgIG1lcmdlYWJsZV9i
dWZfZnJlZShycSwgbnVtX2J1ZiwgZGV2LCBzdGF0cyk7Cj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+
ID4gPiAgICAgICAgIHN0YXRzLT54ZHBfZHJvcHMrKzsKPiA+ID4gPiA+ID4gPiBAQCAtMTQ2Nyw2
ICsxNDkzLDkgQEAgc3RhdGljIHN0cnVjdCBza19idWZmICpyZWNlaXZlX21lcmdlYWJsZShzdHJ1
Y3QgbmV0X2RldmljZSAqZGV2LAo+ID4gPiA+ID4gPiA+ICAgICAgICAgaGVhZF9za2IgPSBwYWdl
X3RvX3NrYih2aSwgcnEsIHBhZ2UsIG9mZnNldCwgbGVuLCB0cnVlc2l6ZSwgaGVhZHJvb20pOwo+
ID4gPiA+ID4gPiA+ICAgICAgICAgY3Vycl9za2IgPSBoZWFkX3NrYjsKPiA+ID4gPiA+ID4gPgo+
ID4gPiA+ID4gPiA+ICsgICAgICAgaWYgKHJxLT5wYWdlX3Bvb2wpCj4gPiA+ID4gPiA+ID4gKyAg
ICAgICAgICAgICAgIHNrYl9tYXJrX2Zvcl9yZWN5Y2xlKGN1cnJfc2tiKTsKPiA+ID4gPiA+ID4g
PiArCj4gPiA+ID4gPiA+ID4gICAgICAgICBpZiAodW5saWtlbHkoIWN1cnJfc2tiKSkKPiA+ID4g
PiA+ID4gPiAgICAgICAgICAgICAgICAgZ290byBlcnJfc2tiOwo+ID4gPiA+ID4gPiA+ICAgICAg
ICAgd2hpbGUgKC0tbnVtX2J1Zikgewo+ID4gPiA+ID4gPiA+IEBAIC0xNTA5LDYgKzE1MzgsOCBA
QCBzdGF0aWMgc3RydWN0IHNrX2J1ZmYgKnJlY2VpdmVfbWVyZ2VhYmxlKHN0cnVjdCBuZXRfZGV2
aWNlICpkZXYsCj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICAgICAgICAgICAgY3Vycl9za2Ig
PSBuc2tiOwo+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRfc2tiLT50
cnVlc2l6ZSArPSBuc2tiLT50cnVlc2l6ZTsKPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgICAg
ICAgICAgICBudW1fc2tiX2ZyYWdzID0gMDsKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAg
ICAgICAgICBpZiAocnEtPnBhZ2VfcG9vbCkKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIHNrYl9tYXJrX2Zvcl9yZWN5Y2xlKGN1cnJfc2tiKTsKPiA+ID4gPiA+
ID4gPiAgICAgICAgICAgICAgICAgfQo+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgICBpZiAo
Y3Vycl9za2IgIT0gaGVhZF9za2IpIHsKPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgICAgICAg
ICAgICBoZWFkX3NrYi0+ZGF0YV9sZW4gKz0gbGVuOwo+ID4gPiA+ID4gPiA+IEBAIC0xNTE3LDcg
KzE1NDgsNyBAQCBzdGF0aWMgc3RydWN0IHNrX2J1ZmYgKnJlY2VpdmVfbWVyZ2VhYmxlKHN0cnVj
dCBuZXRfZGV2aWNlICpkZXYsCj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICAgIH0KPiA+ID4g
PiA+ID4gPiAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gYnVmIC0gcGFnZV9hZGRyZXNzKHBhZ2Up
Owo+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgICBpZiAoc2tiX2Nhbl9jb2FsZXNjZShjdXJy
X3NrYiwgbnVtX3NrYl9mcmFncywgcGFnZSwgb2Zmc2V0KSkgewo+ID4gPiA+ID4gPiA+IC0gICAg
ICAgICAgICAgICAgICAgICAgIHB1dF9wYWdlKHBhZ2UpOwo+ID4gPiA+ID4gPiA+ICsgICAgICAg
ICAgICAgICAgICAgICAgIHZpcnRuZXRfcHV0X3BhZ2UocnEsIHBhZ2UpOwo+ID4gPiA+ID4gPgo+
ID4gPiA+ID4gPiBJIHdvbmRlciB3aHkgbm90IHdlIGNhbid0IGRvIHRoaXMgZHVyaW5nIGJ1ZmZl
ciBhbGxvY2F0aW9uIGxpa2Ugb3RoZXIgZHJpdmVycz8KPiA+ID4gPiA+ID4KPiA+ID4gPiA+Cj4g
PiA+ID4gPiBTb3JyeSwgSSBkb24ndCBxdWl0ZSB1bmRlcnN0YW5kIHRoZSBwb2ludCBoZXJlLiBX
b3VsZCB5b3UgcGxlYXNlCj4gPiA+ID4gPiBlbGFib3JhdGUgYSBiaXQgbW9yZT8KPiA+ID4gPiA+
ID4gPiAgICAgICAgICAgICAgICAgICAgICAgICBza2JfY29hbGVzY2VfcnhfZnJhZyhjdXJyX3Nr
YiwgbnVtX3NrYl9mcmFncyAtIDEsCj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgbGVuLCB0cnVlc2l6ZSk7Cj4gPiA+ID4gPiA+ID4gICAg
ICAgICAgICAgICAgIH0gZWxzZSB7Cj4gPiA+ID4gPiA+ID4gQEAgLTE1MzAsNyArMTU2MSw3IEBA
IHN0YXRpYyBzdHJ1Y3Qgc2tfYnVmZiAqcmVjZWl2ZV9tZXJnZWFibGUoc3RydWN0IG5ldF9kZXZp
Y2UgKmRldiwKPiA+ID4gPiA+ID4gPiAgICAgICAgIHJldHVybiBoZWFkX3NrYjsKPiA+ID4gPiA+
ID4gPgo+ID4gPiA+ID4gPiA+ICBlcnJfc2tiOgo+ID4gPiA+ID4gPiA+IC0gICAgICAgcHV0X3Bh
Z2UocGFnZSk7Cj4gPiA+ID4gPiA+ID4gKyAgICAgICB2aXJ0bmV0X3B1dF9wYWdlKHJxLCBwYWdl
KTsKPiA+ID4gPiA+ID4gPiAgICAgICAgIG1lcmdlYWJsZV9idWZfZnJlZShycSwgbnVtX2J1Ziwg
ZGV2LCBzdGF0cyk7Cj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiAgZXJyX2J1ZjoKPiA+ID4g
PiA+ID4gPiBAQCAtMTczNywzMSArMTc2OCw0MCBAQCBzdGF0aWMgaW50IGFkZF9yZWN2YnVmX21l
cmdlYWJsZShzdHJ1Y3QgdmlydG5ldF9pbmZvICp2aSwKPiA+ID4gPiA+ID4gPiAgICAgICAgICAq
IGRpc2FibGVkIEdTTyBmb3IgWERQLCBpdCB3b24ndCBiZSBhIGJpZyBpc3N1ZS4KPiA+ID4gPiA+
ID4gPiAgICAgICAgICAqLwo+ID4gPiA+ID4gPiA+ICAgICAgICAgbGVuID0gZ2V0X21lcmdlYWJs
ZV9idWZfbGVuKHJxLCAmcnEtPm1yZ19hdmdfcGt0X2xlbiwgcm9vbSk7Cj4gPiA+ID4gPiA+ID4g
LSAgICAgICBpZiAodW5saWtlbHkoIXNrYl9wYWdlX2ZyYWdfcmVmaWxsKGxlbiArIHJvb20sIGFs
bG9jX2ZyYWcsIGdmcCkpKQo+ID4gPiA+ID4gPiA+IC0gICAgICAgICAgICAgICByZXR1cm4gLUVO
T01FTTsKPiA+ID4gPiA+ID4gPiArICAgICAgIGlmIChycS0+cGFnZV9wb29sKSB7Cj4gPiA+ID4g
PiA+ID4gKyAgICAgICAgICAgICAgIHN0cnVjdCBwYWdlICpwYWdlOwo+ID4gPiA+ID4gPiA+Cj4g
PiA+ID4gPiA+ID4gLSAgICAgICBidWYgPSAoY2hhciAqKXBhZ2VfYWRkcmVzcyhhbGxvY19mcmFn
LT5wYWdlKSArIGFsbG9jX2ZyYWctPm9mZnNldDsKPiA+ID4gPiA+ID4gPiAtICAgICAgIGJ1ZiAr
PSBoZWFkcm9vbTsgLyogYWR2YW5jZSBhZGRyZXNzIGxlYXZpbmcgaG9sZSBhdCBmcm9udCBvZiBw
a3QgKi8KPiA+ID4gPiA+ID4gPiAtICAgICAgIGdldF9wYWdlKGFsbG9jX2ZyYWctPnBhZ2UpOwo+
ID4gPiA+ID4gPiA+IC0gICAgICAgYWxsb2NfZnJhZy0+b2Zmc2V0ICs9IGxlbiArIHJvb207Cj4g
PiA+ID4gPiA+ID4gLSAgICAgICBob2xlID0gYWxsb2NfZnJhZy0+c2l6ZSAtIGFsbG9jX2ZyYWct
Pm9mZnNldDsKPiA+ID4gPiA+ID4gPiAtICAgICAgIGlmIChob2xlIDwgbGVuICsgcm9vbSkgewo+
ID4gPiA+ID4gPiA+IC0gICAgICAgICAgICAgICAvKiBUbyBhdm9pZCBpbnRlcm5hbCBmcmFnbWVu
dGF0aW9uLCBpZiB0aGVyZSBpcyB2ZXJ5IGxpa2VseSBub3QKPiA+ID4gPiA+ID4gPiAtICAgICAg
ICAgICAgICAgICogZW5vdWdoIHNwYWNlIGZvciBhbm90aGVyIGJ1ZmZlciwgYWRkIHRoZSByZW1h
aW5pbmcgc3BhY2UgdG8KPiA+ID4gPiA+ID4gPiAtICAgICAgICAgICAgICAgICogdGhlIGN1cnJl
bnQgYnVmZmVyLgo+ID4gPiA+ID4gPiA+IC0gICAgICAgICAgICAgICAgKiBYRFAgY29yZSBhc3N1
bWVzIHRoYXQgZnJhbWVfc2l6ZSBvZiB4ZHBfYnVmZiBhbmQgdGhlIGxlbmd0aAo+ID4gPiA+ID4g
PiA+IC0gICAgICAgICAgICAgICAgKiBvZiB0aGUgZnJhZyBhcmUgUEFHRV9TSVpFLCBzbyB3ZSBk
aXNhYmxlIHRoZSBob2xlIG1lY2hhbmlzbS4KPiA+ID4gPiA+ID4gPiAtICAgICAgICAgICAgICAg
ICovCj4gPiA+ID4gPiA+ID4gLSAgICAgICAgICAgICAgIGlmICghaGVhZHJvb20pCj4gPiA+ID4g
PiA+ID4gLSAgICAgICAgICAgICAgICAgICAgICAgbGVuICs9IGhvbGU7Cj4gPiA+ID4gPiA+ID4g
LSAgICAgICAgICAgICAgIGFsbG9jX2ZyYWctPm9mZnNldCArPSBob2xlOwo+ID4gPiA+ID4gPiA+
IC0gICAgICAgfQo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgICBwYWdlID0gcGFnZV9wb29s
X2Rldl9hbGxvY19wYWdlcyhycS0+cGFnZV9wb29sKTsKPiA+ID4gPiA+ID4gPiArICAgICAgICAg
ICAgICAgaWYgKHVubGlrZWx5KCFwYWdlKSkKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAg
ICAgICAgICByZXR1cm4gLUVOT01FTTsKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgYnVm
ID0gKGNoYXIgKilwYWdlX2FkZHJlc3MocGFnZSk7Cj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAg
ICAgIGJ1ZiArPSBoZWFkcm9vbTsgLyogYWR2YW5jZSBhZGRyZXNzIGxlYXZpbmcgaG9sZSBhdCBm
cm9udCBvZiBwa3QgKi8KPiA+ID4gPiA+ID4gPiArICAgICAgIH0gZWxzZSB7Cj4gPiA+ID4gPiA+
ID4gKyAgICAgICAgICAgICAgIGlmICh1bmxpa2VseSghc2tiX3BhZ2VfZnJhZ19yZWZpbGwobGVu
ICsgcm9vbSwgYWxsb2NfZnJhZywgZ2ZwKSkpCj4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+IFdoeSBu
b3Qgc2ltcGx5IHVzZSBhIGhlbHBlciBsaWtlIHZpcnRuZXRfcGFnZV9mcmFnX3JlZmlsbCgpIGFu
ZCBhZGQKPiA+ID4gPiA+ID4gdGhlIHBhZ2VfcG9vbCBhbGxvY2F0aW9uIGxvZ2ljIHRoZXJlPyBJ
dCBoZWxwcyB0byByZWR1Y2UgdGhlCj4gPiA+ID4gPiA+IGNoYW5nZXNldC4KPiA+ID4gPiA+ID4K
PiA+ID4gPiA+Cj4gPiA+ID4gPiBTdXJlLiBXaWxsIGRvIHRoYXQgb24gdjIuCj4gPiA+ID4gPiA+
ID4gKyAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC1FTk9NRU07Cj4gPiA+ID4gPiA+ID4K
PiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgYnVmID0gKGNoYXIgKilwYWdlX2FkZHJlc3Mo
YWxsb2NfZnJhZy0+cGFnZSkgKyBhbGxvY19mcmFnLT5vZmZzZXQ7Cj4gPiA+ID4gPiA+ID4gKyAg
ICAgICAgICAgICAgIGJ1ZiArPSBoZWFkcm9vbTsgLyogYWR2YW5jZSBhZGRyZXNzIGxlYXZpbmcg
aG9sZSBhdCBmcm9udCBvZiBwa3QgKi8KPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgZ2V0
X3BhZ2UoYWxsb2NfZnJhZy0+cGFnZSk7Cj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAgIGFs
bG9jX2ZyYWctPm9mZnNldCArPSBsZW4gKyByb29tOwo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAg
ICAgICBob2xlID0gYWxsb2NfZnJhZy0+c2l6ZSAtIGFsbG9jX2ZyYWctPm9mZnNldDsKPiA+ID4g
PiA+ID4gPiArICAgICAgICAgICAgICAgaWYgKGhvbGUgPCBsZW4gKyByb29tKSB7Cj4gPiA+ID4g
PiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgLyogVG8gYXZvaWQgaW50ZXJuYWwgZnJhZ21l
bnRhdGlvbiwgaWYgdGhlcmUgaXMgdmVyeSBsaWtlbHkgbm90Cj4gPiA+ID4gPiA+ID4gKyAgICAg
ICAgICAgICAgICAgICAgICAgICogZW5vdWdoIHNwYWNlIGZvciBhbm90aGVyIGJ1ZmZlciwgYWRk
IHRoZSByZW1haW5pbmcgc3BhY2UgdG8KPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAg
ICAgICAgKiB0aGUgY3VycmVudCBidWZmZXIuCj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAg
ICAgICAgICAgICogWERQIGNvcmUgYXNzdW1lcyB0aGF0IGZyYW1lX3NpemUgb2YgeGRwX2J1ZmYg
YW5kIHRoZSBsZW5ndGgKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgKiBv
ZiB0aGUgZnJhZyBhcmUgUEFHRV9TSVpFLCBzbyB3ZSBkaXNhYmxlIHRoZSBob2xlIG1lY2hhbmlz
bS4KPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgKi8KPiA+ID4gPiA+ID4g
PiArICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWhlYWRyb29tKQo+ID4gPiA+ID4gPiA+ICsg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVuICs9IGhvbGU7Cj4gPiA+ID4gPiA+ID4g
KyAgICAgICAgICAgICAgICAgICAgICAgYWxsb2NfZnJhZy0+b2Zmc2V0ICs9IGhvbGU7Cj4gPiA+
ID4gPiA+ID4gKyAgICAgICAgICAgICAgIH0KPiA+ID4gPiA+ID4gPiArICAgICAgIH0KPiA+ID4g
PiA+ID4gPiAgICAgICAgIHNnX2luaXRfb25lKHJxLT5zZywgYnVmLCBsZW4pOwo+ID4gPiA+ID4g
PiA+ICAgICAgICAgY3R4ID0gbWVyZ2VhYmxlX2xlbl90b19jdHgobGVuICsgcm9vbSwgaGVhZHJv
b20pOwo+ID4gPiA+ID4gPiA+ICAgICAgICAgZXJyID0gdmlydHF1ZXVlX2FkZF9pbmJ1Zl9jdHgo
cnEtPnZxLCBycS0+c2csIDEsIGJ1ZiwgY3R4LCBnZnApOwo+ID4gPiA+ID4gPiA+ICAgICAgICAg
aWYgKGVyciA8IDApCj4gPiA+ID4gPiA+ID4gLSAgICAgICAgICAgICAgIHB1dF9wYWdlKHZpcnRf
dG9faGVhZF9wYWdlKGJ1ZikpOwo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgICB2aXJ0bmV0
X3B1dF9wYWdlKHJxLCB2aXJ0X3RvX2hlYWRfcGFnZShidWYpKTsKPiA+ID4gPiA+ID4gPgo+ID4g
PiA+ID4gPiA+ICAgICAgICAgcmV0dXJuIGVycjsKPiA+ID4gPiA+ID4gPiAgfQo+ID4gPiA+ID4g
PiA+IEBAIC0xOTk0LDggKzIwMzQsMTUgQEAgc3RhdGljIGludCB2aXJ0bmV0X2VuYWJsZV9xdWV1
ZV9wYWlyKHN0cnVjdCB2aXJ0bmV0X2luZm8gKnZpLCBpbnQgcXBfaW5kZXgpCj4gPiA+ID4gPiA+
ID4gICAgICAgICBpZiAoZXJyIDwgMCkKPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgICAgcmV0
dXJuIGVycjsKPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+IC0gICAgICAgZXJyID0geGRwX3J4
cV9pbmZvX3JlZ19tZW1fbW9kZWwoJnZpLT5ycVtxcF9pbmRleF0ueGRwX3J4cSwKPiA+ID4gPiA+
ID4gPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1FTV9UWVBFX1BB
R0VfU0hBUkVELCBOVUxMKTsKPiA+ID4gPiA+ID4gPiArICAgICAgIGlmICh2aS0+cnFbcXBfaW5k
ZXhdLnBhZ2VfcG9vbCkKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgZXJyID0geGRwX3J4
cV9pbmZvX3JlZ19tZW1fbW9kZWwoJnZpLT5ycVtxcF9pbmRleF0ueGRwX3J4cSwKPiA+ID4gPiA+
ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTUVN
X1RZUEVfUEFHRV9QT09MLAo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICB2aS0+cnFbcXBfaW5kZXhdLnBhZ2VfcG9vbCk7Cj4gPiA+
ID4gPiA+ID4gKyAgICAgICBlbHNlCj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAgIGVyciA9
IHhkcF9yeHFfaW5mb19yZWdfbWVtX21vZGVsKCZ2aS0+cnFbcXBfaW5kZXhdLnhkcF9yeHEsCj4g
PiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIE1FTV9UWVBFX1BBR0VfU0hBUkVELAo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOVUxMKTsKPiA+ID4gPiA+ID4gPiArCj4g
PiA+ID4gPiA+ID4gICAgICAgICBpZiAoZXJyIDwgMCkKPiA+ID4gPiA+ID4gPiAgICAgICAgICAg
ICAgICAgZ290byBlcnJfeGRwX3JlZ19tZW1fbW9kZWw7Cj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+
ID4gPiBAQCAtMjk1MSw2ICsyOTk4LDcgQEAgc3RhdGljIHZvaWQgdmlydG5ldF9nZXRfc3RyaW5n
cyhzdHJ1Y3QgbmV0X2RldmljZSAqZGV2LCB1MzIgc3RyaW5nc2V0LCB1OCAqZGF0YSkKPiA+ID4g
PiA+ID4gPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV0aHRvb2xfc3ByaW50Zigm
cCwgInR4X3F1ZXVlXyV1XyVzIiwgaSwKPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXJ0bmV0X3NxX3N0YXRzX2Rlc2Nbal0uZGVz
Yyk7Cj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICAgIH0KPiA+ID4gPiA+ID4gPiArICAgICAg
ICAgICAgICAgcGFnZV9wb29sX2V0aHRvb2xfc3RhdHNfZ2V0X3N0cmluZ3MocCk7Cj4gPiA+ID4g
PiA+ID4gICAgICAgICAgICAgICAgIGJyZWFrOwo+ID4gPiA+ID4gPiA+ICAgICAgICAgfQo+ID4g
PiA+ID4gPiA+ICB9Cj4gPiA+ID4gPiA+ID4gQEAgLTI5NjIsMTIgKzMwMTAsMzAgQEAgc3RhdGlj
IGludCB2aXJ0bmV0X2dldF9zc2V0X2NvdW50KHN0cnVjdCBuZXRfZGV2aWNlICpkZXYsIGludCBz
c2V0KQo+ID4gPiA+ID4gPiA+ICAgICAgICAgc3dpdGNoIChzc2V0KSB7Cj4gPiA+ID4gPiA+ID4g
ICAgICAgICBjYXNlIEVUSF9TU19TVEFUUzoKPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgICAg
cmV0dXJuIHZpLT5jdXJyX3F1ZXVlX3BhaXJzICogKFZJUlRORVRfUlFfU1RBVFNfTEVOICsKPiA+
ID4gPiA+ID4gPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IFZJUlRORVRfU1FfU1RBVFNfTEVOKTsKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZJUlRORVRfU1FfU1RBVFNfTEVOICsKPiA+ID4g
PiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAo
cGFnZV9wb29sX2VuYWJsZWQgJiYgdmktPm1lcmdlYWJsZV9yeF9idWZzID8KPiA+ID4gPiA+ID4g
PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZV9w
b29sX2V0aHRvb2xfc3RhdHNfZ2V0X2NvdW50KCkgOiAwKSk7Cj4gPiA+ID4gPiA+ID4gICAgICAg
ICBkZWZhdWx0Ogo+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgICByZXR1cm4gLUVPUE5PVFNV
UFA7Cj4gPiA+ID4gPiA+ID4gICAgICAgICB9Cj4gPiA+ID4gPiA+ID4gIH0KPiA+ID4gPiA+ID4g
Pgo+ID4gPiA+ID4gPiA+ICtzdGF0aWMgdm9pZCB2aXJ0bmV0X2dldF9wYWdlX3Bvb2xfc3RhdHMo
c3RydWN0IG5ldF9kZXZpY2UgKmRldiwgdTY0ICpkYXRhKQo+ID4gPiA+ID4gPiA+ICt7Cj4gPiA+
ID4gPiA+ID4gKyNpZmRlZiBDT05GSUdfUEFHRV9QT09MX1NUQVRTCj4gPiA+ID4gPiA+ID4gKyAg
ICAgICBzdHJ1Y3QgdmlydG5ldF9pbmZvICp2aSA9IG5ldGRldl9wcml2KGRldik7Cj4gPiA+ID4g
PiA+ID4gKyAgICAgICBzdHJ1Y3QgcGFnZV9wb29sX3N0YXRzIHBwX3N0YXRzID0ge307Cj4gPiA+
ID4gPiA+ID4gKyAgICAgICBpbnQgaTsKPiA+ID4gPiA+ID4gPiArCj4gPiA+ID4gPiA+ID4gKyAg
ICAgICBmb3IgKGkgPSAwOyBpIDwgdmktPmN1cnJfcXVldWVfcGFpcnM7IGkrKykgewo+ID4gPiA+
ID4gPiA+ICsgICAgICAgICAgICAgICBpZiAoIXZpLT5ycVtpXS5wYWdlX3Bvb2wpCj4gPiA+ID4g
PiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7Cj4gPiA+ID4gPiA+ID4gKyAg
ICAgICAgICAgICAgIHBhZ2VfcG9vbF9nZXRfc3RhdHModmktPnJxW2ldLnBhZ2VfcG9vbCwgJnBw
X3N0YXRzKTsKPiA+ID4gPiA+ID4gPiArICAgICAgIH0KPiA+ID4gPiA+ID4gPiArICAgICAgIHBh
Z2VfcG9vbF9ldGh0b29sX3N0YXRzX2dldChkYXRhLCAmcHBfc3RhdHMpOwo+ID4gPiA+ID4gPiA+
ICsjZW5kaWYgLyogQ09ORklHX1BBR0VfUE9PTF9TVEFUUyAqLwo+ID4gPiA+ID4gPiA+ICt9Cj4g
PiA+ID4gPiA+ID4gKwo+ID4gPiA+ID4gPiA+ICBzdGF0aWMgdm9pZCB2aXJ0bmV0X2dldF9ldGh0
b29sX3N0YXRzKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYsCj4gPiA+ID4gPiA+ID4gICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgZXRodG9vbF9zdGF0cyAqc3RhdHMs
IHU2NCAqZGF0YSkKPiA+ID4gPiA+ID4gPiAgewo+ID4gPiA+ID4gPiA+IEBAIC0zMDAzLDYgKzMw
NjksOCBAQCBzdGF0aWMgdm9pZCB2aXJ0bmV0X2dldF9ldGh0b29sX3N0YXRzKHN0cnVjdCBuZXRf
ZGV2aWNlICpkZXYsCj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICAgIH0gd2hpbGUgKHU2NF9z
dGF0c19mZXRjaF9yZXRyeSgmc3EtPnN0YXRzLnN5bmNwLCBzdGFydCkpOwo+ID4gPiA+ID4gPiA+
ICAgICAgICAgICAgICAgICBpZHggKz0gVklSVE5FVF9TUV9TVEFUU19MRU47Cj4gPiA+ID4gPiA+
ID4gICAgICAgICB9Cj4gPiA+ID4gPiA+ID4gKwo+ID4gPiA+ID4gPiA+ICsgICAgICAgdmlydG5l
dF9nZXRfcGFnZV9wb29sX3N0YXRzKGRldiwgJmRhdGFbaWR4XSk7Cj4gPiA+ID4gPiA+ID4gIH0K
PiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ICBzdGF0aWMgdm9pZCB2aXJ0bmV0X2dldF9jaGFu
bmVscyhzdHJ1Y3QgbmV0X2RldmljZSAqZGV2LAo+ID4gPiA+ID4gPiA+IEBAIC0zNjIzLDYgKzM2
OTEsOCBAQCBzdGF0aWMgdm9pZCB2aXJ0bmV0X2ZyZWVfcXVldWVzKHN0cnVjdCB2aXJ0bmV0X2lu
Zm8gKnZpKQo+ID4gPiA+ID4gPiA+ICAgICAgICAgZm9yIChpID0gMDsgaSA8IHZpLT5tYXhfcXVl
dWVfcGFpcnM7IGkrKykgewo+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgICBfX25ldGlmX25h
cGlfZGVsKCZ2aS0+cnFbaV0ubmFwaSk7Cj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICAgIF9f
bmV0aWZfbmFwaV9kZWwoJnZpLT5zcVtpXS5uYXBpKTsKPiA+ID4gPiA+ID4gPiArICAgICAgICAg
ICAgICAgaWYgKHZpLT5ycVtpXS5wYWdlX3Bvb2wpCj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAg
ICAgICAgICAgICAgcGFnZV9wb29sX2Rlc3Ryb3kodmktPnJxW2ldLnBhZ2VfcG9vbCk7Cj4gPiA+
ID4gPiA+ID4gICAgICAgICB9Cj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiAgICAgICAgIC8q
IFdlIGNhbGxlZCBfX25ldGlmX25hcGlfZGVsKCksCj4gPiA+ID4gPiA+ID4gQEAgLTM2NzksMTIg
KzM3NDksMTkgQEAgc3RhdGljIHZvaWQgdmlydG5ldF9ycV9mcmVlX3VudXNlZF9idWYoc3RydWN0
IHZpcnRxdWV1ZSAqdnEsIHZvaWQgKmJ1ZikKPiA+ID4gPiA+ID4gPiAgICAgICAgIHN0cnVjdCB2
aXJ0bmV0X2luZm8gKnZpID0gdnEtPnZkZXYtPnByaXY7Cj4gPiA+ID4gPiA+ID4gICAgICAgICBp
bnQgaSA9IHZxMnJ4cSh2cSk7Cj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiAtICAgICAgIGlm
ICh2aS0+bWVyZ2VhYmxlX3J4X2J1ZnMpCj4gPiA+ID4gPiA+ID4gLSAgICAgICAgICAgICAgIHB1
dF9wYWdlKHZpcnRfdG9faGVhZF9wYWdlKGJ1ZikpOwo+ID4gPiA+ID4gPiA+IC0gICAgICAgZWxz
ZSBpZiAodmktPmJpZ19wYWNrZXRzKQo+ID4gPiA+ID4gPiA+ICsgICAgICAgaWYgKHZpLT5tZXJn
ZWFibGVfcnhfYnVmcykgewo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgICBpZiAodmktPnJx
W2ldLnBhZ2VfcG9vbCkgewo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgIHBh
Z2VfcG9vbF9wdXRfZnVsbF9wYWdlKHZpLT5ycVtpXS5wYWdlX3Bvb2wsCj4gPiA+ID4gPiA+ID4g
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlydF90b19o
ZWFkX3BhZ2UoYnVmKSwKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICB0cnVlKTsKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAg
fSBlbHNlIHsKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICBwdXRfcGFnZSh2
aXJ0X3RvX2hlYWRfcGFnZShidWYpKTsKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgfQo+
ID4gPiA+ID4gPiA+ICsgICAgICAgfSBlbHNlIGlmICh2aS0+YmlnX3BhY2tldHMpIHsKPiA+ID4g
PiA+ID4gPiAgICAgICAgICAgICAgICAgZ2l2ZV9wYWdlcygmdmktPnJxW2ldLCBidWYpOwo+ID4g
PiA+ID4gPgo+ID4gPiA+ID4gPiBBbnkgcmVhc29uIG9ubHkgbWVyZ2VhYmxlIHdlcmUgbW9kaWZp
ZWQgYnV0IG5vdCBmb3Igc21hbGwgYW5kIGJpZz8KPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gVGhh
bmtzCj4gPiA+ID4gPiA+Cj4gPiA+ID4gPgo+ID4gPiA+ID4gQmlnIG1vZGUgdXNlcyB0aGUgcGFn
ZSBjaGFpbiB0byByZWN5Y2xlIHBhZ2VzLCB0aHVzIHRoZSB1c2luZyBvZgo+ID4gPiA+ID4gInBy
aXZhdGUiIG9mIHRoZSBidWZmZXIgcGFnZS4gSSB3aWxsIHRha2UgZnVydGhlciBsb29rIGludG8g
dGhhdCB0bwo+ID4gPiA+ID4gc2VlIGlmIGl0IGlzIGJldHRlciB0byB1c2UgcGFnZSBwb29sIGlu
IHRoZXNlIGNhc2VzLiBUaGFua3MhCj4gPiA+ID4gPgo+ID4gPiA+ID4KPiA+ID4gPiA+Cj4gPiA+
ID4gPiA+ID4gLSAgICAgICBlbHNlCj4gPiA+ID4gPiA+ID4gKyAgICAgICB9IGVsc2Ugewo+ID4g
PiA+ID4gPiA+ICAgICAgICAgICAgICAgICBwdXRfcGFnZSh2aXJ0X3RvX2hlYWRfcGFnZShidWYp
KTsKPiA+ID4gPiA+ID4gPiArICAgICAgIH0KPiA+ID4gPiA+ID4gPiAgfQo+ID4gPiA+ID4gPiA+
Cj4gPiA+ID4gPiA+ID4gIHN0YXRpYyB2b2lkIGZyZWVfdW51c2VkX2J1ZnMoc3RydWN0IHZpcnRu
ZXRfaW5mbyAqdmkpCj4gPiA+ID4gPiA+ID4gQEAgLTM3MTgsNiArMzc5NSwyNiBAQCBzdGF0aWMg
dm9pZCB2aXJ0bmV0X2RlbF92cXMoc3RydWN0IHZpcnRuZXRfaW5mbyAqdmkpCj4gPiA+ID4gPiA+
ID4gICAgICAgICB2aXJ0bmV0X2ZyZWVfcXVldWVzKHZpKTsKPiA+ID4gPiA+ID4gPiAgfQo+ID4g
PiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gK3N0YXRpYyB2b2lkIHZpcnRuZXRfYWxsb2NfcGFnZV9w
b29sKHN0cnVjdCByZWNlaXZlX3F1ZXVlICpycSkKPiA+ID4gPiA+ID4gPiArewo+ID4gPiA+ID4g
PiA+ICsgICAgICAgc3RydWN0IHZpcnRpb19kZXZpY2UgKnZkZXYgPSBycS0+dnEtPnZkZXY7Cj4g
PiA+ID4gPiA+ID4gKwo+ID4gPiA+ID4gPiA+ICsgICAgICAgc3RydWN0IHBhZ2VfcG9vbF9wYXJh
bXMgcHBfcGFyYW1zID0gewo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAub3JkZXIgPSAw
LAo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAucG9vbF9zaXplID0gcnEtPnZxLT5udW1f
bWF4LAo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAubmlkID0gZGV2X3RvX25vZGUodmRl
di0+ZGV2LnBhcmVudCksCj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAgIC5kZXYgPSB2ZGV2
LT5kZXYucGFyZW50LAo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAub2Zmc2V0ID0gMCwK
PiA+ID4gPiA+ID4gPiArICAgICAgIH07Cj4gPiA+ID4gPiA+ID4gKwo+ID4gPiA+ID4gPiA+ICsg
ICAgICAgcnEtPnBhZ2VfcG9vbCA9IHBhZ2VfcG9vbF9jcmVhdGUoJnBwX3BhcmFtcyk7Cj4gPiA+
ID4gPiA+ID4gKyAgICAgICBpZiAoSVNfRVJSKHJxLT5wYWdlX3Bvb2wpKSB7Cj4gPiA+ID4gPiA+
ID4gKyAgICAgICAgICAgICAgIGRldl93YXJuKCZ2ZGV2LT5kZXYsICJwYWdlIHBvb2wgY3JlYXRp
b24gZmFpbGVkOiAlbGRcbiIsCj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAg
IFBUUl9FUlIocnEtPnBhZ2VfcG9vbCkpOwo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgICBy
cS0+cGFnZV9wb29sID0gTlVMTDsKPiA+ID4gPiA+ID4gPiArICAgICAgIH0KPiA+ID4gPiA+ID4g
PiArfQo+ID4gPiA+ID4gPiA+ICsKPiA+ID4gPiA+ID4gPiAgLyogSG93IGxhcmdlIHNob3VsZCBh
IHNpbmdsZSBidWZmZXIgYmUgc28gYSBxdWV1ZSBmdWxsIG9mIHRoZXNlIGNhbiBmaXQgYXQKPiA+
ID4gPiA+ID4gPiAgICogbGVhc3Qgb25lIGZ1bGwgcGFja2V0Pwo+ID4gPiA+ID4gPiA+ICAgKiBM
b2dpYyBiZWxvdyBhc3N1bWVzIHRoZSBtZXJnZWFibGUgYnVmZmVyIGhlYWRlciBpcyB1c2VkLgo+
ID4gPiA+ID4gPiA+IEBAIC0zODAxLDYgKzM4OTgsMTMgQEAgc3RhdGljIGludCB2aXJ0bmV0X2Zp
bmRfdnFzKHN0cnVjdCB2aXJ0bmV0X2luZm8gKnZpKQo+ID4gPiA+ID4gPiA+ICAgICAgICAgICAg
ICAgICB2aS0+cnFbaV0udnEgPSB2cXNbcnhxMnZxKGkpXTsKPiA+ID4gPiA+ID4gPiAgICAgICAg
ICAgICAgICAgdmktPnJxW2ldLm1pbl9idWZfbGVuID0gbWVyZ2VhYmxlX21pbl9idWZfbGVuKHZp
LCB2aS0+cnFbaV0udnEpOwo+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgICB2aS0+c3FbaV0u
dnEgPSB2cXNbdHhxMnZxKGkpXTsKPiA+ID4gPiA+ID4gPiArCj4gPiA+ID4gPiA+ID4gKyAgICAg
ICAgICAgICAgIGlmIChwYWdlX3Bvb2xfZW5hYmxlZCAmJiB2aS0+bWVyZ2VhYmxlX3J4X2J1ZnMp
Cj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgdmlydG5ldF9hbGxvY19wYWdl
X3Bvb2woJnZpLT5ycVtpXSk7Cj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAgIGVsc2UKPiA+
ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICBkZXZfd2FybigmdmktPnZkZXYtPmRl
diwKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAicGFnZSBw
b29sIG9ubHkgc3VwcG9ydCBtZXJnZWFibGUgbW9kZVxuIik7Cj4gPiA+ID4gPiA+ID4gKwo+ID4g
PiA+ID4gPiA+ICAgICAgICAgfQo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gICAgICAgICAv
KiBydW4gaGVyZTogcmV0ID09IDAuICovCj4gPiA+ID4gPiA+ID4gLS0KPiA+ID4gPiA+ID4gPiAy
LjMxLjEKPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPgo+ID4gPiA+Cl9fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClZpcnR1YWxpemF0aW9uIG1haWxpbmcgbGlz
dApWaXJ0dWFsaXphdGlvbkBsaXN0cy5saW51eC1mb3VuZGF0aW9uLm9yZwpodHRwczovL2xpc3Rz
LmxpbnV4Zm91bmRhdGlvbi5vcmcvbWFpbG1hbi9saXN0aW5mby92aXJ0dWFsaXphdGlvbg==

