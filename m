Return-Path: <virtualization-bounces@lists.linux-foundation.org>
X-Original-To: lists.virtualization@lfdr.de
Delivered-To: lists.virtualization@lfdr.de
Received: from mail.linuxfoundation.org (mail.linuxfoundation.org [140.211.169.12])
	by mail.lfdr.de (Postfix) with ESMTPS id 37CDB73737
	for <lists.virtualization@lfdr.de>; Wed, 24 Jul 2019 21:03:15 +0200 (CEST)
Received: from mail.linux-foundation.org (localhost [127.0.0.1])
	by mail.linuxfoundation.org (Postfix) with ESMTP id 69D48141D;
	Wed, 24 Jul 2019 18:59:30 +0000 (UTC)
X-Original-To: virtualization@lists.linux-foundation.org
Delivered-To: virtualization@mail.linuxfoundation.org
Received: from smtp1.linuxfoundation.org (smtp1.linux-foundation.org
	[172.17.192.35])
	by mail.linuxfoundation.org (Postfix) with ESMTPS id 8E25CD8D
	for <virtualization@lists.linux-foundation.org>;
	Wed, 24 Jul 2019 04:25:26 +0000 (UTC)
X-Greylist: whitelisted by SQLgrey-1.7.6
Received: from mail-pg1-f196.google.com (mail-pg1-f196.google.com
	[209.85.215.196])
	by smtp1.linuxfoundation.org (Postfix) with ESMTPS id 0AB9FF1
	for <virtualization@lists.linux-foundation.org>;
	Wed, 24 Jul 2019 04:25:26 +0000 (UTC)
Received: by mail-pg1-f196.google.com with SMTP id u17so20507450pgi.6
	for <virtualization@lists.linux-foundation.org>;
	Tue, 23 Jul 2019 21:25:26 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
	h=from:to:cc:subject:date:message-id:in-reply-to:references
	:mime-version:content-transfer-encoding;
	bh=KTRb5TwAvlEMgKUD4ybaWyu+OqmkL6O8558wldZQN2o=;
	b=ebcJECgWyU9zYGN2pJY78eWtcvtnox+Oa1zooAOzP6xSmTu5g5nerb6ZfvRSMWFmb+
	nprY3fdZfkPasdJ9q4KtJrJq8tRNMrlLU/iHYusPMn3+9BiXMb/qeZvJ3C/ltb4T4DOy
	ur2oHnU3+1kwTjn9nSXg+vBXMtZIrJ+7IxZcmGAs0pw/RJBl9ZFjfw+QBa7rsXW2W9lk
	0w+ANgMMW5FgsBW5Bc0ygGww1qHrY3+ToVb43K1oJqh8E1qTVYlCJnF6+no0vWLUn6Ku
	wUWcMe8XiTWbkXVO+hHw3kXkBi6lbd9CK09V0F+9Edlqf99NXHcyx09tJPd3+4Lpdei7
	xJTg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
	d=1e100.net; s=20161025;
	h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
	:references:mime-version:content-transfer-encoding;
	bh=KTRb5TwAvlEMgKUD4ybaWyu+OqmkL6O8558wldZQN2o=;
	b=NgDJ/IMyqnsb5PX5cmflsGa3A5l/rWEbngV1s7fLaXlb9HwgYQMv9U2+/kyQTAV0FI
	pqMP6562ehExEe83oIS2nUzqwj/RbR0Dm3HMdsHo/NiGK1pXImQf1Nzytnr15QX/uXiY
	K7WoOarAIEZxO1Gc6fhQ/PhlbS3rtBlLMntEO1NNlGODo0fSt4SkNAtlptPyw1ZohcbZ
	KQWpLHCu4QU7cDEjm5omXeLzfTtGmvBgkpcr1j8v5JmhUDUk50dMXXUildwcPrpy75pn
	3awVagayETWAIvl8GYXjQSyQ1i1cDii0e2yQ252im+zie4jR81JdxEZUfVp8Y//kTCE9
	nEXA==
X-Gm-Message-State: APjAAAV53NM17AGgIVpg+DVyerV94Il+/kCh6hUb8wjoVYy32aP9iEVn
	pyYSk6feQjLNbE1WWN6V6wQ=
X-Google-Smtp-Source: APXvYqzBe/J5Vy13pSVSxifZgvBoznxAqrjVmFcElFPWOR9wwqxoPED73uSDyHAUwm8NHJdocMjUeA==
X-Received: by 2002:a62:7641:: with SMTP id r62mr9177588pfc.35.1563942325690; 
	Tue, 23 Jul 2019 21:25:25 -0700 (PDT)
Received: from blueforge.nvidia.com (searspoint.nvidia.com. [216.228.112.21])
	by smtp.gmail.com with ESMTPSA id
	a15sm34153364pgw.3.2019.07.23.21.25.24
	(version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
	Tue, 23 Jul 2019 21:25:25 -0700 (PDT)
From: john.hubbard@gmail.com
X-Google-Original-From: jhubbard@nvidia.com
To: Andrew Morton <akpm@linux-foundation.org>
Subject: [PATCH 03/12] block: bio_release_pages: use flags arg instead of bool
Date: Tue, 23 Jul 2019 21:25:09 -0700
Message-Id: <20190724042518.14363-4-jhubbard@nvidia.com>
X-Mailer: git-send-email 2.22.0
In-Reply-To: <20190724042518.14363-1-jhubbard@nvidia.com>
References: <20190724042518.14363-1-jhubbard@nvidia.com>
MIME-Version: 1.0
X-NVConfidentiality: public
X-Spam-Status: No, score=-2.0 required=5.0 tests=BAYES_00,DKIM_SIGNED,
	DKIM_VALID, DKIM_VALID_AU, FREEMAIL_FROM,
	RCVD_IN_DNSWL_NONE autolearn=ham version=3.3.1
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on
	smtp1.linux-foundation.org
X-Mailman-Approved-At: Wed, 24 Jul 2019 18:59:22 +0000
Cc: kvm@vger.kernel.org, "Michael S . Tsirkin" <mst@redhat.com>,
	virtualization@lists.linux-foundation.org, linux-mm@kvack.org,
	Christoph Hellwig <hch@lst.de>, linux-cifs@vger.kernel.org,
	Miklos Szeredi <miklos@szeredi.hu>, linux-rdma@vger.kernel.org,
	Matthew Wilcox <willy@infradead.org>,
	Christoph Hellwig <hch@infradead.org>, Jason Gunthorpe <jgg@ziepe.ca>,
	Minwoo Im <minwoo.im.dev@gmail.com>, v9fs-developer@lists.sourceforge.net,
	Eric Van Hensbergen <ericvh@gmail.com>,
	John Hubbard <jhubbard@nvidia.com>, linux-block@vger.kernel.org,
	=?UTF-8?q?J=C3=A9r=C3=B4me=20Glisse?= <jglisse@redhat.com>,
	Alexander Viro <viro@zeniv.linux.org.uk>, ceph-devel@vger.kernel.org,
	Trond Myklebust <trond.myklebust@hammerspace.com>,
	Jens Axboe <axboe@kernel.dk>, linux-nfs@vger.kernel.org,
	netdev@vger.kernel.org, samba-technical@lists.samba.org,
	LKML <linux-kernel@vger.kernel.org>,
	"David S . Miller" <davem@davemloft.net>, linux-fsdevel@vger.kernel.org,
	Anna Schumaker <anna.schumaker@netapp.com>
X-BeenThere: virtualization@lists.linux-foundation.org
X-Mailman-Version: 2.1.12
Precedence: list
List-Id: Linux virtualization <virtualization.lists.linux-foundation.org>
List-Unsubscribe: <https://lists.linuxfoundation.org/mailman/options/virtualization>,
	<mailto:virtualization-request@lists.linux-foundation.org?subject=unsubscribe>
List-Archive: <http://lists.linuxfoundation.org/pipermail/virtualization/>
List-Post: <mailto:virtualization@lists.linux-foundation.org>
List-Help: <mailto:virtualization-request@lists.linux-foundation.org?subject=help>
List-Subscribe: <https://lists.linuxfoundation.org/mailman/listinfo/virtualization>,
	<mailto:virtualization-request@lists.linux-foundation.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Sender: virtualization-bounces@lists.linux-foundation.org
Errors-To: virtualization-bounces@lists.linux-foundation.org

RnJvbTogSm9obiBIdWJiYXJkIDxqaHViYmFyZEBudmlkaWEuY29tPgoKSW4gY29tbWl0IGQyNDFh
OTVmMzUxNCAoImJsb2NrOiBvcHRpb25hbGx5IG1hcmsgcGFnZXMgZGlydHkgaW4KYmlvX3JlbGVh
c2VfcGFnZXMiKSwgbmV3ICJib29sIG1hcmtfZGlydHkiIGFyZ3VtZW50IHdhcyBhZGRlZCB0bwpi
aW9fcmVsZWFzZV9wYWdlcy4KCkluIHVwY29taW5nIHdvcmssIGFub3RoZXIgYm9vbCBhcmd1bWVu
dCAodG8gaW5kaWNhdGUgdGhhdCB0aGUgcGFnZXMgY2FtZQpmcm9tIGdldF91c2VyX3BhZ2VzKSBp
cyBnb2luZyB0byBiZSBhZGRlZC4gVGhhdCdzIG9uZSBib29sIHRvbyBtYW55LApiZWNhdXNlIGl0
J3Mgbm90IGRlc2lyYWJsZSBoYXZlIGNhbGxzIG9mIHRoZSBmb3JtOgoKICAgIGZvbyh0cnVlLCBm
YWxzZSwgdHJ1ZSwgZXRjKTsKCkluIG9yZGVyIHRvIHByZXBhcmUgZm9yIHRoYXQsIGNoYW5nZSB0
aGUgYXJndW1lbnQgZnJvbSBhIGJvb2wsIHRvIGEKdHlwZXNhZmUgKGVudW0tYmFzZWQpIGZsYWdz
IGFyZ3VtZW50LgoKQ2M6IENocmlzdG9waCBIZWxsd2lnIDxoY2hAaW5mcmFkZWFkLm9yZz4KQ2M6
IErDqXLDtG1lIEdsaXNzZSA8amdsaXNzZUByZWRoYXQuY29tPgpDYzogTWlud29vIEltIDxtaW53
b28uaW0uZGV2QGdtYWlsLmNvbT4KQ2M6IEplbnMgQXhib2UgPGF4Ym9lQGtlcm5lbC5kaz4KU2ln
bmVkLW9mZi1ieTogSm9obiBIdWJiYXJkIDxqaHViYmFyZEBudmlkaWEuY29tPgotLS0KIGJsb2Nr
L2Jpby5jICAgICAgICAgfCAxMiArKysrKystLS0tLS0KIGZzL2Jsb2NrX2Rldi5jICAgICAgfCAg
NCArKy0tCiBmcy9kaXJlY3QtaW8uYyAgICAgIHwgIDIgKy0KIGluY2x1ZGUvbGludXgvYmlvLmgg
fCAxMyArKysrKysrKysrKystCiA0IGZpbGVzIGNoYW5nZWQsIDIxIGluc2VydGlvbnMoKyksIDEw
IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2Jsb2NrL2Jpby5jIGIvYmxvY2svYmlvLmMKaW5k
ZXggMjk5YTBlNzY1MWVjLi43Njc1ZTJkZTUwOWQgMTAwNjQ0Ci0tLSBhL2Jsb2NrL2Jpby5jCisr
KyBiL2Jsb2NrL2Jpby5jCkBAIC04MzMsNyArODMzLDcgQEAgaW50IGJpb19hZGRfcGFnZShzdHJ1
Y3QgYmlvICpiaW8sIHN0cnVjdCBwYWdlICpwYWdlLAogfQogRVhQT1JUX1NZTUJPTChiaW9fYWRk
X3BhZ2UpOwogCi12b2lkIGJpb19yZWxlYXNlX3BhZ2VzKHN0cnVjdCBiaW8gKmJpbywgYm9vbCBt
YXJrX2RpcnR5KQordm9pZCBiaW9fcmVsZWFzZV9wYWdlcyhzdHJ1Y3QgYmlvICpiaW8sIGVudW0g
YmlvX3JwX2ZsYWdzX3QgZmxhZ3MpCiB7CiAJc3RydWN0IGJ2ZWNfaXRlcl9hbGwgaXRlcl9hbGw7
CiAJc3RydWN0IGJpb192ZWMgKmJ2ZWM7CkBAIC04NDIsNyArODQyLDcgQEAgdm9pZCBiaW9fcmVs
ZWFzZV9wYWdlcyhzdHJ1Y3QgYmlvICpiaW8sIGJvb2wgbWFya19kaXJ0eSkKIAkJcmV0dXJuOwog
CiAJYmlvX2Zvcl9lYWNoX3NlZ21lbnRfYWxsKGJ2ZWMsIGJpbywgaXRlcl9hbGwpIHsKLQkJaWYg
KG1hcmtfZGlydHkgJiYgIVBhZ2VDb21wb3VuZChidmVjLT5idl9wYWdlKSkKKwkJaWYgKChmbGFn
cyAmIEJJT19SUF9NQVJLX0RJUlRZKSAmJiAhUGFnZUNvbXBvdW5kKGJ2ZWMtPmJ2X3BhZ2UpKQog
CQkJc2V0X3BhZ2VfZGlydHlfbG9jayhidmVjLT5idl9wYWdlKTsKIAkJcHV0X3BhZ2UoYnZlYy0+
YnZfcGFnZSk7CiAJfQpAQCAtMTQyMSw3ICsxNDIxLDcgQEAgc3RydWN0IGJpbyAqYmlvX21hcF91
c2VyX2lvdihzdHJ1Y3QgcmVxdWVzdF9xdWV1ZSAqcSwKIAlyZXR1cm4gYmlvOwogCiAgb3V0X3Vu
bWFwOgotCWJpb19yZWxlYXNlX3BhZ2VzKGJpbywgZmFsc2UpOworCWJpb19yZWxlYXNlX3BhZ2Vz
KGJpbywgQklPX1JQX05PUk1BTCk7CiAJYmlvX3B1dChiaW8pOwogCXJldHVybiBFUlJfUFRSKHJl
dCk7CiB9CkBAIC0xNDM3LDcgKzE0MzcsNyBAQCBzdHJ1Y3QgYmlvICpiaW9fbWFwX3VzZXJfaW92
KHN0cnVjdCByZXF1ZXN0X3F1ZXVlICpxLAogICovCiB2b2lkIGJpb191bm1hcF91c2VyKHN0cnVj
dCBiaW8gKmJpbykKIHsKLQliaW9fcmVsZWFzZV9wYWdlcyhiaW8sIGJpb19kYXRhX2RpcihiaW8p
ID09IFJFQUQpOworCWJpb19yZWxlYXNlX3BhZ2VzKGJpbywgYmlvX3JwX2RpcnR5X2ZsYWcoYmlv
X2RhdGFfZGlyKGJpbykgPT0gUkVBRCkpOwogCWJpb19wdXQoYmlvKTsKIAliaW9fcHV0KGJpbyk7
CiB9CkBAIC0xNjgzLDcgKzE2ODMsNyBAQCBzdGF0aWMgdm9pZCBiaW9fZGlydHlfZm4oc3RydWN0
IHdvcmtfc3RydWN0ICp3b3JrKQogCXdoaWxlICgoYmlvID0gbmV4dCkgIT0gTlVMTCkgewogCQlu
ZXh0ID0gYmlvLT5iaV9wcml2YXRlOwogCi0JCWJpb19yZWxlYXNlX3BhZ2VzKGJpbywgdHJ1ZSk7
CisJCWJpb19yZWxlYXNlX3BhZ2VzKGJpbywgQklPX1JQX01BUktfRElSVFkpOwogCQliaW9fcHV0
KGJpbyk7CiAJfQogfQpAQCAtMTY5OSw3ICsxNjk5LDcgQEAgdm9pZCBiaW9fY2hlY2tfcGFnZXNf
ZGlydHkoc3RydWN0IGJpbyAqYmlvKQogCQkJZ290byBkZWZlcjsKIAl9CiAKLQliaW9fcmVsZWFz
ZV9wYWdlcyhiaW8sIGZhbHNlKTsKKwliaW9fcmVsZWFzZV9wYWdlcyhiaW8sIEJJT19SUF9OT1JN
QUwpOwogCWJpb19wdXQoYmlvKTsKIAlyZXR1cm47CiBkZWZlcjoKZGlmZiAtLWdpdCBhL2ZzL2Js
b2NrX2Rldi5jIGIvZnMvYmxvY2tfZGV2LmMKaW5kZXggNDcwN2RmZmY5OTFiLi45ZmU2NjE2Zjg3
ODggMTAwNjQ0Ci0tLSBhL2ZzL2Jsb2NrX2Rldi5jCisrKyBiL2ZzL2Jsb2NrX2Rldi5jCkBAIC0y
NTksNyArMjU5LDcgQEAgX19ibGtkZXZfZGlyZWN0X0lPX3NpbXBsZShzdHJ1Y3Qga2lvY2IgKmlv
Y2IsIHN0cnVjdCBpb3ZfaXRlciAqaXRlciwKIAl9CiAJX19zZXRfY3VycmVudF9zdGF0ZShUQVNL
X1JVTk5JTkcpOwogCi0JYmlvX3JlbGVhc2VfcGFnZXMoJmJpbywgc2hvdWxkX2RpcnR5KTsKKwli
aW9fcmVsZWFzZV9wYWdlcygmYmlvLCBiaW9fcnBfZGlydHlfZmxhZyhzaG91bGRfZGlydHkpKTsK
IAlpZiAodW5saWtlbHkoYmlvLmJpX3N0YXR1cykpCiAJCXJldCA9IGJsa19zdGF0dXNfdG9fZXJy
bm8oYmlvLmJpX3N0YXR1cyk7CiAKQEAgLTMyOSw3ICszMjksNyBAQCBzdGF0aWMgdm9pZCBibGtk
ZXZfYmlvX2VuZF9pbyhzdHJ1Y3QgYmlvICpiaW8pCiAJaWYgKHNob3VsZF9kaXJ0eSkgewogCQli
aW9fY2hlY2tfcGFnZXNfZGlydHkoYmlvKTsKIAl9IGVsc2UgewotCQliaW9fcmVsZWFzZV9wYWdl
cyhiaW8sIGZhbHNlKTsKKwkJYmlvX3JlbGVhc2VfcGFnZXMoYmlvLCBCSU9fUlBfTk9STUFMKTsK
IAkJYmlvX3B1dChiaW8pOwogCX0KIH0KZGlmZiAtLWdpdCBhL2ZzL2RpcmVjdC1pby5jIGIvZnMv
ZGlyZWN0LWlvLmMKaW5kZXggYWUxOTY3ODRmNDg3Li40MjNlZjQzMWRkZGEgMTAwNjQ0Ci0tLSBh
L2ZzL2RpcmVjdC1pby5jCisrKyBiL2ZzL2RpcmVjdC1pby5jCkBAIC01NTEsNyArNTUxLDcgQEAg
c3RhdGljIGJsa19zdGF0dXNfdCBkaW9fYmlvX2NvbXBsZXRlKHN0cnVjdCBkaW8gKmRpbywgc3Ry
dWN0IGJpbyAqYmlvKQogCWlmIChkaW8tPmlzX2FzeW5jICYmIHNob3VsZF9kaXJ0eSkgewogCQli
aW9fY2hlY2tfcGFnZXNfZGlydHkoYmlvKTsJLyogdHJhbnNmZXJzIG93bmVyc2hpcCAqLwogCX0g
ZWxzZSB7Ci0JCWJpb19yZWxlYXNlX3BhZ2VzKGJpbywgc2hvdWxkX2RpcnR5KTsKKwkJYmlvX3Jl
bGVhc2VfcGFnZXMoYmlvLCBiaW9fcnBfZGlydHlfZmxhZyhzaG91bGRfZGlydHkpKTsKIAkJYmlv
X3B1dChiaW8pOwogCX0KIAlyZXR1cm4gZXJyOwpkaWZmIC0tZ2l0IGEvaW5jbHVkZS9saW51eC9i
aW8uaCBiL2luY2x1ZGUvbGludXgvYmlvLmgKaW5kZXggM2NkYjg0Y2RjNDg4Li4yNzE1ZTU1Njc5
YzEgMTAwNjQ0Ci0tLSBhL2luY2x1ZGUvbGludXgvYmlvLmgKKysrIGIvaW5jbHVkZS9saW51eC9i
aW8uaApAQCAtNDQwLDcgKzQ0MCwxOCBAQCBib29sIF9fYmlvX3RyeV9tZXJnZV9wYWdlKHN0cnVj
dCBiaW8gKmJpbywgc3RydWN0IHBhZ2UgKnBhZ2UsCiB2b2lkIF9fYmlvX2FkZF9wYWdlKHN0cnVj
dCBiaW8gKmJpbywgc3RydWN0IHBhZ2UgKnBhZ2UsCiAJCXVuc2lnbmVkIGludCBsZW4sIHVuc2ln
bmVkIGludCBvZmYpOwogaW50IGJpb19pb3ZfaXRlcl9nZXRfcGFnZXMoc3RydWN0IGJpbyAqYmlv
LCBzdHJ1Y3QgaW92X2l0ZXIgKml0ZXIpOwotdm9pZCBiaW9fcmVsZWFzZV9wYWdlcyhzdHJ1Y3Qg
YmlvICpiaW8sIGJvb2wgbWFya19kaXJ0eSk7CisKK2VudW0gYmlvX3JwX2ZsYWdzX3QgeworCUJJ
T19SUF9OT1JNQUwJCT0gMCwKKwlCSU9fUlBfTUFSS19ESVJUWQk9IDEsCit9OworCitzdGF0aWMg
aW5saW5lIGVudW0gYmlvX3JwX2ZsYWdzX3QgYmlvX3JwX2RpcnR5X2ZsYWcoYm9vbCBtYXJrX2Rp
cnR5KQoreworCXJldHVybiBtYXJrX2RpcnR5ID8gQklPX1JQX01BUktfRElSVFkgOiBCSU9fUlBf
Tk9STUFMOworfQorCit2b2lkIGJpb19yZWxlYXNlX3BhZ2VzKHN0cnVjdCBiaW8gKmJpbywgZW51
bSBiaW9fcnBfZmxhZ3NfdCBmbGFncyk7CiBzdHJ1Y3QgcnFfbWFwX2RhdGE7CiBleHRlcm4gc3Ry
dWN0IGJpbyAqYmlvX21hcF91c2VyX2lvdihzdHJ1Y3QgcmVxdWVzdF9xdWV1ZSAqLAogCQkJCSAg
ICBzdHJ1Y3QgaW92X2l0ZXIgKiwgZ2ZwX3QpOwotLSAKMi4yMi4wCgpfX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpWaXJ0dWFsaXphdGlvbiBtYWlsaW5nIGxp
c3QKVmlydHVhbGl6YXRpb25AbGlzdHMubGludXgtZm91bmRhdGlvbi5vcmcKaHR0cHM6Ly9saXN0
cy5saW51eGZvdW5kYXRpb24ub3JnL21haWxtYW4vbGlzdGluZm8vdmlydHVhbGl6YXRpb24=
