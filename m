Return-Path: <virtualization-bounces@lists.linux-foundation.org>
X-Original-To: lists.virtualization@lfdr.de
Delivered-To: lists.virtualization@lfdr.de
Received: from smtp2.osuosl.org (smtp2.osuosl.org [140.211.166.133])
	by mail.lfdr.de (Postfix) with ESMTPS id 7647279C739
	for <lists.virtualization@lfdr.de>; Tue, 12 Sep 2023 08:54:04 +0200 (CEST)
Received: from localhost (localhost [127.0.0.1])
	by smtp2.osuosl.org (Postfix) with ESMTP id 0E8F7404AB;
	Tue, 12 Sep 2023 06:54:03 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp2.osuosl.org 0E8F7404AB
Authentication-Results: smtp2.osuosl.org;
	dkim=fail reason="signature verification failed" (1024-bit key) header.d=redhat.com header.i=@redhat.com header.a=rsa-sha256 header.s=mimecast20190719 header.b=dYPeCAAa
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp2.osuosl.org ([127.0.0.1])
	by localhost (smtp2.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id MMUk1M2uH0zu; Tue, 12 Sep 2023 06:54:02 +0000 (UTC)
Received: from lists.linuxfoundation.org (lf-lists.osuosl.org [140.211.9.56])
	by smtp2.osuosl.org (Postfix) with ESMTPS id 9066940407;
	Tue, 12 Sep 2023 06:54:01 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp2.osuosl.org 9066940407
Received: from lf-lists.osuosl.org (localhost [127.0.0.1])
	by lists.linuxfoundation.org (Postfix) with ESMTP id E4FE5C008C;
	Tue, 12 Sep 2023 06:54:00 +0000 (UTC)
X-Original-To: virtualization@lists.linux-foundation.org
Delivered-To: virtualization@lists.linuxfoundation.org
Received: from smtp2.osuosl.org (smtp2.osuosl.org [140.211.166.133])
 by lists.linuxfoundation.org (Postfix) with ESMTP id B516DC0032
 for <virtualization@lists.linux-foundation.org>;
 Tue, 12 Sep 2023 06:53:59 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by smtp2.osuosl.org (Postfix) with ESMTP id 9D809401C9
 for <virtualization@lists.linux-foundation.org>;
 Tue, 12 Sep 2023 06:53:59 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp2.osuosl.org 9D809401C9
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp2.osuosl.org ([127.0.0.1])
 by localhost (smtp2.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id IKscotb3S8PX
 for <virtualization@lists.linux-foundation.org>;
 Tue, 12 Sep 2023 06:53:58 +0000 (UTC)
Received: from us-smtp-delivery-124.mimecast.com
 (us-smtp-delivery-124.mimecast.com [170.10.129.124])
 by smtp2.osuosl.org (Postfix) with ESMTPS id 6BE69400E7
 for <virtualization@lists.linux-foundation.org>;
 Tue, 12 Sep 2023 06:53:58 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp2.osuosl.org 6BE69400E7
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=redhat.com;
 s=mimecast20190719; t=1694501637;
 h=from:from:reply-to:subject:subject:date:date:message-id:message-id:
 to:to:cc:cc:mime-version:mime-version:content-type:content-type:
 content-transfer-encoding:content-transfer-encoding:
 in-reply-to:in-reply-to:references:references;
 bh=IqtMBSZUQnlZRrxG16S4qLPxvK1P0SRqcwGGw6DSyDk=;
 b=dYPeCAAa87oy5w9G7ivOKY3h7qD6TPriHNu+2I+n3vXnuCAXcw61CXmzs5Sz+U4Yxt55kS
 axMQsNzfb9tWwE2LNRs7r0VjMSz+IsO4wBpVY40VpPAIxvhFC4lOtW3fnI+CSoE3qQwGOP
 sA7lMEZJaZNVV0xVmEke0D273EjqA8I=
Received: from mail-lf1-f72.google.com (mail-lf1-f72.google.com
 [209.85.167.72]) by relay.mimecast.com with ESMTP with STARTTLS
 (version=TLSv1.3, cipher=TLS_AES_256_GCM_SHA384) id
 us-mta-387-JzoYYkHOMCqE0_nrYI23Hw-1; Tue, 12 Sep 2023 02:53:55 -0400
X-MC-Unique: JzoYYkHOMCqE0_nrYI23Hw-1
Received: by mail-lf1-f72.google.com with SMTP id
 2adb3069b0e04-5008240846fso3367815e87.1
 for <virtualization@lists.linux-foundation.org>;
 Mon, 11 Sep 2023 23:53:55 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20230601; t=1694501634; x=1695106434;
 h=content-transfer-encoding:cc:to:subject:message-id:date:from
 :in-reply-to:references:mime-version:x-gm-message-state:from:to:cc
 :subject:date:message-id:reply-to;
 bh=IqtMBSZUQnlZRrxG16S4qLPxvK1P0SRqcwGGw6DSyDk=;
 b=tZ05Q55qTaDpJ/3REEnVadf4Z7cYD90SWu1+MtdNMa7ouBJCdLRnA6N+HPXI17V2Zb
 /oRppiLZPsKhmZbT965Ri3XQQ9bcUxRjq/ZcQWhzWtrRPLHtBiuQt4rFN2sIif/Tx8Md
 FbivONmWrEas3LF40aAentn/GBIZQkgKHzcpD3gpKM1rRF54V7bPfMj/Qnklk5kanTPo
 z50ADxcSZmffw8zNphcz1JWio/CzdxIuUBNQACR4LXFCunO5SvIxpVlNS0FPHS0tEFJ1
 XqXrDVo752ZMQSBF70vLFiHfGfW+WPrRPasl22+PTI5V8PQUY4Bq49vimOj5wlgi4+4S
 DdJg==
X-Gm-Message-State: AOJu0Yz6acPGCzGiV5KqgluDkpI5Fg0l0PTe7WyGx1sKuBm1E/jml9br
 mhuzdFQyiUgKuMbZkv7ayZlrE/YD8XN0fqlVkVuOoDrN2a/+1RdAYTN37N/HPD9Y3f/Vb44RHgw
 pK+bJz66RQDXTMCQ/V0T74oEdUWE4d/XQLdxLwkt9PROQGj2Ow3cNoU6OSg==
X-Received: by 2002:a05:6512:304c:b0:500:b09f:eb3d with SMTP id
 b12-20020a056512304c00b00500b09feb3dmr597941lfb.30.1694501634103; 
 Mon, 11 Sep 2023 23:53:54 -0700 (PDT)
X-Google-Smtp-Source: AGHT+IHNfOsYOk6XAa4UqNwDRgM2iqQYUiy9fXYN3CZEf4gywKL9xKLgp7vXFCXlaPAtjWZo/imNyD2rs1WxR83l85s=
X-Received: by 2002:a05:6512:304c:b0:500:b09f:eb3d with SMTP id
 b12-20020a056512304c00b00500b09feb3dmr597932lfb.30.1694501633699; Mon, 11 Sep
 2023 23:53:53 -0700 (PDT)
MIME-Version: 1.0
References: <1694267039-718-1-git-send-email-si-wei.liu@oracle.com>
 <1694267039-718-3-git-send-email-si-wei.liu@oracle.com>
 <CACGkMEuY+KF_mBRbbahsbUoCYeALwF=o7xvJT0BvSZzWHqEFLw@mail.gmail.com>
 <61c4e9aa-6a4a-43fd-105c-e98a1ed1e676@oracle.com>
In-Reply-To: <61c4e9aa-6a4a-43fd-105c-e98a1ed1e676@oracle.com>
From: Jason Wang <jasowang@redhat.com>
Date: Tue, 12 Sep 2023 14:53:42 +0800
Message-ID: <CACGkMEsgV48_vNaUjXPxKLExNRQ+ZaVsHxi2DoC4Rwyj3q0DsQ@mail.gmail.com>
Subject: Re: [PATCH RFC v3 2/4] vdpa/mlx5: implement .reset_map driver op
To: Si-Wei Liu <si-wei.liu@oracle.com>
X-Mimecast-Spam-Score: 0
X-Mimecast-Originator: redhat.com
Cc: eperezma@redhat.com, virtualization@lists.linux-foundation.org,
 xuanzhuo@linux.alibaba.com, mst@redhat.com
X-BeenThere: virtualization@lists.linux-foundation.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: Linux virtualization <virtualization.lists.linux-foundation.org>
List-Unsubscribe: <https://lists.linuxfoundation.org/mailman/options/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=unsubscribe>
List-Archive: <http://lists.linuxfoundation.org/pipermail/virtualization/>
List-Post: <mailto:virtualization@lists.linux-foundation.org>
List-Help: <mailto:virtualization-request@lists.linux-foundation.org?subject=help>
List-Subscribe: <https://lists.linuxfoundation.org/mailman/listinfo/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: virtualization-bounces@lists.linux-foundation.org
Sender: "Virtualization" <virtualization-bounces@lists.linux-foundation.org>

T24gVHVlLCBTZXAgMTIsIDIwMjMgYXQgODowMuKAr0FNIFNpLVdlaSBMaXUgPHNpLXdlaS5saXVA
b3JhY2xlLmNvbT4gd3JvdGU6Cj4KPgo+Cj4gT24gOS8xMC8yMDIzIDg6NDggUE0sIEphc29uIFdh
bmcgd3JvdGU6Cj4gPiBPbiBTYXQsIFNlcCA5LCAyMDIzIGF0IDk6NDbigK9QTSBTaS1XZWkgTGl1
IDxzaS13ZWkubGl1QG9yYWNsZS5jb20+IHdyb3RlOgo+ID4+IFRvZGF5LCBtbHg1X3ZkcGEgZ2V0
cyBzdGFydGVkIGJ5IHByZWFsbG9jYXRlIDE6MSBETUEgbWFwcGluZyBhdAo+ID4+IGRldmljZSBj
cmVhdGlvbiB0aW1lLCB3aGlsZSB0aGlzIDE6MSBtYXBwaW5nIHdpbGwgYmUgaW1wbGljaXRseQo+
ID4+IGRlc3Ryb3llZCB3aGVuIHRoZSBmaXJzdCAuc2V0X21hcCBjYWxsIGlzIGludm9rZWQuIEV2
ZXJ5dGltZQo+ID4+IHdoZW4gdGhlIC5yZXNldCBjYWxsYmFjayBpcyBpbnZva2VkLCBhbnkgbWFw
cGluZyBsZWZ0IGJlaGluZCB3aWxsCj4gPj4gYmUgZHJvcHBlZCB0aGVuIHJlc2V0IGJhY2sgdG8g
dGhlIGluaXRpYWwgMToxIERNQSBtYXBwaW5nLgo+ID4+Cj4gPj4gSW4gb3JkZXIgdG8gcmVkdWNl
IGV4Y2Vzc2l2ZSBtZW1vcnkgbWFwcGluZyBjb3N0IGR1cmluZyBsaXZlCj4gPj4gbWlncmF0aW9u
LCBpdCBpcyBkZXNpcmFibGUgdG8gZGVjb3VwbGUgdGhlIHZob3N0LXZkcGEgaW90bGIKPiA+PiBh
YnN0cmFjdGlvbiBmcm9tIHRoZSB2aXJ0aW8gZGV2aWNlIGxpZmUgY3ljbGUsIGkuZS4gbWFwcGlu
Z3MKPiA+PiBzaG91bGQgYmUgbGVmdCBpbnRhY3QgYWNyb3NzIHZpcnRpbyBkZXZpY2UgcmVzZXQu
IExldmVyYWdlIHRoZQo+ID4+IC5yZXNldF9tYXAgY2FsbGJhY2sgdG8gcmVzZXQgbWVtb3J5IG1h
cHBpbmcsIHRoZW4gdGhlIGRldmljZQo+ID4+IC5yZXNldCByb3V0aW5lIGNhbiBydW4gZnJlZSBm
cm9tIGhhdmluZyB0byBjbGVhbiB1cCBtZW1vcnkKPiA+PiBtYXBwaW5ncy4KPiA+IEl0J3Mgbm90
IGNsZWFyIHRoZSBkaXJlY3QgcmVsYXRpb25zaGlwIGJldHdlZW4gdGhlIHBlcnNpc3RlbnQgbWFw
cGluZwo+ID4gYW5kIHJlc2V0X21hcC4KPiBDb25zaWRlciAucmVzZXRfbWFwIGFzIGEgc2ltcGxp
ZmllZCBhYnN0cmFjdGlvbiBmb3Igb24tY2hpcCBJT01NVSBtb2RlbCwKPiBkZWNvdXBsaW5nIG1l
bW9yeSBtYXBwaW5nIG1vZGUgc3dpdGNoaW5nIGZyb20gdGhlIGN1cnJlbnQgdmRwYV9yZXNldAo+
IGhhY2suIFNsaWdodGx5IGRpZmZlcmVudCB0aGFuIHBsYXRmb3JtIElPTU1VIGlvbW11X2RvbWFp
bl9hbGxvYy9mcmVlLAo+IGJ1dCB3b3JrcyB0aGUgYmVzdCB3aXRoIGV4aXN0aW5nIC5kbWFfbWFw
Ly5zZXRfbWFwIEFQSXMuCgpOb3RlIHRoYXQgaW9tbXVfZG9tYWluX2FsbG9jL2ZyZWUgZG9lc24n
dCBpbXBseSBhbnkgbWFwcGluZ3MgKGV2ZW4gdGhlCmlkZW50aXR5IG1hcHBpbmcpLgoKPiBBcyBz
YWlkIGluIHRoZQo+IG90aGVyIGVtYWlsLCB0aGUgZGlzdGluY3Rpb24gY2Fubm90IGJlIGhpZGRl
biwgYXMgdGhlcmUgYXJlIGJ1cyBkcml2ZXJzCj4gd2l0aCB2YXJpZWQgbWFwcGluZyBuZWVkcy4g
T24gdGhlIG90aGVyIGhhbmQsIEkgY2FuIGxpdmUgd2l0aCB0aGUKPiBpb21tdV9kb21haW5fYWxs
b2MvZnJlZSBmbGF2b3Igc3RyaWN0bHkgZm9sbG93aW5nIHRoZSBwbGF0Zm9ybSBJT01NVQo+IG1v
ZGVsLCBidXQgbm90IHN1cmUgaWYgd29ydGggdGhlIGNvbXBsZXhpdHkuCgpJJ20gbm90IHN1cmUg
SSBnZXQgdGhpcywgbWF5YmUgeW91IGNhbiBwb3N0IHNvbWUgUkZDIG9yIHBzZXVkbyBjb2RlPwoK
Pgo+ID4gQ291bGQgd2UgZG8gaXQgc3RlcCBieSBzdGVwPyBGb3IgZXhhbXBsZSwgcmVtb3ZlIHRo
ZQo+ID4gbWx4NV92ZHBhX2Rlc3Ryb3lfbXIoKSBpbiBtbHg1X3ZkcGFfcmVzZXQoKSB3aGVuIFBF
UlNJU1RfSU9UTEIgZXhpc3RzPwo+IEkgdGhpbmsgdG9kYXkgdGhlcmUncyBubyB3YXkgZm9yIHRo
ZSBwYXJlbnQgZHJpdmVyIHRvIG5lZ290aWF0ZSBiYWNrZW5kCj4gZmVhdHVyZXMgd2l0aCB1c2Vy
c3BhY2UsIGZvciBlLmcuIHBhcmVudCB3b24ndCBiZSBhYmxlIHRvIHBlcmZvcm0KPiBtbHg1X3Zk
cGFfZGVzdHJveV9tciBmb3IgdGhlIHZpcnRpby12ZHBhIGNhc2Ugd2hlbiBQRVJTSVNUX0lPVExC
IGRvZXNuJ3QKPiBleGlzdC4gQW5kIHRoaXMgYmFja2VuZCBmZWF0dXJlcyBzdHVmZiBpcyBhIHZo
b3N0IHNwZWNpZmljIHRoaW5nLCBub3QKPiBzcGVjaWZpY2FsbHkgdGllZCB0byB2ZHBhIGl0c2Vs
Zi4gSG93IGRvIHdlIGdldCBpdCBleHRlbmRlZCBhbmQKPiBwcm9wYWdhdGVkIHVwIHRvIHRoZSB2
ZHBhIGJ1cyBsYXllcj8KCkp1c3QgdG8gbWFrZSBzdXJlIHdlIGFyZSBvbiB0aGUgc2FtZSBwYWdl
LCBJIGp1c3Qgd2FudCB0byBrbm93IHdoYXQKaGFwcGVucyBpZiB3ZSBzaW1wbHkgcmVtb3ZlIG1s
eDVfdmRwYV9kZXN0cm95X21yKCkgaW4KbWx4NV92ZHBhX3Jlc2V0KCk/Cgo+Cj4gPiBBbmQgdGhl
biB3ZSBjYW4gZGVhbCB3aXRoIHRoZSByZXNldHRpbmcgYW5kIG90aGVycyBvbiB0b3AsCj4gRm9y
IHRoaXMgcHJvcG9zZWQgZml4LCBkZWFsaW5nIHdpdGggdmRwYV9yZXNldCBmcm9tIHZob3N0LXZk
cGEgaXMgbm90Cj4gc3BlY2lmaWNhbGx5IGFuIGlzc3VlLCBidXQgaG93IHRvIGdldCB0aGUgbWFw
cGluZyByZXZlcnRlZCBiYWNrIHRvIDE6MQo+IGlkZW50aXR5L3Bhc3N0aHJvdWdoIHdoZW4gdXNl
cnMgd2FudCB0byBzd2l0Y2ggZnJvbSB2aG9zdC12ZHBhIHRvCj4gdmlydGlvLXZkcGEgaXMuCj4K
PiA+ICAgb3IgaXQgbmVlZHMKPiA+IHNvbWUgZXhwbGFuYXRpb24gZm9yIHdoeSByZXNldF9tYXAo
KSBtdXN0IGJlIGRvbmUgZmlyc3QuCj4gWWVwLCBJIGNhbiBhZGQgbW9yZSB0byB0aGUgY29tbWl0
IGxvZy4KClRoYW5rcwoKPgo+IFRoYW5rcywKPiAtU2l3ZWkKPgo+ID4KPiA+IFRoYW5rcwo+ID4K
PiA+PiBTaWduZWQtb2ZmLWJ5OiBTaS1XZWkgTGl1IDxzaS13ZWkubGl1QG9yYWNsZS5jb20+Cj4g
Pj4KPiA+PiAtLS0KPiA+PiBSRkMgdjEgLT4gdjI6Cj4gPj4gICAgLSBmaXggZXJyb3IgcGF0aCB3
aGVuIGJvdGggQ1ZRIGFuZCBEVlEgZmFsbCBpbiBzYW1lIGFzaWQKPiA+PiAtLS0KPiA+PiAgIGRy
aXZlcnMvdmRwYS9tbHg1L2NvcmUvbWx4NV92ZHBhLmggfCAgMSArCj4gPj4gICBkcml2ZXJzL3Zk
cGEvbWx4NS9jb3JlL21yLmMgICAgICAgIHwgNzAgKysrKysrKysrKysrKysrKysrKysrKystLS0t
LS0tLS0tLS0tLS0KPiA+PiAgIGRyaXZlcnMvdmRwYS9tbHg1L25ldC9tbHg1X3ZuZXQuYyAgfCAx
OCArKysrKysrLS0tCj4gPj4gICAzIGZpbGVzIGNoYW5nZWQsIDU2IGluc2VydGlvbnMoKyksIDMz
IGRlbGV0aW9ucygtKQo+ID4+Cj4gPj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvdmRwYS9tbHg1L2Nv
cmUvbWx4NV92ZHBhLmggYi9kcml2ZXJzL3ZkcGEvbWx4NS9jb3JlL21seDVfdmRwYS5oCj4gPj4g
aW5kZXggYjUzNDIwZS4uNWM5YTI1YSAxMDA2NDQKPiA+PiAtLS0gYS9kcml2ZXJzL3ZkcGEvbWx4
NS9jb3JlL21seDVfdmRwYS5oCj4gPj4gKysrIGIvZHJpdmVycy92ZHBhL21seDUvY29yZS9tbHg1
X3ZkcGEuaAo+ID4+IEBAIC0xMjMsNiArMTIzLDcgQEAgaW50IG1seDVfdmRwYV9jcmVhdGVfbXIo
c3RydWN0IG1seDVfdmRwYV9kZXYgKm12ZGV2LCBzdHJ1Y3Qgdmhvc3RfaW90bGIgKmlvdGxiLAo+
ID4+ICAgICAgICAgICAgICAgICAgICAgICAgICB1bnNpZ25lZCBpbnQgYXNpZCk7Cj4gPj4gICB2
b2lkIG1seDVfdmRwYV9kZXN0cm95X21yKHN0cnVjdCBtbHg1X3ZkcGFfZGV2ICptdmRldik7Cj4g
Pj4gICB2b2lkIG1seDVfdmRwYV9kZXN0cm95X21yX2FzaWQoc3RydWN0IG1seDVfdmRwYV9kZXYg
Km12ZGV2LCB1bnNpZ25lZCBpbnQgYXNpZCk7Cj4gPj4gK2ludCBtbHg1X3ZkcGFfcmVzZXRfbXIo
c3RydWN0IG1seDVfdmRwYV9kZXYgKm12ZGV2LCB1bnNpZ25lZCBpbnQgYXNpZCk7Cj4gPj4KPiA+
PiAgICNkZWZpbmUgbWx4NV92ZHBhX3dhcm4oX19kZXYsIGZvcm1hdCwgLi4uKSAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwKPiA+PiAgICAg
ICAgICBkZXZfd2FybigoX19kZXYpLT5tZGV2LT5kZXZpY2UsICIlczolZDoocGlkICVkKSB3YXJu
aW5nOiAiIGZvcm1hdCwgX19mdW5jX18sIF9fTElORV9fLCAgICAgXAo+ID4+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL3ZkcGEvbWx4NS9jb3JlL21yLmMgYi9kcml2ZXJzL3ZkcGEvbWx4NS9jb3JlL21y
LmMKPiA+PiBpbmRleCA1YTE5NzFmYy4uZWMyYzdiNGUxIDEwMDY0NAo+ID4+IC0tLSBhL2RyaXZl
cnMvdmRwYS9tbHg1L2NvcmUvbXIuYwo+ID4+ICsrKyBiL2RyaXZlcnMvdmRwYS9tbHg1L2NvcmUv
bXIuYwo+ID4+IEBAIC00ODksMjEgKzQ4OSwxNSBAQCBzdGF0aWMgdm9pZCBkZXN0cm95X3VzZXJf
bXIoc3RydWN0IG1seDVfdmRwYV9kZXYgKm12ZGV2LCBzdHJ1Y3QgbWx4NV92ZHBhX21yICptcgo+
ID4+ICAgICAgICAgIH0KPiA+PiAgIH0KPiA+Pgo+ID4+IC1zdGF0aWMgdm9pZCBfbWx4NV92ZHBh
X2Rlc3Ryb3lfY3ZxX21yKHN0cnVjdCBtbHg1X3ZkcGFfZGV2ICptdmRldiwgdW5zaWduZWQgaW50
IGFzaWQpCj4gPj4gK3N0YXRpYyB2b2lkIF9tbHg1X3ZkcGFfZGVzdHJveV9jdnFfbXIoc3RydWN0
IG1seDVfdmRwYV9kZXYgKm12ZGV2KQo+ID4+ICAgewo+ID4+IC0gICAgICAgaWYgKG12ZGV2LT5n
cm91cDJhc2lkW01MWDVfVkRQQV9DVlFfR1JPVVBdICE9IGFzaWQpCj4gPj4gLSAgICAgICAgICAg
ICAgIHJldHVybjsKPiA+PiAtCj4gPj4gICAgICAgICAgcHJ1bmVfaW90bGIobXZkZXYpOwo+ID4+
ICAgfQo+ID4+Cj4gPj4gLXN0YXRpYyB2b2lkIF9tbHg1X3ZkcGFfZGVzdHJveV9kdnFfbXIoc3Ry
dWN0IG1seDVfdmRwYV9kZXYgKm12ZGV2LCB1bnNpZ25lZCBpbnQgYXNpZCkKPiA+PiArc3RhdGlj
IHZvaWQgX21seDVfdmRwYV9kZXN0cm95X2R2cV9tcihzdHJ1Y3QgbWx4NV92ZHBhX2RldiAqbXZk
ZXYpCj4gPj4gICB7Cj4gPj4gICAgICAgICAgc3RydWN0IG1seDVfdmRwYV9tciAqbXIgPSAmbXZk
ZXYtPm1yOwo+ID4+Cj4gPj4gLSAgICAgICBpZiAobXZkZXYtPmdyb3VwMmFzaWRbTUxYNV9WRFBB
X0RBVEFWUV9HUk9VUF0gIT0gYXNpZCkKPiA+PiAtICAgICAgICAgICAgICAgcmV0dXJuOwo+ID4+
IC0KPiA+PiAgICAgICAgICBpZiAoIW1yLT5pbml0aWFsaXplZCkKPiA+PiAgICAgICAgICAgICAg
ICAgIHJldHVybjsKPiA+Pgo+ID4+IEBAIC01MjEsOCArNTE1LDEwIEBAIHZvaWQgbWx4NV92ZHBh
X2Rlc3Ryb3lfbXJfYXNpZChzdHJ1Y3QgbWx4NV92ZHBhX2RldiAqbXZkZXYsIHVuc2lnbmVkIGlu
dCBhc2lkKQo+ID4+Cj4gPj4gICAgICAgICAgbXV0ZXhfbG9jaygmbXItPm1rZXlfbXR4KTsKPiA+
Pgo+ID4+IC0gICAgICAgX21seDVfdmRwYV9kZXN0cm95X2R2cV9tcihtdmRldiwgYXNpZCk7Cj4g
Pj4gLSAgICAgICBfbWx4NV92ZHBhX2Rlc3Ryb3lfY3ZxX21yKG12ZGV2LCBhc2lkKTsKPiA+PiAr
ICAgICAgIGlmIChtdmRldi0+Z3JvdXAyYXNpZFtNTFg1X1ZEUEFfREFUQVZRX0dST1VQXSA9PSBh
c2lkKQo+ID4+ICsgICAgICAgICAgICAgICBfbWx4NV92ZHBhX2Rlc3Ryb3lfZHZxX21yKG12ZGV2
KTsKPiA+PiArICAgICAgIGlmIChtdmRldi0+Z3JvdXAyYXNpZFtNTFg1X1ZEUEFfQ1ZRX0dST1VQ
XSA9PSBhc2lkKQo+ID4+ICsgICAgICAgICAgICAgICBfbWx4NV92ZHBhX2Rlc3Ryb3lfY3ZxX21y
KG12ZGV2KTsKPiA+Pgo+ID4+ICAgICAgICAgIG11dGV4X3VubG9jaygmbXItPm1rZXlfbXR4KTsK
PiA+PiAgIH0KPiA+PiBAQCAtNTM0LDI1ICs1MzAsMTcgQEAgdm9pZCBtbHg1X3ZkcGFfZGVzdHJv
eV9tcihzdHJ1Y3QgbWx4NV92ZHBhX2RldiAqbXZkZXYpCj4gPj4gICB9Cj4gPj4KPiA+PiAgIHN0
YXRpYyBpbnQgX21seDVfdmRwYV9jcmVhdGVfY3ZxX21yKHN0cnVjdCBtbHg1X3ZkcGFfZGV2ICpt
dmRldiwKPiA+PiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3Qgdmhv
c3RfaW90bGIgKmlvdGxiLAo+ID4+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHVuc2lnbmVkIGludCBhc2lkKQo+ID4+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHN0cnVjdCB2aG9zdF9pb3RsYiAqaW90bGIpCj4gPj4gICB7Cj4gPj4gLSAgICAgICBpZiAo
bXZkZXYtPmdyb3VwMmFzaWRbTUxYNV9WRFBBX0NWUV9HUk9VUF0gIT0gYXNpZCkKPiA+PiAtICAg
ICAgICAgICAgICAgcmV0dXJuIDA7Cj4gPj4gLQo+ID4+ICAgICAgICAgIHJldHVybiBkdXBfaW90
bGIobXZkZXYsIGlvdGxiKTsKPiA+PiAgIH0KPiA+Pgo+ID4+ICAgc3RhdGljIGludCBfbWx4NV92
ZHBhX2NyZWF0ZV9kdnFfbXIoc3RydWN0IG1seDVfdmRwYV9kZXYgKm12ZGV2LAo+ID4+IC0gICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB2aG9zdF9pb3RsYiAqaW90bGIs
Cj4gPj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgaW50IGFz
aWQpCj4gPj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHZob3N0
X2lvdGxiICppb3RsYikKPiA+PiAgIHsKPiA+PiAgICAgICAgICBzdHJ1Y3QgbWx4NV92ZHBhX21y
ICptciA9ICZtdmRldi0+bXI7Cj4gPj4gICAgICAgICAgaW50IGVycjsKPiA+Pgo+ID4+IC0gICAg
ICAgaWYgKG12ZGV2LT5ncm91cDJhc2lkW01MWDVfVkRQQV9EQVRBVlFfR1JPVVBdICE9IGFzaWQp
Cj4gPj4gLSAgICAgICAgICAgICAgIHJldHVybiAwOwo+ID4+IC0KPiA+PiAgICAgICAgICBpZiAo
bXItPmluaXRpYWxpemVkKQo+ID4+ICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7Cj4gPj4KPiA+
PiBAQCAtNTc0LDE4ICs1NjIsMjIgQEAgc3RhdGljIGludCBfbWx4NV92ZHBhX2NyZWF0ZV9tcihz
dHJ1Y3QgbWx4NV92ZHBhX2RldiAqbXZkZXYsCj4gPj4gICB7Cj4gPj4gICAgICAgICAgaW50IGVy
cjsKPiA+Pgo+ID4+IC0gICAgICAgZXJyID0gX21seDVfdmRwYV9jcmVhdGVfZHZxX21yKG12ZGV2
LCBpb3RsYiwgYXNpZCk7Cj4gPj4gLSAgICAgICBpZiAoZXJyKQo+ID4+IC0gICAgICAgICAgICAg
ICByZXR1cm4gZXJyOwo+ID4+IC0KPiA+PiAtICAgICAgIGVyciA9IF9tbHg1X3ZkcGFfY3JlYXRl
X2N2cV9tcihtdmRldiwgaW90bGIsIGFzaWQpOwo+ID4+IC0gICAgICAgaWYgKGVycikKPiA+PiAt
ICAgICAgICAgICAgICAgZ290byBvdXRfZXJyOwo+ID4+ICsgICAgICAgaWYgKG12ZGV2LT5ncm91
cDJhc2lkW01MWDVfVkRQQV9EQVRBVlFfR1JPVVBdID09IGFzaWQpIHsKPiA+PiArICAgICAgICAg
ICAgICAgZXJyID0gX21seDVfdmRwYV9jcmVhdGVfZHZxX21yKG12ZGV2LCBpb3RsYik7Cj4gPj4g
KyAgICAgICAgICAgICAgIGlmIChlcnIpCj4gPj4gKyAgICAgICAgICAgICAgICAgICAgICAgcmV0
dXJuIGVycjsKPiA+PiArICAgICAgIH0KPiA+PiArICAgICAgIGlmIChtdmRldi0+Z3JvdXAyYXNp
ZFtNTFg1X1ZEUEFfQ1ZRX0dST1VQXSA9PSBhc2lkKSB7Cj4gPj4gKyAgICAgICAgICAgICAgIGVy
ciA9IF9tbHg1X3ZkcGFfY3JlYXRlX2N2cV9tcihtdmRldiwgaW90bGIpOwo+ID4+ICsgICAgICAg
ICAgICAgICBpZiAoZXJyKQo+ID4+ICsgICAgICAgICAgICAgICAgICAgICAgIGdvdG8gb3V0X2Vy
cjsKPiA+PiArICAgICAgIH0KPiA+Pgo+ID4+ICAgICAgICAgIHJldHVybiAwOwo+ID4+Cj4gPj4g
ICBvdXRfZXJyOgo+ID4+IC0gICAgICAgX21seDVfdmRwYV9kZXN0cm95X2R2cV9tcihtdmRldiwg
YXNpZCk7Cj4gPj4gKyAgICAgICBpZiAobXZkZXYtPmdyb3VwMmFzaWRbTUxYNV9WRFBBX0RBVEFW
UV9HUk9VUF0gPT0gYXNpZCkKPiA+PiArICAgICAgICAgICAgICAgX21seDVfdmRwYV9kZXN0cm95
X2R2cV9tcihtdmRldik7Cj4gPj4KPiA+PiAgICAgICAgICByZXR1cm4gZXJyOwo+ID4+ICAgfQo+
ID4+IEBAIC02MDEsNiArNTkzLDI4IEBAIGludCBtbHg1X3ZkcGFfY3JlYXRlX21yKHN0cnVjdCBt
bHg1X3ZkcGFfZGV2ICptdmRldiwgc3RydWN0IHZob3N0X2lvdGxiICppb3RsYiwKPiA+PiAgICAg
ICAgICByZXR1cm4gZXJyOwo+ID4+ICAgfQo+ID4+Cj4gPj4gK2ludCBtbHg1X3ZkcGFfcmVzZXRf
bXIoc3RydWN0IG1seDVfdmRwYV9kZXYgKm12ZGV2LCB1bnNpZ25lZCBpbnQgYXNpZCkKPiA+PiAr
ewo+ID4+ICsgICAgICAgc3RydWN0IG1seDVfdmRwYV9tciAqbXIgPSAmbXZkZXYtPm1yOwo+ID4+
ICsgICAgICAgaW50IGVyciA9IDA7Cj4gPj4gKwo+ID4+ICsgICAgICAgaWYgKGFzaWQgIT0gMCkK
PiA+PiArICAgICAgICAgICAgICAgcmV0dXJuIDA7Cj4gPj4gKwo+ID4+ICsgICAgICAgbXV0ZXhf
bG9jaygmbXItPm1rZXlfbXR4KTsKPiA+PiArICAgICAgIGlmICghbXItPnVzZXJfbXIpCj4gPj4g
KyAgICAgICAgICAgICAgIGdvdG8gb3V0Owo+ID4+ICsgICAgICAgX21seDVfdmRwYV9kZXN0cm95
X2R2cV9tcihtdmRldik7Cj4gPj4gKyAgICAgICBpZiAoTUxYNV9DQVBfR0VOKG12ZGV2LT5tZGV2
LCB1bWVtX3VpZF8wKSkgewo+ID4+ICsgICAgICAgICAgICAgICBlcnIgPSBfbWx4NV92ZHBhX2Ny
ZWF0ZV9kdnFfbXIobXZkZXYsIE5VTEwpOwo+ID4+ICsgICAgICAgICAgICAgICBpZiAoZXJyKQo+
ID4+ICsgICAgICAgICAgICAgICAgICAgICAgIG1seDVfdmRwYV93YXJuKG12ZGV2LCAiY3JlYXRl
IERNQSBNUiBmYWlsZWRcbiIpOwo+ID4+ICsgICAgICAgfQo+ID4+ICtvdXQ6Cj4gPj4gKyAgICAg
ICBtdXRleF91bmxvY2soJm1yLT5ta2V5X210eCk7Cj4gPj4gKyAgICAgICByZXR1cm4gZXJyOwo+
ID4+ICt9Cj4gPj4gKwo+ID4+ICAgaW50IG1seDVfdmRwYV9oYW5kbGVfc2V0X21hcChzdHJ1Y3Qg
bWx4NV92ZHBhX2RldiAqbXZkZXYsIHN0cnVjdCB2aG9zdF9pb3RsYiAqaW90bGIsCj4gPj4gICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9vbCAqY2hhbmdlX21hcCwgdW5zaWduZWQgaW50
IGFzaWQpCj4gPj4gICB7Cj4gPj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvdmRwYS9tbHg1L25ldC9t
bHg1X3ZuZXQuYyBiL2RyaXZlcnMvdmRwYS9tbHg1L25ldC9tbHg1X3ZuZXQuYwo+ID4+IGluZGV4
IDM3YmU5NDUuLjNjYjVkYjYgMTAwNjQ0Cj4gPj4gLS0tIGEvZHJpdmVycy92ZHBhL21seDUvbmV0
L21seDVfdm5ldC5jCj4gPj4gKysrIGIvZHJpdmVycy92ZHBhL21seDUvbmV0L21seDVfdm5ldC5j
Cj4gPj4gQEAgLTI4MjQsNyArMjgyNCw2IEBAIHN0YXRpYyBpbnQgbWx4NV92ZHBhX3Jlc2V0KHN0
cnVjdCB2ZHBhX2RldmljZSAqdmRldikKPiA+PiAgICAgICAgICB1bnJlZ2lzdGVyX2xpbmtfbm90
aWZpZXIobmRldik7Cj4gPj4gICAgICAgICAgdGVhcmRvd25fZHJpdmVyKG5kZXYpOwo+ID4+ICAg
ICAgICAgIGNsZWFyX3Zxc19yZWFkeShuZGV2KTsKPiA+PiAtICAgICAgIG1seDVfdmRwYV9kZXN0
cm95X21yKCZuZGV2LT5tdmRldik7Cj4gPj4gICAgICAgICAgbmRldi0+bXZkZXYuc3RhdHVzID0g
MDsKPiA+PiAgICAgICAgICBuZGV2LT5tdmRldi5zdXNwZW5kZWQgPSBmYWxzZTsKPiA+PiAgICAg
ICAgICBuZGV2LT5jdXJfbnVtX3ZxcyA9IDA7Cj4gPj4gQEAgLTI4MzUsMTAgKzI4MzQsNiBAQCBz
dGF0aWMgaW50IG1seDVfdmRwYV9yZXNldChzdHJ1Y3QgdmRwYV9kZXZpY2UgKnZkZXYpCj4gPj4g
ICAgICAgICAgaW5pdF9ncm91cF90b19hc2lkX21hcChtdmRldik7Cj4gPj4gICAgICAgICAgKytt
dmRldi0+Z2VuZXJhdGlvbjsKPiA+Pgo+ID4+IC0gICAgICAgaWYgKE1MWDVfQ0FQX0dFTihtdmRl
di0+bWRldiwgdW1lbV91aWRfMCkpIHsKPiA+PiAtICAgICAgICAgICAgICAgaWYgKG1seDVfdmRw
YV9jcmVhdGVfbXIobXZkZXYsIE5VTEwsIDApKQo+ID4+IC0gICAgICAgICAgICAgICAgICAgICAg
IG1seDVfdmRwYV93YXJuKG12ZGV2LCAiY3JlYXRlIE1SIGZhaWxlZFxuIik7Cj4gPj4gLSAgICAg
ICB9Cj4gPj4gICAgICAgICAgdXBfd3JpdGUoJm5kZXYtPnJlc2xvY2spOwo+ID4+Cj4gPj4gICAg
ICAgICAgcmV0dXJuIDA7Cj4gPj4gQEAgLTI5MDMsNiArMjg5OCwxOCBAQCBzdGF0aWMgaW50IG1s
eDVfdmRwYV9zZXRfbWFwKHN0cnVjdCB2ZHBhX2RldmljZSAqdmRldiwgdW5zaWduZWQgaW50IGFz
aWQsCj4gPj4gICAgICAgICAgcmV0dXJuIGVycjsKPiA+PiAgIH0KPiA+Pgo+ID4+ICtzdGF0aWMg
aW50IG1seDVfdmRwYV9yZXNldF9tYXAoc3RydWN0IHZkcGFfZGV2aWNlICp2ZGV2LCB1bnNpZ25l
ZCBpbnQgYXNpZCkKPiA+PiArewo+ID4+ICsgICAgICAgc3RydWN0IG1seDVfdmRwYV9kZXYgKm12
ZGV2ID0gdG9fbXZkZXYodmRldik7Cj4gPj4gKyAgICAgICBzdHJ1Y3QgbWx4NV92ZHBhX25ldCAq
bmRldiA9IHRvX21seDVfdmRwYV9uZGV2KG12ZGV2KTsKPiA+PiArICAgICAgIGludCBlcnI7Cj4g
Pj4gKwo+ID4+ICsgICAgICAgZG93bl93cml0ZSgmbmRldi0+cmVzbG9jayk7Cj4gPj4gKyAgICAg
ICBlcnIgPSBtbHg1X3ZkcGFfcmVzZXRfbXIobXZkZXYsIGFzaWQpOwo+ID4+ICsgICAgICAgdXBf
d3JpdGUoJm5kZXYtPnJlc2xvY2spOwo+ID4+ICsgICAgICAgcmV0dXJuIGVycjsKPiA+PiArfQo+
ID4+ICsKPiA+PiAgIHN0YXRpYyBzdHJ1Y3QgZGV2aWNlICptbHg1X2dldF92cV9kbWFfZGV2KHN0
cnVjdCB2ZHBhX2RldmljZSAqdmRldiwgdTE2IGlkeCkKPiA+PiAgIHsKPiA+PiAgICAgICAgICBz
dHJ1Y3QgbWx4NV92ZHBhX2RldiAqbXZkZXYgPSB0b19tdmRldih2ZGV2KTsKPiA+PiBAQCAtMzE2
Miw2ICszMTY5LDcgQEAgc3RhdGljIGludCBtbHg1X3NldF9ncm91cF9hc2lkKHN0cnVjdCB2ZHBh
X2RldmljZSAqdmRldiwgdTMyIGdyb3VwLAo+ID4+ICAgICAgICAgIC5zZXRfY29uZmlnID0gbWx4
NV92ZHBhX3NldF9jb25maWcsCj4gPj4gICAgICAgICAgLmdldF9nZW5lcmF0aW9uID0gbWx4NV92
ZHBhX2dldF9nZW5lcmF0aW9uLAo+ID4+ICAgICAgICAgIC5zZXRfbWFwID0gbWx4NV92ZHBhX3Nl
dF9tYXAsCj4gPj4gKyAgICAgICAucmVzZXRfbWFwID0gbWx4NV92ZHBhX3Jlc2V0X21hcCwKPiA+
PiAgICAgICAgICAuc2V0X2dyb3VwX2FzaWQgPSBtbHg1X3NldF9ncm91cF9hc2lkLAo+ID4+ICAg
ICAgICAgIC5nZXRfdnFfZG1hX2RldiA9IG1seDVfZ2V0X3ZxX2RtYV9kZXYsCj4gPj4gICAgICAg
ICAgLmZyZWUgPSBtbHg1X3ZkcGFfZnJlZSwKPiA+PiAtLQo+ID4+IDEuOC4zLjEKPiA+Pgo+Cgpf
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpWaXJ0dWFsaXph
dGlvbiBtYWlsaW5nIGxpc3QKVmlydHVhbGl6YXRpb25AbGlzdHMubGludXgtZm91bmRhdGlvbi5v
cmcKaHR0cHM6Ly9saXN0cy5saW51eGZvdW5kYXRpb24ub3JnL21haWxtYW4vbGlzdGluZm8vdmly
dHVhbGl6YXRpb24=
