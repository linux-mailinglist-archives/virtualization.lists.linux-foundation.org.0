Return-Path: <virtualization-bounces@lists.linux-foundation.org>
X-Original-To: lists.virtualization@lfdr.de
Delivered-To: lists.virtualization@lfdr.de
Received: from smtp3.osuosl.org (smtp3.osuosl.org [140.211.166.136])
	by mail.lfdr.de (Postfix) with ESMTPS id 7378D70ED80
	for <lists.virtualization@lfdr.de>; Wed, 24 May 2023 08:03:18 +0200 (CEST)
Received: from localhost (localhost [127.0.0.1])
	by smtp3.osuosl.org (Postfix) with ESMTP id BA6BF61484;
	Wed, 24 May 2023 06:03:16 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp3.osuosl.org BA6BF61484
Authentication-Results: smtp3.osuosl.org;
	dkim=fail reason="signature verification failed" (1024-bit key) header.d=redhat.com header.i=@redhat.com header.a=rsa-sha256 header.s=mimecast20190719 header.b=Y9LE6MlZ
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp3.osuosl.org ([127.0.0.1])
	by localhost (smtp3.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id lhuBsMHq5bcz; Wed, 24 May 2023 06:03:15 +0000 (UTC)
Received: from lists.linuxfoundation.org (lf-lists.osuosl.org [140.211.9.56])
	by smtp3.osuosl.org (Postfix) with ESMTPS id 445F861454;
	Wed, 24 May 2023 06:03:15 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp3.osuosl.org 445F861454
Received: from lf-lists.osuosl.org (localhost [127.0.0.1])
	by lists.linuxfoundation.org (Postfix) with ESMTP id 7A031C007C;
	Wed, 24 May 2023 06:03:14 +0000 (UTC)
X-Original-To: virtualization@lists.linux-foundation.org
Delivered-To: virtualization@lists.linuxfoundation.org
Received: from smtp1.osuosl.org (smtp1.osuosl.org [IPv6:2605:bc80:3010::138])
 by lists.linuxfoundation.org (Postfix) with ESMTP id C3B38C002A
 for <virtualization@lists.linux-foundation.org>;
 Wed, 24 May 2023 06:03:12 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by smtp1.osuosl.org (Postfix) with ESMTP id 885CE8402B
 for <virtualization@lists.linux-foundation.org>;
 Wed, 24 May 2023 06:03:12 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp1.osuosl.org 885CE8402B
Authentication-Results: smtp1.osuosl.org;
 dkim=pass (1024-bit key) header.d=redhat.com header.i=@redhat.com
 header.a=rsa-sha256 header.s=mimecast20190719 header.b=Y9LE6MlZ
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp1.osuosl.org ([127.0.0.1])
 by localhost (smtp1.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id fOt2ggkjLtqQ
 for <virtualization@lists.linux-foundation.org>;
 Wed, 24 May 2023 06:03:11 +0000 (UTC)
X-Greylist: domain auto-whitelisted by SQLgrey-1.8.0
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp1.osuosl.org 9A4288401A
Received: from us-smtp-delivery-124.mimecast.com
 (us-smtp-delivery-124.mimecast.com [170.10.133.124])
 by smtp1.osuosl.org (Postfix) with ESMTPS id 9A4288401A
 for <virtualization@lists.linux-foundation.org>;
 Wed, 24 May 2023 06:03:11 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=redhat.com;
 s=mimecast20190719; t=1684908190;
 h=from:from:reply-to:subject:subject:date:date:message-id:message-id:
 to:to:cc:cc:mime-version:mime-version:content-type:content-type:
 content-transfer-encoding:content-transfer-encoding:
 in-reply-to:in-reply-to:references:references;
 bh=vvnJdeFW5u/X+OTsjhLnu+61ccDCmMK9MuyJksGErZo=;
 b=Y9LE6MlZOFIhk3tfJ16jQlNq7fj0nnsZ97bs6P15WLqwKfS+xM3XoOQmOiVnDPEnQKy3bu
 8UpGH3yR5cdz+y0mHah6zewaU5bYbNCTw8KtJ6BY59p/o7j5vcMehU5xXb17mrvvNvNjVK
 KscaEHv1jfuKOqF1kWU2lFMVUcJOz2g=
Received: from mail-lf1-f71.google.com (mail-lf1-f71.google.com
 [209.85.167.71]) by relay.mimecast.com with ESMTP with STARTTLS
 (version=TLSv1.3, cipher=TLS_AES_256_GCM_SHA384) id
 us-mta-536-z7-TQqDOPnGppEl_uEjFKg-1; Wed, 24 May 2023 02:03:09 -0400
X-MC-Unique: z7-TQqDOPnGppEl_uEjFKg-1
Received: by mail-lf1-f71.google.com with SMTP id
 2adb3069b0e04-4f3932e5a4eso212423e87.0
 for <virtualization@lists.linux-foundation.org>;
 Tue, 23 May 2023 23:03:08 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20221208; t=1684908187; x=1687500187;
 h=content-transfer-encoding:cc:to:subject:message-id:date:from
 :in-reply-to:references:mime-version:x-gm-message-state:from:to:cc
 :subject:date:message-id:reply-to;
 bh=vvnJdeFW5u/X+OTsjhLnu+61ccDCmMK9MuyJksGErZo=;
 b=J0ah7VUAtoGKx3jVk3pzr0pViK3yVjYbQ0SGfH5VcykzmHE+8Tb9ZbzuopbeMRC4a6
 x9gEGxZ5XNa263yGQsJjpQWQXEZnIkxK1S7ZBJOeWwcf5obEmseX5jot3pDxKPmWD2K2
 twa/f25J9XEfgSPq586K0o5OQccUwJ3T+nQGFBpapvB4U1kgof0MWBerlFGmoLlWZCPH
 F8Xrtqv3G/CHweeD4GYcTT9bvhRJf6ImaN4IepYUKPFhQUIUmqRdKFJl7Z5irqBgU7cP
 K8zcpPCoTXZ5gbqxmcKKjJVdWe55ZITbefeGypiZchnClyuDmBb0+ehPmTW7gdw1HDFN
 4WIg==
X-Gm-Message-State: AC+VfDxGOlClnfQUNIsR2L0BLs/7WcGDpZV7kCHgyNWJ2GcMZnGJrc3a
 QhVjrm5aFJgva1M/J/FX5WUsFFKsybPZyITGhP7kpoImT2XwrxdgYOnZ+dTiuXWg5cLeWii+MtX
 9V/Amm/c05eQw/yC5F20bcctcVN7hJUmS1nkNd3ulfuC2Qf/S3Eh/uzLbnw==
X-Received: by 2002:a05:6512:24e:b0:4eb:e8e:4139 with SMTP id
 b14-20020a056512024e00b004eb0e8e4139mr5845589lfo.2.1684908187538; 
 Tue, 23 May 2023 23:03:07 -0700 (PDT)
X-Google-Smtp-Source: ACHHUZ7FrSVPuOQI/WHFtE5fOxhCgX8s54eW3NLlxVQB+3rxykCZ6Wjyrtt8q8SnyshSEjyVeNCYe1eoaRmAQpfYWKU=
X-Received: by 2002:a05:6512:24e:b0:4eb:e8e:4139 with SMTP id
 b14-20020a056512024e00b004eb0e8e4139mr5845582lfo.2.1684908187170; Tue, 23 May
 2023 23:03:07 -0700 (PDT)
MIME-Version: 1.0
References: <20230508180512.17371-1-lingshan.zhu@intel.com>
 <20230508180512.17371-3-lingshan.zhu@intel.com>
In-Reply-To: <20230508180512.17371-3-lingshan.zhu@intel.com>
From: Jason Wang <jasowang@redhat.com>
Date: Wed, 24 May 2023 14:02:56 +0800
Message-ID: <CACGkMEtO=6DB0EDtYGR1H++GSsP+GLAYfWV0iDc1fypwNtH68A@mail.gmail.com>
Subject: Re: [PATCH V2 2/5] vDPA/ifcvf: get_driver_features from virtio
 registers
To: Zhu Lingshan <lingshan.zhu@intel.com>
X-Mimecast-Spam-Score: 0
X-Mimecast-Originator: redhat.com
Cc: virtualization@lists.linux-foundation.org, mst@redhat.com
X-BeenThere: virtualization@lists.linux-foundation.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: Linux virtualization <virtualization.lists.linux-foundation.org>
List-Unsubscribe: <https://lists.linuxfoundation.org/mailman/options/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=unsubscribe>
List-Archive: <http://lists.linuxfoundation.org/pipermail/virtualization/>
List-Post: <mailto:virtualization@lists.linux-foundation.org>
List-Help: <mailto:virtualization-request@lists.linux-foundation.org?subject=help>
List-Subscribe: <https://lists.linuxfoundation.org/mailman/listinfo/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: virtualization-bounces@lists.linux-foundation.org
Sender: "Virtualization" <virtualization-bounces@lists.linux-foundation.org>

T24gTW9uLCBNYXkgOCwgMjAyMyBhdCA2OjA14oCvUE0gWmh1IExpbmdzaGFuIDxsaW5nc2hhbi56
aHVAaW50ZWwuY29tPiB3cm90ZToKPgo+IFRoaXMgY29tbWl0IGltcGxlbWVudHMgYSBuZXcgZnVu
Y3Rpb24gaWZjdmZfZ2V0X2RyaXZlcl9mZWF0dXJlKCkKPiB3aGljaCByZWFkIGRyaXZlcl9mZWF0
dXJlcyBmcm9tIHZpcnRpbyByZWdpc3RlcnMuCj4KPiBUbyBiZSBsZXNzIGFtYmlndW91cywgaWZj
dmZfc2V0X2ZlYXR1cmVzKCkgaXMgcmVuYW1lZCB0bwo+IGlmY3ZmX3NldF9kcml2ZXJfZmVhdHVy
ZXMoKSwgYW5kIGlmY3ZmX2dldF9mZWF0dXJlcygpCj4gaXMgcmVuYW1lZCB0byBpZmN2Zl9nZXRf
ZGV2X2ZlYXR1cmVzKCkgd2hpY2ggcmV0dXJucwo+IHRoZSBwcm92aXNpb25lZCB2RFBBIGRldmlj
ZSBmZWF0dXJlcy4KPgo+IFNpZ25lZC1vZmYtYnk6IFpodSBMaW5nc2hhbiA8bGluZ3NoYW4uemh1
QGludGVsLmNvbT4KCkFja2VkLWJ5OiBKYXNvbiBXYW5nIDxqYXNvd2FuZ0ByZWRoYXQuY29tPgoK
VGhhbmtzCgo+IC0tLQo+ICBkcml2ZXJzL3ZkcGEvaWZjdmYvaWZjdmZfYmFzZS5jIHwgMzggKysr
KysrKysrKysrKysrKystLS0tLS0tLS0tLS0tLS0tCj4gIGRyaXZlcnMvdmRwYS9pZmN2Zi9pZmN2
Zl9iYXNlLmggfCAgNSArKystLQo+ICBkcml2ZXJzL3ZkcGEvaWZjdmYvaWZjdmZfbWFpbi5jIHwg
IDkgKysrKystLS0KPiAgMyBmaWxlcyBjaGFuZ2VkLCAyOSBpbnNlcnRpb25zKCspLCAyMyBkZWxl
dGlvbnMoLSkKPgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL3ZkcGEvaWZjdmYvaWZjdmZfYmFzZS5j
IGIvZHJpdmVycy92ZHBhL2lmY3ZmL2lmY3ZmX2Jhc2UuYwo+IGluZGV4IDZjNTY1MGY3MzAwNy4u
NTQ2ZTkyM2JjZDE2IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvdmRwYS9pZmN2Zi9pZmN2Zl9iYXNl
LmMKPiArKysgYi9kcml2ZXJzL3ZkcGEvaWZjdmYvaWZjdmZfYmFzZS5jCj4gQEAgLTIwNCwxMSAr
MjA0LDI5IEBAIHU2NCBpZmN2Zl9nZXRfaHdfZmVhdHVyZXMoc3RydWN0IGlmY3ZmX2h3ICpodykK
PiAgICAgICAgIHJldHVybiBmZWF0dXJlczsKPiAgfQo+Cj4gLXU2NCBpZmN2Zl9nZXRfZmVhdHVy
ZXMoc3RydWN0IGlmY3ZmX2h3ICpodykKPiArLyogcmV0dXJuIHByb3Zpc2lvbmVkIHZEUEEgZGV2
IGZlYXR1cmVzICovCj4gK3U2NCBpZmN2Zl9nZXRfZGV2X2ZlYXR1cmVzKHN0cnVjdCBpZmN2Zl9o
dyAqaHcpCj4gIHsKPiAgICAgICAgIHJldHVybiBody0+ZGV2X2ZlYXR1cmVzOwo+ICB9Cj4KPiAr
dTY0IGlmY3ZmX2dldF9kcml2ZXJfZmVhdHVyZXMoc3RydWN0IGlmY3ZmX2h3ICpodykKPiArewo+
ICsgICAgICAgc3RydWN0IHZpcnRpb19wY2lfY29tbW9uX2NmZyBfX2lvbWVtICpjZmcgPSBody0+
Y29tbW9uX2NmZzsKPiArICAgICAgIHUzMiBmZWF0dXJlc19sbywgZmVhdHVyZXNfaGk7Cj4gKyAg
ICAgICB1NjQgZmVhdHVyZXM7Cj4gKwo+ICsgICAgICAgdnBfaW93cml0ZTMyKDAsICZjZmctPmRl
dmljZV9mZWF0dXJlX3NlbGVjdCk7Cj4gKyAgICAgICBmZWF0dXJlc19sbyA9IHZwX2lvcmVhZDMy
KCZjZmctPmd1ZXN0X2ZlYXR1cmUpOwo+ICsKPiArICAgICAgIHZwX2lvd3JpdGUzMigxLCAmY2Zn
LT5kZXZpY2VfZmVhdHVyZV9zZWxlY3QpOwo+ICsgICAgICAgZmVhdHVyZXNfaGkgPSB2cF9pb3Jl
YWQzMigmY2ZnLT5ndWVzdF9mZWF0dXJlKTsKPiArCj4gKyAgICAgICBmZWF0dXJlcyA9ICgodTY0
KWZlYXR1cmVzX2hpIDw8IDMyKSB8IGZlYXR1cmVzX2xvOwo+ICsKPiArICAgICAgIHJldHVybiBm
ZWF0dXJlczsKPiArfQo+ICsKPiAgaW50IGlmY3ZmX3ZlcmlmeV9taW5fZmVhdHVyZXMoc3RydWN0
IGlmY3ZmX2h3ICpodywgdTY0IGZlYXR1cmVzKQo+ICB7Cj4gICAgICAgICBpZiAoIShmZWF0dXJl
cyAmIEJJVF9VTEwoVklSVElPX0ZfQUNDRVNTX1BMQVRGT1JNKSkgJiYgZmVhdHVyZXMpIHsKPiBA
QCAtMjc1LDcgKzI5Myw3IEBAIHZvaWQgaWZjdmZfd3JpdGVfZGV2X2NvbmZpZyhzdHJ1Y3QgaWZj
dmZfaHcgKmh3LCB1NjQgb2Zmc2V0LAo+ICAgICAgICAgICAgICAgICB2cF9pb3dyaXRlOCgqcCsr
LCBody0+ZGV2X2NmZyArIG9mZnNldCArIGkpOwo+ICB9Cj4KPiAtc3RhdGljIHZvaWQgaWZjdmZf
c2V0X2ZlYXR1cmVzKHN0cnVjdCBpZmN2Zl9odyAqaHcsIHU2NCBmZWF0dXJlcykKPiArdm9pZCBp
ZmN2Zl9zZXRfZHJpdmVyX2ZlYXR1cmVzKHN0cnVjdCBpZmN2Zl9odyAqaHcsIHU2NCBmZWF0dXJl
cykKPiAgewo+ICAgICAgICAgc3RydWN0IHZpcnRpb19wY2lfY29tbW9uX2NmZyBfX2lvbWVtICpj
ZmcgPSBody0+Y29tbW9uX2NmZzsKPgo+IEBAIC0yODYsMTkgKzMwNCw2IEBAIHN0YXRpYyB2b2lk
IGlmY3ZmX3NldF9mZWF0dXJlcyhzdHJ1Y3QgaWZjdmZfaHcgKmh3LCB1NjQgZmVhdHVyZXMpCj4g
ICAgICAgICB2cF9pb3dyaXRlMzIoZmVhdHVyZXMgPj4gMzIsICZjZmctPmd1ZXN0X2ZlYXR1cmUp
Owo+ICB9Cj4KPiAtc3RhdGljIGludCBpZmN2Zl9jb25maWdfZmVhdHVyZXMoc3RydWN0IGlmY3Zm
X2h3ICpodykKPiAtewo+IC0gICAgICAgaWZjdmZfc2V0X2ZlYXR1cmVzKGh3LCBody0+cmVxX2Zl
YXR1cmVzKTsKPiAtICAgICAgIGlmY3ZmX2FkZF9zdGF0dXMoaHcsIFZJUlRJT19DT05GSUdfU19G
RUFUVVJFU19PSyk7Cj4gLQo+IC0gICAgICAgaWYgKCEoaWZjdmZfZ2V0X3N0YXR1cyhodykgJiBW
SVJUSU9fQ09ORklHX1NfRkVBVFVSRVNfT0spKSB7Cj4gLSAgICAgICAgICAgICAgIElGQ1ZGX0VS
Uihody0+cGRldiwgIkZhaWxlZCB0byBzZXQgRkVBVFVSRVNfT0sgc3RhdHVzXG4iKTsKPiAtICAg
ICAgICAgICAgICAgcmV0dXJuIC1FSU87Cj4gLSAgICAgICB9Cj4gLQo+IC0gICAgICAgcmV0dXJu
IDA7Cj4gLX0KPiAtCj4gIHUxNiBpZmN2Zl9nZXRfdnFfc3RhdGUoc3RydWN0IGlmY3ZmX2h3ICpo
dywgdTE2IHFpZCkKPiAgewo+ICAgICAgICAgc3RydWN0IGlmY3ZmX2xtX2NmZyBfX2lvbWVtICpp
ZmN2Zl9sbTsKPiBAQCAtMzg3LDkgKzM5Miw2IEBAIGludCBpZmN2Zl9zdGFydF9odyhzdHJ1Y3Qg
aWZjdmZfaHcgKmh3KQo+ICAgICAgICAgaWZjdmZfYWRkX3N0YXR1cyhodywgVklSVElPX0NPTkZJ
R19TX0FDS05PV0xFREdFKTsKPiAgICAgICAgIGlmY3ZmX2FkZF9zdGF0dXMoaHcsIFZJUlRJT19D
T05GSUdfU19EUklWRVIpOwo+Cj4gLSAgICAgICBpZiAoaWZjdmZfY29uZmlnX2ZlYXR1cmVzKGh3
KSA8IDApCj4gLSAgICAgICAgICAgICAgIHJldHVybiAtRUlOVkFMOwo+IC0KPiAgICAgICAgIGlm
Y3ZmX2FkZF9zdGF0dXMoaHcsIFZJUlRJT19DT05GSUdfU19EUklWRVJfT0spOwo+Cj4gICAgICAg
ICByZXR1cm4gMDsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy92ZHBhL2lmY3ZmL2lmY3ZmX2Jhc2Uu
aCBiL2RyaXZlcnMvdmRwYS9pZmN2Zi9pZmN2Zl9iYXNlLmgKPiBpbmRleCBkNTQ1YTk0MTExNDMu
LmNiMTkxOTZjM2VjZSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL3ZkcGEvaWZjdmYvaWZjdmZfYmFz
ZS5oCj4gKysrIGIvZHJpdmVycy92ZHBhL2lmY3ZmL2lmY3ZmX2Jhc2UuaAo+IEBAIC02OSw3ICs2
OSw2IEBAIHN0cnVjdCBpZmN2Zl9odyB7Cj4gICAgICAgICBwaHlzX2FkZHJfdCBub3RpZnlfYmFz
ZV9wYTsKPiAgICAgICAgIHUzMiBub3RpZnlfb2ZmX211bHRpcGxpZXI7Cj4gICAgICAgICB1MzIg
ZGV2X3R5cGU7Cj4gLSAgICAgICB1NjQgcmVxX2ZlYXR1cmVzOwo+ICAgICAgICAgdTY0IGh3X2Zl
YXR1cmVzOwo+ICAgICAgICAgLyogcHJvdmlzaW9uZWQgZGV2aWNlIGZlYXR1cmVzICovCj4gICAg
ICAgICB1NjQgZGV2X2ZlYXR1cmVzOwo+IEBAIC0xMjIsNyArMTIxLDcgQEAgdTggaWZjdmZfZ2V0
X3N0YXR1cyhzdHJ1Y3QgaWZjdmZfaHcgKmh3KTsKPiAgdm9pZCBpZmN2Zl9zZXRfc3RhdHVzKHN0
cnVjdCBpZmN2Zl9odyAqaHcsIHU4IHN0YXR1cyk7Cj4gIHZvaWQgaW9fd3JpdGU2NF90d29wYXJ0
KHU2NCB2YWwsIHUzMiAqbG8sIHUzMiAqaGkpOwo+ICB2b2lkIGlmY3ZmX3Jlc2V0KHN0cnVjdCBp
ZmN2Zl9odyAqaHcpOwo+IC11NjQgaWZjdmZfZ2V0X2ZlYXR1cmVzKHN0cnVjdCBpZmN2Zl9odyAq
aHcpOwo+ICt1NjQgaWZjdmZfZ2V0X2Rldl9mZWF0dXJlcyhzdHJ1Y3QgaWZjdmZfaHcgKmh3KTsK
PiAgdTY0IGlmY3ZmX2dldF9od19mZWF0dXJlcyhzdHJ1Y3QgaWZjdmZfaHcgKmh3KTsKPiAgaW50
IGlmY3ZmX3ZlcmlmeV9taW5fZmVhdHVyZXMoc3RydWN0IGlmY3ZmX2h3ICpodywgdTY0IGZlYXR1
cmVzKTsKPiAgdTE2IGlmY3ZmX2dldF92cV9zdGF0ZShzdHJ1Y3QgaWZjdmZfaHcgKmh3LCB1MTYg
cWlkKTsKPiBAQCAtMTM3LDQgKzEzNiw2IEBAIGludCBpZmN2Zl9zZXRfdnFfYWRkcmVzcyhzdHJ1
Y3QgaWZjdmZfaHcgKmh3LCB1MTYgcWlkLCB1NjQgZGVzY19hcmVhLAo+ICAgICAgICAgICAgICAg
ICAgICAgICAgICB1NjQgZHJpdmVyX2FyZWEsIHU2NCBkZXZpY2VfYXJlYSk7Cj4gIGJvb2wgaWZj
dmZfZ2V0X3ZxX3JlYWR5KHN0cnVjdCBpZmN2Zl9odyAqaHcsIHUxNiBxaWQpOwo+ICB2b2lkIGlm
Y3ZmX3NldF92cV9yZWFkeShzdHJ1Y3QgaWZjdmZfaHcgKmh3LCB1MTYgcWlkLCBib29sIHJlYWR5
KTsKPiArdm9pZCBpZmN2Zl9zZXRfZHJpdmVyX2ZlYXR1cmVzKHN0cnVjdCBpZmN2Zl9odyAqaHcs
IHU2NCBmZWF0dXJlcyk7Cj4gK3U2NCBpZmN2Zl9nZXRfZHJpdmVyX2ZlYXR1cmVzKHN0cnVjdCBp
ZmN2Zl9odyAqaHcpOwo+ICAjZW5kaWYgLyogX0lGQ1ZGX0hfICovCj4gZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvdmRwYS9pZmN2Zi9pZmN2Zl9tYWluLmMgYi9kcml2ZXJzL3ZkcGEvaWZjdmYvaWZjdmZf
bWFpbi5jCj4gaW5kZXggMTM1N2M2NzAxNGFiLi40NTg4NDg0YmQ1M2QgMTAwNjQ0Cj4gLS0tIGEv
ZHJpdmVycy92ZHBhL2lmY3ZmL2lmY3ZmX21haW4uYwo+ICsrKyBiL2RyaXZlcnMvdmRwYS9pZmN2
Zi9pZmN2Zl9tYWluLmMKPiBAQCAtNDEwLDcgKzQxMCw3IEBAIHN0YXRpYyB1NjQgaWZjdmZfdmRw
YV9nZXRfZGV2aWNlX2ZlYXR1cmVzKHN0cnVjdCB2ZHBhX2RldmljZSAqdmRwYV9kZXYpCj4gICAg
ICAgICB1NjQgZmVhdHVyZXM7Cj4KPiAgICAgICAgIGlmICh0eXBlID09IFZJUlRJT19JRF9ORVQg
fHwgdHlwZSA9PSBWSVJUSU9fSURfQkxPQ0spCj4gLSAgICAgICAgICAgICAgIGZlYXR1cmVzID0g
aWZjdmZfZ2V0X2ZlYXR1cmVzKHZmKTsKPiArICAgICAgICAgICAgICAgZmVhdHVyZXMgPSBpZmN2
Zl9nZXRfZGV2X2ZlYXR1cmVzKHZmKTsKPiAgICAgICAgIGVsc2Ugewo+ICAgICAgICAgICAgICAg
ICBmZWF0dXJlcyA9IDA7Cj4gICAgICAgICAgICAgICAgIElGQ1ZGX0VSUihwZGV2LCAiVklSVElP
IElEICV1IG5vdCBzdXBwb3J0ZWRcbiIsIHZmLT5kZXZfdHlwZSk7Cj4gQEAgLTQyOCw3ICs0Mjgs
NyBAQCBzdGF0aWMgaW50IGlmY3ZmX3ZkcGFfc2V0X2RyaXZlcl9mZWF0dXJlcyhzdHJ1Y3QgdmRw
YV9kZXZpY2UgKnZkcGFfZGV2LCB1NjQgZmVhdAo+ICAgICAgICAgaWYgKHJldCkKPiAgICAgICAg
ICAgICAgICAgcmV0dXJuIHJldDsKPgo+IC0gICAgICAgdmYtPnJlcV9mZWF0dXJlcyA9IGZlYXR1
cmVzOwo+ICsgICAgICAgaWZjdmZfc2V0X2RyaXZlcl9mZWF0dXJlcyh2ZiwgZmVhdHVyZXMpOwo+
Cj4gICAgICAgICByZXR1cm4gMDsKPiAgfQo+IEBAIC00MzYsOCArNDM2LDExIEBAIHN0YXRpYyBp
bnQgaWZjdmZfdmRwYV9zZXRfZHJpdmVyX2ZlYXR1cmVzKHN0cnVjdCB2ZHBhX2RldmljZSAqdmRw
YV9kZXYsIHU2NCBmZWF0Cj4gIHN0YXRpYyB1NjQgaWZjdmZfdmRwYV9nZXRfZHJpdmVyX2ZlYXR1
cmVzKHN0cnVjdCB2ZHBhX2RldmljZSAqdmRwYV9kZXYpCj4gIHsKPiAgICAgICAgIHN0cnVjdCBp
ZmN2Zl9odyAqdmYgPSB2ZHBhX3RvX3ZmKHZkcGFfZGV2KTsKPiArICAgICAgIHU2NCBmZWF0dXJl
czsKPiArCj4gKyAgICAgICBmZWF0dXJlcyA9IGlmY3ZmX2dldF9kcml2ZXJfZmVhdHVyZXModmYp
Owo+Cj4gLSAgICAgICByZXR1cm4gdmYtPnJlcV9mZWF0dXJlczsKPiArICAgICAgIHJldHVybiBm
ZWF0dXJlczsKPiAgfQo+Cj4gIHN0YXRpYyB1OCBpZmN2Zl92ZHBhX2dldF9zdGF0dXMoc3RydWN0
IHZkcGFfZGV2aWNlICp2ZHBhX2RldikKPiAtLQo+IDIuMzkuMQo+CgpfX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpWaXJ0dWFsaXphdGlvbiBtYWlsaW5nIGxp
c3QKVmlydHVhbGl6YXRpb25AbGlzdHMubGludXgtZm91bmRhdGlvbi5vcmcKaHR0cHM6Ly9saXN0
cy5saW51eGZvdW5kYXRpb24ub3JnL21haWxtYW4vbGlzdGluZm8vdmlydHVhbGl6YXRpb24=
