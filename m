Return-Path: <virtualization-bounces@lists.linux-foundation.org>
X-Original-To: lists.virtualization@lfdr.de
Delivered-To: lists.virtualization@lfdr.de
Received: from hemlock.osuosl.org (smtp2.osuosl.org [140.211.166.133])
	by mail.lfdr.de (Postfix) with ESMTPS id DB13D228AAA
	for <lists.virtualization@lfdr.de>; Tue, 21 Jul 2020 23:16:26 +0200 (CEST)
Received: from localhost (localhost [127.0.0.1])
	by hemlock.osuosl.org (Postfix) with ESMTP id 3134D8790F;
	Tue, 21 Jul 2020 21:16:25 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from hemlock.osuosl.org ([127.0.0.1])
	by localhost (.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Ls9QMAKSMtVt; Tue, 21 Jul 2020 21:16:21 +0000 (UTC)
Received: from lists.linuxfoundation.org (lf-lists.osuosl.org [140.211.9.56])
	by hemlock.osuosl.org (Postfix) with ESMTP id 7626684371;
	Tue, 21 Jul 2020 21:16:18 +0000 (UTC)
Received: from lf-lists.osuosl.org (localhost [127.0.0.1])
	by lists.linuxfoundation.org (Postfix) with ESMTP id 52080C016F;
	Tue, 21 Jul 2020 21:16:18 +0000 (UTC)
X-Original-To: virtualization@lists.linux-foundation.org
Delivered-To: virtualization@lists.linuxfoundation.org
Received: from whitealder.osuosl.org (smtp1.osuosl.org [140.211.166.138])
 by lists.linuxfoundation.org (Postfix) with ESMTP id C69F1C08A2
 for <virtualization@lists.linux-foundation.org>;
 Tue, 21 Jul 2020 21:16:03 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by whitealder.osuosl.org (Postfix) with ESMTP id B577788277
 for <virtualization@lists.linux-foundation.org>;
 Tue, 21 Jul 2020 21:16:03 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from whitealder.osuosl.org ([127.0.0.1])
 by localhost (.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id fuNpVveFWUzs
 for <virtualization@lists.linux-foundation.org>;
 Tue, 21 Jul 2020 21:15:57 +0000 (UTC)
X-Greylist: from auto-whitelisted by SQLgrey-1.7.6
Received: from mx01.bbu.dsd.mx.bitdefender.com
 (mx01.bbu.dsd.mx.bitdefender.com [91.199.104.161])
 by whitealder.osuosl.org (Postfix) with ESMTPS id 5125C8814F
 for <virtualization@lists.linux-foundation.org>;
 Tue, 21 Jul 2020 21:15:57 +0000 (UTC)
Received: from smtp.bitdefender.com (smtp02.buh.bitdefender.net [10.17.80.76])
 by mx01.bbu.dsd.mx.bitdefender.com (Postfix) with ESMTPS id
 CF761305D768; Wed, 22 Jul 2020 00:09:21 +0300 (EEST)
Received: from localhost.localdomain (unknown [91.199.104.27])
 by smtp.bitdefender.com (Postfix) with ESMTPSA id 75F3A304FA12;
 Wed, 22 Jul 2020 00:09:21 +0300 (EEST)
From: =?UTF-8?q?Adalbert=20Laz=C4=83r?= <alazar@bitdefender.com>
To: kvm@vger.kernel.org
Subject: [PATCH v9 19/84] KVM: vmx: pass struct kvm_vcpu to the intercept msr
 related functions
Date: Wed, 22 Jul 2020 00:08:17 +0300
Message-Id: <20200721210922.7646-20-alazar@bitdefender.com>
In-Reply-To: <20200721210922.7646-1-alazar@bitdefender.com>
References: <20200721210922.7646-1-alazar@bitdefender.com>
MIME-Version: 1.0
Cc: =?UTF-8?q?Adalbert=20Laz=C4=83r?= <alazar@bitdefender.com>,
 Paolo Bonzini <pbonzini@redhat.com>,
 =?UTF-8?q?Nicu=C8=99or=20C=C3=AE=C8=9Bu?= <ncitu@bitdefender.com>,
 virtualization@lists.linux-foundation.org
X-BeenThere: virtualization@lists.linux-foundation.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: Linux virtualization <virtualization.lists.linux-foundation.org>
List-Unsubscribe: <https://lists.linuxfoundation.org/mailman/options/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=unsubscribe>
List-Archive: <http://lists.linuxfoundation.org/pipermail/virtualization/>
List-Post: <mailto:virtualization@lists.linux-foundation.org>
List-Help: <mailto:virtualization-request@lists.linux-foundation.org?subject=help>
List-Subscribe: <https://lists.linuxfoundation.org/mailman/listinfo/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: virtualization-bounces@lists.linux-foundation.org
Sender: "Virtualization" <virtualization-bounces@lists.linux-foundation.org>

RnJvbTogTmljdciZb3IgQ8OuyJt1IDxuY2l0dUBiaXRkZWZlbmRlci5jb20+CgpUaGlzIGlzIHBy
ZXBhcmF0b3J5IHBhdGNoIHRvIG1lZGlhdGUgdGhlIE1TUiBpbnRlcmNlcHRpb24gYmV0d2Vlbgp0
aGUgaW50cm9zcGVjdGlvbiB0b29sIGFuZCB0aGUgZGV2aWNlIG1hbmFnZXIgKG9uZSBtdXN0IG5v
dCBkaXNhYmxlCnRoZSBpbnRlcmNlcHRpb24gaWYgdGhlIG90aGVyIG9uZSBoYXMgZW5hYmxlZCB0
aGUgaW50ZXJjZXB0aW9uKS4KClBhc3NpbmcgTlVMTCBkdXJpbmcgaW5pdGlhbGl6YXRpb24gaXMg
T0sgYmVjYXVzZSBhIHZDUFUgY2FuIGJlCmludHJvc3BlY3RlZCBvbmx5IGFmdGVyIGluaXRpYWxp
emF0aW9uLgoKU2lnbmVkLW9mZi1ieTogTmljdciZb3IgQ8OuyJt1IDxuY2l0dUBiaXRkZWZlbmRl
ci5jb20+ClNpZ25lZC1vZmYtYnk6IEFkYWxiZXJ0IExhesSDciA8YWxhemFyQGJpdGRlZmVuZGVy
LmNvbT4KLS0tCiBhcmNoL3g4Ni9rdm0vdm14L3ZteC5jIHwgNzQgKysrKysrKysrKysrKysrKysr
KysrKysrLS0tLS0tLS0tLS0tLS0tLS0tCiAxIGZpbGUgY2hhbmdlZCwgNDIgaW5zZXJ0aW9ucygr
KSwgMzIgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvYXJjaC94ODYva3ZtL3ZteC92bXguYyBi
L2FyY2gveDg2L2t2bS92bXgvdm14LmMKaW5kZXggY2YwN2RiMTI5NjcwLi5lY2Y3ZmIyMWI4MTIg
MTAwNjQ0Ci0tLSBhL2FyY2gveDg2L2t2bS92bXgvdm14LmMKKysrIGIvYXJjaC94ODYva3ZtL3Zt
eC92bXguYwpAQCAtMzQyLDcgKzM0Miw4IEBAIG1vZHVsZV9wYXJhbV9jYih2bWVudHJ5X2wxZF9m
bHVzaCwgJnZtZW50cnlfbDFkX2ZsdXNoX29wcywgTlVMTCwgMDY0NCk7CiAKIHN0YXRpYyBib29s
IGd1ZXN0X3N0YXRlX3ZhbGlkKHN0cnVjdCBrdm1fdmNwdSAqdmNwdSk7CiBzdGF0aWMgdTMyIHZt
eF9zZWdtZW50X2FjY2Vzc19yaWdodHMoc3RydWN0IGt2bV9zZWdtZW50ICp2YXIpOwotc3RhdGlj
IF9fYWx3YXlzX2lubGluZSB2b2lkIHZteF9kaXNhYmxlX2ludGVyY2VwdF9mb3JfbXNyKHVuc2ln
bmVkIGxvbmcgKm1zcl9iaXRtYXAsCitzdGF0aWMgX19hbHdheXNfaW5saW5lIHZvaWQgdm14X2Rp
c2FibGVfaW50ZXJjZXB0X2Zvcl9tc3Ioc3RydWN0IGt2bV92Y3B1ICp2Y3B1LAorCQkJCQkJCSAg
dW5zaWduZWQgbG9uZyAqbXNyX2JpdG1hcCwKIAkJCQkJCQkgIHUzMiBtc3IsIGludCB0eXBlKTsK
IAogdm9pZCB2bXhfdm1leGl0KHZvaWQpOwpAQCAtMjA4Niw3ICsyMDg3LDcgQEAgc3RhdGljIGlu
dCB2bXhfc2V0X21zcihzdHJ1Y3Qga3ZtX3ZjcHUgKnZjcHUsIHN0cnVjdCBtc3JfZGF0YSAqbXNy
X2luZm8pCiAJCSAqIGluIHRoZSBtZXJnaW5nLiBXZSB1cGRhdGUgdGhlIHZtY3MwMSBoZXJlIGZv
ciBMMSBhcyB3ZWxsCiAJCSAqIHNpbmNlIGl0IHdpbGwgZW5kIHVwIHRvdWNoaW5nIHRoZSBNU1Ig
YW55d2F5IG5vdy4KIAkJICovCi0JCXZteF9kaXNhYmxlX2ludGVyY2VwdF9mb3JfbXNyKHZteC0+
dm1jczAxLm1zcl9iaXRtYXAsCisJCXZteF9kaXNhYmxlX2ludGVyY2VwdF9mb3JfbXNyKHZjcHUs
IHZteC0+dm1jczAxLm1zcl9iaXRtYXAsCiAJCQkJCSAgICAgIE1TUl9JQTMyX1NQRUNfQ1RSTCwK
IAkJCQkJICAgICAgTVNSX1RZUEVfUlcpOwogCQlicmVhazsKQEAgLTIxMjIsOCArMjEyMyw4IEBA
IHN0YXRpYyBpbnQgdm14X3NldF9tc3Ioc3RydWN0IGt2bV92Y3B1ICp2Y3B1LCBzdHJ1Y3QgbXNy
X2RhdGEgKm1zcl9pbmZvKQogCQkgKiB2bWNzMDIubXNyX2JpdG1hcCBoZXJlIHNpbmNlIGl0IGdl
dHMgY29tcGxldGVseSBvdmVyd3JpdHRlbgogCQkgKiBpbiB0aGUgbWVyZ2luZy4KIAkJICovCi0J
CXZteF9kaXNhYmxlX2ludGVyY2VwdF9mb3JfbXNyKHZteC0+dm1jczAxLm1zcl9iaXRtYXAsIE1T
Ul9JQTMyX1BSRURfQ01ELAotCQkJCQkgICAgICBNU1JfVFlQRV9XKTsKKwkJdm14X2Rpc2FibGVf
aW50ZXJjZXB0X2Zvcl9tc3IodmNwdSwgdm14LT52bWNzMDEubXNyX2JpdG1hcCwKKwkJCQkJICAg
ICAgTVNSX0lBMzJfUFJFRF9DTUQsIE1TUl9UWVBFX1cpOwogCQlicmVhazsKIAljYXNlIE1TUl9J
QTMyX0NSX1BBVDoKIAkJaWYgKCFrdm1fcGF0X3ZhbGlkKGRhdGEpKQpAQCAtMzczMyw3ICszNzM0
LDggQEAgdm9pZCBmcmVlX3ZwaWQoaW50IHZwaWQpCiAJc3Bpbl91bmxvY2soJnZteF92cGlkX2xv
Y2spOwogfQogCi1zdGF0aWMgX19hbHdheXNfaW5saW5lIHZvaWQgdm14X2Rpc2FibGVfaW50ZXJj
ZXB0X2Zvcl9tc3IodW5zaWduZWQgbG9uZyAqbXNyX2JpdG1hcCwKK3N0YXRpYyBfX2Fsd2F5c19p
bmxpbmUgdm9pZCB2bXhfZGlzYWJsZV9pbnRlcmNlcHRfZm9yX21zcihzdHJ1Y3Qga3ZtX3ZjcHUg
KnZjcHUsCisJCQkJCQkJICB1bnNpZ25lZCBsb25nICptc3JfYml0bWFwLAogCQkJCQkJCSAgdTMy
IG1zciwgaW50IHR5cGUpCiB7CiAJaW50IGYgPSBzaXplb2YodW5zaWduZWQgbG9uZyk7CkBAIC0z
NzcxLDcgKzM3NzMsOCBAQCBzdGF0aWMgX19hbHdheXNfaW5saW5lIHZvaWQgdm14X2Rpc2FibGVf
aW50ZXJjZXB0X2Zvcl9tc3IodW5zaWduZWQgbG9uZyAqbXNyX2JpdAogCX0KIH0KIAotc3RhdGlj
IF9fYWx3YXlzX2lubGluZSB2b2lkIHZteF9lbmFibGVfaW50ZXJjZXB0X2Zvcl9tc3IodW5zaWdu
ZWQgbG9uZyAqbXNyX2JpdG1hcCwKK3N0YXRpYyBfX2Fsd2F5c19pbmxpbmUgdm9pZCB2bXhfZW5h
YmxlX2ludGVyY2VwdF9mb3JfbXNyKHN0cnVjdCBrdm1fdmNwdSAqdmNwdSwKKwkJCQkJCQkgdW5z
aWduZWQgbG9uZyAqbXNyX2JpdG1hcCwKIAkJCQkJCQkgdTMyIG1zciwgaW50IHR5cGUpCiB7CiAJ
aW50IGYgPSBzaXplb2YodW5zaWduZWQgbG9uZyk7CkBAIC0zODA5LDEzICszODEyLDE0IEBAIHN0
YXRpYyBfX2Fsd2F5c19pbmxpbmUgdm9pZCB2bXhfZW5hYmxlX2ludGVyY2VwdF9mb3JfbXNyKHVu
c2lnbmVkIGxvbmcgKm1zcl9iaXRtCiAJfQogfQogCi1zdGF0aWMgX19hbHdheXNfaW5saW5lIHZv
aWQgdm14X3NldF9pbnRlcmNlcHRfZm9yX21zcih1bnNpZ25lZCBsb25nICptc3JfYml0bWFwLAor
c3RhdGljIF9fYWx3YXlzX2lubGluZSB2b2lkIHZteF9zZXRfaW50ZXJjZXB0X2Zvcl9tc3Ioc3Ry
dWN0IGt2bV92Y3B1ICp2Y3B1LAorCQkJCQkJICAgICAgdW5zaWduZWQgbG9uZyAqbXNyX2JpdG1h
cCwKIAkJCSAgICAgCQkJICAgICAgdTMyIG1zciwgaW50IHR5cGUsIGJvb2wgdmFsdWUpCiB7CiAJ
aWYgKHZhbHVlKQotCQl2bXhfZW5hYmxlX2ludGVyY2VwdF9mb3JfbXNyKG1zcl9iaXRtYXAsIG1z
ciwgdHlwZSk7CisJCXZteF9lbmFibGVfaW50ZXJjZXB0X2Zvcl9tc3IodmNwdSwgbXNyX2JpdG1h
cCwgbXNyLCB0eXBlKTsKIAllbHNlCi0JCXZteF9kaXNhYmxlX2ludGVyY2VwdF9mb3JfbXNyKG1z
cl9iaXRtYXAsIG1zciwgdHlwZSk7CisJCXZteF9kaXNhYmxlX2ludGVyY2VwdF9mb3JfbXNyKHZj
cHUsIG1zcl9iaXRtYXAsIG1zciwgdHlwZSk7CiB9CiAKIHN0YXRpYyB1OCB2bXhfbXNyX2JpdG1h
cF9tb2RlKHN0cnVjdCBrdm1fdmNwdSAqdmNwdSkKQEAgLTM4MzMsNyArMzgzNyw4IEBAIHN0YXRp
YyB1OCB2bXhfbXNyX2JpdG1hcF9tb2RlKHN0cnVjdCBrdm1fdmNwdSAqdmNwdSkKIAlyZXR1cm4g
bW9kZTsKIH0KIAotc3RhdGljIHZvaWQgdm14X3VwZGF0ZV9tc3JfYml0bWFwX3gyYXBpYyh1bnNp
Z25lZCBsb25nICptc3JfYml0bWFwLAorc3RhdGljIHZvaWQgdm14X3VwZGF0ZV9tc3JfYml0bWFw
X3gyYXBpYyhzdHJ1Y3Qga3ZtX3ZjcHUgKnZjcHUsCisJCQkJCSB1bnNpZ25lZCBsb25nICptc3Jf
Yml0bWFwLAogCQkJCQkgdTggbW9kZSkKIHsKIAlpbnQgbXNyOwpAQCAtMzg0OSwxMSArMzg1NCwx
MSBAQCBzdGF0aWMgdm9pZCB2bXhfdXBkYXRlX21zcl9iaXRtYXBfeDJhcGljKHVuc2lnbmVkIGxv
bmcgKm1zcl9iaXRtYXAsCiAJCSAqIFRQUiByZWFkcyBhbmQgd3JpdGVzIGNhbiBiZSB2aXJ0dWFs
aXplZCBldmVuIGlmIHZpcnR1YWwgaW50ZXJydXB0CiAJCSAqIGRlbGl2ZXJ5IGlzIG5vdCBpbiB1
c2UuCiAJCSAqLwotCQl2bXhfZGlzYWJsZV9pbnRlcmNlcHRfZm9yX21zcihtc3JfYml0bWFwLCBY
MkFQSUNfTVNSKEFQSUNfVEFTS1BSSSksIE1TUl9UWVBFX1JXKTsKKwkJdm14X2Rpc2FibGVfaW50
ZXJjZXB0X2Zvcl9tc3IodmNwdSwgbXNyX2JpdG1hcCwgWDJBUElDX01TUihBUElDX1RBU0tQUkkp
LCBNU1JfVFlQRV9SVyk7CiAJCWlmIChtb2RlICYgTVNSX0JJVE1BUF9NT0RFX1gyQVBJQ19BUElD
VikgewotCQkJdm14X2VuYWJsZV9pbnRlcmNlcHRfZm9yX21zcihtc3JfYml0bWFwLCBYMkFQSUNf
TVNSKEFQSUNfVE1DQ1QpLCBNU1JfVFlQRV9SKTsKLQkJCXZteF9kaXNhYmxlX2ludGVyY2VwdF9m
b3JfbXNyKG1zcl9iaXRtYXAsIFgyQVBJQ19NU1IoQVBJQ19FT0kpLCBNU1JfVFlQRV9XKTsKLQkJ
CXZteF9kaXNhYmxlX2ludGVyY2VwdF9mb3JfbXNyKG1zcl9iaXRtYXAsIFgyQVBJQ19NU1IoQVBJ
Q19TRUxGX0lQSSksIE1TUl9UWVBFX1cpOworCQkJdm14X2VuYWJsZV9pbnRlcmNlcHRfZm9yX21z
cih2Y3B1LCBtc3JfYml0bWFwLCBYMkFQSUNfTVNSKEFQSUNfVE1DQ1QpLCBNU1JfVFlQRV9SKTsK
KwkJCXZteF9kaXNhYmxlX2ludGVyY2VwdF9mb3JfbXNyKHZjcHUsIG1zcl9iaXRtYXAsIFgyQVBJ
Q19NU1IoQVBJQ19FT0kpLCBNU1JfVFlQRV9XKTsKKwkJCXZteF9kaXNhYmxlX2ludGVyY2VwdF9m
b3JfbXNyKHZjcHUsIG1zcl9iaXRtYXAsIFgyQVBJQ19NU1IoQVBJQ19TRUxGX0lQSSksIE1TUl9U
WVBFX1cpOwogCQl9CiAJfQogfQpAQCAtMzg2OSw3ICszODc0LDcgQEAgdm9pZCB2bXhfdXBkYXRl
X21zcl9iaXRtYXAoc3RydWN0IGt2bV92Y3B1ICp2Y3B1KQogCQlyZXR1cm47CiAKIAlpZiAoY2hh
bmdlZCAmIChNU1JfQklUTUFQX01PREVfWDJBUElDIHwgTVNSX0JJVE1BUF9NT0RFX1gyQVBJQ19B
UElDVikpCi0JCXZteF91cGRhdGVfbXNyX2JpdG1hcF94MmFwaWMobXNyX2JpdG1hcCwgbW9kZSk7
CisJCXZteF91cGRhdGVfbXNyX2JpdG1hcF94MmFwaWModmNwdSwgbXNyX2JpdG1hcCwgbW9kZSk7
CiAKIAl2bXgtPm1zcl9iaXRtYXBfbW9kZSA9IG1vZGU7CiB9CkBAIC0zODc4LDIwICszODgzLDIx
IEBAIHZvaWQgcHRfdXBkYXRlX2ludGVyY2VwdF9mb3JfbXNyKHN0cnVjdCB2Y3B1X3ZteCAqdm14
KQogewogCXVuc2lnbmVkIGxvbmcgKm1zcl9iaXRtYXAgPSB2bXgtPnZtY3MwMS5tc3JfYml0bWFw
OwogCWJvb2wgZmxhZyA9ICEodm14LT5wdF9kZXNjLmd1ZXN0LmN0bCAmIFJUSVRfQ1RMX1RSQUNF
RU4pOworCXN0cnVjdCBrdm1fdmNwdSAqdmNwdSA9ICZ2bXgtPnZjcHU7CiAJdTMyIGk7CiAKLQl2
bXhfc2V0X2ludGVyY2VwdF9mb3JfbXNyKG1zcl9iaXRtYXAsIE1TUl9JQTMyX1JUSVRfU1RBVFVT
LAorCXZteF9zZXRfaW50ZXJjZXB0X2Zvcl9tc3IodmNwdSwgbXNyX2JpdG1hcCwgTVNSX0lBMzJf
UlRJVF9TVEFUVVMsCiAJCQkJCQkJTVNSX1RZUEVfUlcsIGZsYWcpOwotCXZteF9zZXRfaW50ZXJj
ZXB0X2Zvcl9tc3IobXNyX2JpdG1hcCwgTVNSX0lBMzJfUlRJVF9PVVRQVVRfQkFTRSwKKwl2bXhf
c2V0X2ludGVyY2VwdF9mb3JfbXNyKHZjcHUsIG1zcl9iaXRtYXAsIE1TUl9JQTMyX1JUSVRfT1VU
UFVUX0JBU0UsCiAJCQkJCQkJTVNSX1RZUEVfUlcsIGZsYWcpOwotCXZteF9zZXRfaW50ZXJjZXB0
X2Zvcl9tc3IobXNyX2JpdG1hcCwgTVNSX0lBMzJfUlRJVF9PVVRQVVRfTUFTSywKKwl2bXhfc2V0
X2ludGVyY2VwdF9mb3JfbXNyKHZjcHUsIG1zcl9iaXRtYXAsIE1TUl9JQTMyX1JUSVRfT1VUUFVU
X01BU0ssCiAJCQkJCQkJTVNSX1RZUEVfUlcsIGZsYWcpOwotCXZteF9zZXRfaW50ZXJjZXB0X2Zv
cl9tc3IobXNyX2JpdG1hcCwgTVNSX0lBMzJfUlRJVF9DUjNfTUFUQ0gsCisJdm14X3NldF9pbnRl
cmNlcHRfZm9yX21zcih2Y3B1LCBtc3JfYml0bWFwLCBNU1JfSUEzMl9SVElUX0NSM19NQVRDSCwK
IAkJCQkJCQlNU1JfVFlQRV9SVywgZmxhZyk7CiAJZm9yIChpID0gMDsgaSA8IHZteC0+cHRfZGVz
Yy5hZGRyX3JhbmdlOyBpKyspIHsKLQkJdm14X3NldF9pbnRlcmNlcHRfZm9yX21zcihtc3JfYml0
bWFwLAorCQl2bXhfc2V0X2ludGVyY2VwdF9mb3JfbXNyKHZjcHUsIG1zcl9iaXRtYXAsCiAJCQlN
U1JfSUEzMl9SVElUX0FERFIwX0EgKyBpICogMiwgTVNSX1RZUEVfUlcsIGZsYWcpOwotCQl2bXhf
c2V0X2ludGVyY2VwdF9mb3JfbXNyKG1zcl9iaXRtYXAsCisJCXZteF9zZXRfaW50ZXJjZXB0X2Zv
cl9tc3IodmNwdSwgbXNyX2JpdG1hcCwKIAkJCU1TUl9JQTMyX1JUSVRfQUREUjBfQiArIGkgKiAy
LCBNU1JfVFlQRV9SVywgZmxhZyk7CiAJfQogfQpAQCAtNjk0NywxOCArNjk1MywyMiBAQCBzdGF0
aWMgaW50IHZteF9jcmVhdGVfdmNwdShzdHJ1Y3Qga3ZtX3ZjcHUgKnZjcHUpCiAJCWdvdG8gZnJl
ZV9wbWw7CiAKIAltc3JfYml0bWFwID0gdm14LT52bWNzMDEubXNyX2JpdG1hcDsKLQl2bXhfZGlz
YWJsZV9pbnRlcmNlcHRfZm9yX21zcihtc3JfYml0bWFwLCBNU1JfSUEzMl9UU0MsIE1TUl9UWVBF
X1IpOwotCXZteF9kaXNhYmxlX2ludGVyY2VwdF9mb3JfbXNyKG1zcl9iaXRtYXAsIE1TUl9GU19C
QVNFLCBNU1JfVFlQRV9SVyk7Ci0Jdm14X2Rpc2FibGVfaW50ZXJjZXB0X2Zvcl9tc3IobXNyX2Jp
dG1hcCwgTVNSX0dTX0JBU0UsIE1TUl9UWVBFX1JXKTsKLQl2bXhfZGlzYWJsZV9pbnRlcmNlcHRf
Zm9yX21zcihtc3JfYml0bWFwLCBNU1JfS0VSTkVMX0dTX0JBU0UsIE1TUl9UWVBFX1JXKTsKLQl2
bXhfZGlzYWJsZV9pbnRlcmNlcHRfZm9yX21zcihtc3JfYml0bWFwLCBNU1JfSUEzMl9TWVNFTlRF
Ul9DUywgTVNSX1RZUEVfUlcpOwotCXZteF9kaXNhYmxlX2ludGVyY2VwdF9mb3JfbXNyKG1zcl9i
aXRtYXAsIE1TUl9JQTMyX1NZU0VOVEVSX0VTUCwgTVNSX1RZUEVfUlcpOwotCXZteF9kaXNhYmxl
X2ludGVyY2VwdF9mb3JfbXNyKG1zcl9iaXRtYXAsIE1TUl9JQTMyX1NZU0VOVEVSX0VJUCwgTVNS
X1RZUEVfUlcpOworCXZteF9kaXNhYmxlX2ludGVyY2VwdF9mb3JfbXNyKE5VTEwsIG1zcl9iaXRt
YXAsIE1TUl9JQTMyX1RTQywgTVNSX1RZUEVfUik7CisJdm14X2Rpc2FibGVfaW50ZXJjZXB0X2Zv
cl9tc3IoTlVMTCwgbXNyX2JpdG1hcCwgTVNSX0ZTX0JBU0UsIE1TUl9UWVBFX1JXKTsKKwl2bXhf
ZGlzYWJsZV9pbnRlcmNlcHRfZm9yX21zcihOVUxMLCBtc3JfYml0bWFwLCBNU1JfR1NfQkFTRSwg
TVNSX1RZUEVfUlcpOworCXZteF9kaXNhYmxlX2ludGVyY2VwdF9mb3JfbXNyKE5VTEwsIG1zcl9i
aXRtYXAsIE1TUl9LRVJORUxfR1NfQkFTRSwgTVNSX1RZUEVfUlcpOworCXZteF9kaXNhYmxlX2lu
dGVyY2VwdF9mb3JfbXNyKE5VTEwsIG1zcl9iaXRtYXAsIE1TUl9JQTMyX1NZU0VOVEVSX0NTLCBN
U1JfVFlQRV9SVyk7CisJdm14X2Rpc2FibGVfaW50ZXJjZXB0X2Zvcl9tc3IoTlVMTCwgbXNyX2Jp
dG1hcCwgTVNSX0lBMzJfU1lTRU5URVJfRVNQLCBNU1JfVFlQRV9SVyk7CisJdm14X2Rpc2FibGVf
aW50ZXJjZXB0X2Zvcl9tc3IoTlVMTCwgbXNyX2JpdG1hcCwgTVNSX0lBMzJfU1lTRU5URVJfRUlQ
LCBNU1JfVFlQRV9SVyk7CiAJaWYgKGt2bV9jc3RhdGVfaW5fZ3Vlc3QodmNwdS0+a3ZtKSkgewot
CQl2bXhfZGlzYWJsZV9pbnRlcmNlcHRfZm9yX21zcihtc3JfYml0bWFwLCBNU1JfQ09SRV9DMV9S
RVMsIE1TUl9UWVBFX1IpOwotCQl2bXhfZGlzYWJsZV9pbnRlcmNlcHRfZm9yX21zcihtc3JfYml0
bWFwLCBNU1JfQ09SRV9DM19SRVNJREVOQ1ksIE1TUl9UWVBFX1IpOwotCQl2bXhfZGlzYWJsZV9p
bnRlcmNlcHRfZm9yX21zcihtc3JfYml0bWFwLCBNU1JfQ09SRV9DNl9SRVNJREVOQ1ksIE1TUl9U
WVBFX1IpOwotCQl2bXhfZGlzYWJsZV9pbnRlcmNlcHRfZm9yX21zcihtc3JfYml0bWFwLCBNU1Jf
Q09SRV9DN19SRVNJREVOQ1ksIE1TUl9UWVBFX1IpOworCQl2bXhfZGlzYWJsZV9pbnRlcmNlcHRf
Zm9yX21zcihOVUxMLCBtc3JfYml0bWFwLCBNU1JfQ09SRV9DMV9SRVMsCisJCQkJCSAgICAgIE1T
Ul9UWVBFX1IpOworCQl2bXhfZGlzYWJsZV9pbnRlcmNlcHRfZm9yX21zcihOVUxMLCBtc3JfYml0
bWFwLCBNU1JfQ09SRV9DM19SRVNJREVOQ1ksCisJCQkJCSAgICAgIE1TUl9UWVBFX1IpOworCQl2
bXhfZGlzYWJsZV9pbnRlcmNlcHRfZm9yX21zcihOVUxMLCBtc3JfYml0bWFwLCBNU1JfQ09SRV9D
Nl9SRVNJREVOQ1ksCisJCQkJCSAgICAgIE1TUl9UWVBFX1IpOworCQl2bXhfZGlzYWJsZV9pbnRl
cmNlcHRfZm9yX21zcihOVUxMLCBtc3JfYml0bWFwLCBNU1JfQ09SRV9DN19SRVNJREVOQ1ksCisJ
CQkJCSAgICAgIE1TUl9UWVBFX1IpOwogCX0KIAl2bXgtPm1zcl9iaXRtYXBfbW9kZSA9IDA7CiAK
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KVmlydHVhbGl6
YXRpb24gbWFpbGluZyBsaXN0ClZpcnR1YWxpemF0aW9uQGxpc3RzLmxpbnV4LWZvdW5kYXRpb24u
b3JnCmh0dHBzOi8vbGlzdHMubGludXhmb3VuZGF0aW9uLm9yZy9tYWlsbWFuL2xpc3RpbmZvL3Zp
cnR1YWxpemF0aW9u
