Return-Path: <virtualization-bounces@lists.linux-foundation.org>
X-Original-To: lists.virtualization@lfdr.de
Delivered-To: lists.virtualization@lfdr.de
Received: from smtp3.osuosl.org (smtp3.osuosl.org [IPv6:2605:bc80:3010::136])
	by mail.lfdr.de (Postfix) with ESMTPS id B8BC87261DA
	for <lists.virtualization@lfdr.de>; Wed,  7 Jun 2023 15:59:07 +0200 (CEST)
Received: from localhost (localhost [127.0.0.1])
	by smtp3.osuosl.org (Postfix) with ESMTP id EC41760EF4;
	Wed,  7 Jun 2023 13:59:05 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp3.osuosl.org EC41760EF4
Authentication-Results: smtp3.osuosl.org;
	dkim=fail reason="signature verification failed" (2048-bit key) header.d=gmail.com header.i=@gmail.com header.a=rsa-sha256 header.s=20221208 header.b=qYoxsSAu
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp3.osuosl.org ([127.0.0.1])
	by localhost (smtp3.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id CXZsZ9IXXHIN; Wed,  7 Jun 2023 13:59:03 +0000 (UTC)
Received: from lists.linuxfoundation.org (lf-lists.osuosl.org [140.211.9.56])
	by smtp3.osuosl.org (Postfix) with ESMTPS id 3357260C23;
	Wed,  7 Jun 2023 13:59:03 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp3.osuosl.org 3357260C23
Received: from lf-lists.osuosl.org (localhost [127.0.0.1])
	by lists.linuxfoundation.org (Postfix) with ESMTP id 76087C008C;
	Wed,  7 Jun 2023 13:59:02 +0000 (UTC)
X-Original-To: virtualization@lists.linux-foundation.org
Delivered-To: virtualization@lists.linuxfoundation.org
Received: from smtp4.osuosl.org (smtp4.osuosl.org [140.211.166.137])
 by lists.linuxfoundation.org (Postfix) with ESMTP id 57D68C0029
 for <virtualization@lists.linux-foundation.org>;
 Wed,  7 Jun 2023 13:59:01 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by smtp4.osuosl.org (Postfix) with ESMTP id 2373640AB9
 for <virtualization@lists.linux-foundation.org>;
 Wed,  7 Jun 2023 13:59:01 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp4.osuosl.org 2373640AB9
Authentication-Results: smtp4.osuosl.org;
 dkim=pass (2048-bit key) header.d=gmail.com header.i=@gmail.com
 header.a=rsa-sha256 header.s=20221208 header.b=qYoxsSAu
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp4.osuosl.org ([127.0.0.1])
 by localhost (smtp4.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id LrZc1CC1c7IZ
 for <virtualization@lists.linux-foundation.org>;
 Wed,  7 Jun 2023 13:58:58 +0000 (UTC)
X-Greylist: whitelisted by SQLgrey-1.8.0
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp4.osuosl.org 168F4409FD
Received: from mail-lf1-x136.google.com (mail-lf1-x136.google.com
 [IPv6:2a00:1450:4864:20::136])
 by smtp4.osuosl.org (Postfix) with ESMTPS id 168F4409FD
 for <virtualization@lists.linux-foundation.org>;
 Wed,  7 Jun 2023 13:58:57 +0000 (UTC)
Received: by mail-lf1-x136.google.com with SMTP id
 2adb3069b0e04-4f62cf9755eso3876307e87.1
 for <virtualization@lists.linux-foundation.org>;
 Wed, 07 Jun 2023 06:58:57 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20221208; t=1686146336; x=1688738336;
 h=content-transfer-encoding:cc:to:subject:message-id:date:from
 :in-reply-to:references:mime-version:from:to:cc:subject:date
 :message-id:reply-to;
 bh=kCP0q6OidLx1R5/N46OdL6iFkW4eD34C3/p2HmL5N8E=;
 b=qYoxsSAu0uWDNfVM01Q+OUbuFkoHgRVpc6qjdf9+IUFHqbt2eLFwStajiE3u0y7CDR
 xpBaNFxphr6ADEM9cfcouK1nKq4g022ucadufcfRGcqMOioTcvPc62NgnA3XCNNNCc06
 SmiPPCjvWG6YuYu0rUDL9bD/2YqtTzCHOMFqiKe5YTKoL5bTB7e7ue/e9/KB4+vbfe9E
 0WpYNelmh3MaAgA63CEN4zMK8YOMrAI1bCMobdIfZ4szKq+Ja0/Jei09FGAy968jZgVK
 id/xUUipH7WTn5Sns/mZ86tVmKze8EHoU9AxLkgO5THZWDUbt6QC35H5nOEXZ8tierGG
 ZyPw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20221208; t=1686146336; x=1688738336;
 h=content-transfer-encoding:cc:to:subject:message-id:date:from
 :in-reply-to:references:mime-version:x-gm-message-state:from:to:cc
 :subject:date:message-id:reply-to;
 bh=kCP0q6OidLx1R5/N46OdL6iFkW4eD34C3/p2HmL5N8E=;
 b=eLjhr9143yheTizjP5bOdLl9hCADI7KveYrIIQQZb+d/c6w3aPWqsijWNc0gFYZBN0
 lcuyAxf1Aw8HohYl+8JjDkKynz4DI+FrxabNjZzrxXKBXWuCAi+s5obVw0f3qBj3YYne
 vrNC9CtPk7vQ1Uyz2eW6L7cn2kJLyts4ANp0XeDVlVOCXp8p1Gk3y9lm2KsY2kTNmqNs
 HLg768AsxVo9JA5qV6VDxmMNWw+Llmt44Tlxm66LoWaEEleybsYzxXiICeBh+CQku4U9
 VVcVlZSMS9hu9t0lM7naYHDmfsSSmT6zquyHu+/TTf5qPfilVNAv5E33USzkvVtq487r
 iU4g==
X-Gm-Message-State: AC+VfDw/XmMHdf79i11Zewt8y1pNraenp7K/+/aLf2dSyXm/5PBotkYY
 wIKEzTqrp6LZFJXhTaG73z4UHrtHO7yz5k2EqgQ=
X-Google-Smtp-Source: ACHHUZ6xAyEKzFtFBuHADpDmb49zgvLcOwZoEbkyL7QOoY/rJuM0NlqnAiruFCvDt2RkYOA50THmznmatvRk/75tgfs=
X-Received: by 2002:a2e:874c:0:b0:2a8:eae2:d55c with SMTP id
 q12-20020a2e874c000000b002a8eae2d55cmr2337532ljj.15.1686146335218; Wed, 07
 Jun 2023 06:58:55 -0700 (PDT)
MIME-Version: 1.0
References: <20230526054621.18371-1-liangchen.linux@gmail.com>
 <20230526054621.18371-2-liangchen.linux@gmail.com>
 <20230528021708-mutt-send-email-mst@kernel.org>
 <CAKhg4tKzW6akbKLvg1UFpey+Lkiic3hBWh87jyg-a8ASchPvMA@mail.gmail.com>
 <20230529055439-mutt-send-email-mst@kernel.org>
 <CAKhg4t+64E5oisgwpJvt5zwcAzKpLoNhN-cMutRuiC9D-Z7C5A@mail.gmail.com>
 <CAKhg4tKpBFgGaEq743dvYJxZFavDSyOdqbvc7mE4+_sqeSpgQQ@mail.gmail.com>
 <1686130536.1579273-4-xuanzhuo@linux.alibaba.com>
In-Reply-To: <1686130536.1579273-4-xuanzhuo@linux.alibaba.com>
From: Liang Chen <liangchen.linux@gmail.com>
Date: Wed, 7 Jun 2023 21:58:41 +0800
Message-ID: <CAKhg4t+5dSo4ucE-_sXuPP1Qu9NF=2KpmyL9jZz5yagpBGzN7g@mail.gmail.com>
Subject: Re: [PATCH net-next 2/5] virtio_net: Add page_pool support to improve
 performance
To: Xuan Zhuo <xuanzhuo@linux.alibaba.com>
Cc: "Michael S. Tsirkin" <mst@redhat.com>, netdev@vger.kernel.org,
 linux-kernel@vger.kernel.org, alexander.duyck@gmail.com,
 virtualization@lists.linux-foundation.org, edumazet@google.com,
 kuba@kernel.org, pabeni@redhat.com, davem@davemloft.net
X-BeenThere: virtualization@lists.linux-foundation.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: Linux virtualization <virtualization.lists.linux-foundation.org>
List-Unsubscribe: <https://lists.linuxfoundation.org/mailman/options/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=unsubscribe>
List-Archive: <http://lists.linuxfoundation.org/pipermail/virtualization/>
List-Post: <mailto:virtualization@lists.linux-foundation.org>
List-Help: <mailto:virtualization-request@lists.linux-foundation.org?subject=help>
List-Subscribe: <https://lists.linuxfoundation.org/mailman/listinfo/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: virtualization-bounces@lists.linux-foundation.org
Sender: "Virtualization" <virtualization-bounces@lists.linux-foundation.org>

T24gV2VkLCBKdW4gNywgMjAyMyBhdCA1OjM24oCvUE0gWHVhbiBaaHVvIDx4dWFuemh1b0BsaW51
eC5hbGliYWJhLmNvbT4gd3JvdGU6Cj4KPiBPbiBXZWQsIDcgSnVuIDIwMjMgMTc6MDg6NTkgKzA4
MDAsIExpYW5nIENoZW4gPGxpYW5nY2hlbi5saW51eEBnbWFpbC5jb20+IHdyb3RlOgo+ID4gT24g
VHVlLCBNYXkgMzAsIDIwMjMgYXQgOToxOeKAr0FNIExpYW5nIENoZW4gPGxpYW5nY2hlbi5saW51
eEBnbWFpbC5jb20+IHdyb3RlOgo+ID4gPgo+ID4gPiBPbiBNb24sIE1heSAyOSwgMjAyMyBhdCA1
OjU14oCvUE0gTWljaGFlbCBTLiBUc2lya2luIDxtc3RAcmVkaGF0LmNvbT4gd3JvdGU6Cj4gPiA+
ID4KPiA+ID4gPiBPbiBNb24sIE1heSAyOSwgMjAyMyBhdCAwMzoyNzo1NlBNICswODAwLCBMaWFu
ZyBDaGVuIHdyb3RlOgo+ID4gPiA+ID4gT24gU3VuLCBNYXkgMjgsIDIwMjMgYXQgMjoyMOKAr1BN
IE1pY2hhZWwgUy4gVHNpcmtpbiA8bXN0QHJlZGhhdC5jb20+IHdyb3RlOgo+ID4gPiA+ID4gPgo+
ID4gPiA+ID4gPiBPbiBGcmksIE1heSAyNiwgMjAyMyBhdCAwMTo0NjoxOFBNICswODAwLCBMaWFu
ZyBDaGVuIHdyb3RlOgo+ID4gPiA+ID4gPiA+IFRoZSBpbXBsZW1lbnRhdGlvbiBhdCB0aGUgbW9t
ZW50IHVzZXMgb25lIHBhZ2UgcGVyIHBhY2tldCBpbiBib3RoIHRoZQo+ID4gPiA+ID4gPiA+IG5v
cm1hbCBhbmQgWERQIHBhdGguIEluIGFkZGl0aW9uLCBpbnRyb2R1Y2luZyBhIG1vZHVsZSBwYXJh
bWV0ZXIgdG8gZW5hYmxlCj4gPiA+ID4gPiA+ID4gb3IgZGlzYWJsZSB0aGUgdXNhZ2Ugb2YgcGFn
ZSBwb29sIChkaXNhYmxlZCBieSBkZWZhdWx0KS4KPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+
IEluIHNpbmdsZS1jb3JlIHZtIHRlc3RpbmcgZW52aXJvbm1lbnRzLCBpdCBnaXZlcyBhIG1vZGVz
dCBwZXJmb3JtYW5jZSBnYWluCj4gPiA+ID4gPiA+ID4gaW4gdGhlIG5vcm1hbCBwYXRoLgo+ID4g
PiA+ID4gPiA+ICAgVXBzdHJlYW0gY29kZWJhc2U6IDQ3LjUgR2JpdHMvc2VjCj4gPiA+ID4gPiA+
ID4gICBVcHN0cmVhbSBjb2RlYmFzZSArIHBhZ2VfcG9vbCBzdXBwb3J0OiA1MC4yIEdiaXRzL3Nl
Ywo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gSW4gbXVsdGktY29yZSB2bSB0ZXN0aW5nIGVu
dmlyb25tZW50cywgVGhlIG1vc3Qgc2lnbmlmaWNhbnQgcGVyZm9ybWFuY2UKPiA+ID4gPiA+ID4g
PiBnYWluIGlzIG9ic2VydmVkIGluIFhEUCBjcHVtYXA6Cj4gPiA+ID4gPiA+ID4gICBVcHN0cmVh
bSBjb2RlYmFzZTogMS4zOCBHYml0cy9zZWMKPiA+ID4gPiA+ID4gPiAgIFVwc3RyZWFtIGNvZGVi
YXNlICsgcGFnZV9wb29sIHN1cHBvcnQ6IDkuNzQgR2JpdHMvc2VjCj4gPiA+ID4gPiA+ID4KPiA+
ID4gPiA+ID4gPiBXaXRoIHRoaXMgZm91bmRhdGlvbiwgd2UgY2FuIGZ1cnRoZXIgaW50ZWdyYXRl
IHBhZ2UgcG9vbCBmcmFnbWVudGF0aW9uIGFuZAo+ID4gPiA+ID4gPiA+IERNQSBtYXAvdW5tYXAg
c3VwcG9ydC4KPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+IFNpZ25lZC1vZmYtYnk6IExpYW5n
IENoZW4gPGxpYW5nY2hlbi5saW51eEBnbWFpbC5jb20+Cj4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+
IFdoeSBvZmYgYnkgZGVmYXVsdD8KPiA+ID4gPiA+ID4gSSBhbSBndWVzc2luZyBpdCBzb21ldGlt
ZXMgaGFzIHBlcmZvcm1hbmNlIGNvc3RzIHRvbz8KPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4KPiA+
ID4gPiA+ID4gV2hhdCBoYXBwZW5zIGlmIHdlIHVzZSBwYWdlIHBvb2wgZm9yIGJpZyBtb2RlIHRv
bz8KPiA+ID4gPiA+ID4gVGhlIGxlc3MgbW9kZXMgd2UgaGF2ZSB0aGUgYmV0dGVyLi4uCj4gPiA+
ID4gPiA+Cj4gPiA+ID4gPiA+Cj4gPiA+ID4gPgo+ID4gPiA+ID4gU3VyZSwgbm93IEkgYmVsaWV2
ZSBpdCBtYWtlcyBzZW5zZSB0byBlbmFibGUgaXQgYnkgZGVmYXVsdC4gV2hlbiB0aGUKPiA+ID4g
PiA+IHBhY2tldCBzaXplIGlzIHZlcnkgc21hbGwsIGl0IHJlZHVjZXMgdGhlIGxpa2VsaWhvb2Qg
b2Ygc2tiCj4gPiA+ID4gPiBjb2FsZXNjaW5nLiBCdXQgc3VjaCBjYXNlcyBhcmUgcmFyZS4KPiA+
ID4gPgo+ID4gPiA+IHNtYWxsIHBhY2tldHMgYXJlIHJhcmU/IFRoZXNlIHdvcmtsb2FkcyBhcmUg
ZWFzeSB0byBjcmVhdGUgYWN0dWFsbHkuCj4gPiA+ID4gUGxzIHRyeSBhbmQgaW5jbHVkZSBiZW5j
aG1hcmsgd2l0aCBzbWFsbCBwYWNrZXQgc2l6ZS4KPiA+ID4gPgo+ID4gPgo+ID4gPiBTdXJlLCBU
aGFua3MhCj4gPgo+ID4gQmVmb3JlIGdvaW5nIGFoZWFkIGFuZCBwb3N0aW5nIHYyIHBhdGNoLCBJ
IHdvdWxkIGxpa2UgdG8gaGVhciBtb3JlCj4gPiBhZHZpY2UgZm9yIHRoZSBjYXNlcyBvZiBzbWFs
bCBwYWNrZXRzLiBJIGhhdmUgZG9uZSBtb3JlIHBlcmZvcm1hbmNlCj4gPiBiZW5jaG1hcmsgd2l0
aCBzbWFsbCBwYWNrZXRzIHNpbmNlIHRoZW4uIEhlcmUgaXMgYSBsaXN0IG9mIGlwZXJmCj4gPiBv
dXRwdXQsCj4KPiBDb3VsZCB5b3Ugc2hvdyB0aGUgY29tbW5hZCBsaW5lPwo+Cj4gVGhhbmtzCj4K
PgoKU3VyZS4gICBpcGVyZjMgLWMgPElQPiAtaSA1IC1mIGcgLXQgMCAtbCA8cGFja2V0IHNpemU+
Cgo+ID4KPiA+IFdpdGggUFAgYW5kIFBQIGZyYWdtZW50aW5nOgo+ID4gMjU2SzogICBbICA1XSA1
MDUuMDAtNTEwLjAwIHNlYyAgMS4zNCBHQnl0ZXMgIDIuMzEgR2JpdHMvc2VjICAgIDAgICAgMTQ0
IEtCeXRlcwo+ID4gMUs6ICAgICAgIFsgIDVdICAzMC4wMC0zNS4wMCAgc2VjICA0LjYzIEdCeXRl
cyAgNy45NSBHYml0cy9zZWMgICAgMAo+ID4gMjIzIEtCeXRlcwo+ID4gMks6ICAgICAgIFsgIDVd
ICA2NS4wMC03MC4wMCAgc2VjICA4LjMzIEdCeXRlcyAgMTQuMyBHYml0cy9zZWMgICAgMAo+ID4g
MzI0IEtCeXRlcwo+ID4gNEs6ICAgICAgIFsgIDVdICAzMC4wMC0zNS4wMCAgc2VjICAxMy4zIEdC
eXRlcyAgMjIuOCBHYml0cy9zZWMgICAgMAo+ID4gMS4wOCBNQnl0ZXMKPiA+IDhLOiAgICAgICBb
ICA1XSAgNTAuMDAtNTUuMDAgIHNlYyAgMTguOSBHQnl0ZXMgIDMyLjQgR2JpdHMvc2VjICAgIDAK
PiA+IDc0NCBLQnl0ZXMKPiA+IDE2SzogICAgIFsgIDVdICAyNS4wMC0zMC4wMCAgc2VjICAyNC42
IEdCeXRlcyAgNDIuMyBHYml0cy9zZWMgICAgMCAgICA5NjMgS0J5dGVzCj4gPiAzMks6ICAgICBb
ICA1XSAgNDUuMDAtNTAuMDAgIHNlYyAgMjkuOCBHQnl0ZXMgIDUxLjIgR2JpdHMvc2VjICAgIDAg
ICAxLjI1IE1CeXRlcwo+ID4gNjRLOiAgICAgWyAgNV0gIDM1LjAwLTQwLjAwICBzZWMgIDM0LjAg
R0J5dGVzICA1OC40IEdiaXRzL3NlYyAgICAwICAgMS43MCBNQnl0ZXMKPiA+IDEyOEs6ICAgWyAg
NV0gIDQ1LjAwLTUwLjAwICBzZWMgIDM2LjcgR0J5dGVzICA2My4xIEdiaXRzL3NlYyAgICAwICAg
NC4yNiBNQnl0ZXMKPiA+IDI1Nks6ICAgWyAgNV0gIDMwLjAwLTM1LjAwICBzZWMgIDQwLjAgR0J5
dGVzICA2OC44IEdiaXRzL3NlYyAgICAwICAgMy4yMCBNQnl0ZXMKPiA+Cj4gPiBXaXRob3V0IFBQ
Ogo+ID4gMjU2OiAgICAgWyAgNV0gNjgwLjAwLTY4NS4wMCBzZWMgIDEuNTcgR0J5dGVzICAyLjY5
IEdiaXRzL3NlYyAgICAwICAgIDM1OSBLQnl0ZXMKPiA+IDFLOiAgICAgIFsgIDVdICA3NS4wMC04
MC4wMCAgc2VjICA1LjQ3IEdCeXRlcyAgOS40MCBHYml0cy9zZWMgICAgMCAgICA3MzAgS0J5dGVz
Cj4gPiAySzogICAgICBbICA1XSAgNjUuMDAtNzAuMDAgIHNlYyAgOS40NiBHQnl0ZXMgIDE2LjIg
R2JpdHMvc2VjICAgIDAgICAxLjk5IE1CeXRlcwo+ID4gNEs6ICAgICAgWyAgNV0gIDMwLjAwLTM1
LjAwICBzZWMgIDE0LjUgR0J5dGVzICAyNS4wIEdiaXRzL3NlYyAgICAwICAgMS4yMCBNQnl0ZXMK
PiA+IDhLOiAgICAgIFsgIDVdICA0NS4wMC01MC4wMCAgc2VjICAxOS45IEdCeXRlcyAgMzQuMSBH
Yml0cy9zZWMgICAgMCAgIDEuNzIgTUJ5dGVzCj4gPiAxNks6ICAgIFsgIDVdICAgNS4wMC0xMC4w
MCAgc2VjICAyMy44IEdCeXRlcyAgNDAuOSBHYml0cy9zZWMgICAgMCAgIDIuOTAgTUJ5dGVzCj4g
PiAzMks6ICAgIFsgIDVdICAxNS4wMC0yMC4wMCAgc2VjICAyOC4wIEdCeXRlcyAgNDguMSBHYml0
cy9zZWMgICAgMCAgIDMuMDMgTUJ5dGVzCj4gPiA2NEs6ICAgIFsgIDVdICA2MC4wMC02NS4wMCAg
c2VjICAzMS44IEdCeXRlcyAgNTQuNiBHYml0cy9zZWMgICAgMCAgIDMuMDUgTUJ5dGVzCj4gPiAx
MjhLOiAgWyAgNV0gIDQ1LjAwLTUwLjAwICBzZWMgIDMzLjAgR0J5dGVzICA1Ni42IEdiaXRzL3Nl
YyAgICAxICAgMy4wMyBNQnl0ZXMKPiA+IDI1Nks6ICBbICA1XSAgMjUuMDAtMzAuMDAgIHNlYyAg
MzQuNyBHQnl0ZXMgIDU5LjYgR2JpdHMvc2VjICAgIDAgICAzLjExIE1CeXRlcwo+ID4KPiA+Cj4g
PiBUaGUgbWFqb3IgZmFjdG9yIGNvbnRyaWJ1dGluZyB0byB0aGUgcGVyZm9ybWFuY2UgZHJvcCBp
cyB0aGUgcmVkdWN0aW9uCj4gPiBvZiBza2IgY29hbGVzY2luZy4gQWRkaXRpb25hbGx5LCB3aXRo
b3V0IHRoZSBwYWdlIHBvb2wsIHNtYWxsIHBhY2tldHMKPiA+IGNhbiBzdGlsbCBiZW5lZml0IGZy
b20gdGhlIGFsbG9jYXRpb24gb2YgOCBjb250aW51b3VzIHBhZ2VzIGJ5Cj4gPiBicmVha2luZyB0
aGVtIGRvd24gaW50byBzbWFsbGVyIHBpZWNlcy4gVGhpcyBlZmZlY3RpdmVseSByZWR1Y2VzIHRo
ZQo+ID4gZnJlcXVlbmN5IG9mIHBhZ2UgYWxsb2NhdGlvbiBmcm9tIHRoZSBidWRkeSBzeXN0ZW0u
IEZvciBpbnN0YW5jZSwgdGhlCj4gPiBhcnJpdmFsIG9mIDMyIDFLIHBhY2tldHMgb25seSB0cmln
Z2VycyBvbmUgYWxsb2NfcGFnZSBjYWxsLiBUaGVyZWZvcmUsCj4gPiB0aGUgYmVuZWZpdHMgb2Yg
dXNpbmcgYSBwYWdlIHBvb2wgYXJlIGxpbWl0ZWQgaW4gc3VjaCBjYXNlcy4gSW4gZmFjdCwKPiA+
IHdpdGhvdXQgcGFnZSBwb29sIGZyYWdtZW50aW5nIGVuYWJsZWQsIGl0IGNhbiBldmVuIGhpbmRl
ciBwZXJmb3JtYW5jZQo+ID4gZnJvbSB0aGlzIHBlcnNwZWN0aXZlLgo+ID4KPiA+IFVwb24gZnVy
dGhlciBjb25zaWRlcmF0aW9uLCBJIHRlbmQgdG8gYmVsaWV2ZSBtYWtpbmcgcGFnZSBwb29sIHRo
ZQo+ID4gZGVmYXVsdCBvcHRpb24gbWF5IG5vdCBiZSBhcHByb3ByaWF0ZS4gQXMgeW91IHBvaW50
ZWQgb3V0LCB3ZSBjYW5ub3QKPiA+IHNpbXBseSBpZ25vcmUgdGhlIHBlcmZvcm1hbmNlIGltcGFj
dCBvbiBzbWFsbCBwYWNrZXRzLiBBbnkgY29tbWVudHMgb24KPiA+IHRoaXMgd2lsbCBiZSBtdWNo
IGFwcHJlY2lhdGVkLgo+ID4KPiA+Cj4gPiBUaGFua3MsCj4gPiBMaWFuZwo+ID4KPiA+Cj4gPiA+
ID4gPiBUaGUgdXNhZ2Ugb2YgcGFnZSBwb29sIGZvciBiaWcgbW9kZSBpcyBiZWluZyBldmFsdWF0
ZWQgbm93LiBUaGFua3MhCj4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+IC0tLQo+ID4gPiA+ID4gPiA+
ICBkcml2ZXJzL25ldC92aXJ0aW9fbmV0LmMgfCAxODggKysrKysrKysrKysrKysrKysrKysrKysr
KysrKysrLS0tLS0tLS0tCj4gPiA+ID4gPiA+ID4gIDEgZmlsZSBjaGFuZ2VkLCAxNDYgaW5zZXJ0
aW9ucygrKSwgNDIgZGVsZXRpb25zKC0pCj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiBkaWZm
IC0tZ2l0IGEvZHJpdmVycy9uZXQvdmlydGlvX25ldC5jIGIvZHJpdmVycy9uZXQvdmlydGlvX25l
dC5jCj4gPiA+ID4gPiA+ID4gaW5kZXggYzVkY2EwZDkyZTY0Li45OWMwY2EwYzE3ODEgMTAwNjQ0
Cj4gPiA+ID4gPiA+ID4gLS0tIGEvZHJpdmVycy9uZXQvdmlydGlvX25ldC5jCj4gPiA+ID4gPiA+
ID4gKysrIGIvZHJpdmVycy9uZXQvdmlydGlvX25ldC5jCj4gPiA+ID4gPiA+ID4gQEAgLTMxLDYg
KzMxLDkgQEAgbW9kdWxlX3BhcmFtKGNzdW0sIGJvb2wsIDA0NDQpOwo+ID4gPiA+ID4gPiA+ICBt
b2R1bGVfcGFyYW0oZ3NvLCBib29sLCAwNDQ0KTsKPiA+ID4gPiA+ID4gPiAgbW9kdWxlX3BhcmFt
KG5hcGlfdHgsIGJvb2wsIDA2NDQpOwo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gK3N0YXRp
YyBib29sIHBhZ2VfcG9vbF9lbmFibGVkOwo+ID4gPiA+ID4gPiA+ICttb2R1bGVfcGFyYW0ocGFn
ZV9wb29sX2VuYWJsZWQsIGJvb2wsIDA0MDApOwo+ID4gPiA+ID4gPiA+ICsKPiA+ID4gPiA+ID4g
PiAgLyogRklYTUU6IE1UVSBpbiBjb25maWcuICovCj4gPiA+ID4gPiA+ID4gICNkZWZpbmUgR09P
RF9QQUNLRVRfTEVOIChFVEhfSExFTiArIFZMQU5fSExFTiArIEVUSF9EQVRBX0xFTikKPiA+ID4g
PiA+ID4gPiAgI2RlZmluZSBHT09EX0NPUFlfTEVOICAgICAgICAxMjgKPiA+ID4gPiA+ID4gPiBA
QCAtMTU5LDYgKzE2Miw5IEBAIHN0cnVjdCByZWNlaXZlX3F1ZXVlIHsKPiA+ID4gPiA+ID4gPiAg
ICAgICAvKiBDaGFpbiBwYWdlcyBieSB0aGUgcHJpdmF0ZSBwdHIuICovCj4gPiA+ID4gPiA+ID4g
ICAgICAgc3RydWN0IHBhZ2UgKnBhZ2VzOwo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gKyAg
ICAgLyogUGFnZSBwb29sICovCj4gPiA+ID4gPiA+ID4gKyAgICAgc3RydWN0IHBhZ2VfcG9vbCAq
cGFnZV9wb29sOwo+ID4gPiA+ID4gPiA+ICsKPiA+ID4gPiA+ID4gPiAgICAgICAvKiBBdmVyYWdl
IHBhY2tldCBsZW5ndGggZm9yIG1lcmdlYWJsZSByZWNlaXZlIGJ1ZmZlcnMuICovCj4gPiA+ID4g
PiA+ID4gICAgICAgc3RydWN0IGV3bWFfcGt0X2xlbiBtcmdfYXZnX3BrdF9sZW47Cj4gPiA+ID4g
PiA+ID4KPiA+ID4gPiA+ID4gPiBAQCAtNDU5LDYgKzQ2NSwxNCBAQCBzdGF0aWMgc3RydWN0IHNr
X2J1ZmYgKnZpcnRuZXRfYnVpbGRfc2tiKHZvaWQgKmJ1ZiwgdW5zaWduZWQgaW50IGJ1ZmxlbiwK
PiA+ID4gPiA+ID4gPiAgICAgICByZXR1cm4gc2tiOwo+ID4gPiA+ID4gPiA+ICB9Cj4gPiA+ID4g
PiA+ID4KPiA+ID4gPiA+ID4gPiArc3RhdGljIHZvaWQgdmlydG5ldF9wdXRfcGFnZShzdHJ1Y3Qg
cmVjZWl2ZV9xdWV1ZSAqcnEsIHN0cnVjdCBwYWdlICpwYWdlKQo+ID4gPiA+ID4gPiA+ICt7Cj4g
PiA+ID4gPiA+ID4gKyAgICAgaWYgKHJxLT5wYWdlX3Bvb2wpCj4gPiA+ID4gPiA+ID4gKyAgICAg
ICAgICAgICBwYWdlX3Bvb2xfcHV0X2Z1bGxfcGFnZShycS0+cGFnZV9wb29sLCBwYWdlLCB0cnVl
KTsKPiA+ID4gPiA+ID4gPiArICAgICBlbHNlCj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICBw
dXRfcGFnZShwYWdlKTsKPiA+ID4gPiA+ID4gPiArfQo+ID4gPiA+ID4gPiA+ICsKPiA+ID4gPiA+
ID4gPiAgLyogQ2FsbGVkIGZyb20gYm90dG9tIGhhbGYgY29udGV4dCAqLwo+ID4gPiA+ID4gPiA+
ICBzdGF0aWMgc3RydWN0IHNrX2J1ZmYgKnBhZ2VfdG9fc2tiKHN0cnVjdCB2aXJ0bmV0X2luZm8g
KnZpLAo+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVj
dCByZWNlaXZlX3F1ZXVlICpycSwKPiA+ID4gPiA+ID4gPiBAQCAtNTU1LDcgKzU2OSw3IEBAIHN0
YXRpYyBzdHJ1Y3Qgc2tfYnVmZiAqcGFnZV90b19za2Ioc3RydWN0IHZpcnRuZXRfaW5mbyAqdmks
Cj4gPiA+ID4gPiA+ID4gICAgICAgaGRyID0gc2tiX3ZuZXRfaGRyKHNrYik7Cj4gPiA+ID4gPiA+
ID4gICAgICAgbWVtY3B5KGhkciwgaGRyX3AsIGhkcl9sZW4pOwo+ID4gPiA+ID4gPiA+ICAgICAg
IGlmIChwYWdlX3RvX2ZyZWUpCj4gPiA+ID4gPiA+ID4gLSAgICAgICAgICAgICBwdXRfcGFnZShw
YWdlX3RvX2ZyZWUpOwo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgdmlydG5ldF9wdXRfcGFn
ZShycSwgcGFnZV90b19mcmVlKTsKPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ICAgICAgIHJl
dHVybiBza2I7Cj4gPiA+ID4gPiA+ID4gIH0KPiA+ID4gPiA+ID4gPiBAQCAtODAyLDcgKzgxNiw3
IEBAIHN0YXRpYyBpbnQgdmlydG5ldF94ZHBfeG1pdChzdHJ1Y3QgbmV0X2RldmljZSAqZGV2LAo+
ID4gPiA+ID4gPiA+ICAgICAgIHJldHVybiByZXQ7Cj4gPiA+ID4gPiA+ID4gIH0KPiA+ID4gPiA+
ID4gPgo+ID4gPiA+ID4gPiA+IC1zdGF0aWMgdm9pZCBwdXRfeGRwX2ZyYWdzKHN0cnVjdCB4ZHBf
YnVmZiAqeGRwKQo+ID4gPiA+ID4gPiA+ICtzdGF0aWMgdm9pZCBwdXRfeGRwX2ZyYWdzKHN0cnVj
dCB4ZHBfYnVmZiAqeGRwLCBzdHJ1Y3QgcmVjZWl2ZV9xdWV1ZSAqcnEpCj4gPiA+ID4gPiA+ID4g
IHsKPiA+ID4gPiA+ID4gPiAgICAgICBzdHJ1Y3Qgc2tiX3NoYXJlZF9pbmZvICpzaGluZm87Cj4g
PiA+ID4gPiA+ID4gICAgICAgc3RydWN0IHBhZ2UgKnhkcF9wYWdlOwo+ID4gPiA+ID4gPiA+IEBA
IC04MTIsNyArODI2LDcgQEAgc3RhdGljIHZvaWQgcHV0X3hkcF9mcmFncyhzdHJ1Y3QgeGRwX2J1
ZmYgKnhkcCkKPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgIHNoaW5mbyA9IHhkcF9nZXRfc2hh
cmVkX2luZm9fZnJvbV9idWZmKHhkcCk7Cj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICBmb3Ig
KGkgPSAwOyBpIDwgc2hpbmZvLT5ucl9mcmFnczsgaSsrKSB7Cj4gPiA+ID4gPiA+ID4gICAgICAg
ICAgICAgICAgICAgICAgIHhkcF9wYWdlID0gc2tiX2ZyYWdfcGFnZSgmc2hpbmZvLT5mcmFnc1tp
XSk7Cj4gPiA+ID4gPiA+ID4gLSAgICAgICAgICAgICAgICAgICAgIHB1dF9wYWdlKHhkcF9wYWdl
KTsKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgdmlydG5ldF9wdXRfcGFnZShy
cSwgeGRwX3BhZ2UpOwo+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgfQo+ID4gPiA+ID4gPiA+
ICAgICAgIH0KPiA+ID4gPiA+ID4gPiAgfQo+ID4gPiA+ID4gPiA+IEBAIC05MDMsNyArOTE3LDEx
IEBAIHN0YXRpYyBzdHJ1Y3QgcGFnZSAqeGRwX2xpbmVhcml6ZV9wYWdlKHN0cnVjdCByZWNlaXZl
X3F1ZXVlICpycSwKPiA+ID4gPiA+ID4gPiAgICAgICBpZiAocGFnZV9vZmYgKyAqbGVuICsgdGFp
bHJvb20gPiBQQUdFX1NJWkUpCj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICByZXR1cm4gTlVM
TDsKPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+IC0gICAgIHBhZ2UgPSBhbGxvY19wYWdlKEdG
UF9BVE9NSUMpOwo+ID4gPiA+ID4gPiA+ICsgICAgIGlmIChycS0+cGFnZV9wb29sKQo+ID4gPiA+
ID4gPiA+ICsgICAgICAgICAgICAgcGFnZSA9IHBhZ2VfcG9vbF9kZXZfYWxsb2NfcGFnZXMocnEt
PnBhZ2VfcG9vbCk7Cj4gPiA+ID4gPiA+ID4gKyAgICAgZWxzZQo+ID4gPiA+ID4gPiA+ICsgICAg
ICAgICAgICAgcGFnZSA9IGFsbG9jX3BhZ2UoR0ZQX0FUT01JQyk7Cj4gPiA+ID4gPiA+ID4gKwo+
ID4gPiA+ID4gPiA+ICAgICAgIGlmICghcGFnZSkKPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAg
IHJldHVybiBOVUxMOwo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gQEAgLTkyNiwyMSArOTQ0
LDI0IEBAIHN0YXRpYyBzdHJ1Y3QgcGFnZSAqeGRwX2xpbmVhcml6ZV9wYWdlKHN0cnVjdCByZWNl
aXZlX3F1ZXVlICpycSwKPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgICAqIGlzIHNlbmRpbmcg
cGFja2V0IGxhcmdlciB0aGFuIHRoZSBNVFUuCj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICAg
Ki8KPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgIGlmICgocGFnZV9vZmYgKyBidWZsZW4gKyB0
YWlscm9vbSkgPiBQQUdFX1NJWkUpIHsKPiA+ID4gPiA+ID4gPiAtICAgICAgICAgICAgICAgICAg
ICAgcHV0X3BhZ2UocCk7Cj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgIHZpcnRu
ZXRfcHV0X3BhZ2UocnEsIHApOwo+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgICAgICAgICBn
b3RvIGVycl9idWY7Cj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICB9Cj4gPiA+ID4gPiA+ID4K
PiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgIG1lbWNweShwYWdlX2FkZHJlc3MocGFnZSkgKyBw
YWdlX29mZiwKPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgICAgICAgICBwYWdlX2FkZHJlc3Mo
cCkgKyBvZmYsIGJ1Zmxlbik7Cj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICBwYWdlX29mZiAr
PSBidWZsZW47Cj4gPiA+ID4gPiA+ID4gLSAgICAgICAgICAgICBwdXRfcGFnZShwKTsKPiA+ID4g
PiA+ID4gPiArICAgICAgICAgICAgIHZpcnRuZXRfcHV0X3BhZ2UocnEsIHApOwo+ID4gPiA+ID4g
PiA+ICAgICAgIH0KPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ICAgICAgIC8qIEhlYWRyb29t
IGRvZXMgbm90IGNvbnRyaWJ1dGUgdG8gcGFja2V0IGxlbmd0aCAqLwo+ID4gPiA+ID4gPiA+ICAg
ICAgICpsZW4gPSBwYWdlX29mZiAtIFZJUlRJT19YRFBfSEVBRFJPT007Cj4gPiA+ID4gPiA+ID4g
ICAgICAgcmV0dXJuIHBhZ2U7Cj4gPiA+ID4gPiA+ID4gIGVycl9idWY6Cj4gPiA+ID4gPiA+ID4g
LSAgICAgX19mcmVlX3BhZ2VzKHBhZ2UsIDApOwo+ID4gPiA+ID4gPiA+ICsgICAgIGlmIChycS0+
cGFnZV9wb29sKQo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgcGFnZV9wb29sX3B1dF9mdWxs
X3BhZ2UocnEtPnBhZ2VfcG9vbCwgcGFnZSwgdHJ1ZSk7Cj4gPiA+ID4gPiA+ID4gKyAgICAgZWxz
ZQo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgX19mcmVlX3BhZ2VzKHBhZ2UsIDApOwo+ID4g
PiA+ID4gPiA+ICAgICAgIHJldHVybiBOVUxMOwo+ID4gPiA+ID4gPiA+ICB9Cj4gPiA+ID4gPiA+
ID4KPiA+ID4gPiA+ID4gPiBAQCAtMTE0NCw3ICsxMTY1LDcgQEAgc3RhdGljIHZvaWQgbWVyZ2Vh
YmxlX2J1Zl9mcmVlKHN0cnVjdCByZWNlaXZlX3F1ZXVlICpycSwgaW50IG51bV9idWYsCj4gPiA+
ID4gPiA+ID4gICAgICAgICAgICAgICB9Cj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICBzdGF0
cy0+Ynl0ZXMgKz0gbGVuOwo+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgcGFnZSA9IHZpcnRf
dG9faGVhZF9wYWdlKGJ1Zik7Cj4gPiA+ID4gPiA+ID4gLSAgICAgICAgICAgICBwdXRfcGFnZShw
YWdlKTsKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgIHZpcnRuZXRfcHV0X3BhZ2UocnEsIHBh
Z2UpOwo+ID4gPiA+ID4gPiA+ICAgICAgIH0KPiA+ID4gPiA+ID4gPiAgfQo+ID4gPiA+ID4gPiA+
Cj4gPiA+ID4gPiA+ID4gQEAgLTEyNjQsNyArMTI4NSw3IEBAIHN0YXRpYyBpbnQgdmlydG5ldF9i
dWlsZF94ZHBfYnVmZl9tcmcoc3RydWN0IG5ldF9kZXZpY2UgKmRldiwKPiA+ID4gPiA+ID4gPiAg
ICAgICAgICAgICAgIGN1cl9mcmFnX3NpemUgPSB0cnVlc2l6ZTsKPiA+ID4gPiA+ID4gPiAgICAg
ICAgICAgICAgIHhkcF9mcmFnc190cnVlc3ogKz0gY3VyX2ZyYWdfc2l6ZTsKPiA+ID4gPiA+ID4g
PiAgICAgICAgICAgICAgIGlmICh1bmxpa2VseShsZW4gPiB0cnVlc2l6ZSAtIHJvb20gfHwgY3Vy
X2ZyYWdfc2l6ZSA+IFBBR0VfU0laRSkpIHsKPiA+ID4gPiA+ID4gPiAtICAgICAgICAgICAgICAg
ICAgICAgcHV0X3BhZ2UocGFnZSk7Cj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAg
IHZpcnRuZXRfcHV0X3BhZ2UocnEsIHBhZ2UpOwo+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAg
ICAgICAgICBwcl9kZWJ1ZygiJXM6IHJ4IGVycm9yOiBsZW4gJXUgZXhjZWVkcyB0cnVlc2l6ZSAl
bHVcbiIsCj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldi0+
bmFtZSwgbGVuLCAodW5zaWduZWQgbG9uZykodHJ1ZXNpemUgLSByb29tKSk7Cj4gPiA+ID4gPiA+
ID4gICAgICAgICAgICAgICAgICAgICAgIGRldi0+c3RhdHMucnhfbGVuZ3RoX2Vycm9ycysrOwo+
ID4gPiA+ID4gPiA+IEBAIC0xMjgzLDcgKzEzMDQsNyBAQCBzdGF0aWMgaW50IHZpcnRuZXRfYnVp
bGRfeGRwX2J1ZmZfbXJnKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYsCj4gPiA+ID4gPiA+ID4gICAg
ICAgcmV0dXJuIDA7Cj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiAgZXJyOgo+ID4gPiA+ID4g
PiA+IC0gICAgIHB1dF94ZHBfZnJhZ3MoeGRwKTsKPiA+ID4gPiA+ID4gPiArICAgICBwdXRfeGRw
X2ZyYWdzKHhkcCwgcnEpOwo+ID4gPiA+ID4gPiA+ICAgICAgIHJldHVybiAtRUlOVkFMOwo+ID4g
PiA+ID4gPiA+ICB9Cj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiBAQCAtMTM0NCw3ICsxMzY1
LDEwIEBAIHN0YXRpYyB2b2lkICptZXJnZWFibGVfeGRwX2dldF9idWYoc3RydWN0IHZpcnRuZXRf
aW5mbyAqdmksCj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICBpZiAoKmxlbiArIHhkcF9yb29t
ID4gUEFHRV9TSVpFKQo+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4g
TlVMTDsKPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+IC0gICAgICAgICAgICAgeGRwX3BhZ2Ug
PSBhbGxvY19wYWdlKEdGUF9BVE9NSUMpOwo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgaWYg
KHJxLT5wYWdlX3Bvb2wpCj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgIHhkcF9w
YWdlID0gcGFnZV9wb29sX2Rldl9hbGxvY19wYWdlcyhycS0+cGFnZV9wb29sKTsKPiA+ID4gPiA+
ID4gPiArICAgICAgICAgICAgIGVsc2UKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAg
ICAgeGRwX3BhZ2UgPSBhbGxvY19wYWdlKEdGUF9BVE9NSUMpOwo+ID4gPiA+ID4gPiA+ICAgICAg
ICAgICAgICAgaWYgKCF4ZHBfcGFnZSkKPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgICAgICAg
ICAgcmV0dXJuIE5VTEw7Cj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiBAQCAtMTM1NCw3ICsx
Mzc4LDcgQEAgc3RhdGljIHZvaWQgKm1lcmdlYWJsZV94ZHBfZ2V0X2J1ZihzdHJ1Y3QgdmlydG5l
dF9pbmZvICp2aSwKPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ICAgICAgICpmcmFtZV9zeiA9
IFBBR0VfU0laRTsKPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+IC0gICAgIHB1dF9wYWdlKCpw
YWdlKTsKPiA+ID4gPiA+ID4gPiArICAgICB2aXJ0bmV0X3B1dF9wYWdlKHJxLCAqcGFnZSk7Cj4g
PiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiAgICAgICAqcGFnZSA9IHhkcF9wYWdlOwo+ID4gPiA+
ID4gPiA+Cj4gPiA+ID4gPiA+ID4gQEAgLTE0MDAsNiArMTQyNCw4IEBAIHN0YXRpYyBzdHJ1Y3Qg
c2tfYnVmZiAqcmVjZWl2ZV9tZXJnZWFibGVfeGRwKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYsCj4g
PiA+ID4gPiA+ID4gICAgICAgICAgICAgICBoZWFkX3NrYiA9IGJ1aWxkX3NrYl9mcm9tX3hkcF9i
dWZmKGRldiwgdmksICZ4ZHAsIHhkcF9mcmFnc190cnVlc3opOwo+ID4gPiA+ID4gPiA+ICAgICAg
ICAgICAgICAgaWYgKHVubGlrZWx5KCFoZWFkX3NrYikpCj4gPiA+ID4gPiA+ID4gICAgICAgICAg
ICAgICAgICAgICAgIGJyZWFrOwo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgaWYgKHJxLT5w
YWdlX3Bvb2wpCj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgIHNrYl9tYXJrX2Zv
cl9yZWN5Y2xlKGhlYWRfc2tiKTsKPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgIHJldHVybiBo
ZWFkX3NrYjsKPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ICAgICAgIGNhc2UgWERQX1RYOgo+
ID4gPiA+ID4gPiA+IEBAIC0xNDEwLDEwICsxNDM2LDEwIEBAIHN0YXRpYyBzdHJ1Y3Qgc2tfYnVm
ZiAqcmVjZWl2ZV9tZXJnZWFibGVfeGRwKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYsCj4gPiA+ID4g
PiA+ID4gICAgICAgICAgICAgICBicmVhazsKPiA+ID4gPiA+ID4gPiAgICAgICB9Cj4gPiA+ID4g
PiA+ID4KPiA+ID4gPiA+ID4gPiAtICAgICBwdXRfeGRwX2ZyYWdzKCZ4ZHApOwo+ID4gPiA+ID4g
PiA+ICsgICAgIHB1dF94ZHBfZnJhZ3MoJnhkcCwgcnEpOwo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4g
PiA+ID4gIGVycl94ZHA6Cj4gPiA+ID4gPiA+ID4gLSAgICAgcHV0X3BhZ2UocGFnZSk7Cj4gPiA+
ID4gPiA+ID4gKyAgICAgdmlydG5ldF9wdXRfcGFnZShycSwgcGFnZSk7Cj4gPiA+ID4gPiA+ID4g
ICAgICAgbWVyZ2VhYmxlX2J1Zl9mcmVlKHJxLCBudW1fYnVmLCBkZXYsIHN0YXRzKTsKPiA+ID4g
PiA+ID4gPgo+ID4gPiA+ID4gPiA+ICAgICAgIHN0YXRzLT54ZHBfZHJvcHMrKzsKPiA+ID4gPiA+
ID4gPiBAQCAtMTQ2Nyw2ICsxNDkzLDkgQEAgc3RhdGljIHN0cnVjdCBza19idWZmICpyZWNlaXZl
X21lcmdlYWJsZShzdHJ1Y3QgbmV0X2RldmljZSAqZGV2LAo+ID4gPiA+ID4gPiA+ICAgICAgIGhl
YWRfc2tiID0gcGFnZV90b19za2IodmksIHJxLCBwYWdlLCBvZmZzZXQsIGxlbiwgdHJ1ZXNpemUs
IGhlYWRyb29tKTsKPiA+ID4gPiA+ID4gPiAgICAgICBjdXJyX3NrYiA9IGhlYWRfc2tiOwo+ID4g
PiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gKyAgICAgaWYgKHJxLT5wYWdlX3Bvb2wpCj4gPiA+ID4g
PiA+ID4gKyAgICAgICAgICAgICBza2JfbWFya19mb3JfcmVjeWNsZShjdXJyX3NrYik7Cj4gPiA+
ID4gPiA+ID4gKwo+ID4gPiA+ID4gPiA+ICAgICAgIGlmICh1bmxpa2VseSghY3Vycl9za2IpKQo+
ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgZ290byBlcnJfc2tiOwo+ID4gPiA+ID4gPiA+ICAg
ICAgIHdoaWxlICgtLW51bV9idWYpIHsKPiA+ID4gPiA+ID4gPiBAQCAtMTUwOSw2ICsxNTM4LDgg
QEAgc3RhdGljIHN0cnVjdCBza19idWZmICpyZWNlaXZlX21lcmdlYWJsZShzdHJ1Y3QgbmV0X2Rl
dmljZSAqZGV2LAo+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgICAgICAgICBjdXJyX3NrYiA9
IG5za2I7Cj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICAgICAgICAgIGhlYWRfc2tiLT50cnVl
c2l6ZSArPSBuc2tiLT50cnVlc2l6ZTsKPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgICAgICAg
ICAgbnVtX3NrYl9mcmFncyA9IDA7Cj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAg
IGlmIChycS0+cGFnZV9wb29sKQo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIHNrYl9tYXJrX2Zvcl9yZWN5Y2xlKGN1cnJfc2tiKTsKPiA+ID4gPiA+ID4gPiAgICAg
ICAgICAgICAgIH0KPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgIGlmIChjdXJyX3NrYiAhPSBo
ZWFkX3NrYikgewo+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgICAgICAgICBoZWFkX3NrYi0+
ZGF0YV9sZW4gKz0gbGVuOwo+ID4gPiA+ID4gPiA+IEBAIC0xNTE3LDcgKzE1NDgsNyBAQCBzdGF0
aWMgc3RydWN0IHNrX2J1ZmYgKnJlY2VpdmVfbWVyZ2VhYmxlKHN0cnVjdCBuZXRfZGV2aWNlICpk
ZXYsCj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICB9Cj4gPiA+ID4gPiA+ID4gICAgICAgICAg
ICAgICBvZmZzZXQgPSBidWYgLSBwYWdlX2FkZHJlc3MocGFnZSk7Cj4gPiA+ID4gPiA+ID4gICAg
ICAgICAgICAgICBpZiAoc2tiX2Nhbl9jb2FsZXNjZShjdXJyX3NrYiwgbnVtX3NrYl9mcmFncywg
cGFnZSwgb2Zmc2V0KSkgewo+ID4gPiA+ID4gPiA+IC0gICAgICAgICAgICAgICAgICAgICBwdXRf
cGFnZShwYWdlKTsKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgdmlydG5ldF9w
dXRfcGFnZShycSwgcGFnZSk7Cj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICAgICAgICAgIHNr
Yl9jb2FsZXNjZV9yeF9mcmFnKGN1cnJfc2tiLCBudW1fc2tiX2ZyYWdzIC0gMSwKPiA+ID4gPiA+
ID4gPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVuLCB0cnVl
c2l6ZSk7Cj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICB9IGVsc2Ugewo+ID4gPiA+ID4gPiA+
IEBAIC0xNTMwLDcgKzE1NjEsNyBAQCBzdGF0aWMgc3RydWN0IHNrX2J1ZmYgKnJlY2VpdmVfbWVy
Z2VhYmxlKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYsCj4gPiA+ID4gPiA+ID4gICAgICAgcmV0dXJu
IGhlYWRfc2tiOwo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gIGVycl9za2I6Cj4gPiA+ID4g
PiA+ID4gLSAgICAgcHV0X3BhZ2UocGFnZSk7Cj4gPiA+ID4gPiA+ID4gKyAgICAgdmlydG5ldF9w
dXRfcGFnZShycSwgcGFnZSk7Cj4gPiA+ID4gPiA+ID4gICAgICAgbWVyZ2VhYmxlX2J1Zl9mcmVl
KHJxLCBudW1fYnVmLCBkZXYsIHN0YXRzKTsKPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ICBl
cnJfYnVmOgo+ID4gPiA+ID4gPiA+IEBAIC0xNzM3LDMxICsxNzY4LDQwIEBAIHN0YXRpYyBpbnQg
YWRkX3JlY3ZidWZfbWVyZ2VhYmxlKHN0cnVjdCB2aXJ0bmV0X2luZm8gKnZpLAo+ID4gPiA+ID4g
PiA+ICAgICAgICAqIGRpc2FibGVkIEdTTyBmb3IgWERQLCBpdCB3b24ndCBiZSBhIGJpZyBpc3N1
ZS4KPiA+ID4gPiA+ID4gPiAgICAgICAgKi8KPiA+ID4gPiA+ID4gPiAgICAgICBsZW4gPSBnZXRf
bWVyZ2VhYmxlX2J1Zl9sZW4ocnEsICZycS0+bXJnX2F2Z19wa3RfbGVuLCByb29tKTsKPiA+ID4g
PiA+ID4gPiAtICAgICBpZiAodW5saWtlbHkoIXNrYl9wYWdlX2ZyYWdfcmVmaWxsKGxlbiArIHJv
b20sIGFsbG9jX2ZyYWcsIGdmcCkpKQo+ID4gPiA+ID4gPiA+IC0gICAgICAgICAgICAgcmV0dXJu
IC1FTk9NRU07Cj4gPiA+ID4gPiA+ID4gKyAgICAgaWYgKHJxLT5wYWdlX3Bvb2wpIHsKPiA+ID4g
PiA+ID4gPiArICAgICAgICAgICAgIHN0cnVjdCBwYWdlICpwYWdlOwo+ID4gPiA+ID4gPiA+Cj4g
PiA+ID4gPiA+ID4gLSAgICAgYnVmID0gKGNoYXIgKilwYWdlX2FkZHJlc3MoYWxsb2NfZnJhZy0+
cGFnZSkgKyBhbGxvY19mcmFnLT5vZmZzZXQ7Cj4gPiA+ID4gPiA+ID4gLSAgICAgYnVmICs9IGhl
YWRyb29tOyAvKiBhZHZhbmNlIGFkZHJlc3MgbGVhdmluZyBob2xlIGF0IGZyb250IG9mIHBrdCAq
Lwo+ID4gPiA+ID4gPiA+IC0gICAgIGdldF9wYWdlKGFsbG9jX2ZyYWctPnBhZ2UpOwo+ID4gPiA+
ID4gPiA+IC0gICAgIGFsbG9jX2ZyYWctPm9mZnNldCArPSBsZW4gKyByb29tOwo+ID4gPiA+ID4g
PiA+IC0gICAgIGhvbGUgPSBhbGxvY19mcmFnLT5zaXplIC0gYWxsb2NfZnJhZy0+b2Zmc2V0Owo+
ID4gPiA+ID4gPiA+IC0gICAgIGlmIChob2xlIDwgbGVuICsgcm9vbSkgewo+ID4gPiA+ID4gPiA+
IC0gICAgICAgICAgICAgLyogVG8gYXZvaWQgaW50ZXJuYWwgZnJhZ21lbnRhdGlvbiwgaWYgdGhl
cmUgaXMgdmVyeSBsaWtlbHkgbm90Cj4gPiA+ID4gPiA+ID4gLSAgICAgICAgICAgICAgKiBlbm91
Z2ggc3BhY2UgZm9yIGFub3RoZXIgYnVmZmVyLCBhZGQgdGhlIHJlbWFpbmluZyBzcGFjZSB0bwo+
ID4gPiA+ID4gPiA+IC0gICAgICAgICAgICAgICogdGhlIGN1cnJlbnQgYnVmZmVyLgo+ID4gPiA+
ID4gPiA+IC0gICAgICAgICAgICAgICogWERQIGNvcmUgYXNzdW1lcyB0aGF0IGZyYW1lX3NpemUg
b2YgeGRwX2J1ZmYgYW5kIHRoZSBsZW5ndGgKPiA+ID4gPiA+ID4gPiAtICAgICAgICAgICAgICAq
IG9mIHRoZSBmcmFnIGFyZSBQQUdFX1NJWkUsIHNvIHdlIGRpc2FibGUgdGhlIGhvbGUgbWVjaGFu
aXNtLgo+ID4gPiA+ID4gPiA+IC0gICAgICAgICAgICAgICovCj4gPiA+ID4gPiA+ID4gLSAgICAg
ICAgICAgICBpZiAoIWhlYWRyb29tKQo+ID4gPiA+ID4gPiA+IC0gICAgICAgICAgICAgICAgICAg
ICBsZW4gKz0gaG9sZTsKPiA+ID4gPiA+ID4gPiAtICAgICAgICAgICAgIGFsbG9jX2ZyYWctPm9m
ZnNldCArPSBob2xlOwo+ID4gPiA+ID4gPiA+IC0gICAgIH0KPiA+ID4gPiA+ID4gPiArICAgICAg
ICAgICAgIHBhZ2UgPSBwYWdlX3Bvb2xfZGV2X2FsbG9jX3BhZ2VzKHJxLT5wYWdlX3Bvb2wpOwo+
ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgaWYgKHVubGlrZWx5KCFwYWdlKSkKPiA+ID4gPiA+
ID4gPiArICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC1FTk9NRU07Cj4gPiA+ID4gPiA+ID4g
KyAgICAgICAgICAgICBidWYgPSAoY2hhciAqKXBhZ2VfYWRkcmVzcyhwYWdlKTsKPiA+ID4gPiA+
ID4gPiArICAgICAgICAgICAgIGJ1ZiArPSBoZWFkcm9vbTsgLyogYWR2YW5jZSBhZGRyZXNzIGxl
YXZpbmcgaG9sZSBhdCBmcm9udCBvZiBwa3QgKi8KPiA+ID4gPiA+ID4gPiArICAgICB9IGVsc2Ug
ewo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgaWYgKHVubGlrZWx5KCFza2JfcGFnZV9mcmFn
X3JlZmlsbChsZW4gKyByb29tLCBhbGxvY19mcmFnLCBnZnApKSkKPiA+ID4gPiA+ID4gPiArICAg
ICAgICAgICAgICAgICAgICAgcmV0dXJuIC1FTk9NRU07Cj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+
ID4gPiArICAgICAgICAgICAgIGJ1ZiA9IChjaGFyICopcGFnZV9hZGRyZXNzKGFsbG9jX2ZyYWct
PnBhZ2UpICsgYWxsb2NfZnJhZy0+b2Zmc2V0Owo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAg
YnVmICs9IGhlYWRyb29tOyAvKiBhZHZhbmNlIGFkZHJlc3MgbGVhdmluZyBob2xlIGF0IGZyb250
IG9mIHBrdCAqLwo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgZ2V0X3BhZ2UoYWxsb2NfZnJh
Zy0+cGFnZSk7Cj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICBhbGxvY19mcmFnLT5vZmZzZXQg
Kz0gbGVuICsgcm9vbTsKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgIGhvbGUgPSBhbGxvY19m
cmFnLT5zaXplIC0gYWxsb2NfZnJhZy0+b2Zmc2V0Owo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAg
ICAgaWYgKGhvbGUgPCBsZW4gKyByb29tKSB7Cj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAg
ICAgICAgIC8qIFRvIGF2b2lkIGludGVybmFsIGZyYWdtZW50YXRpb24sIGlmIHRoZXJlIGlzIHZl
cnkgbGlrZWx5IG5vdAo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgKiBlbm91
Z2ggc3BhY2UgZm9yIGFub3RoZXIgYnVmZmVyLCBhZGQgdGhlIHJlbWFpbmluZyBzcGFjZSB0bwo+
ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgKiB0aGUgY3VycmVudCBidWZmZXIu
Cj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAqIFhEUCBjb3JlIGFzc3VtZXMg
dGhhdCBmcmFtZV9zaXplIG9mIHhkcF9idWZmIGFuZCB0aGUgbGVuZ3RoCj4gPiA+ID4gPiA+ID4g
KyAgICAgICAgICAgICAgICAgICAgICAqIG9mIHRoZSBmcmFnIGFyZSBQQUdFX1NJWkUsIHNvIHdl
IGRpc2FibGUgdGhlIGhvbGUgbWVjaGFuaXNtLgo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAg
ICAgICAgICAgKi8KPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgaWYgKCFoZWFk
cm9vbSkKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZW4gKz0g
aG9sZTsKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgYWxsb2NfZnJhZy0+b2Zm
c2V0ICs9IGhvbGU7Cj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICB9Cj4gPiA+ID4gPiA+ID4g
KyAgICAgfQo+ID4gPiA+ID4gPiA+ICAgICAgIHNnX2luaXRfb25lKHJxLT5zZywgYnVmLCBsZW4p
Owo+ID4gPiA+ID4gPiA+ICAgICAgIGN0eCA9IG1lcmdlYWJsZV9sZW5fdG9fY3R4KGxlbiArIHJv
b20sIGhlYWRyb29tKTsKPiA+ID4gPiA+ID4gPiAgICAgICBlcnIgPSB2aXJ0cXVldWVfYWRkX2lu
YnVmX2N0eChycS0+dnEsIHJxLT5zZywgMSwgYnVmLCBjdHgsIGdmcCk7Cj4gPiA+ID4gPiA+ID4g
ICAgICAgaWYgKGVyciA8IDApCj4gPiA+ID4gPiA+ID4gLSAgICAgICAgICAgICBwdXRfcGFnZSh2
aXJ0X3RvX2hlYWRfcGFnZShidWYpKTsKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgIHZpcnRu
ZXRfcHV0X3BhZ2UocnEsIHZpcnRfdG9faGVhZF9wYWdlKGJ1ZikpOwo+ID4gPiA+ID4gPiA+Cj4g
PiA+ID4gPiA+ID4gICAgICAgcmV0dXJuIGVycjsKPiA+ID4gPiA+ID4gPiAgfQo+ID4gPiA+ID4g
PiA+IEBAIC0xOTk0LDggKzIwMzQsMTUgQEAgc3RhdGljIGludCB2aXJ0bmV0X2VuYWJsZV9xdWV1
ZV9wYWlyKHN0cnVjdCB2aXJ0bmV0X2luZm8gKnZpLCBpbnQgcXBfaW5kZXgpCj4gPiA+ID4gPiA+
ID4gICAgICAgaWYgKGVyciA8IDApCj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICByZXR1cm4g
ZXJyOwo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gLSAgICAgZXJyID0geGRwX3J4cV9pbmZv
X3JlZ19tZW1fbW9kZWwoJnZpLT5ycVtxcF9pbmRleF0ueGRwX3J4cSwKPiA+ID4gPiA+ID4gPiAt
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNRU1fVFlQRV9QQUdFX1NIQVJF
RCwgTlVMTCk7Cj4gPiA+ID4gPiA+ID4gKyAgICAgaWYgKHZpLT5ycVtxcF9pbmRleF0ucGFnZV9w
b29sKQo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgZXJyID0geGRwX3J4cV9pbmZvX3JlZ19t
ZW1fbW9kZWwoJnZpLT5ycVtxcF9pbmRleF0ueGRwX3J4cSwKPiA+ID4gPiA+ID4gPiArICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1FTV9UWVBFX1BBR0VfUE9P
TCwKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIHZpLT5ycVtxcF9pbmRleF0ucGFnZV9wb29sKTsKPiA+ID4gPiA+ID4gPiArICAgICBl
bHNlCj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICBlcnIgPSB4ZHBfcnhxX2luZm9fcmVnX21l
bV9tb2RlbCgmdmktPnJxW3FwX2luZGV4XS54ZHBfcnhxLAo+ID4gPiA+ID4gPiA+ICsgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTUVNX1RZUEVfUEFHRV9TSEFS
RUQsCj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBOVUxMKTsKPiA+ID4gPiA+ID4gPiArCj4gPiA+ID4gPiA+ID4gICAgICAgaWYgKGVy
ciA8IDApCj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICBnb3RvIGVycl94ZHBfcmVnX21lbV9t
b2RlbDsKPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+IEBAIC0yOTUxLDYgKzI5OTgsNyBAQCBz
dGF0aWMgdm9pZCB2aXJ0bmV0X2dldF9zdHJpbmdzKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYsIHUz
MiBzdHJpbmdzZXQsIHU4ICpkYXRhKQo+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGV0aHRvb2xfc3ByaW50ZigmcCwgInR4X3F1ZXVlXyV1XyVzIiwgaSwKPiA+ID4g
PiA+ID4gPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmly
dG5ldF9zcV9zdGF0c19kZXNjW2pdLmRlc2MpOwo+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAg
fQo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgcGFnZV9wb29sX2V0aHRvb2xfc3RhdHNfZ2V0
X3N0cmluZ3MocCk7Cj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICBicmVhazsKPiA+ID4gPiA+
ID4gPiAgICAgICB9Cj4gPiA+ID4gPiA+ID4gIH0KPiA+ID4gPiA+ID4gPiBAQCAtMjk2MiwxMiAr
MzAxMCwzMCBAQCBzdGF0aWMgaW50IHZpcnRuZXRfZ2V0X3NzZXRfY291bnQoc3RydWN0IG5ldF9k
ZXZpY2UgKmRldiwgaW50IHNzZXQpCj4gPiA+ID4gPiA+ID4gICAgICAgc3dpdGNoIChzc2V0KSB7
Cj4gPiA+ID4gPiA+ID4gICAgICAgY2FzZSBFVEhfU1NfU1RBVFM6Cj4gPiA+ID4gPiA+ID4gICAg
ICAgICAgICAgICByZXR1cm4gdmktPmN1cnJfcXVldWVfcGFpcnMgKiAoVklSVE5FVF9SUV9TVEFU
U19MRU4gKwo+ID4gPiA+ID4gPiA+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIFZJUlRORVRfU1FfU1RBVFNfTEVOKTsKPiA+ID4gPiA+ID4gPiArICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBWSVJUTkVUX1NRX1NUQVRTX0xFTiAr
Cj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIChwYWdlX3Bvb2xfZW5hYmxlZCAmJiB2aS0+bWVyZ2VhYmxlX3J4X2J1ZnMgPwo+ID4gPiA+
ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFn
ZV9wb29sX2V0aHRvb2xfc3RhdHNfZ2V0X2NvdW50KCkgOiAwKSk7Cj4gPiA+ID4gPiA+ID4gICAg
ICAgZGVmYXVsdDoKPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgIHJldHVybiAtRU9QTk9UU1VQ
UDsKPiA+ID4gPiA+ID4gPiAgICAgICB9Cj4gPiA+ID4gPiA+ID4gIH0KPiA+ID4gPiA+ID4gPgo+
ID4gPiA+ID4gPiA+ICtzdGF0aWMgdm9pZCB2aXJ0bmV0X2dldF9wYWdlX3Bvb2xfc3RhdHMoc3Ry
dWN0IG5ldF9kZXZpY2UgKmRldiwgdTY0ICpkYXRhKQo+ID4gPiA+ID4gPiA+ICt7Cj4gPiA+ID4g
PiA+ID4gKyNpZmRlZiBDT05GSUdfUEFHRV9QT09MX1NUQVRTCj4gPiA+ID4gPiA+ID4gKyAgICAg
c3RydWN0IHZpcnRuZXRfaW5mbyAqdmkgPSBuZXRkZXZfcHJpdihkZXYpOwo+ID4gPiA+ID4gPiA+
ICsgICAgIHN0cnVjdCBwYWdlX3Bvb2xfc3RhdHMgcHBfc3RhdHMgPSB7fTsKPiA+ID4gPiA+ID4g
PiArICAgICBpbnQgaTsKPiA+ID4gPiA+ID4gPiArCj4gPiA+ID4gPiA+ID4gKyAgICAgZm9yIChp
ID0gMDsgaSA8IHZpLT5jdXJyX3F1ZXVlX3BhaXJzOyBpKyspIHsKPiA+ID4gPiA+ID4gPiArICAg
ICAgICAgICAgIGlmICghdmktPnJxW2ldLnBhZ2VfcG9vbCkKPiA+ID4gPiA+ID4gPiArICAgICAg
ICAgICAgICAgICAgICAgY29udGludWU7Cj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICBwYWdl
X3Bvb2xfZ2V0X3N0YXRzKHZpLT5ycVtpXS5wYWdlX3Bvb2wsICZwcF9zdGF0cyk7Cj4gPiA+ID4g
PiA+ID4gKyAgICAgfQo+ID4gPiA+ID4gPiA+ICsgICAgIHBhZ2VfcG9vbF9ldGh0b29sX3N0YXRz
X2dldChkYXRhLCAmcHBfc3RhdHMpOwo+ID4gPiA+ID4gPiA+ICsjZW5kaWYgLyogQ09ORklHX1BB
R0VfUE9PTF9TVEFUUyAqLwo+ID4gPiA+ID4gPiA+ICt9Cj4gPiA+ID4gPiA+ID4gKwo+ID4gPiA+
ID4gPiA+ICBzdGF0aWMgdm9pZCB2aXJ0bmV0X2dldF9ldGh0b29sX3N0YXRzKHN0cnVjdCBuZXRf
ZGV2aWNlICpkZXYsCj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgc3RydWN0IGV0aHRvb2xfc3RhdHMgKnN0YXRzLCB1NjQgKmRhdGEpCj4gPiA+ID4gPiA+
ID4gIHsKPiA+ID4gPiA+ID4gPiBAQCAtMzAwMyw2ICszMDY5LDggQEAgc3RhdGljIHZvaWQgdmly
dG5ldF9nZXRfZXRodG9vbF9zdGF0cyhzdHJ1Y3QgbmV0X2RldmljZSAqZGV2LAo+ID4gPiA+ID4g
PiA+ICAgICAgICAgICAgICAgfSB3aGlsZSAodTY0X3N0YXRzX2ZldGNoX3JldHJ5KCZzcS0+c3Rh
dHMuc3luY3AsIHN0YXJ0KSk7Cj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICBpZHggKz0gVklS
VE5FVF9TUV9TVEFUU19MRU47Cj4gPiA+ID4gPiA+ID4gICAgICAgfQo+ID4gPiA+ID4gPiA+ICsK
PiA+ID4gPiA+ID4gPiArICAgICB2aXJ0bmV0X2dldF9wYWdlX3Bvb2xfc3RhdHMoZGV2LCAmZGF0
YVtpZHhdKTsKPiA+ID4gPiA+ID4gPiAgfQo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gIHN0
YXRpYyB2b2lkIHZpcnRuZXRfZ2V0X2NoYW5uZWxzKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYsCj4g
PiA+ID4gPiA+ID4gQEAgLTM2MjMsNiArMzY5MSw4IEBAIHN0YXRpYyB2b2lkIHZpcnRuZXRfZnJl
ZV9xdWV1ZXMoc3RydWN0IHZpcnRuZXRfaW5mbyAqdmkpCj4gPiA+ID4gPiA+ID4gICAgICAgZm9y
IChpID0gMDsgaSA8IHZpLT5tYXhfcXVldWVfcGFpcnM7IGkrKykgewo+ID4gPiA+ID4gPiA+ICAg
ICAgICAgICAgICAgX19uZXRpZl9uYXBpX2RlbCgmdmktPnJxW2ldLm5hcGkpOwo+ID4gPiA+ID4g
PiA+ICAgICAgICAgICAgICAgX19uZXRpZl9uYXBpX2RlbCgmdmktPnNxW2ldLm5hcGkpOwo+ID4g
PiA+ID4gPiA+ICsgICAgICAgICAgICAgaWYgKHZpLT5ycVtpXS5wYWdlX3Bvb2wpCj4gPiA+ID4g
PiA+ID4gKyAgICAgICAgICAgICAgICAgICAgIHBhZ2VfcG9vbF9kZXN0cm95KHZpLT5ycVtpXS5w
YWdlX3Bvb2wpOwo+ID4gPiA+ID4gPiA+ICAgICAgIH0KPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4g
PiA+ICAgICAgIC8qIFdlIGNhbGxlZCBfX25ldGlmX25hcGlfZGVsKCksCj4gPiA+ID4gPiA+ID4g
QEAgLTM2NzksMTIgKzM3NDksMTkgQEAgc3RhdGljIHZvaWQgdmlydG5ldF9ycV9mcmVlX3VudXNl
ZF9idWYoc3RydWN0IHZpcnRxdWV1ZSAqdnEsIHZvaWQgKmJ1ZikKPiA+ID4gPiA+ID4gPiAgICAg
ICBzdHJ1Y3QgdmlydG5ldF9pbmZvICp2aSA9IHZxLT52ZGV2LT5wcml2Owo+ID4gPiA+ID4gPiA+
ICAgICAgIGludCBpID0gdnEycnhxKHZxKTsKPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+IC0g
ICAgIGlmICh2aS0+bWVyZ2VhYmxlX3J4X2J1ZnMpCj4gPiA+ID4gPiA+ID4gLSAgICAgICAgICAg
ICBwdXRfcGFnZSh2aXJ0X3RvX2hlYWRfcGFnZShidWYpKTsKPiA+ID4gPiA+ID4gPiAtICAgICBl
bHNlIGlmICh2aS0+YmlnX3BhY2tldHMpCj4gPiA+ID4gPiA+ID4gKyAgICAgaWYgKHZpLT5tZXJn
ZWFibGVfcnhfYnVmcykgewo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgaWYgKHZpLT5ycVtp
XS5wYWdlX3Bvb2wpIHsKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgcGFnZV9w
b29sX3B1dF9mdWxsX3BhZ2UodmktPnJxW2ldLnBhZ2VfcG9vbCwKPiA+ID4gPiA+ID4gPiArICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlydF90b19oZWFkX3Bh
Z2UoYnVmKSwKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgdHJ1ZSk7Cj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICB9IGVsc2Ugewo+
ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICBwdXRfcGFnZSh2aXJ0X3RvX2hlYWRf
cGFnZShidWYpKTsKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgIH0KPiA+ID4gPiA+ID4gPiAr
ICAgICB9IGVsc2UgaWYgKHZpLT5iaWdfcGFja2V0cykgewo+ID4gPiA+ID4gPiA+ICAgICAgICAg
ICAgICAgZ2l2ZV9wYWdlcygmdmktPnJxW2ldLCBidWYpOwo+ID4gPiA+ID4gPiA+IC0gICAgIGVs
c2UKPiA+ID4gPiA+ID4gPiArICAgICB9IGVsc2Ugewo+ID4gPiA+ID4gPiA+ICAgICAgICAgICAg
ICAgcHV0X3BhZ2UodmlydF90b19oZWFkX3BhZ2UoYnVmKSk7Cj4gPiA+ID4gPiA+ID4gKyAgICAg
fQo+ID4gPiA+ID4gPiA+ICB9Cj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiAgc3RhdGljIHZv
aWQgZnJlZV91bnVzZWRfYnVmcyhzdHJ1Y3QgdmlydG5ldF9pbmZvICp2aSkKPiA+ID4gPiA+ID4g
PiBAQCAtMzcxOCw2ICszNzk1LDI2IEBAIHN0YXRpYyB2b2lkIHZpcnRuZXRfZGVsX3ZxcyhzdHJ1
Y3QgdmlydG5ldF9pbmZvICp2aSkKPiA+ID4gPiA+ID4gPiAgICAgICB2aXJ0bmV0X2ZyZWVfcXVl
dWVzKHZpKTsKPiA+ID4gPiA+ID4gPiAgfQo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gK3N0
YXRpYyB2b2lkIHZpcnRuZXRfYWxsb2NfcGFnZV9wb29sKHN0cnVjdCByZWNlaXZlX3F1ZXVlICpy
cSkKPiA+ID4gPiA+ID4gPiArewo+ID4gPiA+ID4gPiA+ICsgICAgIHN0cnVjdCB2aXJ0aW9fZGV2
aWNlICp2ZGV2ID0gcnEtPnZxLT52ZGV2Owo+ID4gPiA+ID4gPiA+ICsKPiA+ID4gPiA+ID4gPiAr
ICAgICBzdHJ1Y3QgcGFnZV9wb29sX3BhcmFtcyBwcF9wYXJhbXMgPSB7Cj4gPiA+ID4gPiA+ID4g
KyAgICAgICAgICAgICAub3JkZXIgPSAwLAo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgLnBv
b2xfc2l6ZSA9IHJxLT52cS0+bnVtX21heCwKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgIC5u
aWQgPSBkZXZfdG9fbm9kZSh2ZGV2LT5kZXYucGFyZW50KSwKPiA+ID4gPiA+ID4gPiArICAgICAg
ICAgICAgIC5kZXYgPSB2ZGV2LT5kZXYucGFyZW50LAo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAg
ICAgLm9mZnNldCA9IDAsCj4gPiA+ID4gPiA+ID4gKyAgICAgfTsKPiA+ID4gPiA+ID4gPiArCj4g
PiA+ID4gPiA+ID4gKyAgICAgcnEtPnBhZ2VfcG9vbCA9IHBhZ2VfcG9vbF9jcmVhdGUoJnBwX3Bh
cmFtcyk7Cj4gPiA+ID4gPiA+ID4gKyAgICAgaWYgKElTX0VSUihycS0+cGFnZV9wb29sKSkgewo+
ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgZGV2X3dhcm4oJnZkZXYtPmRldiwgInBhZ2UgcG9v
bCBjcmVhdGlvbiBmYWlsZWQ6ICVsZFxuIiwKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAg
ICAgICAgIFBUUl9FUlIocnEtPnBhZ2VfcG9vbCkpOwo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAg
ICAgcnEtPnBhZ2VfcG9vbCA9IE5VTEw7Cj4gPiA+ID4gPiA+ID4gKyAgICAgfQo+ID4gPiA+ID4g
PiA+ICt9Cj4gPiA+ID4gPiA+ID4gKwo+ID4gPiA+ID4gPiA+ICAvKiBIb3cgbGFyZ2Ugc2hvdWxk
IGEgc2luZ2xlIGJ1ZmZlciBiZSBzbyBhIHF1ZXVlIGZ1bGwgb2YgdGhlc2UgY2FuIGZpdCBhdAo+
ID4gPiA+ID4gPiA+ICAgKiBsZWFzdCBvbmUgZnVsbCBwYWNrZXQ/Cj4gPiA+ID4gPiA+ID4gICAq
IExvZ2ljIGJlbG93IGFzc3VtZXMgdGhlIG1lcmdlYWJsZSBidWZmZXIgaGVhZGVyIGlzIHVzZWQu
Cj4gPiA+ID4gPiA+ID4gQEAgLTM4MDEsNiArMzg5OCwxMyBAQCBzdGF0aWMgaW50IHZpcnRuZXRf
ZmluZF92cXMoc3RydWN0IHZpcnRuZXRfaW5mbyAqdmkpCj4gPiA+ID4gPiA+ID4gICAgICAgICAg
ICAgICB2aS0+cnFbaV0udnEgPSB2cXNbcnhxMnZxKGkpXTsKPiA+ID4gPiA+ID4gPiAgICAgICAg
ICAgICAgIHZpLT5ycVtpXS5taW5fYnVmX2xlbiA9IG1lcmdlYWJsZV9taW5fYnVmX2xlbih2aSwg
dmktPnJxW2ldLnZxKTsKPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgIHZpLT5zcVtpXS52cSA9
IHZxc1t0eHEydnEoaSldOwo+ID4gPiA+ID4gPiA+ICsKPiA+ID4gPiA+ID4gPiArICAgICAgICAg
ICAgIGlmIChwYWdlX3Bvb2xfZW5hYmxlZCAmJiB2aS0+bWVyZ2VhYmxlX3J4X2J1ZnMpCj4gPiA+
ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgIHZpcnRuZXRfYWxsb2NfcGFnZV9wb29sKCZ2
aS0+cnFbaV0pOwo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgZWxzZQo+ID4gPiA+ID4gPiA+
ICsgICAgICAgICAgICAgICAgICAgICBkZXZfd2FybigmdmktPnZkZXYtPmRldiwKPiA+ID4gPiA+
ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInBhZ2UgcG9vbCBvbmx5IHN1cHBv
cnQgbWVyZ2VhYmxlIG1vZGVcbiIpOwo+ID4gPiA+ID4gPiA+ICsKPiA+ID4gPiA+ID4gPiAgICAg
ICB9Cj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiAgICAgICAvKiBydW4gaGVyZTogcmV0ID09
IDAuICovCj4gPiA+ID4gPiA+ID4gLS0KPiA+ID4gPiA+ID4gPiAyLjMxLjEKPiA+ID4gPiA+ID4K
PiA+ID4gPgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpW
aXJ0dWFsaXphdGlvbiBtYWlsaW5nIGxpc3QKVmlydHVhbGl6YXRpb25AbGlzdHMubGludXgtZm91
bmRhdGlvbi5vcmcKaHR0cHM6Ly9saXN0cy5saW51eGZvdW5kYXRpb24ub3JnL21haWxtYW4vbGlz
dGluZm8vdmlydHVhbGl6YXRpb24=

