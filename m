Return-Path: <virtualization-bounces@lists.linux-foundation.org>
X-Original-To: lists.virtualization@lfdr.de
Delivered-To: lists.virtualization@lfdr.de
Received: from smtp1.osuosl.org (smtp1.osuosl.org [140.211.166.138])
	by mail.lfdr.de (Postfix) with ESMTPS id 996D64C6179
	for <lists.virtualization@lfdr.de>; Mon, 28 Feb 2022 03:57:23 +0100 (CET)
Received: from localhost (localhost [127.0.0.1])
	by smtp1.osuosl.org (Postfix) with ESMTP id 1C67682C21;
	Mon, 28 Feb 2022 02:57:22 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp1.osuosl.org ([127.0.0.1])
	by localhost (smtp1.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Rb2rMCUuntfe; Mon, 28 Feb 2022 02:57:20 +0000 (UTC)
Received: from lists.linuxfoundation.org (lf-lists.osuosl.org [IPv6:2605:bc80:3010:104::8cd3:938])
	by smtp1.osuosl.org (Postfix) with ESMTPS id 65EB982C33;
	Mon, 28 Feb 2022 02:57:20 +0000 (UTC)
Received: from lf-lists.osuosl.org (localhost [127.0.0.1])
	by lists.linuxfoundation.org (Postfix) with ESMTP id BF480C007B;
	Mon, 28 Feb 2022 02:57:19 +0000 (UTC)
X-Original-To: virtualization@lists.linux-foundation.org
Delivered-To: virtualization@lists.linuxfoundation.org
Received: from smtp4.osuosl.org (smtp4.osuosl.org [140.211.166.137])
 by lists.linuxfoundation.org (Postfix) with ESMTP id D7A37C001A
 for <virtualization@lists.linux-foundation.org>;
 Mon, 28 Feb 2022 02:57:17 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by smtp4.osuosl.org (Postfix) with ESMTP id BB309408DB
 for <virtualization@lists.linux-foundation.org>;
 Mon, 28 Feb 2022 02:57:17 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
Authentication-Results: smtp4.osuosl.org (amavisd-new);
 dkim=pass (1024-bit key) header.d=redhat.com
Received: from smtp4.osuosl.org ([127.0.0.1])
 by localhost (smtp4.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id zbji79pxp0ZK
 for <virtualization@lists.linux-foundation.org>;
 Mon, 28 Feb 2022 02:57:16 +0000 (UTC)
X-Greylist: domain auto-whitelisted by SQLgrey-1.8.0
Received: from us-smtp-delivery-124.mimecast.com
 (us-smtp-delivery-124.mimecast.com [170.10.133.124])
 by smtp4.osuosl.org (Postfix) with ESMTPS id 80249408D9
 for <virtualization@lists.linux-foundation.org>;
 Mon, 28 Feb 2022 02:57:16 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=redhat.com;
 s=mimecast20190719; t=1646017035;
 h=from:from:reply-to:subject:subject:date:date:message-id:message-id:
 to:to:cc:cc:mime-version:mime-version:content-type:content-type:
 content-transfer-encoding:content-transfer-encoding:
 in-reply-to:in-reply-to:references:references;
 bh=4diInCLbzqD35lH46zJ6qE6x0A0sjgqJpeQbU3/QudU=;
 b=FtJraTHcBxQAswC+KE1MjTWd6g8idqfWFv75aBj1PDmD2NAJ1ccgcBoGfc5g2VJt2gw8qt
 v5BJ9GYA2jqOVXV27uihFP0kuwb+8p4cuVPyRqPNQdnfKUqdCIngqpsy0bjd8PztyGZ4qP
 TotvUPa/DJQqHg44HgmP+yFizbgSPHA=
Received: from mail-pj1-f69.google.com (mail-pj1-f69.google.com
 [209.85.216.69]) by relay.mimecast.com with ESMTP with STARTTLS
 (version=TLSv1.2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 us-mta-512-HwuVgWkSM3iZJ8kPX37cNQ-1; Sun, 27 Feb 2022 21:57:13 -0500
X-MC-Unique: HwuVgWkSM3iZJ8kPX37cNQ-1
Received: by mail-pj1-f69.google.com with SMTP id
 z4-20020a17090ad78400b001bc8d98be2aso7907177pju.6
 for <virtualization@lists.linux-foundation.org>;
 Sun, 27 Feb 2022 18:57:13 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20210112;
 h=x-gm-message-state:message-id:date:mime-version:user-agent:subject
 :content-language:to:cc:references:from:in-reply-to
 :content-transfer-encoding;
 bh=4diInCLbzqD35lH46zJ6qE6x0A0sjgqJpeQbU3/QudU=;
 b=UbBjZrrp7wzTfKYGxwG5pqYqD7Fr0cPLDlOCndsWxWnt+u11rJ1Rwy7739TrG/NkYN
 G2alupM8djCaFh0cVTXQ1+5YNuJCD6XNfdjJoWNYqrD/JTJADDTHhBn3oId0hV0uwoj3
 ft+WwHYPBsKTR+zPbSRhg54ncbG2uFcelu2PkFN+cmIPI1RomdUjFnBvclaPT5sYs43k
 1ZNhgbnHTy04BI0JoaFJNlFXs1Q09wkYZwSQHdJWOijgi1fflIP045y6QoG8C5YRuXg0
 8D1WsvVqHBHLMKdWd1CMxPXMbC22+ssSx2lKPsMfoNFeWyHRgb2XE2qivXq6JIwElpqn
 GjFg==
X-Gm-Message-State: AOAM530kS20VgGs3aAL/dyJKdtChK029RLPwTLH+op3nnEtfrBhm+5zh
 wsmZkVugUc84EQumQCg8XlCkBiAPssptDOBRvpiMxbnZnpd9Ymldoy8jAscmH0UO6MrcTC2lPOL
 +Fg0Y2smdQgxnNE+Ysmk9fTqxMZbEd9EFlwZmjuLQ0g==
X-Received: by 2002:aa7:8890:0:b0:4e1:b25b:634c with SMTP id
 z16-20020aa78890000000b004e1b25b634cmr19403471pfe.31.1646017032802; 
 Sun, 27 Feb 2022 18:57:12 -0800 (PST)
X-Google-Smtp-Source: ABdhPJy9UgZWEQ23+bCJFhOe36gb9vUsCgp/BcSXK9A4zkLnNoW3O26Cka36oJW3TooSxb+XmuMvMg==
X-Received: by 2002:aa7:8890:0:b0:4e1:b25b:634c with SMTP id
 z16-20020aa78890000000b004e1b25b634cmr19403417pfe.31.1646017032395; 
 Sun, 27 Feb 2022 18:57:12 -0800 (PST)
Received: from [10.72.13.215] ([209.132.188.80])
 by smtp.gmail.com with ESMTPSA id
 c72-20020a624e4b000000b004f3ff3a3fb2sm3053267pfb.118.2022.02.27.18.57.02
 (version=TLS1_3 cipher=TLS_AES_128_GCM_SHA256 bits=128/128);
 Sun, 27 Feb 2022 18:57:11 -0800 (PST)
Message-ID: <40c5bb81-b33a-9a4a-8ce0-20289b13b907@redhat.com>
Date: Mon, 28 Feb 2022 10:57:00 +0800
MIME-Version: 1.0
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:91.0)
 Gecko/20100101 Thunderbird/91.6.1
Subject: Re: [PATCH v2 02/14] vhost: Add Shadow VirtQueue kick forwarding
 capabilities
To: =?UTF-8?Q?Eugenio_P=c3=a9rez?= <eperezma@redhat.com>, qemu-devel@nongnu.org
References: <20220227134111.3254066-1-eperezma@redhat.com>
 <20220227134111.3254066-3-eperezma@redhat.com>
From: Jason Wang <jasowang@redhat.com>
In-Reply-To: <20220227134111.3254066-3-eperezma@redhat.com>
Authentication-Results: relay.mimecast.com;
 auth=pass smtp.auth=CUSA124A263 smtp.mailfrom=jasowang@redhat.com
X-Mimecast-Spam-Score: 0
X-Mimecast-Originator: redhat.com
Content-Language: en-US
Cc: "Michael S. Tsirkin" <mst@redhat.com>,
 virtualization@lists.linux-foundation.org, Eli Cohen <eli@mellanox.com>,
 Eric Blake <eblake@redhat.com>, Parav Pandit <parav@mellanox.com>,
 Cindy Lu <lulu@redhat.com>, "Fangyi \(Eric\)" <eric.fangyi@huawei.com>,
 Markus Armbruster <armbru@redhat.com>, yebiaoxiang@huawei.com,
 Liuxiangdong <liuxiangdong5@huawei.com>, Laurent Vivier <lvivier@redhat.com>,
 Eduardo Habkost <ehabkost@redhat.com>,
 Richard Henderson <richard.henderson@linaro.org>,
 Gautam Dawar <gdawar@xilinx.com>, Xiao W Wang <xiao.w.wang@intel.com>,
 Stefan Hajnoczi <stefanha@redhat.com>,
 Harpreet Singh Anand <hanand@xilinx.com>, Paolo Bonzini <pbonzini@redhat.com>,
 Lingshan <lingshan.zhu@intel.com>
X-BeenThere: virtualization@lists.linux-foundation.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: Linux virtualization <virtualization.lists.linux-foundation.org>
List-Unsubscribe: <https://lists.linuxfoundation.org/mailman/options/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=unsubscribe>
List-Archive: <http://lists.linuxfoundation.org/pipermail/virtualization/>
List-Post: <mailto:virtualization@lists.linux-foundation.org>
List-Help: <mailto:virtualization-request@lists.linux-foundation.org?subject=help>
List-Subscribe: <https://lists.linuxfoundation.org/mailman/listinfo/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: virtualization-bounces@lists.linux-foundation.org
Sender: "Virtualization" <virtualization-bounces@lists.linux-foundation.org>

CuWcqCAyMDIyLzIvMjcg5LiL5Y2IOTo0MCwgRXVnZW5pbyBQw6lyZXog5YaZ6YGTOgo+IEF0IHRo
aXMgbW9kZSBubyBidWZmZXIgZm9yd2FyZGluZyB3aWxsIGJlIHBlcmZvcm1lZCBpbiBTVlEgbW9k
ZTogUWVtdQo+IHdpbGwganVzdCBmb3J3YXJkIHRoZSBndWVzdCdzIGtpY2tzIHRvIHRoZSBkZXZp
Y2UuCj4KPiBIb3N0IG1lbW9yeSBub3RpZmllcnMgcmVnaW9ucyBhcmUgbGVmdCBvdXQgZm9yIHNp
bXBsaWNpdHksIGFuZCB0aGV5IHdpbGwKPiBub3QgYmUgYWRkcmVzc2VkIGluIHRoaXMgc2VyaWVz
Lgo+Cj4gU2lnbmVkLW9mZi1ieTogRXVnZW5pbyBQw6lyZXogPGVwZXJlem1hQHJlZGhhdC5jb20+
Cj4gLS0tCj4gICBody92aXJ0aW8vdmhvc3Qtc2hhZG93LXZpcnRxdWV1ZS5oIHwgIDE0ICsrKwo+
ICAgaW5jbHVkZS9ody92aXJ0aW8vdmhvc3QtdmRwYS5oICAgICB8ICAgNCArCj4gICBody92aXJ0
aW8vdmhvc3Qtc2hhZG93LXZpcnRxdWV1ZS5jIHwgIDUyICsrKysrKysrKysrCj4gICBody92aXJ0
aW8vdmhvc3QtdmRwYS5jICAgICAgICAgICAgIHwgMTQ1ICsrKysrKysrKysrKysrKysrKysrKysr
KysrKystCj4gICA0IGZpbGVzIGNoYW5nZWQsIDIxMyBpbnNlcnRpb25zKCspLCAyIGRlbGV0aW9u
cygtKQo+Cj4gZGlmZiAtLWdpdCBhL2h3L3ZpcnRpby92aG9zdC1zaGFkb3ctdmlydHF1ZXVlLmgg
Yi9ody92aXJ0aW8vdmhvc3Qtc2hhZG93LXZpcnRxdWV1ZS5oCj4gaW5kZXggZjE1MTllM2M3Yi4u
MWNiYzg3ZDVkOCAxMDA2NDQKPiAtLS0gYS9ody92aXJ0aW8vdmhvc3Qtc2hhZG93LXZpcnRxdWV1
ZS5oCj4gKysrIGIvaHcvdmlydGlvL3Zob3N0LXNoYWRvdy12aXJ0cXVldWUuaAo+IEBAIC0xOCw4
ICsxOCwyMiBAQCB0eXBlZGVmIHN0cnVjdCBWaG9zdFNoYWRvd1ZpcnRxdWV1ZSB7Cj4gICAgICAg
RXZlbnROb3RpZmllciBoZGV2X2tpY2s7Cj4gICAgICAgLyogU2hhZG93IGNhbGwgbm90aWZpZXIs
IHNlbnQgdG8gdmhvc3QgKi8KPiAgICAgICBFdmVudE5vdGlmaWVyIGhkZXZfY2FsbDsKPiArCj4g
KyAgICAvKgo+ICsgICAgICogQm9ycm93ZWQgdmlydHF1ZXVlJ3MgZ3Vlc3QgdG8gaG9zdCBub3Rp
Zmllci4gVG8gYm9ycm93IGl0IGluIHRoaXMgZXZlbnQKPiArICAgICAqIG5vdGlmaWVyIGFsbG93
cyB0byByZWNvdmVyIHRoZSBWaG9zdFNoYWRvd1ZpcnRxdWV1ZSBmcm9tIHRoZSBldmVudCBsb29w
Cj4gKyAgICAgKiBlYXNpbHkuIElmIHdlIHVzZSB0aGUgVmlydFF1ZXVlJ3Mgb25lLCB3ZSBkb24n
dCBoYXZlIGFuIGVhc3kgd2F5IHRvCj4gKyAgICAgKiByZXRyaWV2ZSBWaG9zdFNoYWRvd1ZpcnRx
dWV1ZS4KPiArICAgICAqCj4gKyAgICAgKiBTbyBzaGFkb3cgdmlydHF1ZXVlIG11c3Qgbm90IGNs
ZWFuIGl0LCBvciB3ZSB3b3VsZCBsb3NlIFZpcnRRdWV1ZSBvbmUuCj4gKyAgICAgKi8KPiArICAg
IEV2ZW50Tm90aWZpZXIgc3ZxX2tpY2s7Cj4gICB9IFZob3N0U2hhZG93VmlydHF1ZXVlOwo+ICAg
Cj4gK3ZvaWQgdmhvc3Rfc3ZxX3NldF9zdnFfa2lja19mZChWaG9zdFNoYWRvd1ZpcnRxdWV1ZSAq
c3ZxLCBpbnQgc3ZxX2tpY2tfZmQpOwo+ICsKPiArdm9pZCB2aG9zdF9zdnFfc3RvcChWaG9zdFNo
YWRvd1ZpcnRxdWV1ZSAqc3ZxKTsKPiArCj4gICBWaG9zdFNoYWRvd1ZpcnRxdWV1ZSAqdmhvc3Rf
c3ZxX25ldyh2b2lkKTsKPiAgIAo+ICAgdm9pZCB2aG9zdF9zdnFfZnJlZShncG9pbnRlciB2cSk7
Cj4gZGlmZiAtLWdpdCBhL2luY2x1ZGUvaHcvdmlydGlvL3Zob3N0LXZkcGEuaCBiL2luY2x1ZGUv
aHcvdmlydGlvL3Zob3N0LXZkcGEuaAo+IGluZGV4IDNjZTc5YTY0NmQuLjAwOWE5ZjNiNmIgMTAw
NjQ0Cj4gLS0tIGEvaW5jbHVkZS9ody92aXJ0aW8vdmhvc3QtdmRwYS5oCj4gKysrIGIvaW5jbHVk
ZS9ody92aXJ0aW8vdmhvc3QtdmRwYS5oCj4gQEAgLTEyLDYgKzEyLDggQEAKPiAgICNpZm5kZWYg
SFdfVklSVElPX1ZIT1NUX1ZEUEFfSAo+ICAgI2RlZmluZSBIV19WSVJUSU9fVkhPU1RfVkRQQV9I
Cj4gICAKPiArI2luY2x1ZGUgPGdtb2R1bGUuaD4KPiArCj4gICAjaW5jbHVkZSAiaHcvdmlydGlv
L3ZpcnRpby5oIgo+ICAgI2luY2x1ZGUgInN0YW5kYXJkLWhlYWRlcnMvbGludXgvdmhvc3RfdHlw
ZXMuaCIKPiAgIAo+IEBAIC0yNyw2ICsyOSw4IEBAIHR5cGVkZWYgc3RydWN0IHZob3N0X3ZkcGEg
ewo+ICAgICAgIGJvb2wgaW90bGJfYmF0Y2hfYmVnaW5fc2VudDsKPiAgICAgICBNZW1vcnlMaXN0
ZW5lciBsaXN0ZW5lcjsKPiAgICAgICBzdHJ1Y3Qgdmhvc3RfdmRwYV9pb3ZhX3JhbmdlIGlvdmFf
cmFuZ2U7Cj4gKyAgICBib29sIHNoYWRvd192cXNfZW5hYmxlZDsKPiArICAgIEdQdHJBcnJheSAq
c2hhZG93X3ZxczsKPiAgICAgICBzdHJ1Y3Qgdmhvc3RfZGV2ICpkZXY7Cj4gICAgICAgVmhvc3RW
RFBBSG9zdE5vdGlmaWVyIG5vdGlmaWVyW1ZJUlRJT19RVUVVRV9NQVhdOwo+ICAgfSBWaG9zdFZE
UEE7Cj4gZGlmZiAtLWdpdCBhL2h3L3ZpcnRpby92aG9zdC1zaGFkb3ctdmlydHF1ZXVlLmMgYi9o
dy92aXJ0aW8vdmhvc3Qtc2hhZG93LXZpcnRxdWV1ZS5jCj4gaW5kZXggMDE5Y2YxOTUwZi4uYTVk
MDY1OWY4NiAxMDA2NDQKPiAtLS0gYS9ody92aXJ0aW8vdmhvc3Qtc2hhZG93LXZpcnRxdWV1ZS5j
Cj4gKysrIGIvaHcvdmlydGlvL3Zob3N0LXNoYWRvdy12aXJ0cXVldWUuYwo+IEBAIC0xMSw2ICsx
MSw1NiBAQAo+ICAgI2luY2x1ZGUgImh3L3ZpcnRpby92aG9zdC1zaGFkb3ctdmlydHF1ZXVlLmgi
Cj4gICAKPiAgICNpbmNsdWRlICJxZW11L2Vycm9yLXJlcG9ydC5oIgo+ICsjaW5jbHVkZSAicWVt
dS9tYWluLWxvb3AuaCIKPiArI2luY2x1ZGUgImxpbnV4LWhlYWRlcnMvbGludXgvdmhvc3QuaCIK
PiArCj4gKy8qKiBGb3J3YXJkIGd1ZXN0IG5vdGlmaWNhdGlvbnMgKi8KPiArc3RhdGljIHZvaWQg
dmhvc3RfaGFuZGxlX2d1ZXN0X2tpY2soRXZlbnROb3RpZmllciAqbikKPiArewo+ICsgICAgVmhv
c3RTaGFkb3dWaXJ0cXVldWUgKnN2cSA9IGNvbnRhaW5lcl9vZihuLCBWaG9zdFNoYWRvd1ZpcnRx
dWV1ZSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Zx
X2tpY2spOwo+ICsgICAgZXZlbnRfbm90aWZpZXJfdGVzdF9hbmRfY2xlYXIobik7Cj4gKyAgICBl
dmVudF9ub3RpZmllcl9zZXQoJnN2cS0+aGRldl9raWNrKTsKPiArfQo+ICsKPiArLyoqCj4gKyAq
IFNldCBhIG5ldyBmaWxlIGRlc2NyaXB0b3IgZm9yIHRoZSBndWVzdCB0byBraWNrIHRoZSBTVlEg
YW5kIG5vdGlmeSBmb3IgYXZhaWwKPiArICoKPiArICogQHN2cSAgICAgICAgICBUaGUgc3ZxCj4g
KyAqIEBzdnFfa2lja19mZCAgVGhlIHN2cSBraWNrIGZkCj4gKyAqCj4gKyAqIE5vdGUgdGhhdCB0
aGUgU1ZRIHdpbGwgbmV2ZXIgY2xvc2UgdGhlIG9sZCBmaWxlIGRlc2NyaXB0b3IuCj4gKyAqLwo+
ICt2b2lkIHZob3N0X3N2cV9zZXRfc3ZxX2tpY2tfZmQoVmhvc3RTaGFkb3dWaXJ0cXVldWUgKnN2
cSwgaW50IHN2cV9raWNrX2ZkKQo+ICt7Cj4gKyAgICBFdmVudE5vdGlmaWVyICpzdnFfa2ljayA9
ICZzdnEtPnN2cV9raWNrOwo+ICsgICAgYm9vbCBwb2xsX3N0b3AgPSBWSE9TVF9GSUxFX1VOQklO
RCAhPSBldmVudF9ub3RpZmllcl9nZXRfZmQoc3ZxX2tpY2spOwoKCkkgd29uZGVyIGlmIHRoaXMg
aXMgcm9idXN0LiBFLmcgaXMgdGhlcmUgYW55IGNoYW5jZSB0aGF0IG1heSBlbmQgdXAgd2l0aCAK
Ym90aCBwb2xsX3N0b3AgYW5kIHBvbGxfc3RhcnQgYXJlIGZhbHNlPwoKSWYgbm90LCBjYW4gd2Ug
c2ltcGxlIGRldGVjdCBwb2xsX3N0b3AgYXMgYmVsb3cgYW5kIHRyZWF0ICFwb2xsX3N0YXJ0IAph
bmQgcG9sbF9zdG9wPwoKT3RoZXIgbG9va3MgZ29vZC4KClRoYW5rcwoKCj4gKyAgICBib29sIHBv
bGxfc3RhcnQgPSBzdnFfa2lja19mZCAhPSBWSE9TVF9GSUxFX1VOQklORDsKPiArCj4gKyAgICBp
ZiAocG9sbF9zdG9wKSB7Cj4gKyAgICAgICAgZXZlbnRfbm90aWZpZXJfc2V0X2hhbmRsZXIoc3Zx
X2tpY2ssIE5VTEwpOwo+ICsgICAgfQo+ICsKPiArICAgIC8qCj4gKyAgICAgKiBldmVudF9ub3Rp
Zmllcl9zZXRfaGFuZGxlciBhbHJlYWR5IGNoZWNrcyBmb3IgZ3Vlc3QncyBub3RpZmljYXRpb25z
IGlmCj4gKyAgICAgKiB0aGV5IGFycml2ZSBhdCB0aGUgbmV3IGZpbGUgZGVzY3JpcHRvciBpbiB0
aGUgc3dpdGNoLCBzbyB0aGVyZSBpcyBubwo+ICsgICAgICogbmVlZCB0byBleHBsaWNpdGx5IGNo
ZWNrIGZvciB0aGVtLgo+ICsgICAgICovCj4gKyAgICBpZiAocG9sbF9zdGFydCkgewo+ICsgICAg
ICAgIGV2ZW50X25vdGlmaWVyX2luaXRfZmQoc3ZxX2tpY2ssIHN2cV9raWNrX2ZkKTsKPiArICAg
ICAgICBldmVudF9ub3RpZmllcl9zZXQoc3ZxX2tpY2spOwo+ICsgICAgICAgIGV2ZW50X25vdGlm
aWVyX3NldF9oYW5kbGVyKHN2cV9raWNrLCB2aG9zdF9oYW5kbGVfZ3Vlc3Rfa2ljayk7Cj4gKyAg
ICB9Cj4gK30KPiArCj4gKy8qKgo+ICsgKiBTdG9wIHRoZSBzaGFkb3cgdmlydHF1ZXVlIG9wZXJh
dGlvbi4KPiArICogQHN2cSBTaGFkb3cgVmlydHF1ZXVlCj4gKyAqLwo+ICt2b2lkIHZob3N0X3N2
cV9zdG9wKFZob3N0U2hhZG93VmlydHF1ZXVlICpzdnEpCj4gK3sKPiArICAgIGV2ZW50X25vdGlm
aWVyX3NldF9oYW5kbGVyKCZzdnEtPnN2cV9raWNrLCBOVUxMKTsKPiArfQo+ICAgCj4gICAvKioK
PiAgICAqIENyZWF0ZXMgdmhvc3Qgc2hhZG93IHZpcnRxdWV1ZSwgYW5kIGluc3RydWN0cyB0aGUg
dmhvc3QgZGV2aWNlIHRvIHVzZSB0aGUKPiBAQCAtMzksNiArODksNyBAQCBWaG9zdFNoYWRvd1Zp
cnRxdWV1ZSAqdmhvc3Rfc3ZxX25ldyh2b2lkKQo+ICAgICAgICAgICBnb3RvIGVycl9pbml0X2hk
ZXZfY2FsbDsKPiAgICAgICB9Cj4gICAKPiArICAgIGV2ZW50X25vdGlmaWVyX2luaXRfZmQoJnN2
cS0+c3ZxX2tpY2ssIFZIT1NUX0ZJTEVfVU5CSU5EKTsKPiAgICAgICByZXR1cm4gZ19zdGVhbF9w
b2ludGVyKCZzdnEpOwo+ICAgCj4gICBlcnJfaW5pdF9oZGV2X2NhbGw6Cj4gQEAgLTU2LDYgKzEw
Nyw3IEBAIGVycl9pbml0X2hkZXZfa2ljazoKPiAgIHZvaWQgdmhvc3Rfc3ZxX2ZyZWUoZ3BvaW50
ZXIgcHZxKQo+ICAgewo+ICAgICAgIFZob3N0U2hhZG93VmlydHF1ZXVlICp2cSA9IHB2cTsKPiAr
ICAgIHZob3N0X3N2cV9zdG9wKHZxKTsKPiAgICAgICBldmVudF9ub3RpZmllcl9jbGVhbnVwKCZ2
cS0+aGRldl9raWNrKTsKPiAgICAgICBldmVudF9ub3RpZmllcl9jbGVhbnVwKCZ2cS0+aGRldl9j
YWxsKTsKPiAgICAgICBnX2ZyZWUodnEpOwo+IGRpZmYgLS1naXQgYS9ody92aXJ0aW8vdmhvc3Qt
dmRwYS5jIGIvaHcvdmlydGlvL3Zob3N0LXZkcGEuYwo+IGluZGV4IDA0ZWE0MzcwNGYuLjQ1NGJm
NTA3MzUgMTAwNjQ0Cj4gLS0tIGEvaHcvdmlydGlvL3Zob3N0LXZkcGEuYwo+ICsrKyBiL2h3L3Zp
cnRpby92aG9zdC12ZHBhLmMKPiBAQCAtMTcsMTIgKzE3LDE0IEBACj4gICAjaW5jbHVkZSAiaHcv
dmlydGlvL3Zob3N0LmgiCj4gICAjaW5jbHVkZSAiaHcvdmlydGlvL3Zob3N0LWJhY2tlbmQuaCIK
PiAgICNpbmNsdWRlICJody92aXJ0aW8vdmlydGlvLW5ldC5oIgo+ICsjaW5jbHVkZSAiaHcvdmly
dGlvL3Zob3N0LXNoYWRvdy12aXJ0cXVldWUuaCIKPiAgICNpbmNsdWRlICJody92aXJ0aW8vdmhv
c3QtdmRwYS5oIgo+ICAgI2luY2x1ZGUgImV4ZWMvYWRkcmVzcy1zcGFjZXMuaCIKPiAgICNpbmNs
dWRlICJxZW11L21haW4tbG9vcC5oIgo+ICAgI2luY2x1ZGUgImNwdS5oIgo+ICAgI2luY2x1ZGUg
InRyYWNlLmgiCj4gICAjaW5jbHVkZSAicWVtdS1jb21tb24uaCIKPiArI2luY2x1ZGUgInFhcGkv
ZXJyb3IuaCIKPiAgIAo+ICAgLyoKPiAgICAqIFJldHVybiBvbmUgcGFzdCB0aGUgZW5kIG9mIHRo
ZSBlbmQgb2Ygc2VjdGlvbi4gQmUgY2FyZWZ1bCB3aXRoIHVpbnQ2NF90Cj4gQEAgLTM0Miw2ICsz
NDQsMzAgQEAgc3RhdGljIGJvb2wgdmhvc3RfdmRwYV9vbmVfdGltZV9yZXF1ZXN0KHN0cnVjdCB2
aG9zdF9kZXYgKmRldikKPiAgICAgICByZXR1cm4gdi0+aW5kZXggIT0gMDsKPiAgIH0KPiAgIAo+
ICtzdGF0aWMgaW50IHZob3N0X3ZkcGFfaW5pdF9zdnEoc3RydWN0IHZob3N0X2RldiAqaGRldiwg
c3RydWN0IHZob3N0X3ZkcGEgKnYsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBF
cnJvciAqKmVycnApCj4gK3sKPiArICAgIGdfYXV0b3B0cihHUHRyQXJyYXkpIHNoYWRvd192cXMg
PSBOVUxMOwo+ICsKPiArICAgIGlmICghdi0+c2hhZG93X3Zxc19lbmFibGVkKSB7Cj4gKyAgICAg
ICAgcmV0dXJuIDA7Cj4gKyAgICB9Cj4gKwo+ICsgICAgc2hhZG93X3ZxcyA9IGdfcHRyX2FycmF5
X25ld19mdWxsKGhkZXYtPm52cXMsIHZob3N0X3N2cV9mcmVlKTsKPiArICAgIGZvciAodW5zaWdu
ZWQgbiA9IDA7IG4gPCBoZGV2LT5udnFzOyArK24pIHsKPiArICAgICAgICBnX2F1dG9wdHIoVmhv
c3RTaGFkb3dWaXJ0cXVldWUpIHN2cSA9IHZob3N0X3N2cV9uZXcoKTsKPiArCj4gKyAgICAgICAg
aWYgKHVubGlrZWx5KCFzdnEpKSB7Cj4gKyAgICAgICAgICAgIGVycm9yX3NldGcoZXJycCwgIkNh
bm5vdCBjcmVhdGUgc3ZxICV1Iiwgbik7Cj4gKyAgICAgICAgICAgIHJldHVybiAtMTsKPiArICAg
ICAgICB9Cj4gKyAgICAgICAgZ19wdHJfYXJyYXlfYWRkKHNoYWRvd192cXMsIGdfc3RlYWxfcG9p
bnRlcigmc3ZxKSk7Cj4gKyAgICB9Cj4gKwo+ICsgICAgdi0+c2hhZG93X3ZxcyA9IGdfc3RlYWxf
cG9pbnRlcigmc2hhZG93X3Zxcyk7Cj4gKyAgICByZXR1cm4gMDsKPiArfQo+ICsKPiAgIHN0YXRp
YyBpbnQgdmhvc3RfdmRwYV9pbml0KHN0cnVjdCB2aG9zdF9kZXYgKmRldiwgdm9pZCAqb3BhcXVl
LCBFcnJvciAqKmVycnApCj4gICB7Cj4gICAgICAgc3RydWN0IHZob3N0X3ZkcGEgKnY7Cj4gQEAg
LTM2NCw2ICszOTAsMTAgQEAgc3RhdGljIGludCB2aG9zdF92ZHBhX2luaXQoc3RydWN0IHZob3N0
X2RldiAqZGV2LCB2b2lkICpvcGFxdWUsIEVycm9yICoqZXJycCkKPiAgICAgICBkZXYtPm9wYXF1
ZSA9ICBvcGFxdWUgOwo+ICAgICAgIHYtPmxpc3RlbmVyID0gdmhvc3RfdmRwYV9tZW1vcnlfbGlz
dGVuZXI7Cj4gICAgICAgdi0+bXNnX3R5cGUgPSBWSE9TVF9JT1RMQl9NU0dfVjI7Cj4gKyAgICBy
ZXQgPSB2aG9zdF92ZHBhX2luaXRfc3ZxKGRldiwgdiwgZXJycCk7Cj4gKyAgICBpZiAocmV0KSB7
Cj4gKyAgICAgICAgZ290byBlcnI7Cj4gKyAgICB9Cj4gICAKPiAgICAgICB2aG9zdF92ZHBhX2dl
dF9pb3ZhX3JhbmdlKHYpOwo+ICAgCj4gQEAgLTM3NSw2ICs0MDUsMTAgQEAgc3RhdGljIGludCB2
aG9zdF92ZHBhX2luaXQoc3RydWN0IHZob3N0X2RldiAqZGV2LCB2b2lkICpvcGFxdWUsIEVycm9y
ICoqZXJycCkKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBWSVJUSU9fQ09ORklH
X1NfRFJJVkVSKTsKPiAgIAo+ICAgICAgIHJldHVybiAwOwo+ICsKPiArZXJyOgo+ICsgICAgcmFt
X2Jsb2NrX2Rpc2NhcmRfZGlzYWJsZShmYWxzZSk7Cj4gKyAgICByZXR1cm4gcmV0Owo+ICAgfQo+
ICAgCj4gICBzdGF0aWMgdm9pZCB2aG9zdF92ZHBhX2hvc3Rfbm90aWZpZXJfdW5pbml0KHN0cnVj
dCB2aG9zdF9kZXYgKmRldiwKPiBAQCAtNDQ0LDggKzQ3OCwxNCBAQCBlcnI6Cj4gICAKPiAgIHN0
YXRpYyB2b2lkIHZob3N0X3ZkcGFfaG9zdF9ub3RpZmllcnNfaW5pdChzdHJ1Y3Qgdmhvc3RfZGV2
ICpkZXYpCj4gICB7Cj4gKyAgICBzdHJ1Y3Qgdmhvc3RfdmRwYSAqdiA9IGRldi0+b3BhcXVlOwo+
ICAgICAgIGludCBpOwo+ICAgCj4gKyAgICBpZiAodi0+c2hhZG93X3Zxc19lbmFibGVkKSB7Cj4g
KyAgICAgICAgLyogRklYTUUgU1ZRIGlzIG5vdCBjb21wYXRpYmxlIHdpdGggaG9zdCBub3RpZmll
cnMgbXIgKi8KPiArICAgICAgICByZXR1cm47Cj4gKyAgICB9Cj4gKwo+ICAgICAgIGZvciAoaSA9
IGRldi0+dnFfaW5kZXg7IGkgPCBkZXYtPnZxX2luZGV4ICsgZGV2LT5udnFzOyBpKyspIHsKPiAg
ICAgICAgICAgaWYgKHZob3N0X3ZkcGFfaG9zdF9ub3RpZmllcl9pbml0KGRldiwgaSkpIHsKPiAg
ICAgICAgICAgICAgIGdvdG8gZXJyOwo+IEBAIC00NTksNiArNDk5LDIxIEBAIGVycjoKPiAgICAg
ICByZXR1cm47Cj4gICB9Cj4gICAKPiArc3RhdGljIHZvaWQgdmhvc3RfdmRwYV9zdnFfY2xlYW51
cChzdHJ1Y3Qgdmhvc3RfZGV2ICpkZXYpCj4gK3sKPiArICAgIHN0cnVjdCB2aG9zdF92ZHBhICp2
ID0gZGV2LT5vcGFxdWU7Cj4gKyAgICBzaXplX3QgaWR4Owo+ICsKPiArICAgIGlmICghdi0+c2hh
ZG93X3Zxcykgewo+ICsgICAgICAgIHJldHVybjsKPiArICAgIH0KPiArCj4gKyAgICBmb3IgKGlk
eCA9IDA7IGlkeCA8IHYtPnNoYWRvd192cXMtPmxlbjsgKytpZHgpIHsKPiArICAgICAgICB2aG9z
dF9zdnFfc3RvcChnX3B0cl9hcnJheV9pbmRleCh2LT5zaGFkb3dfdnFzLCBpZHgpKTsKPiArICAg
IH0KPiArICAgIGdfcHRyX2FycmF5X2ZyZWUodi0+c2hhZG93X3ZxcywgdHJ1ZSk7Cj4gK30KPiAr
Cj4gICBzdGF0aWMgaW50IHZob3N0X3ZkcGFfY2xlYW51cChzdHJ1Y3Qgdmhvc3RfZGV2ICpkZXYp
Cj4gICB7Cj4gICAgICAgc3RydWN0IHZob3N0X3ZkcGEgKnY7Cj4gQEAgLTQ2Nyw2ICs1MjIsNyBA
QCBzdGF0aWMgaW50IHZob3N0X3ZkcGFfY2xlYW51cChzdHJ1Y3Qgdmhvc3RfZGV2ICpkZXYpCj4g
ICAgICAgdHJhY2Vfdmhvc3RfdmRwYV9jbGVhbnVwKGRldiwgdik7Cj4gICAgICAgdmhvc3RfdmRw
YV9ob3N0X25vdGlmaWVyc191bmluaXQoZGV2LCBkZXYtPm52cXMpOwo+ICAgICAgIG1lbW9yeV9s
aXN0ZW5lcl91bnJlZ2lzdGVyKCZ2LT5saXN0ZW5lcik7Cj4gKyAgICB2aG9zdF92ZHBhX3N2cV9j
bGVhbnVwKGRldik7Cj4gICAKPiAgICAgICBkZXYtPm9wYXF1ZSA9IE5VTEw7Cj4gICAgICAgcmFt
X2Jsb2NrX2Rpc2NhcmRfZGlzYWJsZShmYWxzZSk7Cj4gQEAgLTU1OCwxMSArNjE0LDI2IEBAIHN0
YXRpYyBpbnQgdmhvc3RfdmRwYV9nZXRfZGV2aWNlX2lkKHN0cnVjdCB2aG9zdF9kZXYgKmRldiwK
PiAgICAgICByZXR1cm4gcmV0Owo+ICAgfQo+ICAgCj4gK3N0YXRpYyB2b2lkIHZob3N0X3ZkcGFf
cmVzZXRfc3ZxKHN0cnVjdCB2aG9zdF92ZHBhICp2KQo+ICt7Cj4gKyAgICBpZiAoIXYtPnNoYWRv
d192cXNfZW5hYmxlZCkgewo+ICsgICAgICAgIHJldHVybjsKPiArICAgIH0KPiArCj4gKyAgICBm
b3IgKHVuc2lnbmVkIGkgPSAwOyBpIDwgdi0+c2hhZG93X3Zxcy0+bGVuOyArK2kpIHsKPiArICAg
ICAgICBWaG9zdFNoYWRvd1ZpcnRxdWV1ZSAqc3ZxID0gZ19wdHJfYXJyYXlfaW5kZXgodi0+c2hh
ZG93X3ZxcywgaSk7Cj4gKyAgICAgICAgdmhvc3Rfc3ZxX3N0b3Aoc3ZxKTsKPiArICAgIH0KPiAr
fQo+ICsKPiAgIHN0YXRpYyBpbnQgdmhvc3RfdmRwYV9yZXNldF9kZXZpY2Uoc3RydWN0IHZob3N0
X2RldiAqZGV2KQo+ICAgewo+ICsgICAgc3RydWN0IHZob3N0X3ZkcGEgKnYgPSBkZXYtPm9wYXF1
ZTsKPiAgICAgICBpbnQgcmV0Owo+ICAgICAgIHVpbnQ4X3Qgc3RhdHVzID0gMDsKPiAgIAo+ICsg
ICAgdmhvc3RfdmRwYV9yZXNldF9zdnEodik7Cj4gKwo+ICAgICAgIHJldCA9IHZob3N0X3ZkcGFf
Y2FsbChkZXYsIFZIT1NUX1ZEUEFfU0VUX1NUQVRVUywgJnN0YXR1cyk7Cj4gICAgICAgdHJhY2Vf
dmhvc3RfdmRwYV9yZXNldF9kZXZpY2UoZGV2LCBzdGF0dXMpOwo+ICAgICAgIHJldHVybiByZXQ7
Cj4gQEAgLTY0NiwxMyArNzE3LDc1IEBAIHN0YXRpYyBpbnQgdmhvc3RfdmRwYV9nZXRfY29uZmln
KHN0cnVjdCB2aG9zdF9kZXYgKmRldiwgdWludDhfdCAqY29uZmlnLAo+ICAgICAgIHJldHVybiBy
ZXQ7Cj4gICAgfQo+ICAgCj4gK3N0YXRpYyBpbnQgdmhvc3RfdmRwYV9zZXRfdnJpbmdfZGV2X2tp
Y2soc3RydWN0IHZob3N0X2RldiAqZGV2LAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIHN0cnVjdCB2aG9zdF92cmluZ19maWxlICpmaWxlKQo+ICt7Cj4gKyAgICB0
cmFjZV92aG9zdF92ZHBhX3NldF92cmluZ19raWNrKGRldiwgZmlsZS0+aW5kZXgsIGZpbGUtPmZk
KTsKPiArICAgIHJldHVybiB2aG9zdF92ZHBhX2NhbGwoZGV2LCBWSE9TVF9TRVRfVlJJTkdfS0lD
SywgZmlsZSk7Cj4gK30KPiArCj4gKy8qKgo+ICsgKiBTZXQgdGhlIHNoYWRvdyB2aXJ0cXVldWUg
ZGVzY3JpcHRvcnMgdG8gdGhlIGRldmljZQo+ICsgKgo+ICsgKiBAZGV2ICAgVGhlIHZob3N0IGRl
dmljZSBtb2RlbAo+ICsgKiBAc3ZxICAgVGhlIHNoYWRvdyB2aXJ0cXVldWUKPiArICogQGlkeCAg
IFRoZSBpbmRleCBvZiB0aGUgdmlydHF1ZXVlIGluIHRoZSB2aG9zdCBkZXZpY2UKPiArICogQGVy
cnAgIEVycm9yCj4gKyAqLwo+ICtzdGF0aWMgYm9vbCB2aG9zdF92ZHBhX3N2cV9zZXR1cChzdHJ1
Y3Qgdmhvc3RfZGV2ICpkZXYsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZo
b3N0U2hhZG93VmlydHF1ZXVlICpzdnEsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHVuc2lnbmVkIGlkeCwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXJy
b3IgKiplcnJwKQo+ICt7Cj4gKyAgICBzdHJ1Y3Qgdmhvc3RfdnJpbmdfZmlsZSBmaWxlID0gewo+
ICsgICAgICAgIC5pbmRleCA9IGRldi0+dnFfaW5kZXggKyBpZHgsCj4gKyAgICB9Owo+ICsgICAg
Y29uc3QgRXZlbnROb3RpZmllciAqZXZlbnRfbm90aWZpZXIgPSAmc3ZxLT5oZGV2X2tpY2s7Cj4g
KyAgICBpbnQgcjsKPiArCj4gKyAgICBmaWxlLmZkID0gZXZlbnRfbm90aWZpZXJfZ2V0X2ZkKGV2
ZW50X25vdGlmaWVyKTsKPiArICAgIHIgPSB2aG9zdF92ZHBhX3NldF92cmluZ19kZXZfa2ljayhk
ZXYsICZmaWxlKTsKPiArICAgIGlmICh1bmxpa2VseShyICE9IDApKSB7Cj4gKyAgICAgICAgZXJy
b3Jfc2V0Z19lcnJubyhlcnJwLCAtciwgIkNhbid0IHNldCBkZXZpY2Uga2ljayBmZCIpOwo+ICsg
ICAgfQo+ICsKPiArICAgIHJldHVybiByID09IDA7Cj4gK30KPiArCj4gK3N0YXRpYyBib29sIHZo
b3N0X3ZkcGFfc3Zxc19zdGFydChzdHJ1Y3Qgdmhvc3RfZGV2ICpkZXYpCj4gK3sKPiArICAgIHN0
cnVjdCB2aG9zdF92ZHBhICp2ID0gZGV2LT5vcGFxdWU7Cj4gKyAgICBFcnJvciAqZXJyID0gTlVM
TDsKPiArICAgIHVuc2lnbmVkIGk7Cj4gKwo+ICsgICAgaWYgKCF2LT5zaGFkb3dfdnFzKSB7Cj4g
KyAgICAgICAgcmV0dXJuIHRydWU7Cj4gKyAgICB9Cj4gKwo+ICsgICAgZm9yIChpID0gMDsgaSA8
IHYtPnNoYWRvd192cXMtPmxlbjsgKytpKSB7Cj4gKyAgICAgICAgVmhvc3RTaGFkb3dWaXJ0cXVl
dWUgKnN2cSA9IGdfcHRyX2FycmF5X2luZGV4KHYtPnNoYWRvd192cXMsIGkpOwo+ICsgICAgICAg
IGJvb2wgb2sgPSB2aG9zdF92ZHBhX3N2cV9zZXR1cChkZXYsIHN2cSwgaSwgJmVycik7Cj4gKyAg
ICAgICAgaWYgKHVubGlrZWx5KCFvaykpIHsKPiArICAgICAgICAgICAgZXJyb3JfcmVwb3J0Zl9l
cnIoZXJyLCAiQ2Fubm90IHNldHVwIFNWUSAldTogIiwgaSk7Cj4gKyAgICAgICAgICAgIHJldHVy
biBmYWxzZTsKPiArICAgICAgICB9Cj4gKyAgICB9Cj4gKwo+ICsgICAgcmV0dXJuIHRydWU7Cj4g
K30KPiArCj4gICBzdGF0aWMgaW50IHZob3N0X3ZkcGFfZGV2X3N0YXJ0KHN0cnVjdCB2aG9zdF9k
ZXYgKmRldiwgYm9vbCBzdGFydGVkKQo+ICAgewo+ICAgICAgIHN0cnVjdCB2aG9zdF92ZHBhICp2
ID0gZGV2LT5vcGFxdWU7Cj4gKyAgICBib29sIG9rOwo+ICAgICAgIHRyYWNlX3Zob3N0X3ZkcGFf
ZGV2X3N0YXJ0KGRldiwgc3RhcnRlZCk7Cj4gICAKPiAgICAgICBpZiAoc3RhcnRlZCkgewo+ICAg
ICAgICAgICB2aG9zdF92ZHBhX2hvc3Rfbm90aWZpZXJzX2luaXQoZGV2KTsKPiArICAgICAgICBv
ayA9IHZob3N0X3ZkcGFfc3Zxc19zdGFydChkZXYpOwo+ICsgICAgICAgIGlmICh1bmxpa2VseSgh
b2spKSB7Cj4gKyAgICAgICAgICAgIHJldHVybiAtMTsKPiArICAgICAgICB9Cj4gICAgICAgICAg
IHZob3N0X3ZkcGFfc2V0X3ZyaW5nX3JlYWR5KGRldik7Cj4gICAgICAgfSBlbHNlIHsKPiAgICAg
ICAgICAgdmhvc3RfdmRwYV9ob3N0X25vdGlmaWVyc191bmluaXQoZGV2LCBkZXYtPm52cXMpOwo+
IEBAIC03MjQsOCArODU3LDE2IEBAIHN0YXRpYyBpbnQgdmhvc3RfdmRwYV9nZXRfdnJpbmdfYmFz
ZShzdHJ1Y3Qgdmhvc3RfZGV2ICpkZXYsCj4gICBzdGF0aWMgaW50IHZob3N0X3ZkcGFfc2V0X3Zy
aW5nX2tpY2soc3RydWN0IHZob3N0X2RldiAqZGV2LAo+ICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgc3RydWN0IHZob3N0X3ZyaW5nX2ZpbGUgKmZpbGUpCj4gICB7Cj4g
LSAgICB0cmFjZV92aG9zdF92ZHBhX3NldF92cmluZ19raWNrKGRldiwgZmlsZS0+aW5kZXgsIGZp
bGUtPmZkKTsKPiAtICAgIHJldHVybiB2aG9zdF92ZHBhX2NhbGwoZGV2LCBWSE9TVF9TRVRfVlJJ
TkdfS0lDSywgZmlsZSk7Cj4gKyAgICBzdHJ1Y3Qgdmhvc3RfdmRwYSAqdiA9IGRldi0+b3BhcXVl
Owo+ICsgICAgaW50IHZkcGFfaWR4ID0gZmlsZS0+aW5kZXggLSBkZXYtPnZxX2luZGV4Owo+ICsK
PiArICAgIGlmICh2LT5zaGFkb3dfdnFzX2VuYWJsZWQpIHsKPiArICAgICAgICBWaG9zdFNoYWRv
d1ZpcnRxdWV1ZSAqc3ZxID0gZ19wdHJfYXJyYXlfaW5kZXgodi0+c2hhZG93X3ZxcywgdmRwYV9p
ZHgpOwo+ICsgICAgICAgIHZob3N0X3N2cV9zZXRfc3ZxX2tpY2tfZmQoc3ZxLCBmaWxlLT5mZCk7
Cj4gKyAgICAgICAgcmV0dXJuIDA7Cj4gKyAgICB9IGVsc2Ugewo+ICsgICAgICAgIHJldHVybiB2
aG9zdF92ZHBhX3NldF92cmluZ19kZXZfa2ljayhkZXYsIGZpbGUpOwo+ICsgICAgfQo+ICAgfQo+
ICAgCj4gICBzdGF0aWMgaW50IHZob3N0X3ZkcGFfc2V0X3ZyaW5nX2NhbGwoc3RydWN0IHZob3N0
X2RldiAqZGV2LAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X18KVmlydHVhbGl6YXRpb24gbWFpbGluZyBsaXN0ClZpcnR1YWxpemF0aW9uQGxpc3RzLmxpbnV4
LWZvdW5kYXRpb24ub3JnCmh0dHBzOi8vbGlzdHMubGludXhmb3VuZGF0aW9uLm9yZy9tYWlsbWFu
L2xpc3RpbmZvL3ZpcnR1YWxpemF0aW9u
