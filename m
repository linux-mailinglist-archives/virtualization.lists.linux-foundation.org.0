Return-Path: <virtualization-bounces@lists.linux-foundation.org>
X-Original-To: lists.virtualization@lfdr.de
Delivered-To: lists.virtualization@lfdr.de
Received: from fraxinus.osuosl.org (smtp4.osuosl.org [140.211.166.137])
	by mail.lfdr.de (Postfix) with ESMTPS id A3D35155E08
	for <lists.virtualization@lfdr.de>; Fri,  7 Feb 2020 19:26:28 +0100 (CET)
Received: from localhost (localhost [127.0.0.1])
	by fraxinus.osuosl.org (Postfix) with ESMTP id 624EF869EF;
	Fri,  7 Feb 2020 18:26:27 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from fraxinus.osuosl.org ([127.0.0.1])
	by localhost (.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id NOYO5PnIuTEl; Fri,  7 Feb 2020 18:26:22 +0000 (UTC)
Received: from lists.linuxfoundation.org (lf-lists.osuosl.org [140.211.9.56])
	by fraxinus.osuosl.org (Postfix) with ESMTP id 734D886A54;
	Fri,  7 Feb 2020 18:26:04 +0000 (UTC)
Received: from lf-lists.osuosl.org (localhost [127.0.0.1])
	by lists.linuxfoundation.org (Postfix) with ESMTP id 539F2C1D81;
	Fri,  7 Feb 2020 18:26:04 +0000 (UTC)
X-Original-To: virtualization@lists.linux-foundation.org
Delivered-To: virtualization@lists.linuxfoundation.org
Received: from silver.osuosl.org (smtp3.osuosl.org [140.211.166.136])
 by lists.linuxfoundation.org (Postfix) with ESMTP id DECAAC1D87
 for <virtualization@lists.linux-foundation.org>;
 Fri,  7 Feb 2020 18:25:58 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by silver.osuosl.org (Postfix) with ESMTP id C66BE22660
 for <virtualization@lists.linux-foundation.org>;
 Fri,  7 Feb 2020 18:25:58 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from silver.osuosl.org ([127.0.0.1])
 by localhost (.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 4C5xAQd9aY76
 for <virtualization@lists.linux-foundation.org>;
 Fri,  7 Feb 2020 18:25:58 +0000 (UTC)
X-Greylist: domain auto-whitelisted by SQLgrey-1.7.6
Received: from mx01.bbu.dsd.mx.bitdefender.com
 (mx01.bbu.dsd.mx.bitdefender.com [91.199.104.161])
 by silver.osuosl.org (Postfix) with ESMTPS id F120A20487
 for <virtualization@lists.linux-foundation.org>;
 Fri,  7 Feb 2020 18:25:57 +0000 (UTC)
Received: from smtp.bitdefender.com (smtp01.buh.bitdefender.com [10.17.80.75])
 by mx01.bbu.dsd.mx.bitdefender.com (Postfix) with ESMTPS id
 6A7D8305D3D5; Fri,  7 Feb 2020 20:16:39 +0200 (EET)
Received: from host.bbu.bitdefender.biz (unknown [195.210.4.22])
 by smtp.bitdefender.com (Postfix) with ESMTPSA id 5D3383052075;
 Fri,  7 Feb 2020 20:16:39 +0200 (EET)
From: =?UTF-8?q?Adalbert=20Laz=C4=83r?= <alazar@bitdefender.com>
To: kvm@vger.kernel.org
Subject: [RFC PATCH v7 18/78] KVM: vmx: pass struct kvm_vcpu to the intercept
 msr related functions
Date: Fri,  7 Feb 2020 20:15:36 +0200
Message-Id: <20200207181636.1065-19-alazar@bitdefender.com>
In-Reply-To: <20200207181636.1065-1-alazar@bitdefender.com>
References: <20200207181636.1065-1-alazar@bitdefender.com>
MIME-Version: 1.0
Cc: =?UTF-8?q?Adalbert=20Laz=C4=83r?= <alazar@bitdefender.com>,
 Paolo Bonzini <pbonzini@redhat.com>,
 =?UTF-8?q?Nicu=C8=99or=20C=C3=AE=C8=9Bu?= <ncitu@bitdefender.com>,
 Sean Christopherson <sean.j.christopherson@intel.com>,
 virtualization@lists.linux-foundation.org
X-BeenThere: virtualization@lists.linux-foundation.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: Linux virtualization <virtualization.lists.linux-foundation.org>
List-Unsubscribe: <https://lists.linuxfoundation.org/mailman/options/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=unsubscribe>
List-Archive: <http://lists.linuxfoundation.org/pipermail/virtualization/>
List-Post: <mailto:virtualization@lists.linux-foundation.org>
List-Help: <mailto:virtualization-request@lists.linux-foundation.org?subject=help>
List-Subscribe: <https://lists.linuxfoundation.org/mailman/listinfo/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: virtualization-bounces@lists.linux-foundation.org
Sender: "Virtualization" <virtualization-bounces@lists.linux-foundation.org>

RnJvbTogTmljdciZb3IgQ8OuyJt1IDxuY2l0dUBiaXRkZWZlbmRlci5jb20+CgpUaGlzIGlzIG5l
ZWRlZCBpbiBvcmRlciB0byBoYW5kbGUgY2xpZW50cyBjb250cm9sbGluZyB0aGUgTVNSIHJlbGF0
ZWQKVk0tZXhpdHMuCgpTaWduZWQtb2ZmLWJ5OiBOaWN1yJlvciBDw67Im3UgPG5jaXR1QGJpdGRl
ZmVuZGVyLmNvbT4KU2lnbmVkLW9mZi1ieTogQWRhbGJlcnQgTGF6xINyIDxhbGF6YXJAYml0ZGVm
ZW5kZXIuY29tPgotLS0KIGFyY2gveDg2L2t2bS92bXgvdm14LmMgfCA3MCArKysrKysrKysrKysr
KysrKysrKysrKy0tLS0tLS0tLS0tLS0tLS0tLS0KIDEgZmlsZSBjaGFuZ2VkLCAzOCBpbnNlcnRp
b25zKCspLCAzMiBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9hcmNoL3g4Ni9rdm0vdm14L3Zt
eC5jIGIvYXJjaC94ODYva3ZtL3ZteC92bXguYwppbmRleCAzNmRmYjk1ZWE1NzguLmU2ODc4MDk3
ZDczNiAxMDA2NDQKLS0tIGEvYXJjaC94ODYva3ZtL3ZteC92bXguYworKysgYi9hcmNoL3g4Ni9r
dm0vdm14L3ZteC5jCkBAIC0zNDEsNyArMzQxLDggQEAgbW9kdWxlX3BhcmFtX2NiKHZtZW50cnlf
bDFkX2ZsdXNoLCAmdm1lbnRyeV9sMWRfZmx1c2hfb3BzLCBOVUxMLCAwNjQ0KTsKIAogc3RhdGlj
IGJvb2wgZ3Vlc3Rfc3RhdGVfdmFsaWQoc3RydWN0IGt2bV92Y3B1ICp2Y3B1KTsKIHN0YXRpYyB1
MzIgdm14X3NlZ21lbnRfYWNjZXNzX3JpZ2h0cyhzdHJ1Y3Qga3ZtX3NlZ21lbnQgKnZhcik7Ci1z
dGF0aWMgX19hbHdheXNfaW5saW5lIHZvaWQgdm14X2Rpc2FibGVfaW50ZXJjZXB0X2Zvcl9tc3Io
dW5zaWduZWQgbG9uZyAqbXNyX2JpdG1hcCwKK3N0YXRpYyBfX2Fsd2F5c19pbmxpbmUgdm9pZCB2
bXhfZGlzYWJsZV9pbnRlcmNlcHRfZm9yX21zcihzdHJ1Y3Qga3ZtX3ZjcHUgKnZjcHUsCisJCQkJ
CQkJICB1bnNpZ25lZCBsb25nICptc3JfYml0bWFwLAogCQkJCQkJCSAgdTMyIG1zciwgaW50IHR5
cGUpOwogCiB2b2lkIHZteF92bWV4aXQodm9pZCk7CkBAIC0yMDE1LDcgKzIwMTYsNyBAQCBzdGF0
aWMgaW50IHZteF9zZXRfbXNyKHN0cnVjdCBrdm1fdmNwdSAqdmNwdSwgc3RydWN0IG1zcl9kYXRh
ICptc3JfaW5mbykKIAkJICogaW4gdGhlIG1lcmdpbmcuIFdlIHVwZGF0ZSB0aGUgdm1jczAxIGhl
cmUgZm9yIEwxIGFzIHdlbGwKIAkJICogc2luY2UgaXQgd2lsbCBlbmQgdXAgdG91Y2hpbmcgdGhl
IE1TUiBhbnl3YXkgbm93LgogCQkgKi8KLQkJdm14X2Rpc2FibGVfaW50ZXJjZXB0X2Zvcl9tc3Io
dm14LT52bWNzMDEubXNyX2JpdG1hcCwKKwkJdm14X2Rpc2FibGVfaW50ZXJjZXB0X2Zvcl9tc3Io
dmNwdSwgdm14LT52bWNzMDEubXNyX2JpdG1hcCwKIAkJCQkJICAgICAgTVNSX0lBMzJfU1BFQ19D
VFJMLAogCQkJCQkgICAgICBNU1JfVFlQRV9SVyk7CiAJCWJyZWFrOwpAQCAtMjA1MCw4ICsyMDUx
LDggQEAgc3RhdGljIGludCB2bXhfc2V0X21zcihzdHJ1Y3Qga3ZtX3ZjcHUgKnZjcHUsIHN0cnVj
dCBtc3JfZGF0YSAqbXNyX2luZm8pCiAJCSAqIHZtY3MwMi5tc3JfYml0bWFwIGhlcmUgc2luY2Ug
aXQgZ2V0cyBjb21wbGV0ZWx5IG92ZXJ3cml0dGVuCiAJCSAqIGluIHRoZSBtZXJnaW5nLgogCQkg
Ki8KLQkJdm14X2Rpc2FibGVfaW50ZXJjZXB0X2Zvcl9tc3Iodm14LT52bWNzMDEubXNyX2JpdG1h
cCwgTVNSX0lBMzJfUFJFRF9DTUQsCi0JCQkJCSAgICAgIE1TUl9UWVBFX1cpOworCQl2bXhfZGlz
YWJsZV9pbnRlcmNlcHRfZm9yX21zcih2Y3B1LCB2bXgtPnZtY3MwMS5tc3JfYml0bWFwLAorCQkJ
CQkgICAgICBNU1JfSUEzMl9QUkVEX0NNRCwgTVNSX1RZUEVfVyk7CiAJCWJyZWFrOwogCWNhc2Ug
TVNSX0lBMzJfQ1JfUEFUOgogCQlpZiAoIWt2bV9wYXRfdmFsaWQoZGF0YSkpCkBAIC0zNjEyLDcg
KzM2MTMsOCBAQCB2b2lkIGZyZWVfdnBpZChpbnQgdnBpZCkKIAlzcGluX3VubG9jaygmdm14X3Zw
aWRfbG9jayk7CiB9CiAKLXN0YXRpYyBfX2Fsd2F5c19pbmxpbmUgdm9pZCB2bXhfZGlzYWJsZV9p
bnRlcmNlcHRfZm9yX21zcih1bnNpZ25lZCBsb25nICptc3JfYml0bWFwLAorc3RhdGljIF9fYWx3
YXlzX2lubGluZSB2b2lkIHZteF9kaXNhYmxlX2ludGVyY2VwdF9mb3JfbXNyKHN0cnVjdCBrdm1f
dmNwdSAqdmNwdSwKKwkJCQkJCQkgIHVuc2lnbmVkIGxvbmcgKm1zcl9iaXRtYXAsCiAJCQkJCQkJ
ICB1MzIgbXNyLCBpbnQgdHlwZSkKIHsKIAlpbnQgZiA9IHNpemVvZih1bnNpZ25lZCBsb25nKTsK
QEAgLTM2NTAsNyArMzY1Miw4IEBAIHN0YXRpYyBfX2Fsd2F5c19pbmxpbmUgdm9pZCB2bXhfZGlz
YWJsZV9pbnRlcmNlcHRfZm9yX21zcih1bnNpZ25lZCBsb25nICptc3JfYml0CiAJfQogfQogCi1z
dGF0aWMgX19hbHdheXNfaW5saW5lIHZvaWQgdm14X2VuYWJsZV9pbnRlcmNlcHRfZm9yX21zcih1
bnNpZ25lZCBsb25nICptc3JfYml0bWFwLAorc3RhdGljIF9fYWx3YXlzX2lubGluZSB2b2lkIHZt
eF9lbmFibGVfaW50ZXJjZXB0X2Zvcl9tc3Ioc3RydWN0IGt2bV92Y3B1ICp2Y3B1LAorCQkJCQkJ
CSB1bnNpZ25lZCBsb25nICptc3JfYml0bWFwLAogCQkJCQkJCSB1MzIgbXNyLCBpbnQgdHlwZSkK
IHsKIAlpbnQgZiA9IHNpemVvZih1bnNpZ25lZCBsb25nKTsKQEAgLTM2ODgsMTMgKzM2OTEsMTQg
QEAgc3RhdGljIF9fYWx3YXlzX2lubGluZSB2b2lkIHZteF9lbmFibGVfaW50ZXJjZXB0X2Zvcl9t
c3IodW5zaWduZWQgbG9uZyAqbXNyX2JpdG0KIAl9CiB9CiAKLXN0YXRpYyBfX2Fsd2F5c19pbmxp
bmUgdm9pZCB2bXhfc2V0X2ludGVyY2VwdF9mb3JfbXNyKHVuc2lnbmVkIGxvbmcgKm1zcl9iaXRt
YXAsCitzdGF0aWMgX19hbHdheXNfaW5saW5lIHZvaWQgdm14X3NldF9pbnRlcmNlcHRfZm9yX21z
cihzdHJ1Y3Qga3ZtX3ZjcHUgKnZjcHUsCisJCQkJCQkgICAgICB1bnNpZ25lZCBsb25nICptc3Jf
Yml0bWFwLAogCQkJICAgICAJCQkgICAgICB1MzIgbXNyLCBpbnQgdHlwZSwgYm9vbCB2YWx1ZSkK
IHsKIAlpZiAodmFsdWUpCi0JCXZteF9lbmFibGVfaW50ZXJjZXB0X2Zvcl9tc3IobXNyX2JpdG1h
cCwgbXNyLCB0eXBlKTsKKwkJdm14X2VuYWJsZV9pbnRlcmNlcHRfZm9yX21zcih2Y3B1LCBtc3Jf
Yml0bWFwLCBtc3IsIHR5cGUpOwogCWVsc2UKLQkJdm14X2Rpc2FibGVfaW50ZXJjZXB0X2Zvcl9t
c3IobXNyX2JpdG1hcCwgbXNyLCB0eXBlKTsKKwkJdm14X2Rpc2FibGVfaW50ZXJjZXB0X2Zvcl9t
c3IodmNwdSwgbXNyX2JpdG1hcCwgbXNyLCB0eXBlKTsKIH0KIAogc3RhdGljIHU4IHZteF9tc3Jf
Yml0bWFwX21vZGUoc3RydWN0IGt2bV92Y3B1ICp2Y3B1KQpAQCAtMzcxMiw3ICszNzE2LDggQEAg
c3RhdGljIHU4IHZteF9tc3JfYml0bWFwX21vZGUoc3RydWN0IGt2bV92Y3B1ICp2Y3B1KQogCXJl
dHVybiBtb2RlOwogfQogCi1zdGF0aWMgdm9pZCB2bXhfdXBkYXRlX21zcl9iaXRtYXBfeDJhcGlj
KHVuc2lnbmVkIGxvbmcgKm1zcl9iaXRtYXAsCitzdGF0aWMgdm9pZCB2bXhfdXBkYXRlX21zcl9i
aXRtYXBfeDJhcGljKHN0cnVjdCBrdm1fdmNwdSAqdmNwdSwKKwkJCQkJIHVuc2lnbmVkIGxvbmcg
Km1zcl9iaXRtYXAsCiAJCQkJCSB1OCBtb2RlKQogewogCWludCBtc3I7CkBAIC0zNzI4LDExICsz
NzMzLDExIEBAIHN0YXRpYyB2b2lkIHZteF91cGRhdGVfbXNyX2JpdG1hcF94MmFwaWModW5zaWdu
ZWQgbG9uZyAqbXNyX2JpdG1hcCwKIAkJICogVFBSIHJlYWRzIGFuZCB3cml0ZXMgY2FuIGJlIHZp
cnR1YWxpemVkIGV2ZW4gaWYgdmlydHVhbCBpbnRlcnJ1cHQKIAkJICogZGVsaXZlcnkgaXMgbm90
IGluIHVzZS4KIAkJICovCi0JCXZteF9kaXNhYmxlX2ludGVyY2VwdF9mb3JfbXNyKG1zcl9iaXRt
YXAsIFgyQVBJQ19NU1IoQVBJQ19UQVNLUFJJKSwgTVNSX1RZUEVfUlcpOworCQl2bXhfZGlzYWJs
ZV9pbnRlcmNlcHRfZm9yX21zcih2Y3B1LCBtc3JfYml0bWFwLCBYMkFQSUNfTVNSKEFQSUNfVEFT
S1BSSSksIE1TUl9UWVBFX1JXKTsKIAkJaWYgKG1vZGUgJiBNU1JfQklUTUFQX01PREVfWDJBUElD
X0FQSUNWKSB7Ci0JCQl2bXhfZW5hYmxlX2ludGVyY2VwdF9mb3JfbXNyKG1zcl9iaXRtYXAsIFgy
QVBJQ19NU1IoQVBJQ19UTUNDVCksIE1TUl9UWVBFX1IpOwotCQkJdm14X2Rpc2FibGVfaW50ZXJj
ZXB0X2Zvcl9tc3IobXNyX2JpdG1hcCwgWDJBUElDX01TUihBUElDX0VPSSksIE1TUl9UWVBFX1cp
OwotCQkJdm14X2Rpc2FibGVfaW50ZXJjZXB0X2Zvcl9tc3IobXNyX2JpdG1hcCwgWDJBUElDX01T
UihBUElDX1NFTEZfSVBJKSwgTVNSX1RZUEVfVyk7CisJCQl2bXhfZW5hYmxlX2ludGVyY2VwdF9m
b3JfbXNyKHZjcHUsIG1zcl9iaXRtYXAsIFgyQVBJQ19NU1IoQVBJQ19UTUNDVCksIE1TUl9UWVBF
X1IpOworCQkJdm14X2Rpc2FibGVfaW50ZXJjZXB0X2Zvcl9tc3IodmNwdSwgbXNyX2JpdG1hcCwg
WDJBUElDX01TUihBUElDX0VPSSksIE1TUl9UWVBFX1cpOworCQkJdm14X2Rpc2FibGVfaW50ZXJj
ZXB0X2Zvcl9tc3IodmNwdSwgbXNyX2JpdG1hcCwgWDJBUElDX01TUihBUElDX1NFTEZfSVBJKSwg
TVNSX1RZUEVfVyk7CiAJCX0KIAl9CiB9CkBAIC0zNzQ4LDcgKzM3NTMsNyBAQCB2b2lkIHZteF91
cGRhdGVfbXNyX2JpdG1hcChzdHJ1Y3Qga3ZtX3ZjcHUgKnZjcHUpCiAJCXJldHVybjsKIAogCWlm
IChjaGFuZ2VkICYgKE1TUl9CSVRNQVBfTU9ERV9YMkFQSUMgfCBNU1JfQklUTUFQX01PREVfWDJB
UElDX0FQSUNWKSkKLQkJdm14X3VwZGF0ZV9tc3JfYml0bWFwX3gyYXBpYyhtc3JfYml0bWFwLCBt
b2RlKTsKKwkJdm14X3VwZGF0ZV9tc3JfYml0bWFwX3gyYXBpYyh2Y3B1LCBtc3JfYml0bWFwLCBt
b2RlKTsKIAogCXZteC0+bXNyX2JpdG1hcF9tb2RlID0gbW9kZTsKIH0KQEAgLTM3NTcsMjAgKzM3
NjIsMjEgQEAgdm9pZCBwdF91cGRhdGVfaW50ZXJjZXB0X2Zvcl9tc3Ioc3RydWN0IHZjcHVfdm14
ICp2bXgpCiB7CiAJdW5zaWduZWQgbG9uZyAqbXNyX2JpdG1hcCA9IHZteC0+dm1jczAxLm1zcl9i
aXRtYXA7CiAJYm9vbCBmbGFnID0gISh2bXgtPnB0X2Rlc2MuZ3Vlc3QuY3RsICYgUlRJVF9DVExf
VFJBQ0VFTik7CisJc3RydWN0IGt2bV92Y3B1ICp2Y3B1ID0gJnZteC0+dmNwdTsKIAl1MzIgaTsK
IAotCXZteF9zZXRfaW50ZXJjZXB0X2Zvcl9tc3IobXNyX2JpdG1hcCwgTVNSX0lBMzJfUlRJVF9T
VEFUVVMsCisJdm14X3NldF9pbnRlcmNlcHRfZm9yX21zcih2Y3B1LCBtc3JfYml0bWFwLCBNU1Jf
SUEzMl9SVElUX1NUQVRVUywKIAkJCQkJCQlNU1JfVFlQRV9SVywgZmxhZyk7Ci0Jdm14X3NldF9p
bnRlcmNlcHRfZm9yX21zcihtc3JfYml0bWFwLCBNU1JfSUEzMl9SVElUX09VVFBVVF9CQVNFLAor
CXZteF9zZXRfaW50ZXJjZXB0X2Zvcl9tc3IodmNwdSwgbXNyX2JpdG1hcCwgTVNSX0lBMzJfUlRJ
VF9PVVRQVVRfQkFTRSwKIAkJCQkJCQlNU1JfVFlQRV9SVywgZmxhZyk7Ci0Jdm14X3NldF9pbnRl
cmNlcHRfZm9yX21zcihtc3JfYml0bWFwLCBNU1JfSUEzMl9SVElUX09VVFBVVF9NQVNLLAorCXZt
eF9zZXRfaW50ZXJjZXB0X2Zvcl9tc3IodmNwdSwgbXNyX2JpdG1hcCwgTVNSX0lBMzJfUlRJVF9P
VVRQVVRfTUFTSywKIAkJCQkJCQlNU1JfVFlQRV9SVywgZmxhZyk7Ci0Jdm14X3NldF9pbnRlcmNl
cHRfZm9yX21zcihtc3JfYml0bWFwLCBNU1JfSUEzMl9SVElUX0NSM19NQVRDSCwKKwl2bXhfc2V0
X2ludGVyY2VwdF9mb3JfbXNyKHZjcHUsIG1zcl9iaXRtYXAsIE1TUl9JQTMyX1JUSVRfQ1IzX01B
VENILAogCQkJCQkJCU1TUl9UWVBFX1JXLCBmbGFnKTsKIAlmb3IgKGkgPSAwOyBpIDwgdm14LT5w
dF9kZXNjLmFkZHJfcmFuZ2U7IGkrKykgewotCQl2bXhfc2V0X2ludGVyY2VwdF9mb3JfbXNyKG1z
cl9iaXRtYXAsCisJCXZteF9zZXRfaW50ZXJjZXB0X2Zvcl9tc3IodmNwdSwgbXNyX2JpdG1hcCwK
IAkJCU1TUl9JQTMyX1JUSVRfQUREUjBfQSArIGkgKiAyLCBNU1JfVFlQRV9SVywgZmxhZyk7Ci0J
CXZteF9zZXRfaW50ZXJjZXB0X2Zvcl9tc3IobXNyX2JpdG1hcCwKKwkJdm14X3NldF9pbnRlcmNl
cHRfZm9yX21zcih2Y3B1LCBtc3JfYml0bWFwLAogCQkJTVNSX0lBMzJfUlRJVF9BRERSMF9CICsg
aSAqIDIsIE1TUl9UWVBFX1JXLCBmbGFnKTsKIAl9CiB9CkBAIC02NzgwLDE4ICs2Nzg2LDE4IEBA
IHN0YXRpYyBzdHJ1Y3Qga3ZtX3ZjcHUgKnZteF9jcmVhdGVfdmNwdShzdHJ1Y3Qga3ZtICprdm0s
IHVuc2lnbmVkIGludCBpZCkKIAkJZ290byBmcmVlX3BtbDsKIAogCW1zcl9iaXRtYXAgPSB2bXgt
PnZtY3MwMS5tc3JfYml0bWFwOwotCXZteF9kaXNhYmxlX2ludGVyY2VwdF9mb3JfbXNyKG1zcl9i
aXRtYXAsIE1TUl9JQTMyX1RTQywgTVNSX1RZUEVfUik7Ci0Jdm14X2Rpc2FibGVfaW50ZXJjZXB0
X2Zvcl9tc3IobXNyX2JpdG1hcCwgTVNSX0ZTX0JBU0UsIE1TUl9UWVBFX1JXKTsKLQl2bXhfZGlz
YWJsZV9pbnRlcmNlcHRfZm9yX21zcihtc3JfYml0bWFwLCBNU1JfR1NfQkFTRSwgTVNSX1RZUEVf
UlcpOwotCXZteF9kaXNhYmxlX2ludGVyY2VwdF9mb3JfbXNyKG1zcl9iaXRtYXAsIE1TUl9LRVJO
RUxfR1NfQkFTRSwgTVNSX1RZUEVfUlcpOwotCXZteF9kaXNhYmxlX2ludGVyY2VwdF9mb3JfbXNy
KG1zcl9iaXRtYXAsIE1TUl9JQTMyX1NZU0VOVEVSX0NTLCBNU1JfVFlQRV9SVyk7Ci0Jdm14X2Rp
c2FibGVfaW50ZXJjZXB0X2Zvcl9tc3IobXNyX2JpdG1hcCwgTVNSX0lBMzJfU1lTRU5URVJfRVNQ
LCBNU1JfVFlQRV9SVyk7Ci0Jdm14X2Rpc2FibGVfaW50ZXJjZXB0X2Zvcl9tc3IobXNyX2JpdG1h
cCwgTVNSX0lBMzJfU1lTRU5URVJfRUlQLCBNU1JfVFlQRV9SVyk7CisJdm14X2Rpc2FibGVfaW50
ZXJjZXB0X2Zvcl9tc3IoTlVMTCwgbXNyX2JpdG1hcCwgTVNSX0lBMzJfVFNDLCBNU1JfVFlQRV9S
KTsKKwl2bXhfZGlzYWJsZV9pbnRlcmNlcHRfZm9yX21zcihOVUxMLCBtc3JfYml0bWFwLCBNU1Jf
RlNfQkFTRSwgTVNSX1RZUEVfUlcpOworCXZteF9kaXNhYmxlX2ludGVyY2VwdF9mb3JfbXNyKE5V
TEwsIG1zcl9iaXRtYXAsIE1TUl9HU19CQVNFLCBNU1JfVFlQRV9SVyk7CisJdm14X2Rpc2FibGVf
aW50ZXJjZXB0X2Zvcl9tc3IoTlVMTCwgbXNyX2JpdG1hcCwgTVNSX0tFUk5FTF9HU19CQVNFLCBN
U1JfVFlQRV9SVyk7CisJdm14X2Rpc2FibGVfaW50ZXJjZXB0X2Zvcl9tc3IoTlVMTCwgbXNyX2Jp
dG1hcCwgTVNSX0lBMzJfU1lTRU5URVJfQ1MsIE1TUl9UWVBFX1JXKTsKKwl2bXhfZGlzYWJsZV9p
bnRlcmNlcHRfZm9yX21zcihOVUxMLCBtc3JfYml0bWFwLCBNU1JfSUEzMl9TWVNFTlRFUl9FU1As
IE1TUl9UWVBFX1JXKTsKKwl2bXhfZGlzYWJsZV9pbnRlcmNlcHRfZm9yX21zcihOVUxMLCBtc3Jf
Yml0bWFwLCBNU1JfSUEzMl9TWVNFTlRFUl9FSVAsIE1TUl9UWVBFX1JXKTsKIAlpZiAoa3ZtX2Nz
dGF0ZV9pbl9ndWVzdChrdm0pKSB7Ci0JCXZteF9kaXNhYmxlX2ludGVyY2VwdF9mb3JfbXNyKG1z
cl9iaXRtYXAsIE1TUl9DT1JFX0MxX1JFUywgTVNSX1RZUEVfUik7Ci0JCXZteF9kaXNhYmxlX2lu
dGVyY2VwdF9mb3JfbXNyKG1zcl9iaXRtYXAsIE1TUl9DT1JFX0MzX1JFU0lERU5DWSwgTVNSX1RZ
UEVfUik7Ci0JCXZteF9kaXNhYmxlX2ludGVyY2VwdF9mb3JfbXNyKG1zcl9iaXRtYXAsIE1TUl9D
T1JFX0M2X1JFU0lERU5DWSwgTVNSX1RZUEVfUik7Ci0JCXZteF9kaXNhYmxlX2ludGVyY2VwdF9m
b3JfbXNyKG1zcl9iaXRtYXAsIE1TUl9DT1JFX0M3X1JFU0lERU5DWSwgTVNSX1RZUEVfUik7CisJ
CXZteF9kaXNhYmxlX2ludGVyY2VwdF9mb3JfbXNyKE5VTEwsIG1zcl9iaXRtYXAsIE1TUl9DT1JF
X0MxX1JFUywgTVNSX1RZUEVfUik7CisJCXZteF9kaXNhYmxlX2ludGVyY2VwdF9mb3JfbXNyKE5V
TEwsIG1zcl9iaXRtYXAsIE1TUl9DT1JFX0MzX1JFU0lERU5DWSwgTVNSX1RZUEVfUik7CisJCXZt
eF9kaXNhYmxlX2ludGVyY2VwdF9mb3JfbXNyKE5VTEwsIG1zcl9iaXRtYXAsIE1TUl9DT1JFX0M2
X1JFU0lERU5DWSwgTVNSX1RZUEVfUik7CisJCXZteF9kaXNhYmxlX2ludGVyY2VwdF9mb3JfbXNy
KE5VTEwsIG1zcl9iaXRtYXAsIE1TUl9DT1JFX0M3X1JFU0lERU5DWSwgTVNSX1RZUEVfUik7CiAJ
fQogCXZteC0+bXNyX2JpdG1hcF9tb2RlID0gMDsKIApfX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fXwpWaXJ0dWFsaXphdGlvbiBtYWlsaW5nIGxpc3QKVmlydHVh
bGl6YXRpb25AbGlzdHMubGludXgtZm91bmRhdGlvbi5vcmcKaHR0cHM6Ly9saXN0cy5saW51eGZv
dW5kYXRpb24ub3JnL21haWxtYW4vbGlzdGluZm8vdmlydHVhbGl6YXRpb24=
