Return-Path: <virtualization-bounces@lists.linux-foundation.org>
X-Original-To: lists.virtualization@lfdr.de
Delivered-To: lists.virtualization@lfdr.de
Received: from smtp3.osuosl.org (smtp3.osuosl.org [140.211.166.136])
	by mail.lfdr.de (Postfix) with ESMTPS id 4EF616A79C9
	for <lists.virtualization@lfdr.de>; Thu,  2 Mar 2023 04:05:48 +0100 (CET)
Received: from localhost (localhost [127.0.0.1])
	by smtp3.osuosl.org (Postfix) with ESMTP id E35A06113B;
	Thu,  2 Mar 2023 03:05:46 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp3.osuosl.org E35A06113B
Authentication-Results: smtp3.osuosl.org;
	dkim=fail reason="signature verification failed" (1024-bit key) header.d=redhat.com header.i=@redhat.com header.a=rsa-sha256 header.s=mimecast20190719 header.b=aDkhoXEB
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp3.osuosl.org ([127.0.0.1])
	by localhost (smtp3.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id CdEzzPDd3niC; Thu,  2 Mar 2023 03:05:45 +0000 (UTC)
Received: from lists.linuxfoundation.org (lf-lists.osuosl.org [140.211.9.56])
	by smtp3.osuosl.org (Postfix) with ESMTPS id 1DABE6104F;
	Thu,  2 Mar 2023 03:05:45 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp3.osuosl.org 1DABE6104F
Received: from lf-lists.osuosl.org (localhost [127.0.0.1])
	by lists.linuxfoundation.org (Postfix) with ESMTP id 4FFBEC007E;
	Thu,  2 Mar 2023 03:05:44 +0000 (UTC)
X-Original-To: virtualization@lists.linux-foundation.org
Delivered-To: virtualization@lists.linuxfoundation.org
Received: from smtp3.osuosl.org (smtp3.osuosl.org [IPv6:2605:bc80:3010::136])
 by lists.linuxfoundation.org (Postfix) with ESMTP id 41BFAC0032
 for <virtualization@lists.linux-foundation.org>;
 Thu,  2 Mar 2023 03:05:43 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by smtp3.osuosl.org (Postfix) with ESMTP id 16D2261032
 for <virtualization@lists.linux-foundation.org>;
 Thu,  2 Mar 2023 03:05:43 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp3.osuosl.org 16D2261032
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp3.osuosl.org ([127.0.0.1])
 by localhost (smtp3.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id MPoNcC3oy4F3
 for <virtualization@lists.linux-foundation.org>;
 Thu,  2 Mar 2023 03:05:41 +0000 (UTC)
X-Greylist: domain auto-whitelisted by SQLgrey-1.8.0
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp3.osuosl.org 7B9906100A
Received: from us-smtp-delivery-124.mimecast.com
 (us-smtp-delivery-124.mimecast.com [170.10.129.124])
 by smtp3.osuosl.org (Postfix) with ESMTPS id 7B9906100A
 for <virtualization@lists.linux-foundation.org>;
 Thu,  2 Mar 2023 03:05:41 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=redhat.com;
 s=mimecast20190719; t=1677726340;
 h=from:from:reply-to:subject:subject:date:date:message-id:message-id:
 to:to:cc:cc:mime-version:mime-version:content-type:content-type:
 content-transfer-encoding:content-transfer-encoding:
 in-reply-to:in-reply-to:references:references;
 bh=byLJIuSea+fW/g4VQa6adWEVOjyVuEEQ+Ej6C5h9hak=;
 b=aDkhoXEBWkw6BaxZ0T+MmJ8Sc2BG6O3FTS4qjHNerBmpwjLcwfTBl0e5Ctxp02DeRAA1SP
 qRjpFn4vwhDozMpYEDauozn6nIwysaJ7AK97P5KK1oZwH5oltCUDotSE8F+Wrs+EMGtxYp
 eiP0dEEMEBrYypmHMhubvTlq4AO6Ohg=
Received: from mail-ot1-f70.google.com (mail-ot1-f70.google.com
 [209.85.210.70]) by relay.mimecast.com with ESMTP with STARTTLS
 (version=TLSv1.3, cipher=TLS_AES_128_GCM_SHA256) id
 us-mta-313-sgRmyg0QO-eVf-bVTB_diA-1; Wed, 01 Mar 2023 22:05:39 -0500
X-MC-Unique: sgRmyg0QO-eVf-bVTB_diA-1
Received: by mail-ot1-f70.google.com with SMTP id
 m20-20020a05683026d400b006942d0ed1d1so1599626otu.18
 for <virtualization@lists.linux-foundation.org>;
 Wed, 01 Mar 2023 19:05:38 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20210112;
 h=content-transfer-encoding:cc:to:subject:message-id:date:from
 :in-reply-to:references:mime-version:x-gm-message-state:from:to:cc
 :subject:date:message-id:reply-to;
 bh=byLJIuSea+fW/g4VQa6adWEVOjyVuEEQ+Ej6C5h9hak=;
 b=RKcyU7jBH0QHv/I9PEmckau08hBalUWtohIjfdya+aEHF8UTR0HbyM2EuPSFD9e37d
 gtjTxEBVs8SgbXfIXubNyYmTVtLZ6sSD8oyyVap6RzIKAjqGVwJD1s8+DU6kq/EqzQt2
 hFF/DqKFCxGms9p63aqByMXmZc+XcpQOc4md/2YwX4puw7/OS6GbG3G7jRCGv+mbT0N6
 DZMEo7PejjpFYUvTNmWX469cKH/OFbP5LP46v20W9kWhbsulU0EaxyPbRUFW2I6OW8au
 ZjuDqWP828aXZIe0JuuJ9p7jCsQ0OqCPhPG/MJApI9gCtWlsfHKOT0tytI8LFnMfMLTj
 GdeQ==
X-Gm-Message-State: AO0yUKWz5LoxNDP+PQTTP/xuIbQRJ0veoPRJnB93TmTPQDmmjfMb8dln
 YUaMqM4JsNd0HVBOHbcZDZhEZmHNd/X2lLWvgdqG0/jImAyaj+xWD7GEfP3RSWTu2IKQGpWSEaG
 yej8uy0PyLgCoMeOOEXnFcxwjeK5v2SBU2VUlDr1mFACY4py6O6NqN8avAA==
X-Received: by 2002:aca:1b0a:0:b0:37f:9a01:f661 with SMTP id
 b10-20020aca1b0a000000b0037f9a01f661mr2606457oib.9.1677726338201; 
 Wed, 01 Mar 2023 19:05:38 -0800 (PST)
X-Google-Smtp-Source: AK7set+/+qnaOQzwl9AfNkWgqm/Dw+njx+hF8NQLbI5o4dzCzLzlnULXCCCtM1w121iZC5Tnn+uj4bxuBYwqBqCojTU=
X-Received: by 2002:aca:1b0a:0:b0:37f:9a01:f661 with SMTP id
 b10-20020aca1b0a000000b0037f9a01f661mr2606456oib.9.1677726337899; Wed, 01 Mar
 2023 19:05:37 -0800 (PST)
MIME-Version: 1.0
References: <20230214072704.126660-1-xuanzhuo@linux.alibaba.com>
 <20230214072704.126660-8-xuanzhuo@linux.alibaba.com>
 <CACGkMEs_jQd84LSC5F_at0+G_D=JnBWOJH71B5=RQFPYQKwtBg@mail.gmail.com>
 <1676876377.4263525-4-xuanzhuo@linux.alibaba.com>
 <CACGkMEvxyV9fAyN1L_vqRvQGzA5XnmhviVFKZdNJS6oKqGLpBA@mail.gmail.com>
 <1677582923.193659-3-xuanzhuo@linux.alibaba.com>
 <1677722698.850823-1-xuanzhuo@linux.alibaba.com>
In-Reply-To: <1677722698.850823-1-xuanzhuo@linux.alibaba.com>
From: Jason Wang <jasowang@redhat.com>
Date: Thu, 2 Mar 2023 11:05:26 +0800
Message-ID: <CACGkMEsMjn6-H2mLkP0gGZ-YFVPdnruLDykBqO00xecU8D7mQw@mail.gmail.com>
Subject: Re: [PATCH vhost 07/10] virtio_ring: add api virtio_dma_map() for
 advance dma
To: Xuan Zhuo <xuanzhuo@linux.alibaba.com>
X-Mimecast-Spam-Score: 0
X-Mimecast-Originator: redhat.com
Cc: maciej.fijalkowski@intel.com, "Michael S. Tsirkin" <mst@redhat.com>,
 virtualization@lists.linux-foundation.org, bjorn@kernel.org,
 jonathan.lemon@gmail.com, magnus.karlsson@intel.com
X-BeenThere: virtualization@lists.linux-foundation.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: Linux virtualization <virtualization.lists.linux-foundation.org>
List-Unsubscribe: <https://lists.linuxfoundation.org/mailman/options/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=unsubscribe>
List-Archive: <http://lists.linuxfoundation.org/pipermail/virtualization/>
List-Post: <mailto:virtualization@lists.linux-foundation.org>
List-Help: <mailto:virtualization-request@lists.linux-foundation.org?subject=help>
List-Subscribe: <https://lists.linuxfoundation.org/mailman/listinfo/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: virtualization-bounces@lists.linux-foundation.org
Sender: "Virtualization" <virtualization-bounces@lists.linux-foundation.org>

T24gVGh1LCBNYXIgMiwgMjAyMyBhdCAxMDoyNOKAr0FNIFh1YW4gWmh1byA8eHVhbnpodW9AbGlu
dXguYWxpYmFiYS5jb20+IHdyb3RlOgo+Cj4gT24gVHVlLCAyOCBGZWIgMjAyMyAxOToxNToyMyAr
MDgwMCwgWHVhbiBaaHVvIDx4dWFuemh1b0BsaW51eC5hbGliYWJhLmNvbT4gd3JvdGU6Cj4gPiBP
biBUdWUsIDIxIEZlYiAyMDIzIDA5OjUxOjA3ICswODAwLCBKYXNvbiBXYW5nIDxqYXNvd2FuZ0By
ZWRoYXQuY29tPiB3cm90ZToKPiA+ID4gT24gTW9uLCBGZWIgMjAsIDIwMjMgYXQgMzowMiBQTSBY
dWFuIFpodW8gPHh1YW56aHVvQGxpbnV4LmFsaWJhYmEuY29tPiB3cm90ZToKPiA+ID4gPgo+ID4g
PiA+IE9uIE1vbiwgMjAgRmViIDIwMjMgMTM6Mzg6MjQgKzA4MDAsIEphc29uIFdhbmcgPGphc293
YW5nQHJlZGhhdC5jb20+IHdyb3RlOgo+ID4gPiA+ID4gT24gVHVlLCBGZWIgMTQsIDIwMjMgYXQg
MzoyNyBQTSBYdWFuIFpodW8gPHh1YW56aHVvQGxpbnV4LmFsaWJhYmEuY29tPiB3cm90ZToKPiA+
ID4gPiA+ID4KPiA+ID4gPiA+ID4gQWRkZWQgdmlydGlvX2RtYV9tYXAoKSB0byBtYXAgRE1BIGFk
ZHJlc3NlcyBmb3IgdmlydHVhbCBtZW1vcnkgaW4KPiA+ID4gPiA+ID4gYWR2YW5jZS4gVGhlIHB1
cnBvc2UgaXMgdG8ga2VlcCBtZW1vcnkgbWFwcGVkIGFjcm9zcyBtdWx0aXBsZSBhZGQvZ2V0Cj4g
PiA+ID4gPiA+IGJ1ZiBvcGVyYXRpb25zLgo+ID4gPiA+ID4KPiA+ID4gPiA+IEkgd29uZGVyIGlm
IGluc3RlYWQgb2YgZXhwb3J0aW5nIGhlbHBlcnMgbGlrZSB0aGlzLCBpdCBtaWdodCBiZSBzaW1w
bGUKPiA+ID4gPiA+IHRvIGp1c3QgZXhwb3J0IGRtYV9kZXYgdGhlbiB0aGUgdXBwZXIgbGF5ZXIg
Y2FuIHVzZSBETUEgQVBJIGF0IHdpbGw/Cj4gPiA+ID4KPiA+ID4gPgo+ID4gPiA+IFRoZSByZWFz
b24gZm9yIG5vdCBkb2luZyB0aGlzLCBWaXJ0aW8gaXMgbm90IGp1c3QgdXNpbmcgRE1BX0RFViB0
byBtYXBwLCBidXQKPiA+ID4gPiBhbHNvIGNoZWNrIHdoZXRoZXIgRE1BIGlzIHVzZWQuCj4gPiA+
Cj4gPiA+IFdlIHNob3VsZCBsZXQgdGhlIERNQSBBUEkgZGVjaWRlIGJ5IGV4cG9ydGluZyBhIGNv
cnJlY3QgZG1hX2Rldi4gRS5nCj4gPiA+IHdoZW4gQUNDRVNTX1BMQVRGT1JNIGlzIG5vdCBuZWdv
dGlhdGVkLCBhZHZlcnRpc2luZyBhIERNQSBkZXYgd2l0aG91dAo+ID4gPiBkbWFfb3BzLgo+ID4K
PiA+Cj4gPiBEbyB5b3UgbWVhbiB3ZSBwcm92aWRlIHRoaXMgQVBJPwo+ID4KPiA+IHZpcnRpb19n
ZXRfZG1hX2RldigpCj4gPgo+ID4gSWYgaXQgcmV0dXJucyBOVUxMLCB0aGUgY2FsbGVyIHdpbGwg
dXNlIHRoZSBwaHlzaWNhbCBtZW1vcnkgYWRkcmVzcyBkaXJlY3RseS4gSWYKPiA+IHRoaXMgZnVu
YyByZXR1cm4gYSBkbWFfZGV2LCB0aGUgY2FsbGVyIHNob3VsZCB1c2UgRE1BIEFQSS4KPgo+Cj4g
Y2MgdGhlIFhEUF9TT0NLRVQncyBtYWludGFpbmVycy4KPgo+IEZpcnN0IG9mIGFsbCwgSmFzb24g
ZG9lcyBub3Qgd2FudCB0byBlbmNhcHN1bGF0ZSB0aGUgQVBJIG9mIERNQSBieSBWaXJ0aW8uIEl0
IGlzCj4gYmVzdCB0byBwYXNzIERNQSBEZXZpY2UgdG8gWFNLLCBYU0sgdXNlcyBETUEgQVBJIGZv
ciBETUEgTUFQIG9wZXJhdGlvbiBkaXJlY3RseS4KPiBJIGFncmVlIHdpdGggdGhpcyBpZGVhLgo+
Cj4gSG93ZXZlciwgdGhlcmUgYXJlIHNldmVyYWwgcHJvYmxlbXMgdW5kZXIgVmlydGlvOgo+IDEu
IEluIHNvbWUgdmlydHVhbGl6YXRpb24gc2NlbmFyaW9zLCB3ZSBkbyBub3QgaGF2ZSB0byBwZXJm
b3JtIERNQSBvcGVyYXRpb25zLAo+ICAgIGp1c3QgdXNlIHRoZSBwaHlzaWNhbCBhZGRyZXNzIGRp
cmVjdGx5LgoKVGhpcyBpcyBub3QgYSBwcm9ibGVtLCB3ZSBjYW4gc2ltcGx5IHJldHVybiB0aGUg
dmlydGlvIGRldmljZSBpdHNlbGYKYXMgdGhlIERNQSBkZXZpY2UgaW4gdGhpcyBjYXNlLiBTaW5j
ZSB0aGVyZSdzIG5vIERNQSBvcHMgYXR0YWNoZWQsIERNQQpBUEkgd2lsbCB1c2UgcGh5c2ljYWwg
YWRkcmVzcyBpbiB0aGlzIGNhc2UuCgo+IDIuIFRoZSBsYXRlc3QgVmlydGlvIENvcmUgc3VwcG9y
dHMgZWFjaCByeC90eCBxdWV1ZSB3aXRoIG9uZSBETUEgZGV2aWNlLgo+ICAgIEdlbmVyYWxseSwg
dGhlIHBoeXNpY2FsIG5ldHdvcmsgY2FyZCBoYXMgb25seSBvbmUgZGV2aWNlLiBBbGwgcXVldWVz
IHVzZQo+ICAgIGl0IGZvciBETUEgb3BlcmF0aW9uLgoKSSdtIG5vdCBzdXJlIHRoaXMgaXMgYSBi
aWcgZGVhbCwgd2UganVzdCBuZWVkIHRvIHVzZSB0aGUgcGVyIHZpcnRxdWV1ZQpkbWEgZGV2aWNl
IHRvIHVzZSBETUEgQVBJLgoKPgo+IFNvIEkgY29uc2lkZXIgdGhpcyBwcm9ibGVtIGFnYWluLCBW
aXJ0aW8gQ29yZSBwcm92aWRlcyBvbmx5IG9uZSBBUEkuCj4KPiAqIHZpcnRpb19nZXRfZG1hX2Rl
dihxdWV1ZSkKPgo+IElmIHRoZSByZXR1cm4gdmFsdWUgaXMgTlVMTCwgaXQgbWVhbnMgdGhhdCB0
aGVyZSBpcyBubyBETUEgb3BlcmF0aW9uLiBJZiBpdCBpcwo+IG5vdCBOVUxMLCB1c2UgRE1BIEFQ
SSBmb3IgRE1BIG9wZXJhdGlvbi4KPgo+IFRoZSBtb2RpZmljYXRpb24gb2YgWFNLIGlzIGxpa2Ug
dGhpcy4gV2UgbWF5IHBhc3MgTlVMTCBhcyBkZXYgdG8geHBfZG1hX21hcCgpLgo+IElmIGRldiBp
cyBOVUxMLCB0aGVuIHRoZXJlIGlzIG5vIG5lZWQgdG8gcGVyZm9ybSBETUEgYW5kIFN5bmMgb3Bl
cmF0aW9ucy4KPiBPdGhlcndpc2UsIGl0IHdpbGwgcGVyZm9ybSBETUEgb3BlcmF0aW9ucyBsaWtl
IG90aGVyIGRldmljZXMuCgpBcyBkaXNjdXNzZWQgYWJvdmUsIGl0IG1pZ2h0IGJlIGVhc2llcjoK
CiAgICBpZiAoIXZpcnRpb19oYXNfZmVhdHVyZShWSVJUSU9fRl9BQ0NFU1NfUExBVEZPUk0pKQog
ICAgICAgIHJldHVybiB2aXJ0aW9fZGV2aWNlOwogICAgZWxzZQogICAgICAgIHJldHVybiB2cmlu
Z19kbWFfZGV2KCk7Cgo+Cj4gQW5kIGlmIHRoZSBkbWFfZGV2IG9mIHJ4IGFuZCB0eCBpcyBkaWZm
ZXJlbnQsIHRoZW4gd2UgY2FuIG9ubHkgZGlzYWJsZQo+IFhEUF9TT0NLRVQuCgpXZSBjYW4gc3Rh
cnQgd2l0aCB0aGlzLgoKVGhhbmtzCgo+Cj4gTG9va2luZyBmb3J3YXJkIHRvIGV2ZXJ5b25lJ3Mg
cmVwbHkuCj4KPiBUaGFua3MuCj4KPiA+Cj4gPiBUaGFua3MuCj4gPgo+ID4KPiA+ID4KPiA+ID4g
VGhhbmtzCj4gPiA+Cj4gPiA+ID4KPiA+ID4gPgo+ID4gPiA+ID4KPiA+ID4gPiA+IChPdGhlcndp
c2UgdGhlIERNQSBoZWxwZXJzIG5lZWQgdG8gZ3Jvdy9zaHJpbmsgYXMgdGhlIERNQSBBUEkgZXZv
bHZlcz8pCj4gPiA+ID4gPgo+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiBBZGRlZCB2aXJ0aW9fZG1h
X3VubWFwKCkgZm9yIHVubWFwIERNQSBhZGRyZXNzLgo+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiBT
aWduZWQtb2ZmLWJ5OiBYdWFuIFpodW8gPHh1YW56aHVvQGxpbnV4LmFsaWJhYmEuY29tPgo+ID4g
PiA+ID4gPiAtLS0KPiA+ID4gPiA+ID4gIGRyaXZlcnMvdmlydGlvL3ZpcnRpb19yaW5nLmMgfCA5
MiArKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysKPiA+ID4gPiA+ID4gIGluY2x1
ZGUvbGludXgvdmlydGlvLmggICAgICAgfCAgOSArKysrCj4gPiA+ID4gPiA+ICAyIGZpbGVzIGNo
YW5nZWQsIDEwMSBpbnNlcnRpb25zKCspCj4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+IGRpZmYgLS1n
aXQgYS9kcml2ZXJzL3ZpcnRpby92aXJ0aW9fcmluZy5jIGIvZHJpdmVycy92aXJ0aW8vdmlydGlv
X3JpbmcuYwo+ID4gPiA+ID4gPiBpbmRleCBjZDkzNjRlYjIzNDUuLjg1NTMzODYwOWM3ZiAxMDA2
NDQKPiA+ID4gPiA+ID4gLS0tIGEvZHJpdmVycy92aXJ0aW8vdmlydGlvX3JpbmcuYwo+ID4gPiA+
ID4gPiArKysgYi9kcml2ZXJzL3ZpcnRpby92aXJ0aW9fcmluZy5jCj4gPiA+ID4gPiA+IEBAIC0z
MTcyLDQgKzMxNzIsOTYgQEAgY29uc3Qgc3RydWN0IHZyaW5nICp2aXJ0cXVldWVfZ2V0X3ZyaW5n
KHN0cnVjdCB2aXJ0cXVldWUgKnZxKQo+ID4gPiA+ID4gPiAgfQo+ID4gPiA+ID4gPiAgRVhQT1JU
X1NZTUJPTF9HUEwodmlydHF1ZXVlX2dldF92cmluZyk7Cj4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+
ICsvKioKPiA+ID4gPiA+ID4gKyAqIHZpcnRpb19kbWFfbWFwX3BhZ2UgLSBnZXQgdGhlIERNQSBh
ZGRyIG9mIHRoZSBtZW1vcnkgZm9yIHZpcnRpbyBkZXZpY2UKPiA+ID4gPiA+ID4gKyAqIEBkZXY6
IHZpcnRpbyBkZXZpY2UKPiA+ID4gPiA+ID4gKyAqIEBwYWdlOiB0aGUgcGFnZSBvZiB0aGUgbWVt
b3J5IHRvIERNQQo+ID4gPiA+ID4gPiArICogQG9mZnNldDogdGhlIG9mZnNldCBvZiB0aGUgbWVt
b3J5IGluc2lkZSBwYWdlCj4gPiA+ID4gPiA+ICsgKiBAbGVuZ3RoOiBtZW1vcnkgbGVuZ3RoCj4g
PiA+ID4gPiA+ICsgKiBAZGlyOiBETUEgZGlyZWN0aW9uCj4gPiA+ID4gPiA+ICsgKgo+ID4gPiA+
ID4gPiArICogVGhpcyBBUEkgaXMgb25seSBmb3IgcHJlLW1hcHBlZCBidWZmZXJzLCBmb3Igbm9u
IHByZW1hcHBlZCBidWZmZXJzIHZpcnRpbwo+ID4gPiA+ID4gPiArICogY29yZSBoYW5kbGVzIERN
QSBBUEkgaW50ZXJuYWxseS4KPiA+ID4gPiA+ID4gKyAqCj4gPiA+ID4gPiA+ICsgKiBSZXR1cm5z
IHRoZSBETUEgYWRkci4gRE1BX01BUFBJTkdfRVJST1IgbWVhbnMgZXJyb3IuCj4gPiA+ID4gPiA+
ICsgKi8KPiA+ID4gPiA+ID4gK2RtYV9hZGRyX3QgdmlydGlvX2RtYV9tYXBfcGFnZShzdHJ1Y3Qg
ZGV2aWNlICpkZXYsIHN0cnVjdCBwYWdlICpwYWdlLCBzaXplX3Qgb2Zmc2V0LAo+ID4gPiA+ID4g
PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgaW50IGxlbmd0aCwgZW51
bSBkbWFfZGF0YV9kaXJlY3Rpb24gZGlyKQo+ID4gPiA+ID4gPiArewo+ID4gPiA+ID4KPiA+ID4g
PiA+IFRoaXMgKGFuZCB0aGUgcmVzZXQpIG5lZWRzIHRvIGJlIGRvbmUgcGVyIHZpcnRxdWV1ZSBp
bnN0ZWFkIHBlciBkZXZpY2UKPiA+ID4gPiA+IGFmdGVyIGIwZTUwNGU1NTA1ZDE4NGIwYmUyNDhi
N2RjZGJlNTBiNzlmMDM3NTggKCJ2aXJ0aW9fcmluZzogcGVyCj4gPiA+ID4gPiB2aXJ0cXVldWUg
ZG1hIGRldmljZSIpLgo+ID4gPiA+Cj4gPiA+ID4KPiA+ID4gPiBZRVMuCj4gPiA+ID4KPiA+ID4g
Pgo+ID4gPiA+ID4KPiA+ID4gPiA+ID4gKyAgICAgICBzdHJ1Y3QgdmlydGlvX2RldmljZSAqdmRl
diA9IGRldl90b192aXJ0aW8oZGV2KTsKPiA+ID4gPiA+ID4gKwo+ID4gPiA+ID4gPiArICAgICAg
IGlmICghdnJpbmdfdXNlX2RtYV9hcGkodmRldikpCj4gPiA+ID4gPiA+ICsgICAgICAgICAgICAg
ICByZXR1cm4gcGFnZV90b19waHlzKHBhZ2UpICsgb2Zmc2V0Owo+ID4gPiA+ID4gPiArCj4gPiA+
ID4gPiA+ICsgICAgICAgcmV0dXJuIGRtYV9tYXBfcGFnZSh2ZGV2LT5kZXYucGFyZW50LCBwYWdl
LCBvZmZzZXQsIGxlbmd0aCwgZGlyKTsKPiA+ID4gPiA+ID4gK30KPiA+ID4gPiA+Cj4gPiA+ID4g
PiBOZWVkIGVpdGhlciBpbmxpbmUgb3IgRVhQT1JUX1NZTUJPTF9HUEwoKSBoZXJlLgo+ID4gPiA+
Cj4gPiA+ID4gQmVjYXVzZSBJIGRpZCBub3QgdXNlIHRoaXMgaW50ZXJmYWNlLCBJIGRpZCBub3Qg
IGV4cG9ydCBpdC4KPiA+ID4gPgo+ID4gPiA+IFRoYW5rcy4KPiA+ID4gPgo+ID4gPiA+Cj4gPiA+
ID4gPgo+ID4gPiA+ID4gVGhhbmtzCj4gPiA+ID4gPgo+ID4gPiA+ID4KPiA+ID4gPiA+ID4gKwo+
ID4gPiA+ID4gPiArLyoqCj4gPiA+ID4gPiA+ICsgKiB2aXJ0aW9fZG1hX21hcCAtIGdldCB0aGUg
RE1BIGFkZHIgb2YgdGhlIG1lbW9yeSBmb3IgdmlydGlvIGRldmljZQo+ID4gPiA+ID4gPiArICog
QGRldjogdmlydGlvIGRldmljZQo+ID4gPiA+ID4gPiArICogQGFkZHI6IHRoZSBhZGRyIHRvIERN
QQo+ID4gPiA+ID4gPiArICogQGxlbmd0aDogbWVtb3J5IGxlbmd0aAo+ID4gPiA+ID4gPiArICog
QGRpcjogRE1BIGRpcmVjdGlvbgo+ID4gPiA+ID4gPiArICoKPiA+ID4gPiA+ID4gKyAqIFRoaXMg
QVBJIGlzIG9ubHkgZm9yIHByZS1tYXBwZWQgYnVmZmVycywgZm9yIG5vbiBwcmVtYXBwZWQgYnVm
ZmVycyB2aXJ0aW8KPiA+ID4gPiA+ID4gKyAqIGNvcmUgaGFuZGxlcyBETUEgQVBJIGludGVybmFs
bHkuCj4gPiA+ID4gPiA+ICsgKgo+ID4gPiA+ID4gPiArICogUmV0dXJucyB0aGUgRE1BIGFkZHIu
Cj4gPiA+ID4gPiA+ICsgKi8KPiA+ID4gPiA+ID4gK2RtYV9hZGRyX3QgdmlydGlvX2RtYV9tYXAo
c3RydWN0IGRldmljZSAqZGV2LCB2b2lkICphZGRyLCB1bnNpZ25lZCBpbnQgbGVuZ3RoLAo+ID4g
PiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgIGVudW0gZG1hX2RhdGFfZGlyZWN0aW9u
IGRpcikKPiA+ID4gPiA+ID4gK3sKPiA+ID4gPiA+ID4gKyAgICAgICBzdHJ1Y3QgcGFnZSAqcGFn
ZTsKPiA+ID4gPiA+ID4gKyAgICAgICBzaXplX3Qgb2Zmc2V0Owo+ID4gPiA+ID4gPiArCj4gPiA+
ID4gPiA+ICsgICAgICAgcGFnZSA9IHZpcnRfdG9fcGFnZShhZGRyKTsKPiA+ID4gPiA+ID4gKyAg
ICAgICBvZmZzZXQgPSBvZmZzZXRfaW5fcGFnZShhZGRyKTsKPiA+ID4gPiA+ID4gKwo+ID4gPiA+
ID4gPiArICAgICAgIHJldHVybiB2aXJ0aW9fZG1hX21hcF9wYWdlKGRldiwgcGFnZSwgb2Zmc2V0
LCBsZW5ndGgsIGRpcik7Cj4gPiA+ID4gPiA+ICt9Cj4gPiA+ID4gPiA+ICtFWFBPUlRfU1lNQk9M
X0dQTCh2aXJ0aW9fZG1hX21hcCk7Cj4gPiA+ID4gPiA+ICsKPiA+ID4gPiA+ID4gKy8qKgo+ID4g
PiA+ID4gPiArICogdmlydGlvX2RtYV9tYXBwaW5nX2Vycm9yIC0gY2hlY2sgZG1hIGFkZHJlc3MK
PiA+ID4gPiA+ID4gKyAqIEBkZXY6IHZpcnRpbyBkZXZpY2UKPiA+ID4gPiA+ID4gKyAqIEBhZGRy
OiBETUEgYWRkcmVzcwo+ID4gPiA+ID4gPiArICoKPiA+ID4gPiA+ID4gKyAqIFRoaXMgQVBJIGlz
IG9ubHkgZm9yIHByZS1tYXBwZWQgYnVmZmVycywgZm9yIG5vbiBwcmVtYXBwZWQgYnVmZmVycyB2
aXJ0aW8KPiA+ID4gPiA+ID4gKyAqIGNvcmUgaGFuZGxlcyBETUEgQVBJIGludGVybmFsbHkuCj4g
PiA+ID4gPiA+ICsgKgo+ID4gPiA+ID4gPiArICogUmV0dXJucyAwIG1lYW5zIGRtYSB2YWxpZC4g
T3RoZXIgbWVhbnMgaW52YWxpZCBkbWEgYWRkcmVzcy4KPiA+ID4gPiA+ID4gKyAqLwo+ID4gPiA+
ID4gPiAraW50IHZpcnRpb19kbWFfbWFwcGluZ19lcnJvcihzdHJ1Y3QgZGV2aWNlICpkZXYsIGRt
YV9hZGRyX3QgYWRkcikKPiA+ID4gPiA+ID4gK3sKPiA+ID4gPiA+ID4gKyAgICAgICBzdHJ1Y3Qg
dmlydGlvX2RldmljZSAqdmRldiA9IGRldl90b192aXJ0aW8oZGV2KTsKPiA+ID4gPiA+ID4gKwo+
ID4gPiA+ID4gPiArICAgICAgIGlmICghdnJpbmdfdXNlX2RtYV9hcGkodmRldikpCj4gPiA+ID4g
PiA+ICsgICAgICAgICAgICAgICByZXR1cm4gMDsKPiA+ID4gPiA+ID4gKwo+ID4gPiA+ID4gPiAr
ICAgICAgIHJldHVybiBkbWFfbWFwcGluZ19lcnJvcih2ZGV2LT5kZXYucGFyZW50LCBhZGRyKTsK
PiA+ID4gPiA+ID4gK30KPiA+ID4gPiA+ID4gK0VYUE9SVF9TWU1CT0xfR1BMKHZpcnRpb19kbWFf
bWFwcGluZ19lcnJvcik7Cj4gPiA+ID4gPiA+ICsKPiA+ID4gPiA+ID4gKy8qKgo+ID4gPiA+ID4g
PiArICogdmlydGlvX2RtYV91bm1hcCAtIHVubWFwIERNQSBhZGRyCj4gPiA+ID4gPiA+ICsgKiBA
ZGV2OiB2aXJ0aW8gZGV2aWNlCj4gPiA+ID4gPiA+ICsgKiBAZG1hOiBETUEgYWRkcmVzcwo+ID4g
PiA+ID4gPiArICogQGxlbmd0aDogbWVtb3J5IGxlbmd0aAo+ID4gPiA+ID4gPiArICogQGRpcjog
RE1BIGRpcmVjdGlvbgo+ID4gPiA+ID4gPiArICoKPiA+ID4gPiA+ID4gKyAqIFRoaXMgQVBJIGlz
IG9ubHkgZm9yIHByZS1tYXBwZWQgYnVmZmVycywgZm9yIG5vbiBwcmVtYXBwZWQgYnVmZmVycyB2
aXJ0aW8KPiA+ID4gPiA+ID4gKyAqIGNvcmUgaGFuZGxlcyBETUEgQVBJIGludGVybmFsbHkuCj4g
PiA+ID4gPiA+ICsgKi8KPiA+ID4gPiA+ID4gK3ZvaWQgdmlydGlvX2RtYV91bm1hcChzdHJ1Y3Qg
ZGV2aWNlICpkZXYsIGRtYV9hZGRyX3QgZG1hLCB1bnNpZ25lZCBpbnQgbGVuZ3RoLAo+ID4gPiA+
ID4gPiArICAgICAgICAgICAgICAgICAgICAgZW51bSBkbWFfZGF0YV9kaXJlY3Rpb24gZGlyKQo+
ID4gPiA+ID4gPiArewo+ID4gPiA+ID4gPiArICAgICAgIHN0cnVjdCB2aXJ0aW9fZGV2aWNlICp2
ZGV2ID0gZGV2X3RvX3ZpcnRpbyhkZXYpOwo+ID4gPiA+ID4gPiArCj4gPiA+ID4gPiA+ICsgICAg
ICAgaWYgKCF2cmluZ191c2VfZG1hX2FwaSh2ZGV2KSkKPiA+ID4gPiA+ID4gKyAgICAgICAgICAg
ICAgIHJldHVybjsKPiA+ID4gPiA+ID4gKwo+ID4gPiA+ID4gPiArICAgICAgIGRtYV91bm1hcF9w
YWdlKHZkZXYtPmRldi5wYXJlbnQsIGRtYSwgbGVuZ3RoLCBkaXIpOwo+ID4gPiA+ID4gPiArfQo+
ID4gPiA+ID4gPiArRVhQT1JUX1NZTUJPTF9HUEwodmlydGlvX2RtYV91bm1hcCk7Cj4gPiA+ID4g
PiA+ICsKPiA+ID4gPiA+ID4gIE1PRFVMRV9MSUNFTlNFKCJHUEwiKTsKPiA+ID4gPiA+ID4gZGlm
ZiAtLWdpdCBhL2luY2x1ZGUvbGludXgvdmlydGlvLmggYi9pbmNsdWRlL2xpbnV4L3ZpcnRpby5o
Cj4gPiA+ID4gPiA+IGluZGV4IDNlYmIzNDZlYmI3Yy4uYjVmYTcxNDc2NzM3IDEwMDY0NAo+ID4g
PiA+ID4gPiAtLS0gYS9pbmNsdWRlL2xpbnV4L3ZpcnRpby5oCj4gPiA+ID4gPiA+ICsrKyBiL2lu
Y2x1ZGUvbGludXgvdmlydGlvLmgKPiA+ID4gPiA+ID4gQEAgLTksNiArOSw3IEBACj4gPiA+ID4g
PiA+ICAjaW5jbHVkZSA8bGludXgvZGV2aWNlLmg+Cj4gPiA+ID4gPiA+ICAjaW5jbHVkZSA8bGlu
dXgvbW9kX2RldmljZXRhYmxlLmg+Cj4gPiA+ID4gPiA+ICAjaW5jbHVkZSA8bGludXgvZ2ZwLmg+
Cj4gPiA+ID4gPiA+ICsjaW5jbHVkZSA8bGludXgvZG1hLW1hcHBpbmcuaD4KPiA+ID4gPiA+ID4K
PiA+ID4gPiA+ID4gIC8qKgo+ID4gPiA+ID4gPiAgICogc3RydWN0IHZpcnRxdWV1ZSAtIGEgcXVl
dWUgdG8gcmVnaXN0ZXIgYnVmZmVycyBmb3Igc2VuZGluZyBvciByZWNlaXZpbmcuCj4gPiA+ID4g
PiA+IEBAIC0yMTYsNCArMjE3LDEyIEBAIHZvaWQgdW5yZWdpc3Rlcl92aXJ0aW9fZHJpdmVyKHN0
cnVjdCB2aXJ0aW9fZHJpdmVyICpkcnYpOwo+ID4gPiA+ID4gPiAgI2RlZmluZSBtb2R1bGVfdmly
dGlvX2RyaXZlcihfX3ZpcnRpb19kcml2ZXIpIFwKPiA+ID4gPiA+ID4gICAgICAgICBtb2R1bGVf
ZHJpdmVyKF9fdmlydGlvX2RyaXZlciwgcmVnaXN0ZXJfdmlydGlvX2RyaXZlciwgXAo+ID4gPiA+
ID4gPiAgICAgICAgICAgICAgICAgICAgICAgICB1bnJlZ2lzdGVyX3ZpcnRpb19kcml2ZXIpCj4g
PiA+ID4gPiA+ICsKPiA+ID4gPiA+ID4gK2RtYV9hZGRyX3QgdmlydGlvX2RtYV9tYXBfcGFnZShz
dHJ1Y3QgZGV2aWNlICpkZXYsIHN0cnVjdCBwYWdlICpwYWdlLCBzaXplX3Qgb2Zmc2V0LAo+ID4g
PiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgaW50IGxlbmd0
aCwgZW51bSBkbWFfZGF0YV9kaXJlY3Rpb24gZGlyKTsKPiA+ID4gPiA+ID4gK2RtYV9hZGRyX3Qg
dmlydGlvX2RtYV9tYXAoc3RydWN0IGRldmljZSAqZGV2LCB2b2lkICphZGRyLCB1bnNpZ25lZCBp
bnQgbGVuZ3RoLAo+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgIGVudW0gZG1h
X2RhdGFfZGlyZWN0aW9uIGRpcik7Cj4gPiA+ID4gPiA+ICtpbnQgdmlydGlvX2RtYV9tYXBwaW5n
X2Vycm9yKHN0cnVjdCBkZXZpY2UgKmRldiwgZG1hX2FkZHJfdCBhZGRyKTsKPiA+ID4gPiA+ID4g
K3ZvaWQgdmlydGlvX2RtYV91bm1hcChzdHJ1Y3QgZGV2aWNlICpkZXYsIGRtYV9hZGRyX3QgZG1h
LCB1bnNpZ25lZCBpbnQgbGVuZ3RoLAo+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAg
ZW51bSBkbWFfZGF0YV9kaXJlY3Rpb24gZGlyKTsKPiA+ID4gPiA+ID4gICNlbmRpZiAvKiBfTElO
VVhfVklSVElPX0ggKi8KPiA+ID4gPiA+ID4gLS0KPiA+ID4gPiA+ID4gMi4zMi4wLjMuZzAxMTk1
Y2Y5Zgo+ID4gPiA+ID4gPgo+ID4gPiA+ID4KPiA+ID4gPgo+ID4gPgo+ID4gX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KPiA+IFZpcnR1YWxpemF0aW9uIG1h
aWxpbmcgbGlzdAo+ID4gVmlydHVhbGl6YXRpb25AbGlzdHMubGludXgtZm91bmRhdGlvbi5vcmcK
PiA+IGh0dHBzOi8vbGlzdHMubGludXhmb3VuZGF0aW9uLm9yZy9tYWlsbWFuL2xpc3RpbmZvL3Zp
cnR1YWxpemF0aW9uCj4KCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fClZpcnR1YWxpemF0aW9uIG1haWxpbmcgbGlzdApWaXJ0dWFsaXphdGlvbkBsaXN0cy5s
aW51eC1mb3VuZGF0aW9uLm9yZwpodHRwczovL2xpc3RzLmxpbnV4Zm91bmRhdGlvbi5vcmcvbWFp
bG1hbi9saXN0aW5mby92aXJ0dWFsaXphdGlvbg==
