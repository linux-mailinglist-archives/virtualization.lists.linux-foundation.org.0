Return-Path: <virtualization-bounces@lists.linux-foundation.org>
X-Original-To: lists.virtualization@lfdr.de
Delivered-To: lists.virtualization@lfdr.de
Received: from whitealder.osuosl.org (smtp1.osuosl.org [140.211.166.138])
	by mail.lfdr.de (Postfix) with ESMTPS id B1E1131F5EF
	for <lists.virtualization@lfdr.de>; Fri, 19 Feb 2021 09:33:26 +0100 (CET)
Received: from localhost (localhost [127.0.0.1])
	by whitealder.osuosl.org (Postfix) with ESMTP id 4C07E87038;
	Fri, 19 Feb 2021 08:33:25 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from whitealder.osuosl.org ([127.0.0.1])
	by localhost (.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id NyFztUqVwGuO; Fri, 19 Feb 2021 08:33:19 +0000 (UTC)
Received: from lists.linuxfoundation.org (lf-lists.osuosl.org [140.211.9.56])
	by whitealder.osuosl.org (Postfix) with ESMTP id 058008700A;
	Fri, 19 Feb 2021 08:33:19 +0000 (UTC)
Received: from lf-lists.osuosl.org (localhost [127.0.0.1])
	by lists.linuxfoundation.org (Postfix) with ESMTP id C61AAC000E;
	Fri, 19 Feb 2021 08:33:18 +0000 (UTC)
X-Original-To: virtualization@lists.linux-foundation.org
Delivered-To: virtualization@lists.linuxfoundation.org
Received: from whitealder.osuosl.org (smtp1.osuosl.org [140.211.166.138])
 by lists.linuxfoundation.org (Postfix) with ESMTP id 1E1DFC000E
 for <virtualization@lists.linux-foundation.org>;
 Fri, 19 Feb 2021 08:33:17 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by whitealder.osuosl.org (Postfix) with ESMTP id 0676086F97
 for <virtualization@lists.linux-foundation.org>;
 Fri, 19 Feb 2021 08:33:17 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from whitealder.osuosl.org ([127.0.0.1])
 by localhost (.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id HFBEuLLtS-MG
 for <virtualization@lists.linux-foundation.org>;
 Fri, 19 Feb 2021 08:33:13 +0000 (UTC)
X-Greylist: domain auto-whitelisted by SQLgrey-1.7.6
Received: from us-smtp-delivery-124.mimecast.com
 (us-smtp-delivery-124.mimecast.com [63.128.21.124])
 by whitealder.osuosl.org (Postfix) with ESMTPS id 187B686FF6
 for <virtualization@lists.linux-foundation.org>;
 Fri, 19 Feb 2021 08:33:11 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=redhat.com;
 s=mimecast20190719; t=1613723590;
 h=from:from:reply-to:subject:subject:date:date:message-id:message-id:
 to:to:cc:cc:mime-version:mime-version:content-type:content-type:
 content-transfer-encoding:content-transfer-encoding:
 in-reply-to:in-reply-to:references:references;
 bh=34QcDOEHG+SaA6Rt6cefHg2TDFJlHJB0k41tg0eZQt8=;
 b=KqadPEjrmWHhwfZmhS9yCr82fCMC7dxfyTpScLJ4P4TgoM3EM7IENWnb17C/pbOkYM4RkF
 Laqyyni06TROBNKioyPpPpJNvqbYw1y6hmXE2Vminlm+Y74SSmgdmdhFwR0nsbbir0DJ2v
 RFuRx6tH9xnCvNjmv0gq0TulRPiNM0s=
Received: from mimecast-mx01.redhat.com (mimecast-mx01.redhat.com
 [209.132.183.4]) (Using TLS) by relay.mimecast.com with ESMTP id
 us-mta-6-j7Pt_C7gPuCK_v26lsYz-A-1; Fri, 19 Feb 2021 03:31:56 -0500
X-MC-Unique: j7Pt_C7gPuCK_v26lsYz-A-1
Received: from smtp.corp.redhat.com (int-mx02.intmail.prod.int.phx2.redhat.com
 [10.5.11.12])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mimecast-mx01.redhat.com (Postfix) with ESMTPS id 4F9FA804023;
 Fri, 19 Feb 2021 08:31:55 +0000 (UTC)
Received: from wangxiaodeMacBook-Air.local (ovpn-12-40.pek2.redhat.com
 [10.72.12.40])
 by smtp.corp.redhat.com (Postfix) with ESMTP id 4353560BE5;
 Fri, 19 Feb 2021 08:31:45 +0000 (UTC)
Subject: Re: [PATCH V3 16/19] virtio-pci: introduce modern device module
To: Guenter Roeck <linux@roeck-us.net>
References: <20210104065503.199631-1-jasowang@redhat.com>
 <20210104065503.199631-17-jasowang@redhat.com>
 <20210212201405.GA112742@roeck-us.net>
From: Jason Wang <jasowang@redhat.com>
Message-ID: <962f1438-9c15-3342-f3f0-6c3cb178a293@redhat.com>
Date: Fri, 19 Feb 2021 16:31:44 +0800
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.16; rv:78.0)
 Gecko/20100101 Thunderbird/78.7.1
MIME-Version: 1.0
In-Reply-To: <20210212201405.GA112742@roeck-us.net>
Content-Language: en-GB
X-Scanned-By: MIMEDefang 2.79 on 10.5.11.12
Cc: shahafs@mellanox.com, lulu@redhat.com, mst@redhat.com,
 rdunlap@infradead.org, linux-kernel@vger.kernel.org,
 virtualization@lists.linux-foundation.org
X-BeenThere: virtualization@lists.linux-foundation.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: Linux virtualization <virtualization.lists.linux-foundation.org>
List-Unsubscribe: <https://lists.linuxfoundation.org/mailman/options/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=unsubscribe>
List-Archive: <http://lists.linuxfoundation.org/pipermail/virtualization/>
List-Post: <mailto:virtualization@lists.linux-foundation.org>
List-Help: <mailto:virtualization-request@lists.linux-foundation.org?subject=help>
List-Subscribe: <https://lists.linuxfoundation.org/mailman/listinfo/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: virtualization-bounces@lists.linux-foundation.org
Sender: "Virtualization" <virtualization-bounces@lists.linux-foundation.org>

Ck9uIDIwMjEvMi8xMyA0OjE0IOS4iuWNiCwgR3VlbnRlciBSb2VjayB3cm90ZToKPiBPbiBNb24s
IEphbiAwNCwgMjAyMSBhdCAwMjo1NTowMFBNICswODAwLCBKYXNvbiBXYW5nIHdyb3RlOgo+PiBT
aWduZWQtb2ZmLWJ5OiBKYXNvbiBXYW5nIDxqYXNvd2FuZ0ByZWRoYXQuY29tPgo+PiBSZXBvcnRl
ZC1ieTogTmFyZXNoIEthbWJvanUgPG5hcmVzaC5rYW1ib2p1QGxpbmFyby5vcmc+Cj4gSSBkb24n
dCByZWFsbHkgc2VlIHRoZSBwb2ludCBvZiBoYXZpbmcgdG8gZW5hYmxlIFZJUlRJT19QQ0lfTU9E
RVJOCj4gYmVjYXVzZSBvdGhlcndpc2UgVklSVElPX1BDSSBubyBsb25nZXIgd29ya3MuIElmIFZJ
UlRJT19QQ0kgbm93Cj4gcmVxdWlyZXMgVklSVElPX1BDSV9NT0RFUk4sIG1heWJlIGl0IHNob3Vs
ZCBzZWxlY3QgaXQgaW5zdGVhZCBvZgo+IGRlcGVuZGluZyBvbiBpdCA/CgoKUmlnaHQuCgpJIHdp
bGwgcG9zdCBhIHBhdGNoIHNvb24gdG8gc2VsZWN0IHRoYXQuCgpUaGFua3MKCgo+IEFsdGVybmF0
aXZlbHksIHlvdSBjb3VsZCBqdXN0IGRyb3AgdGhlIG5ldwo+IGNvbmZpZ3VyYXRpb24gZmxhZyBl
bnRpcmVseSBhbmQgYnVpbGQgdmlydGlvX3BjaV9tb2Rlcm5fZGV2Lm8gd2l0aAo+IFZJUlRJT19Q
Q0kuIE9uZSBkb2Vzbid0IHdvcmsgd2l0aG91dCB0aGUgb3RoZXIgYW55d2F5LCBhZnRlciBhbGwu
Cj4KPiBHdWVudGVyCj4KPj4gLS0tCj4+ICAgZHJpdmVycy92aXJ0aW8vS2NvbmZpZyAgICAgICAg
ICAgICAgICAgfCAgMTAgKy0KPj4gICBkcml2ZXJzL3ZpcnRpby9NYWtlZmlsZSAgICAgICAgICAg
ICAgICB8ICAgMSArCj4+ICAgZHJpdmVycy92aXJ0aW8vdmlydGlvX3BjaV9jb21tb24uaCAgICAg
fCAgMjcgKy0KPj4gICBkcml2ZXJzL3ZpcnRpby92aXJ0aW9fcGNpX21vZGVybi5jICAgICB8IDYx
NyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCj4+ICAgZHJpdmVycy92aXJ0aW8vdmlydGlvX3Bj
aV9tb2Rlcm5fZGV2LmMgfCA1OTkgKysrKysrKysrKysrKysrKysrKysrKysrCj4+ICAgaW5jbHVk
ZS9saW51eC92aXJ0aW9fcGNpX21vZGVybi5oICAgICAgfCAxMTEgKysrKysKPj4gICA2IGZpbGVz
IGNoYW5nZWQsIDcyMSBpbnNlcnRpb25zKCspLCA2NDQgZGVsZXRpb25zKC0pCj4+ICAgY3JlYXRl
IG1vZGUgMTAwNjQ0IGRyaXZlcnMvdmlydGlvL3ZpcnRpb19wY2lfbW9kZXJuX2Rldi5jCj4+ICAg
Y3JlYXRlIG1vZGUgMTAwNjQ0IGluY2x1ZGUvbGludXgvdmlydGlvX3BjaV9tb2Rlcm4uaAo+Pgo+
PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy92aXJ0aW8vS2NvbmZpZyBiL2RyaXZlcnMvdmlydGlvL0tj
b25maWcKPj4gaW5kZXggN2I0MTEzMGQzZjM1Li42YjliODFmNGI4YzIgMTAwNjQ0Cj4+IC0tLSBh
L2RyaXZlcnMvdmlydGlvL0tjb25maWcKPj4gKysrIGIvZHJpdmVycy92aXJ0aW8vS2NvbmZpZwo+
PiBAQCAtMTIsNiArMTIsMTQgQEAgY29uZmlnIEFSQ0hfSEFTX1JFU1RSSUNURURfVklSVElPX01F
TU9SWV9BQ0NFU1MKPj4gICAJICBUaGlzIG9wdGlvbiBpcyBzZWxlY3RlZCBpZiB0aGUgYXJjaGl0
ZWN0dXJlIG1heSBuZWVkIHRvIGVuZm9yY2UKPj4gICAJICBWSVJUSU9fRl9BQ0NFU1NfUExBVEZP
Uk0KPj4gICAKPj4gK2NvbmZpZyBWSVJUSU9fUENJX01PREVSTgo+PiArCXRyaXN0YXRlICJNb2Rl
cm4gVmlydGlvIFBDSSBEZXZpY2UiCj4+ICsJZGVwZW5kcyBvbiBQQ0kKPj4gKwloZWxwCj4+ICsJ
ICBNb2Rlcm4gUENJIGRldmljZSBpbXBsZW1lbnRhdGlvbi4gVGhpcyBtb2R1bGUgaW1wbGVtZW50
cyB0aGUKPj4gKwkgIGJhc2ljIHByb2JlIGFuZCBjb250cm9sIGZvciBkZXZpY2VzIHdoaWNoIGFy
ZSBiYXNlZCBvbiBtb2Rlcm4KPj4gKwkgIFBDSSBkZXZpY2Ugd2l0aCBwb3NzaWJsZSB2ZW5kb3Ig
c3BlY2lmaWMgZXh0ZW5zaW9ucy4KPj4gKwo+PiAgIG1lbnVjb25maWcgVklSVElPX01FTlUKPj4g
ICAJYm9vbCAiVmlydGlvIGRyaXZlcnMiCj4+ICAgCWRlZmF1bHQgeQo+PiBAQCAtMjAsNyArMjgs
NyBAQCBpZiBWSVJUSU9fTUVOVQo+PiAgIAo+PiAgIGNvbmZpZyBWSVJUSU9fUENJCj4+ICAgCXRy
aXN0YXRlICJQQ0kgZHJpdmVyIGZvciB2aXJ0aW8gZGV2aWNlcyIKPj4gLQlkZXBlbmRzIG9uIFBD
SQo+PiArCWRlcGVuZHMgb24gVklSVElPX1BDSV9NT0RFUk4KPj4gICAJc2VsZWN0IFZJUlRJTwo+
PiAgIAloZWxwCj4+ICAgCSAgVGhpcyBkcml2ZXIgcHJvdmlkZXMgc3VwcG9ydCBmb3IgdmlydGlv
IGJhc2VkIHBhcmF2aXJ0dWFsIGRldmljZQo+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy92aXJ0aW8v
TWFrZWZpbGUgYi9kcml2ZXJzL3ZpcnRpby9NYWtlZmlsZQo+PiBpbmRleCA1OTFlNmY3MmFhNTQu
LmYwOTc1NzhhYWE4ZiAxMDA2NDQKPj4gLS0tIGEvZHJpdmVycy92aXJ0aW8vTWFrZWZpbGUKPj4g
KysrIGIvZHJpdmVycy92aXJ0aW8vTWFrZWZpbGUKPj4gQEAgLTEsNSArMSw2IEBACj4+ICAgIyBT
UERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMAo+PiAgIG9iai0kKENPTkZJR19WSVJUSU8p
ICs9IHZpcnRpby5vIHZpcnRpb19yaW5nLm8KPj4gK29iai0kKENPTkZJR19WSVJUSU9fUENJX01P
REVSTikgKz0gdmlydGlvX3BjaV9tb2Rlcm5fZGV2Lm8KPj4gICBvYmotJChDT05GSUdfVklSVElP
X01NSU8pICs9IHZpcnRpb19tbWlvLm8KPj4gICBvYmotJChDT05GSUdfVklSVElPX1BDSSkgKz0g
dmlydGlvX3BjaS5vCj4+ICAgdmlydGlvX3BjaS15IDo9IHZpcnRpb19wY2lfbW9kZXJuLm8gdmly
dGlvX3BjaV9jb21tb24ubwo+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy92aXJ0aW8vdmlydGlvX3Bj
aV9jb21tb24uaCBiL2RyaXZlcnMvdmlydGlvL3ZpcnRpb19wY2lfY29tbW9uLmgKPj4gaW5kZXgg
ZjM1ZmY1YjZiNDY3Li5iZWVjMDQ3YThmOGQgMTAwNjQ0Cj4+IC0tLSBhL2RyaXZlcnMvdmlydGlv
L3ZpcnRpb19wY2lfY29tbW9uLmgKPj4gKysrIGIvZHJpdmVycy92aXJ0aW8vdmlydGlvX3BjaV9j
b21tb24uaAo+PiBAQCAtMjUsNiArMjUsNyBAQAo+PiAgICNpbmNsdWRlIDxsaW51eC92aXJ0aW9f
Y29uZmlnLmg+Cj4+ICAgI2luY2x1ZGUgPGxpbnV4L3ZpcnRpb19yaW5nLmg+Cj4+ICAgI2luY2x1
ZGUgPGxpbnV4L3ZpcnRpb19wY2kuaD4KPj4gKyNpbmNsdWRlIDxsaW51eC92aXJ0aW9fcGNpX21v
ZGVybi5oPgo+PiAgICNpbmNsdWRlIDxsaW51eC9oaWdobWVtLmg+Cj4+ICAgI2luY2x1ZGUgPGxp
bnV4L3NwaW5sb2NrLmg+Cj4+ICAgCj4+IEBAIC0zOSwzMiArNDAsNiBAQCBzdHJ1Y3QgdmlydGlv
X3BjaV92cV9pbmZvIHsKPj4gICAJdW5zaWduZWQgbXNpeF92ZWN0b3I7Cj4+ICAgfTsKPj4gICAK
Pj4gLXN0cnVjdCB2aXJ0aW9fcGNpX21vZGVybl9kZXZpY2Ugewo+PiAtCXN0cnVjdCBwY2lfZGV2
ICpwY2lfZGV2Owo+PiAtCj4+IC0Jc3RydWN0IHZpcnRpb19wY2lfY29tbW9uX2NmZyBfX2lvbWVt
ICpjb21tb247Cj4+IC0JLyogRGV2aWNlLXNwZWNpZmljIGRhdGEgKG5vbi1sZWdhY3kgbW9kZSkg
ICovCj4+IC0Jdm9pZCBfX2lvbWVtICpkZXZpY2U7Cj4+IC0JLyogQmFzZSBvZiB2cSBub3RpZmlj
YXRpb25zIChub24tbGVnYWN5IG1vZGUpLiAqLwo+PiAtCXZvaWQgX19pb21lbSAqbm90aWZ5X2Jh
c2U7Cj4+IC0JLyogV2hlcmUgdG8gcmVhZCBhbmQgY2xlYXIgaW50ZXJydXB0ICovCj4+IC0JdTgg
X19pb21lbSAqaXNyOwo+PiAtCj4+IC0JLyogU28gd2UgY2FuIHNhbml0eS1jaGVjayBhY2Nlc3Nl
cy4gKi8KPj4gLQlzaXplX3Qgbm90aWZ5X2xlbjsKPj4gLQlzaXplX3QgZGV2aWNlX2xlbjsKPj4g
LQo+PiAtCS8qIENhcGFiaWxpdHkgZm9yIHdoZW4gd2UgbmVlZCB0byBtYXAgbm90aWZpY2F0aW9u
cyBwZXItdnEuICovCj4+IC0JaW50IG5vdGlmeV9tYXBfY2FwOwo+PiAtCj4+IC0JLyogTXVsdGlw
bHkgcXVldWVfbm90aWZ5X29mZiBieSB0aGlzIHZhbHVlLiAobm9uLWxlZ2FjeSBtb2RlKS4gKi8K
Pj4gLQl1MzIgbm90aWZ5X29mZnNldF9tdWx0aXBsaWVyOwo+PiAtCj4+IC0JaW50IG1vZGVybl9i
YXJzOwo+PiAtCj4+IC0Jc3RydWN0IHZpcnRpb19kZXZpY2VfaWQgaWQ7Cj4+IC19Owo+PiAtCj4+
ICAgLyogT3VyIGRldmljZSBzdHJ1Y3R1cmUgKi8KPj4gICBzdHJ1Y3QgdmlydGlvX3BjaV9kZXZp
Y2Ugewo+PiAgIAlzdHJ1Y3QgdmlydGlvX2RldmljZSB2ZGV2Owo+PiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy92aXJ0aW8vdmlydGlvX3BjaV9tb2Rlcm4uYyBiL2RyaXZlcnMvdmlydGlvL3ZpcnRpb19w
Y2lfbW9kZXJuLmMKPj4gaW5kZXggYTVlM2E1ZTQwMzIzLi5mYmQ0ZWJjMDBlYjYgMTAwNjQ0Cj4+
IC0tLSBhL2RyaXZlcnMvdmlydGlvL3ZpcnRpb19wY2lfbW9kZXJuLmMKPj4gKysrIGIvZHJpdmVy
cy92aXJ0aW8vdmlydGlvX3BjaV9tb2Rlcm4uYwo+PiBAQCAtMTksMTU4ICsxOSw2IEBACj4+ICAg
I2RlZmluZSBWSVJUSU9fUklOR19OT19MRUdBQ1kKPj4gICAjaW5jbHVkZSAidmlydGlvX3BjaV9j
b21tb24uaCIKPj4gICAKPj4gLS8qCj4+IC0gKiBUeXBlLXNhZmUgd3JhcHBlcnMgZm9yIGlvIGFj
Y2Vzc2VzLgo+PiAtICogVXNlIHRoZXNlIHRvIGVuZm9yY2UgYXQgY29tcGlsZSB0aW1lIHRoZSBm
b2xsb3dpbmcgc3BlYyByZXF1aXJlbWVudDoKPj4gLSAqCj4+IC0gKiBUaGUgZHJpdmVyIE1VU1Qg
YWNjZXNzIGVhY2ggZmllbGQgdXNpbmcgdGhlIOKAnG5hdHVyYWzigJ0gYWNjZXNzCj4+IC0gKiBt
ZXRob2QsIGkuZS4gMzItYml0IGFjY2Vzc2VzIGZvciAzMi1iaXQgZmllbGRzLCAxNi1iaXQgYWNj
ZXNzZXMKPj4gLSAqIGZvciAxNi1iaXQgZmllbGRzIGFuZCA4LWJpdCBhY2Nlc3NlcyBmb3IgOC1i
aXQgZmllbGRzLgo+PiAtICovCj4+IC1zdGF0aWMgaW5saW5lIHU4IHZwX2lvcmVhZDgoY29uc3Qg
dTggX19pb21lbSAqYWRkcikKPj4gLXsKPj4gLQlyZXR1cm4gaW9yZWFkOChhZGRyKTsKPj4gLX0K
Pj4gLXN0YXRpYyBpbmxpbmUgdTE2IHZwX2lvcmVhZDE2IChjb25zdCBfX2xlMTYgX19pb21lbSAq
YWRkcikKPj4gLXsKPj4gLQlyZXR1cm4gaW9yZWFkMTYoYWRkcik7Cj4+IC19Cj4+IC0KPj4gLXN0
YXRpYyBpbmxpbmUgdTMyIHZwX2lvcmVhZDMyKGNvbnN0IF9fbGUzMiBfX2lvbWVtICphZGRyKQo+
PiAtewo+PiAtCXJldHVybiBpb3JlYWQzMihhZGRyKTsKPj4gLX0KPj4gLQo+PiAtc3RhdGljIGlu
bGluZSB2b2lkIHZwX2lvd3JpdGU4KHU4IHZhbHVlLCB1OCBfX2lvbWVtICphZGRyKQo+PiAtewo+
PiAtCWlvd3JpdGU4KHZhbHVlLCBhZGRyKTsKPj4gLX0KPj4gLQo+PiAtc3RhdGljIGlubGluZSB2
b2lkIHZwX2lvd3JpdGUxNih1MTYgdmFsdWUsIF9fbGUxNiBfX2lvbWVtICphZGRyKQo+PiAtewo+
PiAtCWlvd3JpdGUxNih2YWx1ZSwgYWRkcik7Cj4+IC19Cj4+IC0KPj4gLXN0YXRpYyBpbmxpbmUg
dm9pZCB2cF9pb3dyaXRlMzIodTMyIHZhbHVlLCBfX2xlMzIgX19pb21lbSAqYWRkcikKPj4gLXsK
Pj4gLQlpb3dyaXRlMzIodmFsdWUsIGFkZHIpOwo+PiAtfQo+PiAtCj4+IC1zdGF0aWMgdm9pZCB2
cF9pb3dyaXRlNjRfdHdvcGFydCh1NjQgdmFsLAo+PiAtCQkJCSBfX2xlMzIgX19pb21lbSAqbG8s
IF9fbGUzMiBfX2lvbWVtICpoaSkKPj4gLXsKPj4gLQl2cF9pb3dyaXRlMzIoKHUzMil2YWwsIGxv
KTsKPj4gLQl2cF9pb3dyaXRlMzIodmFsID4+IDMyLCBoaSk7Cj4+IC19Cj4+IC0KPj4gLS8qCj4+
IC0gKiB2cF9tb2Rlcm5fbWFwX2NhcGFiaWxpdHkgLSBtYXAgYSBwYXJ0IG9mIHZpcnRpbyBwY2kg
Y2FwYWJpbGl0eQo+PiAtICogQG1kZXY6IHRoZSBtb2Rlcm4gdmlydGlvLXBjaSBkZXZpY2UKPj4g
LSAqIEBvZmY6IG9mZnNldCBvZiB0aGUgY2FwYWJpbGl0eQo+PiAtICogQG1pbmxlbjogbWluaW1h
bCBsZW5ndGggb2YgdGhlIGNhcGFiaWxpdHkKPj4gLSAqIEBhbGlnbjogYWxpZ24gcmVxdWlyZW1l
bnQKPj4gLSAqIEBzdGFydDogc3RhcnQgZnJvbSB0aGUgY2FwYWJpbGl0eQo+PiAtICogQHNpemU6
IG1hcCBzaXplCj4+IC0gKiBAbGVuOiB0aGUgbGVuZ3RoIHRoYXQgaXMgYWN0dWFsbHkgbWFwcGVk
Cj4+IC0gKgo+PiAtICogUmV0dXJucyB0aGUgaW8gYWRkcmVzcyBvZiBmb3IgdGhlIHBhcnQgb2Yg
dGhlIGNhcGFiaWxpdHkKPj4gLSAqLwo+PiAtdm9pZCBfX2lvbWVtICp2cF9tb2Rlcm5fbWFwX2Nh
cGFiaWxpdHkoc3RydWN0IHZpcnRpb19wY2lfbW9kZXJuX2RldmljZSAqbWRldiwgaW50IG9mZiwK
Pj4gLQkJCQkgICAgICAgc2l6ZV90IG1pbmxlbiwKPj4gLQkJCQkgICAgICAgdTMyIGFsaWduLAo+
PiAtCQkJCSAgICAgICB1MzIgc3RhcnQsIHUzMiBzaXplLAo+PiAtCQkJCSAgICAgICBzaXplX3Qg
KmxlbikKPj4gLXsKPj4gLQlzdHJ1Y3QgcGNpX2RldiAqZGV2ID0gbWRldi0+cGNpX2RldjsKPj4g
LQl1OCBiYXI7Cj4+IC0JdTMyIG9mZnNldCwgbGVuZ3RoOwo+PiAtCXZvaWQgX19pb21lbSAqcDsK
Pj4gLQo+PiAtCXBjaV9yZWFkX2NvbmZpZ19ieXRlKGRldiwgb2ZmICsgb2Zmc2V0b2Yoc3RydWN0
IHZpcnRpb19wY2lfY2FwLAo+PiAtCQkJCQkJIGJhciksCj4+IC0JCQkgICAgICZiYXIpOwo+PiAt
CXBjaV9yZWFkX2NvbmZpZ19kd29yZChkZXYsIG9mZiArIG9mZnNldG9mKHN0cnVjdCB2aXJ0aW9f
cGNpX2NhcCwgb2Zmc2V0KSwKPj4gLQkJCSAgICAgJm9mZnNldCk7Cj4+IC0JcGNpX3JlYWRfY29u
ZmlnX2R3b3JkKGRldiwgb2ZmICsgb2Zmc2V0b2Yoc3RydWN0IHZpcnRpb19wY2lfY2FwLCBsZW5n
dGgpLAo+PiAtCQkJICAgICAgJmxlbmd0aCk7Cj4+IC0KPj4gLQlpZiAobGVuZ3RoIDw9IHN0YXJ0
KSB7Cj4+IC0JCWRldl9lcnIoJmRldi0+ZGV2LAo+PiAtCQkJInZpcnRpb19wY2k6IGJhZCBjYXBh
YmlsaXR5IGxlbiAldSAoPiV1IGV4cGVjdGVkKVxuIiwKPj4gLQkJCWxlbmd0aCwgc3RhcnQpOwo+
PiAtCQlyZXR1cm4gTlVMTDsKPj4gLQl9Cj4+IC0KPj4gLQlpZiAobGVuZ3RoIC0gc3RhcnQgPCBt
aW5sZW4pIHsKPj4gLQkJZGV2X2VycigmZGV2LT5kZXYsCj4+IC0JCQkidmlydGlvX3BjaTogYmFk
IGNhcGFiaWxpdHkgbGVuICV1ICg+PSV6dSBleHBlY3RlZClcbiIsCj4+IC0JCQlsZW5ndGgsIG1p
bmxlbik7Cj4+IC0JCXJldHVybiBOVUxMOwo+PiAtCX0KPj4gLQo+PiAtCWxlbmd0aCAtPSBzdGFy
dDsKPj4gLQo+PiAtCWlmIChzdGFydCArIG9mZnNldCA8IG9mZnNldCkgewo+PiAtCQlkZXZfZXJy
KCZkZXYtPmRldiwKPj4gLQkJCSJ2aXJ0aW9fcGNpOiBtYXAgd3JhcC1hcm91bmQgJXUrJXVcbiIs
Cj4+IC0JCQlzdGFydCwgb2Zmc2V0KTsKPj4gLQkJcmV0dXJuIE5VTEw7Cj4+IC0JfQo+PiAtCj4+
IC0Jb2Zmc2V0ICs9IHN0YXJ0Owo+PiAtCj4+IC0JaWYgKG9mZnNldCAmIChhbGlnbiAtIDEpKSB7
Cj4+IC0JCWRldl9lcnIoJmRldi0+ZGV2LAo+PiAtCQkJInZpcnRpb19wY2k6IG9mZnNldCAldSBu
b3QgYWxpZ25lZCB0byAldVxuIiwKPj4gLQkJCW9mZnNldCwgYWxpZ24pOwo+PiAtCQlyZXR1cm4g
TlVMTDsKPj4gLQl9Cj4+IC0KPj4gLQlpZiAobGVuZ3RoID4gc2l6ZSkKPj4gLQkJbGVuZ3RoID0g
c2l6ZTsKPj4gLQo+PiAtCWlmIChsZW4pCj4+IC0JCSpsZW4gPSBsZW5ndGg7Cj4+IC0KPj4gLQlp
ZiAobWlubGVuICsgb2Zmc2V0IDwgbWlubGVuIHx8Cj4+IC0JICAgIG1pbmxlbiArIG9mZnNldCA+
IHBjaV9yZXNvdXJjZV9sZW4oZGV2LCBiYXIpKSB7Cj4+IC0JCWRldl9lcnIoJmRldi0+ZGV2LAo+
PiAtCQkJInZpcnRpb19wY2k6IG1hcCB2aXJ0aW8gJXp1QCV1ICIKPj4gLQkJCSJvdXQgb2YgcmFu
Z2Ugb24gYmFyICVpIGxlbmd0aCAlbHVcbiIsCj4+IC0JCQltaW5sZW4sIG9mZnNldCwKPj4gLQkJ
CWJhciwgKHVuc2lnbmVkIGxvbmcpcGNpX3Jlc291cmNlX2xlbihkZXYsIGJhcikpOwo+PiAtCQly
ZXR1cm4gTlVMTDsKPj4gLQl9Cj4+IC0KPj4gLQlwID0gcGNpX2lvbWFwX3JhbmdlKGRldiwgYmFy
LCBvZmZzZXQsIGxlbmd0aCk7Cj4+IC0JaWYgKCFwKQo+PiAtCQlkZXZfZXJyKCZkZXYtPmRldiwK
Pj4gLQkJCSJ2aXJ0aW9fcGNpOiB1bmFibGUgdG8gbWFwIHZpcnRpbyAldUAldSBvbiBiYXIgJWlc
biIsCj4+IC0JCQlsZW5ndGgsIG9mZnNldCwgYmFyKTsKPj4gLQlyZXR1cm4gcDsKPj4gLX0KPj4g
LQo+PiAtLyoKPj4gLSAqIHZwX21vZGVybl9nZXRfZmVhdHVyZXMgLSBnZXQgZmVhdHVyZXMgZnJv
bSBkZXZpY2UKPj4gLSAqIEBtZGV2OiB0aGUgbW9kZXJuIHZpcnRpby1wY2kgZGV2aWNlCj4+IC0g
Kgo+PiAtICogUmV0dXJucyB0aGUgZmVhdHVyZXMgcmVhZCBmcm9tIHRoZSBkZXZpY2UKPj4gLSAq
Lwo+PiAtc3RhdGljIHU2NCB2cF9tb2Rlcm5fZ2V0X2ZlYXR1cmVzKHN0cnVjdCB2aXJ0aW9fcGNp
X21vZGVybl9kZXZpY2UgKm1kZXYpCj4+IC17Cj4+IC0Jc3RydWN0IHZpcnRpb19wY2lfY29tbW9u
X2NmZyBfX2lvbWVtICpjZmcgPSBtZGV2LT5jb21tb247Cj4+IC0KPj4gLQl1NjQgZmVhdHVyZXM7
Cj4+IC0KPj4gLQl2cF9pb3dyaXRlMzIoMCwgJmNmZy0+ZGV2aWNlX2ZlYXR1cmVfc2VsZWN0KTsK
Pj4gLQlmZWF0dXJlcyA9IHZwX2lvcmVhZDMyKCZjZmctPmRldmljZV9mZWF0dXJlKTsKPj4gLQl2
cF9pb3dyaXRlMzIoMSwgJmNmZy0+ZGV2aWNlX2ZlYXR1cmVfc2VsZWN0KTsKPj4gLQlmZWF0dXJl
cyB8PSAoKHU2NCl2cF9pb3JlYWQzMigmY2ZnLT5kZXZpY2VfZmVhdHVyZSkgPDwgMzIpOwo+PiAt
Cj4+IC0JcmV0dXJuIGZlYXR1cmVzOwo+PiAtfQo+PiAtCj4+IC0vKiB2aXJ0aW8gY29uZmlnLT5n
ZXRfZmVhdHVyZXMoKSBpbXBsZW1lbnRhdGlvbiAqLwo+PiAgIHN0YXRpYyB1NjQgdnBfZ2V0X2Zl
YXR1cmVzKHN0cnVjdCB2aXJ0aW9fZGV2aWNlICp2ZGV2KQo+PiAgIHsKPj4gICAJc3RydWN0IHZp
cnRpb19wY2lfZGV2aWNlICp2cF9kZXYgPSB0b192cF9kZXZpY2UodmRldik7Cj4+IEBAIC0xODgs
MTQ5ICszNiw2IEBAIHN0YXRpYyB2b2lkIHZwX3RyYW5zcG9ydF9mZWF0dXJlcyhzdHJ1Y3Qgdmly
dGlvX2RldmljZSAqdmRldiwgdTY0IGZlYXR1cmVzKQo+PiAgIAkJX192aXJ0aW9fc2V0X2JpdCh2
ZGV2LCBWSVJUSU9fRl9TUl9JT1YpOwo+PiAgIH0KPj4gICAKPj4gLS8qCj4+IC0gKiB2cF9tb2Rl
cm5fc2V0X2ZlYXR1cmVzIC0gc2V0IGZlYXR1cmVzIHRvIGRldmljZQo+PiAtICogQG1kZXY6IHRo
ZSBtb2Rlcm4gdmlydGlvLXBjaSBkZXZpY2UKPj4gLSAqIEBmZWF0dXJlczogdGhlIGZlYXR1cmVz
IHNldCB0byBkZXZpY2UKPj4gLSAqLwo+PiAtc3RhdGljIHZvaWQgdnBfbW9kZXJuX3NldF9mZWF0
dXJlcyhzdHJ1Y3QgdmlydGlvX3BjaV9tb2Rlcm5fZGV2aWNlICptZGV2LAo+PiAtCQkJCSAgIHU2
NCBmZWF0dXJlcykKPj4gLXsKPj4gLQlzdHJ1Y3QgdmlydGlvX3BjaV9jb21tb25fY2ZnIF9faW9t
ZW0gKmNmZyA9IG1kZXYtPmNvbW1vbjsKPj4gLQo+PiAtCXZwX2lvd3JpdGUzMigwLCAmY2ZnLT5n
dWVzdF9mZWF0dXJlX3NlbGVjdCk7Cj4+IC0JdnBfaW93cml0ZTMyKCh1MzIpZmVhdHVyZXMsICZj
ZmctPmd1ZXN0X2ZlYXR1cmUpOwo+PiAtCXZwX2lvd3JpdGUzMigxLCAmY2ZnLT5ndWVzdF9mZWF0
dXJlX3NlbGVjdCk7Cj4+IC0JdnBfaW93cml0ZTMyKGZlYXR1cmVzID4+IDMyLCAmY2ZnLT5ndWVz
dF9mZWF0dXJlKTsKPj4gLX0KPj4gLQo+PiAtLyoKPj4gLSAqIHZwX21vZGVybl9xdWV1ZV92ZWN0
b3IgLSBzZXQgdGhlIE1TSVggdmVjdG9yIGZvciBhIHNwZWNpZmljIHZpcnRxdWV1ZQo+PiAtICog
QG1kZXY6IHRoZSBtb2Rlcm4gdmlydGlvLXBjaSBkZXZpY2UKPj4gLSAqIEBpbmRleDogcXVldWUg
aW5kZXgKPj4gLSAqIEB2ZWN0b3I6IHRoZSBjb25maWcgdmVjdG9yCj4+IC0gKgo+PiAtICogUmV0
dXJucyB0aGUgY29uZmlnIHZlY3RvciByZWFkIGZyb20gdGhlIGRldmljZQo+PiAtICovCj4+IC1z
dGF0aWMgdTE2IHZwX21vZGVybl9xdWV1ZV92ZWN0b3Ioc3RydWN0IHZpcnRpb19wY2lfbW9kZXJu
X2RldmljZSAqbWRldiwKPj4gLQkJCQkgIHUxNiBpbmRleCwgdTE2IHZlY3RvcikKPj4gLXsKPj4g
LQlzdHJ1Y3QgdmlydGlvX3BjaV9jb21tb25fY2ZnIF9faW9tZW0gKmNmZyA9IG1kZXYtPmNvbW1v
bjsKPj4gLQo+PiAtCXZwX2lvd3JpdGUxNihpbmRleCwgJmNmZy0+cXVldWVfc2VsZWN0KTsKPj4g
LQl2cF9pb3dyaXRlMTYodmVjdG9yLCAmY2ZnLT5xdWV1ZV9tc2l4X3ZlY3Rvcik7Cj4+IC0JLyog
Rmx1c2ggdGhlIHdyaXRlIG91dCB0byBkZXZpY2UgKi8KPj4gLQlyZXR1cm4gdnBfaW9yZWFkMTYo
JmNmZy0+cXVldWVfbXNpeF92ZWN0b3IpOwo+PiAtfQo+PiAtCj4+IC0vKgo+PiAtICogdnBfbW9k
ZXJuX3F1ZXVlX2FkZHJlc3MgLSBzZXQgdGhlIHZpcnRxdWV1ZSBhZGRyZXNzCj4+IC0gKiBAbWRl
djogdGhlIG1vZGVybiB2aXJ0aW8tcGNpIGRldmljZQo+PiAtICogQGluZGV4OiB0aGUgcXVldWUg
aW5kZXgKPj4gLSAqIEBkZXNjX2FkZHI6IGFkZHJlc3Mgb2YgdGhlIGRlc2NyaXB0b3IgYXJlYQo+
PiAtICogQGRyaXZlcl9hZGRyOiBhZGRyZXNzIG9mIHRoZSBkcml2ZXIgYXJlYQo+PiAtICogQGRl
dmljZV9hZGRyOiBhZGRyZXNzIG9mIHRoZSBkZXZpY2UgYXJlYQo+PiAtICovCj4+IC1zdGF0aWMg
dm9pZCB2cF9tb2Rlcm5fcXVldWVfYWRkcmVzcyhzdHJ1Y3QgdmlydGlvX3BjaV9tb2Rlcm5fZGV2
aWNlICptZGV2LAo+PiAtCQkJCSAgICB1MTYgaW5kZXgsIHU2NCBkZXNjX2FkZHIsIHU2NCBkcml2
ZXJfYWRkciwKPj4gLQkJCQkgICAgdTY0IGRldmljZV9hZGRyKQo+PiAtewo+PiAtCXN0cnVjdCB2
aXJ0aW9fcGNpX2NvbW1vbl9jZmcgX19pb21lbSAqY2ZnID0gbWRldi0+Y29tbW9uOwo+PiAtCj4+
IC0JdnBfaW93cml0ZTE2KGluZGV4LCAmY2ZnLT5xdWV1ZV9zZWxlY3QpOwo+PiAtCj4+IC0JdnBf
aW93cml0ZTY0X3R3b3BhcnQoZGVzY19hZGRyLCAmY2ZnLT5xdWV1ZV9kZXNjX2xvLAo+PiAtCQkJ
ICAgICAmY2ZnLT5xdWV1ZV9kZXNjX2hpKTsKPj4gLQl2cF9pb3dyaXRlNjRfdHdvcGFydChkcml2
ZXJfYWRkciwgJmNmZy0+cXVldWVfYXZhaWxfbG8sCj4+IC0JCQkgICAgICZjZmctPnF1ZXVlX2F2
YWlsX2hpKTsKPj4gLQl2cF9pb3dyaXRlNjRfdHdvcGFydChkZXZpY2VfYWRkciwgJmNmZy0+cXVl
dWVfdXNlZF9sbywKPj4gLQkJCSAgICAgJmNmZy0+cXVldWVfdXNlZF9oaSk7Cj4+IC19Cj4+IC0K
Pj4gLS8qCj4+IC0gKiB2cF9tb2Rlcm5fc2V0X3F1ZXVlX2VuYWJsZSAtIGVuYWJsZSBhIHZpcnRx
dWV1ZQo+PiAtICogQG1kZXY6IHRoZSBtb2Rlcm4gdmlydGlvLXBjaSBkZXZpY2UKPj4gLSAqIEBp
bmRleDogdGhlIHF1ZXVlIGluZGV4Cj4+IC0gKiBAZW5hYmxlOiB3aGV0aGVyIHRoZSB2aXJ0cXVl
dWUgaXMgZW5hYmxlIG9yIG5vdAo+PiAtICovCj4+IC1zdGF0aWMgdm9pZCB2cF9tb2Rlcm5fc2V0
X3F1ZXVlX2VuYWJsZShzdHJ1Y3QgdmlydGlvX3BjaV9tb2Rlcm5fZGV2aWNlICptZGV2LAo+PiAt
CQkJCSAgICAgICB1MTYgaW5kZXgsIGJvb2wgZW5hYmxlKQo+PiAtewo+PiAtCXZwX2lvd3JpdGUx
NihpbmRleCwgJm1kZXYtPmNvbW1vbi0+cXVldWVfc2VsZWN0KTsKPj4gLQl2cF9pb3dyaXRlMTYo
ZW5hYmxlLCAmbWRldi0+Y29tbW9uLT5xdWV1ZV9lbmFibGUpOwo+PiAtfQo+PiAtCj4+IC0vKgo+
PiAtICogdnBfbW9kZXJuX2dldF9xdWV1ZV9lbmFibGUgLSBlbmFibGUgYSB2aXJ0cXVldWUKPj4g
LSAqIEBtZGV2OiB0aGUgbW9kZXJuIHZpcnRpby1wY2kgZGV2aWNlCj4+IC0gKiBAaW5kZXg6IHRo
ZSBxdWV1ZSBpbmRleAo+PiAtICoKPj4gLSAqIFJldHVybnMgd2hldGhlciBhIHZpcnRxdWV1ZSBp
cyBlbmFibGVkIG9yIG5vdAo+PiAtICovCj4+IC1zdGF0aWMgYm9vbCB2cF9tb2Rlcm5fZ2V0X3F1
ZXVlX2VuYWJsZShzdHJ1Y3QgdmlydGlvX3BjaV9tb2Rlcm5fZGV2aWNlICptZGV2LAo+PiAtCQkJ
CSAgICAgICB1MTYgaW5kZXgpCj4+IC17Cj4+IC0JdnBfaW93cml0ZTE2KGluZGV4LCAmbWRldi0+
Y29tbW9uLT5xdWV1ZV9zZWxlY3QpOwo+PiAtCj4+IC0JcmV0dXJuIHZwX2lvcmVhZDE2KCZtZGV2
LT5jb21tb24tPnF1ZXVlX2VuYWJsZSk7Cj4+IC19Cj4+IC0KPj4gLS8qCj4+IC0gKiB2cF9tb2Rl
cm5fc2V0X3F1ZXVlX3NpemUgLSBzZXQgc2l6ZSBmb3IgYSB2aXJ0cXVldWUKPj4gLSAqIEBtZGV2
OiB0aGUgbW9kZXJuIHZpcnRpby1wY2kgZGV2aWNlCj4+IC0gKiBAaW5kZXg6IHRoZSBxdWV1ZSBp
bmRleAo+PiAtICogQHNpemU6IHRoZSBzaXplIG9mIHRoZSB2aXJ0cXVldWUKPj4gLSAqLwo+PiAt
c3RhdGljIHZvaWQgdnBfbW9kZXJuX3NldF9xdWV1ZV9zaXplKHN0cnVjdCB2aXJ0aW9fcGNpX21v
ZGVybl9kZXZpY2UgKm1kZXYsCj4+IC0JCQkJICAgICB1MTYgaW5kZXgsIHUxNiBzaXplKQo+PiAt
ewo+PiAtCXZwX2lvd3JpdGUxNihpbmRleCwgJm1kZXYtPmNvbW1vbi0+cXVldWVfc2VsZWN0KTsK
Pj4gLQl2cF9pb3dyaXRlMTYoc2l6ZSwgJm1kZXYtPmNvbW1vbi0+cXVldWVfc2l6ZSk7Cj4+IC0K
Pj4gLX0KPj4gLQo+PiAtLyoKPj4gLSAqIHZwX21vZGVybl9nZXRfcXVldWVfc2l6ZSAtIGdldCBz
aXplIGZvciBhIHZpcnRxdWV1ZQo+PiAtICogQG1kZXY6IHRoZSBtb2Rlcm4gdmlydGlvLXBjaSBk
ZXZpY2UKPj4gLSAqIEBpbmRleDogdGhlIHF1ZXVlIGluZGV4Cj4+IC0gKgo+PiAtICogUmV0dXJu
cyB0aGUgc2l6ZSBvZiB0aGUgdmlydHF1ZXVlCj4+IC0gKi8KPj4gLXN0YXRpYyB1MTYgdnBfbW9k
ZXJuX2dldF9xdWV1ZV9zaXplKHN0cnVjdCB2aXJ0aW9fcGNpX21vZGVybl9kZXZpY2UgKm1kZXYs
Cj4+IC0JCQkJICAgIHUxNiBpbmRleCkKPj4gLXsKPj4gLQl2cF9pb3dyaXRlMTYoaW5kZXgsICZt
ZGV2LT5jb21tb24tPnF1ZXVlX3NlbGVjdCk7Cj4+IC0KPj4gLQlyZXR1cm4gdnBfaW9yZWFkMTYo
Jm1kZXYtPmNvbW1vbi0+cXVldWVfc2l6ZSk7Cj4+IC0KPj4gLX0KPj4gLQo+PiAtLyoKPj4gLSAq
IHZwX21vZGVybl9nZXRfbnVtX3F1ZXVlcyAtIGdldCB0aGUgbnVtYmVyIG9mIHZpcnRxdWV1ZXMK
Pj4gLSAqIEBtZGV2OiB0aGUgbW9kZXJuIHZpcnRpby1wY2kgZGV2aWNlCj4+IC0gKgo+PiAtICog
UmV0dXJucyB0aGUgbnVtYmVyIG9mIHZpcnRxdWV1ZXMKPj4gLSAqLwo+PiAtc3RhdGljIHUxNiB2
cF9tb2Rlcm5fZ2V0X251bV9xdWV1ZXMoc3RydWN0IHZpcnRpb19wY2lfbW9kZXJuX2RldmljZSAq
bWRldikKPj4gLXsKPj4gLQlyZXR1cm4gdnBfaW9yZWFkMTYoJm1kZXYtPmNvbW1vbi0+bnVtX3F1
ZXVlcyk7Cj4+IC19Cj4+IC0KPj4gLS8qCj4+IC0gKiB2cF9tb2Rlcm5fZ2V0X3F1ZXVlX25vdGlm
eV9vZmYgLSBnZXQgbm90aWZpY2F0aW9uIG9mZnNldCBmb3IgYSB2aXJ0cXVldWUKPj4gLSAqIEBt
ZGV2OiB0aGUgbW9kZXJuIHZpcnRpby1wY2kgZGV2aWNlCj4+IC0gKiBAaW5kZXg6IHRoZSBxdWV1
ZSBpbmRleAo+PiAtICoKPj4gLSAqIFJldHVybnMgdGhlIG5vdGlmaWNhdGlvbiBvZmZzZXQgZm9y
IGEgdmlydHF1ZXVlCj4+IC0gKi8KPj4gLXN0YXRpYyB1MTYgdnBfbW9kZXJuX2dldF9xdWV1ZV9u
b3RpZnlfb2ZmKHN0cnVjdCB2aXJ0aW9fcGNpX21vZGVybl9kZXZpY2UgKm1kZXYsCj4+IC0JCQkJ
CSAgdTE2IGluZGV4KQo+PiAtewo+PiAtCXZwX2lvd3JpdGUxNihpbmRleCwgJm1kZXYtPmNvbW1v
bi0+cXVldWVfc2VsZWN0KTsKPj4gLQo+PiAtCXJldHVybiB2cF9pb3JlYWQxNigmbWRldi0+Y29t
bW9uLT5xdWV1ZV9ub3RpZnlfb2ZmKTsKPj4gLX0KPj4gLQo+PiAgIC8qIHZpcnRpbyBjb25maWct
PmZpbmFsaXplX2ZlYXR1cmVzKCkgaW1wbGVtZW50YXRpb24gKi8KPj4gICBzdGF0aWMgaW50IHZw
X2ZpbmFsaXplX2ZlYXR1cmVzKHN0cnVjdCB2aXJ0aW9fZGV2aWNlICp2ZGV2KQo+PiAgIHsKPj4g
QEAgLTQyOSwxOSArMTM0LDYgQEAgc3RhdGljIHZvaWQgdnBfc2V0KHN0cnVjdCB2aXJ0aW9fZGV2
aWNlICp2ZGV2LCB1bnNpZ25lZCBvZmZzZXQsCj4+ICAgCX0KPj4gICB9Cj4+ICAgCj4+IC0vKgo+
PiAtICogdnBfbW9kZXJuX2dlbmVyYXRpb24gLSBnZXQgdGhlIGRldmljZSBnZW5yZWF0aW9uCj4+
IC0gKiBAbWRldjogdGhlIG1vZGVybiB2aXJ0aW8tcGNpIGRldmljZQo+PiAtICoKPj4gLSAqIFJl
dHVybnMgdGhlIGdlbnJlYXRpb24gcmVhZCBmcm9tIGRldmljZQo+PiAtICovCj4+IC1zdGF0aWMg
dTMyIHZwX21vZGVybl9nZW5lcmF0aW9uKHN0cnVjdCB2aXJ0aW9fcGNpX21vZGVybl9kZXZpY2Ug
Km1kZXYpCj4+IC17Cj4+IC0Jc3RydWN0IHZpcnRpb19wY2lfY29tbW9uX2NmZyBfX2lvbWVtICpj
ZmcgPSBtZGV2LT5jb21tb247Cj4+IC0KPj4gLQlyZXR1cm4gdnBfaW9yZWFkOCgmY2ZnLT5jb25m
aWdfZ2VuZXJhdGlvbik7Cj4+IC19Cj4+IC0KPj4gICBzdGF0aWMgdTMyIHZwX2dlbmVyYXRpb24o
c3RydWN0IHZpcnRpb19kZXZpY2UgKnZkZXYpCj4+ICAgewo+PiAgIAlzdHJ1Y3QgdmlydGlvX3Bj
aV9kZXZpY2UgKnZwX2RldiA9IHRvX3ZwX2RldmljZSh2ZGV2KTsKPj4gQEAgLTQ0OSwxOSArMTQx
LDYgQEAgc3RhdGljIHUzMiB2cF9nZW5lcmF0aW9uKHN0cnVjdCB2aXJ0aW9fZGV2aWNlICp2ZGV2
KQo+PiAgIAlyZXR1cm4gdnBfbW9kZXJuX2dlbmVyYXRpb24oJnZwX2Rldi0+bWRldik7Cj4+ICAg
fQo+PiAgIAo+PiAtLyoKPj4gLSAqIHZwX21vZGVybl9nZXRfc3RhdHVzIC0gZ2V0IHRoZSBkZXZp
Y2Ugc3RhdHVzCj4+IC0gKiBAbWRldjogdGhlIG1vZGVybiB2aXJ0aW8tcGNpIGRldmljZQo+PiAt
ICoKPj4gLSAqIFJldHVybnMgdGhlIHN0YXR1cyByZWFkIGZyb20gZGV2aWNlCj4+IC0gKi8KPj4g
LXN0YXRpYyB1OCB2cF9tb2Rlcm5fZ2V0X3N0YXR1cyhzdHJ1Y3QgdmlydGlvX3BjaV9tb2Rlcm5f
ZGV2aWNlICptZGV2KQo+PiAtewo+PiAtCXN0cnVjdCB2aXJ0aW9fcGNpX2NvbW1vbl9jZmcgX19p
b21lbSAqY2ZnID0gbWRldi0+Y29tbW9uOwo+PiAtCj4+IC0JcmV0dXJuIHZwX2lvcmVhZDgoJmNm
Zy0+ZGV2aWNlX3N0YXR1cyk7Cj4+IC19Cj4+IC0KPj4gICAvKiBjb25maWctPntnZXQsc2V0fV9z
dGF0dXMoKSBpbXBsZW1lbnRhdGlvbnMgKi8KPj4gICBzdGF0aWMgdTggdnBfZ2V0X3N0YXR1cyhz
dHJ1Y3QgdmlydGlvX2RldmljZSAqdmRldikKPj4gICB7Cj4+IEBAIC00NzAsMTkgKzE0OSw2IEBA
IHN0YXRpYyB1OCB2cF9nZXRfc3RhdHVzKHN0cnVjdCB2aXJ0aW9fZGV2aWNlICp2ZGV2KQo+PiAg
IAlyZXR1cm4gdnBfbW9kZXJuX2dldF9zdGF0dXMoJnZwX2Rldi0+bWRldik7Cj4+ICAgfQo+PiAg
IAo+PiAtLyoKPj4gLSAqIHZwX21vZGVybl9zZXRfc3RhdHVzIC0gc2V0IHN0YXR1cyB0byBkZXZp
Y2UKPj4gLSAqIEBtZGV2OiB0aGUgbW9kZXJuIHZpcnRpby1wY2kgZGV2aWNlCj4+IC0gKiBAc3Rh
dHVzOiB0aGUgc3RhdHVzIHNldCB0byBkZXZpY2UKPj4gLSAqLwo+PiAtc3RhdGljIHZvaWQgdnBf
bW9kZXJuX3NldF9zdGF0dXMoc3RydWN0IHZpcnRpb19wY2lfbW9kZXJuX2RldmljZSAqbWRldiwK
Pj4gLQkJCQkgdTggc3RhdHVzKQo+PiAtewo+PiAtCXN0cnVjdCB2aXJ0aW9fcGNpX2NvbW1vbl9j
ZmcgX19pb21lbSAqY2ZnID0gbWRldi0+Y29tbW9uOwo+PiAtCj4+IC0JdnBfaW93cml0ZTgoc3Rh
dHVzLCAmY2ZnLT5kZXZpY2Vfc3RhdHVzKTsKPj4gLX0KPj4gLQo+PiAgIHN0YXRpYyB2b2lkIHZw
X3NldF9zdGF0dXMoc3RydWN0IHZpcnRpb19kZXZpY2UgKnZkZXYsIHU4IHN0YXR1cykKPj4gICB7
Cj4+ICAgCXN0cnVjdCB2aXJ0aW9fcGNpX2RldmljZSAqdnBfZGV2ID0gdG9fdnBfZGV2aWNlKHZk
ZXYpOwo+PiBAQCAtNTEwLDI1ICsxNzYsNiBAQCBzdGF0aWMgdm9pZCB2cF9yZXNldChzdHJ1Y3Qg
dmlydGlvX2RldmljZSAqdmRldikKPj4gICAJdnBfc3luY2hyb25pemVfdmVjdG9ycyh2ZGV2KTsK
Pj4gICB9Cj4+ICAgCj4+IC0vKgo+PiAtICogdnBfbW9kZXJuX2NvbmZpZ192ZWN0b3IgLSBzZXQg
dGhlIHZlY3RvciBmb3IgY29uZmlnIGludGVycnVwdAo+PiAtICogQG1kZXY6IHRoZSBtb2Rlcm4g
dmlydGlvLXBjaSBkZXZpY2UKPj4gLSAqIEB2ZWN0b3I6IHRoZSBjb25maWcgdmVjdG9yCj4+IC0g
Kgo+PiAtICogUmV0dXJucyB0aGUgY29uZmlnIHZlY3RvciByZWFkIGZyb20gdGhlIGRldmljZQo+
PiAtICovCj4+IC1zdGF0aWMgdTE2IHZwX21vZGVybl9jb25maWdfdmVjdG9yKHN0cnVjdCB2aXJ0
aW9fcGNpX21vZGVybl9kZXZpY2UgKm1kZXYsCj4+IC0JCQkJICAgdTE2IHZlY3RvcikKPj4gLXsK
Pj4gLQlzdHJ1Y3QgdmlydGlvX3BjaV9jb21tb25fY2ZnIF9faW9tZW0gKmNmZyA9IG1kZXYtPmNv
bW1vbjsKPj4gLQo+PiAtCS8qIFNldHVwIHRoZSB2ZWN0b3IgdXNlZCBmb3IgY29uZmlndXJhdGlv
biBldmVudHMgKi8KPj4gLQl2cF9pb3dyaXRlMTYodmVjdG9yLCAmY2ZnLT5tc2l4X2NvbmZpZyk7
Cj4+IC0JLyogVmVyaWZ5IHdlIGhhZCBlbm91Z2ggcmVzb3VyY2VzIHRvIGFzc2lnbiB0aGUgdmVj
dG9yICovCj4+IC0JLyogV2lsbCBhbHNvIGZsdXNoIHRoZSB3cml0ZSBvdXQgdG8gZGV2aWNlICov
Cj4+IC0JcmV0dXJuIHZwX2lvcmVhZDE2KCZjZmctPm1zaXhfY29uZmlnKTsKPj4gLX0KPj4gLQo+
PiAgIHN0YXRpYyB1MTYgdnBfY29uZmlnX3ZlY3RvcihzdHJ1Y3QgdmlydGlvX3BjaV9kZXZpY2Ug
KnZwX2RldiwgdTE2IHZlY3RvcikKPj4gICB7Cj4+ICAgCXJldHVybiB2cF9tb2Rlcm5fY29uZmln
X3ZlY3RvcigmdnBfZGV2LT5tZGV2LCB2ZWN0b3IpOwo+PiBAQCAtNzg5LDI1MyArNDM2LDYgQEAg
c3RhdGljIGNvbnN0IHN0cnVjdCB2aXJ0aW9fY29uZmlnX29wcyB2aXJ0aW9fcGNpX2NvbmZpZ19v
cHMgPSB7Cj4+ICAgCS5nZXRfc2htX3JlZ2lvbiAgPSB2cF9nZXRfc2htX3JlZ2lvbiwKPj4gICB9
Owo+PiAgIAo+PiAtLyoqCj4+IC0gKiB2aXJ0aW9fcGNpX2ZpbmRfY2FwYWJpbGl0eSAtIHdhbGsg
Y2FwYWJpbGl0aWVzIHRvIGZpbmQgZGV2aWNlIGluZm8uCj4+IC0gKiBAZGV2OiB0aGUgcGNpIGRl
dmljZQo+PiAtICogQGNmZ190eXBlOiB0aGUgVklSVElPX1BDSV9DQVBfKiB2YWx1ZSB3ZSBzZWVr
Cj4+IC0gKiBAaW9yZXNvdXJjZV90eXBlczogSU9SRVNPVVJDRV9NRU0gYW5kL29yIElPUkVTT1VS
Q0VfSU8uCj4+IC0gKiBAYmFyczogdGhlIGJpdG1hc2sgb2YgQkFScwo+PiAtICoKPj4gLSAqIFJl
dHVybnMgb2Zmc2V0IG9mIHRoZSBjYXBhYmlsaXR5LCBvciAwLgo+PiAtICovCj4+IC1zdGF0aWMg
aW5saW5lIGludCB2aXJ0aW9fcGNpX2ZpbmRfY2FwYWJpbGl0eShzdHJ1Y3QgcGNpX2RldiAqZGV2
LCB1OCBjZmdfdHlwZSwKPj4gLQkJCQkJICAgICB1MzIgaW9yZXNvdXJjZV90eXBlcywgaW50ICpi
YXJzKQo+PiAtewo+PiAtCWludCBwb3M7Cj4+IC0KPj4gLQlmb3IgKHBvcyA9IHBjaV9maW5kX2Nh
cGFiaWxpdHkoZGV2LCBQQ0lfQ0FQX0lEX1ZORFIpOwo+PiAtCSAgICAgcG9zID4gMDsKPj4gLQkg
ICAgIHBvcyA9IHBjaV9maW5kX25leHRfY2FwYWJpbGl0eShkZXYsIHBvcywgUENJX0NBUF9JRF9W
TkRSKSkgewo+PiAtCQl1OCB0eXBlLCBiYXI7Cj4+IC0JCXBjaV9yZWFkX2NvbmZpZ19ieXRlKGRl
diwgcG9zICsgb2Zmc2V0b2Yoc3RydWN0IHZpcnRpb19wY2lfY2FwLAo+PiAtCQkJCQkJCSBjZmdf
dHlwZSksCj4+IC0JCQkJICAgICAmdHlwZSk7Cj4+IC0JCXBjaV9yZWFkX2NvbmZpZ19ieXRlKGRl
diwgcG9zICsgb2Zmc2V0b2Yoc3RydWN0IHZpcnRpb19wY2lfY2FwLAo+PiAtCQkJCQkJCSBiYXIp
LAo+PiAtCQkJCSAgICAgJmJhcik7Cj4+IC0KPj4gLQkJLyogSWdub3JlIHN0cnVjdHVyZXMgd2l0
aCByZXNlcnZlZCBCQVIgdmFsdWVzICovCj4+IC0JCWlmIChiYXIgPiAweDUpCj4+IC0JCQljb250
aW51ZTsKPj4gLQo+PiAtCQlpZiAodHlwZSA9PSBjZmdfdHlwZSkgewo+PiAtCQkJaWYgKHBjaV9y
ZXNvdXJjZV9sZW4oZGV2LCBiYXIpICYmCj4+IC0JCQkgICAgcGNpX3Jlc291cmNlX2ZsYWdzKGRl
diwgYmFyKSAmIGlvcmVzb3VyY2VfdHlwZXMpIHsKPj4gLQkJCQkqYmFycyB8PSAoMSA8PCBiYXIp
Owo+PiAtCQkJCXJldHVybiBwb3M7Cj4+IC0JCQl9Cj4+IC0JCX0KPj4gLQl9Cj4+IC0JcmV0dXJu
IDA7Cj4+IC19Cj4+IC0KPj4gLS8qIFRoaXMgaXMgcGFydCBvZiB0aGUgQUJJLiAgRG9uJ3Qgc2Ny
ZXcgd2l0aCBpdC4gKi8KPj4gLXN0YXRpYyBpbmxpbmUgdm9pZCBjaGVja19vZmZzZXRzKHZvaWQp
Cj4+IC17Cj4+IC0JLyogTm90ZTogZGlzayBzcGFjZSB3YXMgaGFybWVkIGluIGNvbXBpbGF0aW9u
IG9mIHRoaXMgZnVuY3Rpb24uICovCj4+IC0JQlVJTERfQlVHX09OKFZJUlRJT19QQ0lfQ0FQX1ZO
RFIgIT0KPj4gLQkJICAgICBvZmZzZXRvZihzdHJ1Y3QgdmlydGlvX3BjaV9jYXAsIGNhcF92bmRy
KSk7Cj4+IC0JQlVJTERfQlVHX09OKFZJUlRJT19QQ0lfQ0FQX05FWFQgIT0KPj4gLQkJICAgICBv
ZmZzZXRvZihzdHJ1Y3QgdmlydGlvX3BjaV9jYXAsIGNhcF9uZXh0KSk7Cj4+IC0JQlVJTERfQlVH
X09OKFZJUlRJT19QQ0lfQ0FQX0xFTiAhPQo+PiAtCQkgICAgIG9mZnNldG9mKHN0cnVjdCB2aXJ0
aW9fcGNpX2NhcCwgY2FwX2xlbikpOwo+PiAtCUJVSUxEX0JVR19PTihWSVJUSU9fUENJX0NBUF9D
RkdfVFlQRSAhPQo+PiAtCQkgICAgIG9mZnNldG9mKHN0cnVjdCB2aXJ0aW9fcGNpX2NhcCwgY2Zn
X3R5cGUpKTsKPj4gLQlCVUlMRF9CVUdfT04oVklSVElPX1BDSV9DQVBfQkFSICE9Cj4+IC0JCSAg
ICAgb2Zmc2V0b2Yoc3RydWN0IHZpcnRpb19wY2lfY2FwLCBiYXIpKTsKPj4gLQlCVUlMRF9CVUdf
T04oVklSVElPX1BDSV9DQVBfT0ZGU0VUICE9Cj4+IC0JCSAgICAgb2Zmc2V0b2Yoc3RydWN0IHZp
cnRpb19wY2lfY2FwLCBvZmZzZXQpKTsKPj4gLQlCVUlMRF9CVUdfT04oVklSVElPX1BDSV9DQVBf
TEVOR1RIICE9Cj4+IC0JCSAgICAgb2Zmc2V0b2Yoc3RydWN0IHZpcnRpb19wY2lfY2FwLCBsZW5n
dGgpKTsKPj4gLQlCVUlMRF9CVUdfT04oVklSVElPX1BDSV9OT1RJRllfQ0FQX01VTFQgIT0KPj4g
LQkJICAgICBvZmZzZXRvZihzdHJ1Y3QgdmlydGlvX3BjaV9ub3RpZnlfY2FwLAo+PiAtCQkJICAg
ICAgbm90aWZ5X29mZl9tdWx0aXBsaWVyKSk7Cj4+IC0JQlVJTERfQlVHX09OKFZJUlRJT19QQ0lf
Q09NTU9OX0RGU0VMRUNUICE9Cj4+IC0JCSAgICAgb2Zmc2V0b2Yoc3RydWN0IHZpcnRpb19wY2lf
Y29tbW9uX2NmZywKPj4gLQkJCSAgICAgIGRldmljZV9mZWF0dXJlX3NlbGVjdCkpOwo+PiAtCUJV
SUxEX0JVR19PTihWSVJUSU9fUENJX0NPTU1PTl9ERiAhPQo+PiAtCQkgICAgIG9mZnNldG9mKHN0
cnVjdCB2aXJ0aW9fcGNpX2NvbW1vbl9jZmcsIGRldmljZV9mZWF0dXJlKSk7Cj4+IC0JQlVJTERf
QlVHX09OKFZJUlRJT19QQ0lfQ09NTU9OX0dGU0VMRUNUICE9Cj4+IC0JCSAgICAgb2Zmc2V0b2Yo
c3RydWN0IHZpcnRpb19wY2lfY29tbW9uX2NmZywKPj4gLQkJCSAgICAgIGd1ZXN0X2ZlYXR1cmVf
c2VsZWN0KSk7Cj4+IC0JQlVJTERfQlVHX09OKFZJUlRJT19QQ0lfQ09NTU9OX0dGICE9Cj4+IC0J
CSAgICAgb2Zmc2V0b2Yoc3RydWN0IHZpcnRpb19wY2lfY29tbW9uX2NmZywgZ3Vlc3RfZmVhdHVy
ZSkpOwo+PiAtCUJVSUxEX0JVR19PTihWSVJUSU9fUENJX0NPTU1PTl9NU0lYICE9Cj4+IC0JCSAg
ICAgb2Zmc2V0b2Yoc3RydWN0IHZpcnRpb19wY2lfY29tbW9uX2NmZywgbXNpeF9jb25maWcpKTsK
Pj4gLQlCVUlMRF9CVUdfT04oVklSVElPX1BDSV9DT01NT05fTlVNUSAhPQo+PiAtCQkgICAgIG9m
ZnNldG9mKHN0cnVjdCB2aXJ0aW9fcGNpX2NvbW1vbl9jZmcsIG51bV9xdWV1ZXMpKTsKPj4gLQlC
VUlMRF9CVUdfT04oVklSVElPX1BDSV9DT01NT05fU1RBVFVTICE9Cj4+IC0JCSAgICAgb2Zmc2V0
b2Yoc3RydWN0IHZpcnRpb19wY2lfY29tbW9uX2NmZywgZGV2aWNlX3N0YXR1cykpOwo+PiAtCUJV
SUxEX0JVR19PTihWSVJUSU9fUENJX0NPTU1PTl9DRkdHRU5FUkFUSU9OICE9Cj4+IC0JCSAgICAg
b2Zmc2V0b2Yoc3RydWN0IHZpcnRpb19wY2lfY29tbW9uX2NmZywgY29uZmlnX2dlbmVyYXRpb24p
KTsKPj4gLQlCVUlMRF9CVUdfT04oVklSVElPX1BDSV9DT01NT05fUV9TRUxFQ1QgIT0KPj4gLQkJ
ICAgICBvZmZzZXRvZihzdHJ1Y3QgdmlydGlvX3BjaV9jb21tb25fY2ZnLCBxdWV1ZV9zZWxlY3Qp
KTsKPj4gLQlCVUlMRF9CVUdfT04oVklSVElPX1BDSV9DT01NT05fUV9TSVpFICE9Cj4+IC0JCSAg
ICAgb2Zmc2V0b2Yoc3RydWN0IHZpcnRpb19wY2lfY29tbW9uX2NmZywgcXVldWVfc2l6ZSkpOwo+
PiAtCUJVSUxEX0JVR19PTihWSVJUSU9fUENJX0NPTU1PTl9RX01TSVggIT0KPj4gLQkJICAgICBv
ZmZzZXRvZihzdHJ1Y3QgdmlydGlvX3BjaV9jb21tb25fY2ZnLCBxdWV1ZV9tc2l4X3ZlY3Rvcikp
Owo+PiAtCUJVSUxEX0JVR19PTihWSVJUSU9fUENJX0NPTU1PTl9RX0VOQUJMRSAhPQo+PiAtCQkg
ICAgIG9mZnNldG9mKHN0cnVjdCB2aXJ0aW9fcGNpX2NvbW1vbl9jZmcsIHF1ZXVlX2VuYWJsZSkp
Owo+PiAtCUJVSUxEX0JVR19PTihWSVJUSU9fUENJX0NPTU1PTl9RX05PRkYgIT0KPj4gLQkJICAg
ICBvZmZzZXRvZihzdHJ1Y3QgdmlydGlvX3BjaV9jb21tb25fY2ZnLCBxdWV1ZV9ub3RpZnlfb2Zm
KSk7Cj4+IC0JQlVJTERfQlVHX09OKFZJUlRJT19QQ0lfQ09NTU9OX1FfREVTQ0xPICE9Cj4+IC0J
CSAgICAgb2Zmc2V0b2Yoc3RydWN0IHZpcnRpb19wY2lfY29tbW9uX2NmZywgcXVldWVfZGVzY19s
bykpOwo+PiAtCUJVSUxEX0JVR19PTihWSVJUSU9fUENJX0NPTU1PTl9RX0RFU0NISSAhPQo+PiAt
CQkgICAgIG9mZnNldG9mKHN0cnVjdCB2aXJ0aW9fcGNpX2NvbW1vbl9jZmcsIHF1ZXVlX2Rlc2Nf
aGkpKTsKPj4gLQlCVUlMRF9CVUdfT04oVklSVElPX1BDSV9DT01NT05fUV9BVkFJTExPICE9Cj4+
IC0JCSAgICAgb2Zmc2V0b2Yoc3RydWN0IHZpcnRpb19wY2lfY29tbW9uX2NmZywgcXVldWVfYXZh
aWxfbG8pKTsKPj4gLQlCVUlMRF9CVUdfT04oVklSVElPX1BDSV9DT01NT05fUV9BVkFJTEhJICE9
Cj4+IC0JCSAgICAgb2Zmc2V0b2Yoc3RydWN0IHZpcnRpb19wY2lfY29tbW9uX2NmZywgcXVldWVf
YXZhaWxfaGkpKTsKPj4gLQlCVUlMRF9CVUdfT04oVklSVElPX1BDSV9DT01NT05fUV9VU0VETE8g
IT0KPj4gLQkJICAgICBvZmZzZXRvZihzdHJ1Y3QgdmlydGlvX3BjaV9jb21tb25fY2ZnLCBxdWV1
ZV91c2VkX2xvKSk7Cj4+IC0JQlVJTERfQlVHX09OKFZJUlRJT19QQ0lfQ09NTU9OX1FfVVNFREhJ
ICE9Cj4+IC0JCSAgICAgb2Zmc2V0b2Yoc3RydWN0IHZpcnRpb19wY2lfY29tbW9uX2NmZywgcXVl
dWVfdXNlZF9oaSkpOwo+PiAtfQo+PiAtCj4+IC0vKgo+PiAtICogdnBfbW9kZXJuX3Byb2JlOiBw
cm9iZSB0aGUgbW9kZXJuIHZpcnRpbyBwY2kgZGV2aWNlLCBub3RlIHRoYXQgdGhlCj4+IC0gKiBj
YWxsZXIgaXMgcmVxdWlyZWQgdG8gZW5hYmxlIFBDSSBkZXZpY2UgYmVmb3JlIGNhbGxpbmcgdGhp
cyBmdW5jdGlvbi4KPj4gLSAqIEBtZGV2OiB0aGUgbW9kZXJuIHZpcnRpby1wY2kgZGV2aWNlCj4+
IC0gKgo+PiAtICogUmV0dXJuIDAgb24gc3VjY2VlZCBvdGhlcndpc2UgZmFpbAo+PiAtICovCj4+
IC1zdGF0aWMgaW50IHZwX21vZGVybl9wcm9iZShzdHJ1Y3QgdmlydGlvX3BjaV9tb2Rlcm5fZGV2
aWNlICptZGV2KQo+PiAtewo+PiAtCXN0cnVjdCBwY2lfZGV2ICpwY2lfZGV2ID0gbWRldi0+cGNp
X2RldjsKPj4gLQlpbnQgZXJyLCBjb21tb24sIGlzciwgbm90aWZ5LCBkZXZpY2U7Cj4+IC0JdTMy
IG5vdGlmeV9sZW5ndGg7Cj4+IC0JdTMyIG5vdGlmeV9vZmZzZXQ7Cj4+IC0KPj4gLQljaGVja19v
ZmZzZXRzKCk7Cj4+IC0KPj4gLQltZGV2LT5wY2lfZGV2ID0gcGNpX2RldjsKPj4gLQo+PiAtCS8q
IFdlIG9ubHkgb3duIGRldmljZXMgPj0gMHgxMDAwIGFuZCA8PSAweDEwN2Y6IGxlYXZlIHRoZSBy
ZXN0LiAqLwo+PiAtCWlmIChwY2lfZGV2LT5kZXZpY2UgPCAweDEwMDAgfHwgcGNpX2Rldi0+ZGV2
aWNlID4gMHgxMDdmKQo+PiAtCQlyZXR1cm4gLUVOT0RFVjsKPj4gLQo+PiAtCWlmIChwY2lfZGV2
LT5kZXZpY2UgPCAweDEwNDApIHsKPj4gLQkJLyogVHJhbnNpdGlvbmFsIGRldmljZXM6IHVzZSB0
aGUgUENJIHN1YnN5c3RlbSBkZXZpY2UgaWQgYXMKPj4gLQkJICogdmlydGlvIGRldmljZSBpZCwg
c2FtZSBhcyBsZWdhY3kgZHJpdmVyIGFsd2F5cyBkaWQuCj4+IC0JCSAqLwo+PiAtCQltZGV2LT5p
ZC5kZXZpY2UgPSBwY2lfZGV2LT5zdWJzeXN0ZW1fZGV2aWNlOwo+PiAtCX0gZWxzZSB7Cj4+IC0J
CS8qIE1vZGVybiBkZXZpY2VzOiBzaW1wbHkgdXNlIFBDSSBkZXZpY2UgaWQsIGJ1dCBzdGFydCBm
cm9tIDB4MTA0MC4gKi8KPj4gLQkJbWRldi0+aWQuZGV2aWNlID0gcGNpX2Rldi0+ZGV2aWNlIC0g
MHgxMDQwOwo+PiAtCX0KPj4gLQltZGV2LT5pZC52ZW5kb3IgPSBwY2lfZGV2LT5zdWJzeXN0ZW1f
dmVuZG9yOwo+PiAtCj4+IC0JLyogY2hlY2sgZm9yIGEgY29tbW9uIGNvbmZpZzogaWYgbm90LCB1
c2UgbGVnYWN5IG1vZGUgKGJhciAwKS4gKi8KPj4gLQljb21tb24gPSB2aXJ0aW9fcGNpX2ZpbmRf
Y2FwYWJpbGl0eShwY2lfZGV2LCBWSVJUSU9fUENJX0NBUF9DT01NT05fQ0ZHLAo+PiAtCQkJCQkg
ICAgSU9SRVNPVVJDRV9JTyB8IElPUkVTT1VSQ0VfTUVNLAo+PiAtCQkJCQkgICAgJm1kZXYtPm1v
ZGVybl9iYXJzKTsKPj4gLQlpZiAoIWNvbW1vbikgewo+PiAtCQlkZXZfaW5mbygmcGNpX2Rldi0+
ZGV2LAo+PiAtCQkJICJ2aXJ0aW9fcGNpOiBsZWF2aW5nIGZvciBsZWdhY3kgZHJpdmVyXG4iKTsK
Pj4gLQkJcmV0dXJuIC1FTk9ERVY7Cj4+IC0JfQo+PiAtCj4+IC0JLyogSWYgY29tbW9uIGlzIHRo
ZXJlLCB0aGVzZSBzaG91bGQgYmUgdG9vLi4uICovCj4+IC0JaXNyID0gdmlydGlvX3BjaV9maW5k
X2NhcGFiaWxpdHkocGNpX2RldiwgVklSVElPX1BDSV9DQVBfSVNSX0NGRywKPj4gLQkJCQkJIElP
UkVTT1VSQ0VfSU8gfCBJT1JFU09VUkNFX01FTSwKPj4gLQkJCQkJICZtZGV2LT5tb2Rlcm5fYmFy
cyk7Cj4+IC0Jbm90aWZ5ID0gdmlydGlvX3BjaV9maW5kX2NhcGFiaWxpdHkocGNpX2RldiwgVklS
VElPX1BDSV9DQVBfTk9USUZZX0NGRywKPj4gLQkJCQkJICAgIElPUkVTT1VSQ0VfSU8gfCBJT1JF
U09VUkNFX01FTSwKPj4gLQkJCQkJICAgICZtZGV2LT5tb2Rlcm5fYmFycyk7Cj4+IC0JaWYgKCFp
c3IgfHwgIW5vdGlmeSkgewo+PiAtCQlkZXZfZXJyKCZwY2lfZGV2LT5kZXYsCj4+IC0JCQkidmly
dGlvX3BjaTogbWlzc2luZyBjYXBhYmlsaXRpZXMgJWkvJWkvJWlcbiIsCj4+IC0JCQljb21tb24s
IGlzciwgbm90aWZ5KTsKPj4gLQkJcmV0dXJuIC1FSU5WQUw7Cj4+IC0JfQo+PiAtCj4+IC0JZXJy
ID0gZG1hX3NldF9tYXNrX2FuZF9jb2hlcmVudCgmcGNpX2Rldi0+ZGV2LCBETUFfQklUX01BU0so
NjQpKTsKPj4gLQlpZiAoZXJyKQo+PiAtCQllcnIgPSBkbWFfc2V0X21hc2tfYW5kX2NvaGVyZW50
KCZwY2lfZGV2LT5kZXYsCj4+IC0JCQkJCQlETUFfQklUX01BU0soMzIpKTsKPj4gLQlpZiAoZXJy
KQo+PiAtCQlkZXZfd2FybigmcGNpX2Rldi0+ZGV2LCAiRmFpbGVkIHRvIGVuYWJsZSA2NC1iaXQg
b3IgMzItYml0IERNQS4gIFRyeWluZyB0byBjb250aW51ZSwgYnV0IHRoaXMgbWlnaHQgbm90IHdv
cmsuXG4iKTsKPj4gLQo+PiAtCS8qIERldmljZSBjYXBhYmlsaXR5IGlzIG9ubHkgbWFuZGF0b3J5
IGZvciBkZXZpY2VzIHRoYXQgaGF2ZQo+PiAtCSAqIGRldmljZS1zcGVjaWZpYyBjb25maWd1cmF0
aW9uLgo+PiAtCSAqLwo+PiAtCWRldmljZSA9IHZpcnRpb19wY2lfZmluZF9jYXBhYmlsaXR5KHBj
aV9kZXYsIFZJUlRJT19QQ0lfQ0FQX0RFVklDRV9DRkcsCj4+IC0JCQkJCSAgICBJT1JFU09VUkNF
X0lPIHwgSU9SRVNPVVJDRV9NRU0sCj4+IC0JCQkJCSAgICAmbWRldi0+bW9kZXJuX2JhcnMpOwo+
PiAtCj4+IC0JZXJyID0gcGNpX3JlcXVlc3Rfc2VsZWN0ZWRfcmVnaW9ucyhwY2lfZGV2LCBtZGV2
LT5tb2Rlcm5fYmFycywKPj4gLQkJCQkJICAgInZpcnRpby1wY2ktbW9kZXJuIik7Cj4+IC0JaWYg
KGVycikKPj4gLQkJcmV0dXJuIGVycjsKPj4gLQo+PiAtCWVyciA9IC1FSU5WQUw7Cj4+IC0JbWRl
di0+Y29tbW9uID0gdnBfbW9kZXJuX21hcF9jYXBhYmlsaXR5KG1kZXYsIGNvbW1vbiwKPj4gLQkJ
CQkgICAgICBzaXplb2Yoc3RydWN0IHZpcnRpb19wY2lfY29tbW9uX2NmZyksIDQsCj4+IC0JCQkJ
ICAgICAgMCwgc2l6ZW9mKHN0cnVjdCB2aXJ0aW9fcGNpX2NvbW1vbl9jZmcpLAo+PiAtCQkJCSAg
ICAgIE5VTEwpOwo+PiAtCWlmICghbWRldi0+Y29tbW9uKQo+PiAtCQlnb3RvIGVycl9tYXBfY29t
bW9uOwo+PiAtCW1kZXYtPmlzciA9IHZwX21vZGVybl9tYXBfY2FwYWJpbGl0eShtZGV2LCBpc3Is
IHNpemVvZih1OCksIDEsCj4+IC0JCQkJCSAgICAgMCwgMSwKPj4gLQkJCQkJICAgICBOVUxMKTsK
Pj4gLQlpZiAoIW1kZXYtPmlzcikKPj4gLQkJZ290byBlcnJfbWFwX2lzcjsKPj4gLQo+PiAtCS8q
IFJlYWQgbm90aWZ5X29mZl9tdWx0aXBsaWVyIGZyb20gY29uZmlnIHNwYWNlLiAqLwo+PiAtCXBj
aV9yZWFkX2NvbmZpZ19kd29yZChwY2lfZGV2LAo+PiAtCQkJICAgICAgbm90aWZ5ICsgb2Zmc2V0
b2Yoc3RydWN0IHZpcnRpb19wY2lfbm90aWZ5X2NhcCwKPj4gLQkJCQkJCW5vdGlmeV9vZmZfbXVs
dGlwbGllciksCj4+IC0JCQkgICAgICAmbWRldi0+bm90aWZ5X29mZnNldF9tdWx0aXBsaWVyKTsK
Pj4gLQkvKiBSZWFkIG5vdGlmeSBsZW5ndGggYW5kIG9mZnNldCBmcm9tIGNvbmZpZyBzcGFjZS4g
Ki8KPj4gLQlwY2lfcmVhZF9jb25maWdfZHdvcmQocGNpX2RldiwKPj4gLQkJCSAgICAgIG5vdGlm
eSArIG9mZnNldG9mKHN0cnVjdCB2aXJ0aW9fcGNpX25vdGlmeV9jYXAsCj4+IC0JCQkJCQljYXAu
bGVuZ3RoKSwKPj4gLQkJCSAgICAgICZub3RpZnlfbGVuZ3RoKTsKPj4gLQo+PiAtCXBjaV9yZWFk
X2NvbmZpZ19kd29yZChwY2lfZGV2LAo+PiAtCQkJICAgICAgbm90aWZ5ICsgb2Zmc2V0b2Yoc3Ry
dWN0IHZpcnRpb19wY2lfbm90aWZ5X2NhcCwKPj4gLQkJCQkJCWNhcC5vZmZzZXQpLAo+PiAtCQkJ
ICAgICAgJm5vdGlmeV9vZmZzZXQpOwo+PiAtCj4+IC0JLyogV2UgZG9uJ3Qga25vdyBob3cgbWFu
eSBWUXMgd2UnbGwgbWFwLCBhaGVhZCBvZiB0aGUgdGltZS4KPj4gLQkgKiBJZiBub3RpZnkgbGVu
Z3RoIGlzIHNtYWxsLCBtYXAgaXQgYWxsIG5vdy4KPj4gLQkgKiBPdGhlcndpc2UsIG1hcCBlYWNo
IFZRIGluZGl2aWR1YWxseSBsYXRlci4KPj4gLQkgKi8KPj4gLQlpZiAoKHU2NClub3RpZnlfbGVu
Z3RoICsgKG5vdGlmeV9vZmZzZXQgJSBQQUdFX1NJWkUpIDw9IFBBR0VfU0laRSkgewo+PiAtCQlt
ZGV2LT5ub3RpZnlfYmFzZSA9IHZwX21vZGVybl9tYXBfY2FwYWJpbGl0eShtZGV2LCBub3RpZnks
Cj4+IC0JCQkJCQkJICAgICAyLCAyLAo+PiAtCQkJCQkJCSAgICAgMCwgbm90aWZ5X2xlbmd0aCwK
Pj4gLQkJCQkJCQkgICAgICZtZGV2LT5ub3RpZnlfbGVuKTsKPj4gLQkJaWYgKCFtZGV2LT5ub3Rp
ZnlfYmFzZSkKPj4gLQkJCWdvdG8gZXJyX21hcF9ub3RpZnk7Cj4+IC0JfSBlbHNlIHsKPj4gLQkJ
bWRldi0+bm90aWZ5X21hcF9jYXAgPSBub3RpZnk7Cj4+IC0JfQo+PiAtCj4+IC0JLyogQWdhaW4s
IHdlIGRvbid0IGtub3cgaG93IG11Y2ggd2Ugc2hvdWxkIG1hcCwgYnV0IFBBR0VfU0laRQo+PiAt
CSAqIGlzIG1vcmUgdGhhbiBlbm91Z2ggZm9yIGFsbCBleGlzdGluZyBkZXZpY2VzLgo+PiAtCSAq
Lwo+PiAtCWlmIChkZXZpY2UpIHsKPj4gLQkJbWRldi0+ZGV2aWNlID0gdnBfbW9kZXJuX21hcF9j
YXBhYmlsaXR5KG1kZXYsIGRldmljZSwgMCwgNCwKPj4gLQkJCQkJCQkwLCBQQUdFX1NJWkUsCj4+
IC0JCQkJCQkJJm1kZXYtPmRldmljZV9sZW4pOwo+PiAtCQlpZiAoIW1kZXYtPmRldmljZSkKPj4g
LQkJCWdvdG8gZXJyX21hcF9kZXZpY2U7Cj4+IC0JfQo+PiAtCj4+IC0JcmV0dXJuIDA7Cj4+IC0K
Pj4gLWVycl9tYXBfZGV2aWNlOgo+PiAtCWlmIChtZGV2LT5ub3RpZnlfYmFzZSkKPj4gLQkJcGNp
X2lvdW5tYXAocGNpX2RldiwgbWRldi0+bm90aWZ5X2Jhc2UpOwo+PiAtZXJyX21hcF9ub3RpZnk6
Cj4+IC0JcGNpX2lvdW5tYXAocGNpX2RldiwgbWRldi0+aXNyKTsKPj4gLWVycl9tYXBfaXNyOgo+
PiAtCXBjaV9pb3VubWFwKHBjaV9kZXYsIG1kZXYtPmNvbW1vbik7Cj4+IC1lcnJfbWFwX2NvbW1v
bjoKPj4gLQlyZXR1cm4gZXJyOwo+PiAtfQo+PiAtCj4+ICAgLyogdGhlIFBDSSBwcm9iaW5nIGZ1
bmN0aW9uICovCj4+ICAgaW50IHZpcnRpb19wY2lfbW9kZXJuX3Byb2JlKHN0cnVjdCB2aXJ0aW9f
cGNpX2RldmljZSAqdnBfZGV2KQo+PiAgIHsKPj4gQEAgLTEwNjMsMjMgKzQ2Myw2IEBAIGludCB2
aXJ0aW9fcGNpX21vZGVybl9wcm9iZShzdHJ1Y3QgdmlydGlvX3BjaV9kZXZpY2UgKnZwX2RldikK
Pj4gICAJcmV0dXJuIDA7Cj4+ICAgfQo+PiAgIAo+PiAtLyoKPj4gLSAqIHZwX21vZGVybl9wcm9i
ZTogcmVtb3ZlIGFuZCBjbGVhbnVwIHRoZSBtb2Rlcm4gdmlydGlvIHBjaSBkZXZpY2UKPj4gLSAq
IEBtZGV2OiB0aGUgbW9kZXJuIHZpcnRpby1wY2kgZGV2aWNlCj4+IC0gKi8KPj4gLXN0YXRpYyB2
b2lkIHZwX21vZGVybl9yZW1vdmUoc3RydWN0IHZpcnRpb19wY2lfbW9kZXJuX2RldmljZSAqbWRl
dikKPj4gLXsKPj4gLQlzdHJ1Y3QgcGNpX2RldiAqcGNpX2RldiA9IG1kZXYtPnBjaV9kZXY7Cj4+
IC0KPj4gLQlpZiAobWRldi0+ZGV2aWNlKQo+PiAtCQlwY2lfaW91bm1hcChwY2lfZGV2LCBtZGV2
LT5kZXZpY2UpOwo+PiAtCWlmIChtZGV2LT5ub3RpZnlfYmFzZSkKPj4gLQkJcGNpX2lvdW5tYXAo
cGNpX2RldiwgbWRldi0+bm90aWZ5X2Jhc2UpOwo+PiAtCXBjaV9pb3VubWFwKHBjaV9kZXYsIG1k
ZXYtPmlzcik7Cj4+IC0JcGNpX2lvdW5tYXAocGNpX2RldiwgbWRldi0+Y29tbW9uKTsKPj4gLQlw
Y2lfcmVsZWFzZV9zZWxlY3RlZF9yZWdpb25zKHBjaV9kZXYsIG1kZXYtPm1vZGVybl9iYXJzKTsK
Pj4gLX0KPj4gLQo+PiAgIHZvaWQgdmlydGlvX3BjaV9tb2Rlcm5fcmVtb3ZlKHN0cnVjdCB2aXJ0
aW9fcGNpX2RldmljZSAqdnBfZGV2KQo+PiAgIHsKPj4gICAJc3RydWN0IHZpcnRpb19wY2lfbW9k
ZXJuX2RldmljZSAqbWRldiA9ICZ2cF9kZXYtPm1kZXY7Cj4+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L3ZpcnRpby92aXJ0aW9fcGNpX21vZGVybl9kZXYuYyBiL2RyaXZlcnMvdmlydGlvL3ZpcnRpb19w
Y2lfbW9kZXJuX2Rldi5jCj4+IG5ldyBmaWxlIG1vZGUgMTAwNjQ0Cj4+IGluZGV4IDAwMDAwMDAw
MDAwMC4uY2JkNjY3NDk2YmIxCj4+IC0tLSAvZGV2L251bGwKPj4gKysrIGIvZHJpdmVycy92aXJ0
aW8vdmlydGlvX3BjaV9tb2Rlcm5fZGV2LmMKPj4gQEAgLTAsMCArMSw1OTkgQEAKPj4gKy8vIFNQ
RFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wLW9yLWxhdGVyCj4+ICsKPj4gKyNpbmNsdWRl
IDxsaW51eC92aXJ0aW9fcGNpX21vZGVybi5oPgo+PiArI2luY2x1ZGUgPGxpbnV4L21vZHVsZS5o
Pgo+PiArI2luY2x1ZGUgPGxpbnV4L3BjaS5oPgo+PiArCj4+ICsvKgo+PiArICogdnBfbW9kZXJu
X21hcF9jYXBhYmlsaXR5IC0gbWFwIGEgcGFydCBvZiB2aXJ0aW8gcGNpIGNhcGFiaWxpdHkKPj4g
KyAqIEBtZGV2OiB0aGUgbW9kZXJuIHZpcnRpby1wY2kgZGV2aWNlCj4+ICsgKiBAb2ZmOiBvZmZz
ZXQgb2YgdGhlIGNhcGFiaWxpdHkKPj4gKyAqIEBtaW5sZW46IG1pbmltYWwgbGVuZ3RoIG9mIHRo
ZSBjYXBhYmlsaXR5Cj4+ICsgKiBAYWxpZ246IGFsaWduIHJlcXVpcmVtZW50Cj4+ICsgKiBAc3Rh
cnQ6IHN0YXJ0IGZyb20gdGhlIGNhcGFiaWxpdHkKPj4gKyAqIEBzaXplOiBtYXAgc2l6ZQo+PiAr
ICogQGxlbjogdGhlIGxlbmd0aCB0aGF0IGlzIGFjdHVhbGx5IG1hcHBlZAo+PiArICoKPj4gKyAq
IFJldHVybnMgdGhlIGlvIGFkZHJlc3Mgb2YgZm9yIHRoZSBwYXJ0IG9mIHRoZSBjYXBhYmlsaXR5
Cj4+ICsgKi8KPj4gK3ZvaWQgX19pb21lbSAqdnBfbW9kZXJuX21hcF9jYXBhYmlsaXR5KHN0cnVj
dCB2aXJ0aW9fcGNpX21vZGVybl9kZXZpY2UgKm1kZXYsIGludCBvZmYsCj4+ICsJCQkJICAgICAg
IHNpemVfdCBtaW5sZW4sCj4+ICsJCQkJICAgICAgIHUzMiBhbGlnbiwKPj4gKwkJCQkgICAgICAg
dTMyIHN0YXJ0LCB1MzIgc2l6ZSwKPj4gKwkJCQkgICAgICAgc2l6ZV90ICpsZW4pCj4+ICt7Cj4+
ICsJc3RydWN0IHBjaV9kZXYgKmRldiA9IG1kZXYtPnBjaV9kZXY7Cj4+ICsJdTggYmFyOwo+PiAr
CXUzMiBvZmZzZXQsIGxlbmd0aDsKPj4gKwl2b2lkIF9faW9tZW0gKnA7Cj4+ICsKPj4gKwlwY2lf
cmVhZF9jb25maWdfYnl0ZShkZXYsIG9mZiArIG9mZnNldG9mKHN0cnVjdCB2aXJ0aW9fcGNpX2Nh
cCwKPj4gKwkJCQkJCSBiYXIpLAo+PiArCQkJICAgICAmYmFyKTsKPj4gKwlwY2lfcmVhZF9jb25m
aWdfZHdvcmQoZGV2LCBvZmYgKyBvZmZzZXRvZihzdHJ1Y3QgdmlydGlvX3BjaV9jYXAsIG9mZnNl
dCksCj4+ICsJCQkgICAgICZvZmZzZXQpOwo+PiArCXBjaV9yZWFkX2NvbmZpZ19kd29yZChkZXYs
IG9mZiArIG9mZnNldG9mKHN0cnVjdCB2aXJ0aW9fcGNpX2NhcCwgbGVuZ3RoKSwKPj4gKwkJCSAg
ICAgICZsZW5ndGgpOwo+PiArCj4+ICsJaWYgKGxlbmd0aCA8PSBzdGFydCkgewo+PiArCQlkZXZf
ZXJyKCZkZXYtPmRldiwKPj4gKwkJCSJ2aXJ0aW9fcGNpOiBiYWQgY2FwYWJpbGl0eSBsZW4gJXUg
KD4ldSBleHBlY3RlZClcbiIsCj4+ICsJCQlsZW5ndGgsIHN0YXJ0KTsKPj4gKwkJcmV0dXJuIE5V
TEw7Cj4+ICsJfQo+PiArCj4+ICsJaWYgKGxlbmd0aCAtIHN0YXJ0IDwgbWlubGVuKSB7Cj4+ICsJ
CWRldl9lcnIoJmRldi0+ZGV2LAo+PiArCQkJInZpcnRpb19wY2k6IGJhZCBjYXBhYmlsaXR5IGxl
biAldSAoPj0lenUgZXhwZWN0ZWQpXG4iLAo+PiArCQkJbGVuZ3RoLCBtaW5sZW4pOwo+PiArCQly
ZXR1cm4gTlVMTDsKPj4gKwl9Cj4+ICsKPj4gKwlsZW5ndGggLT0gc3RhcnQ7Cj4+ICsKPj4gKwlp
ZiAoc3RhcnQgKyBvZmZzZXQgPCBvZmZzZXQpIHsKPj4gKwkJZGV2X2VycigmZGV2LT5kZXYsCj4+
ICsJCQkidmlydGlvX3BjaTogbWFwIHdyYXAtYXJvdW5kICV1KyV1XG4iLAo+PiArCQkJc3RhcnQs
IG9mZnNldCk7Cj4+ICsJCXJldHVybiBOVUxMOwo+PiArCX0KPj4gKwo+PiArCW9mZnNldCArPSBz
dGFydDsKPj4gKwo+PiArCWlmIChvZmZzZXQgJiAoYWxpZ24gLSAxKSkgewo+PiArCQlkZXZfZXJy
KCZkZXYtPmRldiwKPj4gKwkJCSJ2aXJ0aW9fcGNpOiBvZmZzZXQgJXUgbm90IGFsaWduZWQgdG8g
JXVcbiIsCj4+ICsJCQlvZmZzZXQsIGFsaWduKTsKPj4gKwkJcmV0dXJuIE5VTEw7Cj4+ICsJfQo+
PiArCj4+ICsJaWYgKGxlbmd0aCA+IHNpemUpCj4+ICsJCWxlbmd0aCA9IHNpemU7Cj4+ICsKPj4g
KwlpZiAobGVuKQo+PiArCQkqbGVuID0gbGVuZ3RoOwo+PiArCj4+ICsJaWYgKG1pbmxlbiArIG9m
ZnNldCA8IG1pbmxlbiB8fAo+PiArCSAgICBtaW5sZW4gKyBvZmZzZXQgPiBwY2lfcmVzb3VyY2Vf
bGVuKGRldiwgYmFyKSkgewo+PiArCQlkZXZfZXJyKCZkZXYtPmRldiwKPj4gKwkJCSJ2aXJ0aW9f
cGNpOiBtYXAgdmlydGlvICV6dUAldSAiCj4+ICsJCQkib3V0IG9mIHJhbmdlIG9uIGJhciAlaSBs
ZW5ndGggJWx1XG4iLAo+PiArCQkJbWlubGVuLCBvZmZzZXQsCj4+ICsJCQliYXIsICh1bnNpZ25l
ZCBsb25nKXBjaV9yZXNvdXJjZV9sZW4oZGV2LCBiYXIpKTsKPj4gKwkJcmV0dXJuIE5VTEw7Cj4+
ICsJfQo+PiArCj4+ICsJcCA9IHBjaV9pb21hcF9yYW5nZShkZXYsIGJhciwgb2Zmc2V0LCBsZW5n
dGgpOwo+PiArCWlmICghcCkKPj4gKwkJZGV2X2VycigmZGV2LT5kZXYsCj4+ICsJCQkidmlydGlv
X3BjaTogdW5hYmxlIHRvIG1hcCB2aXJ0aW8gJXVAJXUgb24gYmFyICVpXG4iLAo+PiArCQkJbGVu
Z3RoLCBvZmZzZXQsIGJhcik7Cj4+ICsJcmV0dXJuIHA7Cj4+ICt9Cj4+ICtFWFBPUlRfU1lNQk9M
X0dQTCh2cF9tb2Rlcm5fbWFwX2NhcGFiaWxpdHkpOwo+PiArCj4+ICsvKioKPj4gKyAqIHZpcnRp
b19wY2lfZmluZF9jYXBhYmlsaXR5IC0gd2FsayBjYXBhYmlsaXRpZXMgdG8gZmluZCBkZXZpY2Ug
aW5mby4KPj4gKyAqIEBkZXY6IHRoZSBwY2kgZGV2aWNlCj4+ICsgKiBAY2ZnX3R5cGU6IHRoZSBW
SVJUSU9fUENJX0NBUF8qIHZhbHVlIHdlIHNlZWsKPj4gKyAqIEBpb3Jlc291cmNlX3R5cGVzOiBJ
T1JFU09VUkNFX01FTSBhbmQvb3IgSU9SRVNPVVJDRV9JTy4KPj4gKyAqIEBiYXJzOiB0aGUgYml0
bWFzayBvZiBCQVJzCj4+ICsgKgo+PiArICogUmV0dXJucyBvZmZzZXQgb2YgdGhlIGNhcGFiaWxp
dHksIG9yIDAuCj4+ICsgKi8KPj4gK3N0YXRpYyBpbmxpbmUgaW50IHZpcnRpb19wY2lfZmluZF9j
YXBhYmlsaXR5KHN0cnVjdCBwY2lfZGV2ICpkZXYsIHU4IGNmZ190eXBlLAo+PiArCQkJCQkgICAg
IHUzMiBpb3Jlc291cmNlX3R5cGVzLCBpbnQgKmJhcnMpCj4+ICt7Cj4+ICsJaW50IHBvczsKPj4g
Kwo+PiArCWZvciAocG9zID0gcGNpX2ZpbmRfY2FwYWJpbGl0eShkZXYsIFBDSV9DQVBfSURfVk5E
Uik7Cj4+ICsJICAgICBwb3MgPiAwOwo+PiArCSAgICAgcG9zID0gcGNpX2ZpbmRfbmV4dF9jYXBh
YmlsaXR5KGRldiwgcG9zLCBQQ0lfQ0FQX0lEX1ZORFIpKSB7Cj4+ICsJCXU4IHR5cGUsIGJhcjsK
Pj4gKwkJcGNpX3JlYWRfY29uZmlnX2J5dGUoZGV2LCBwb3MgKyBvZmZzZXRvZihzdHJ1Y3Qgdmly
dGlvX3BjaV9jYXAsCj4+ICsJCQkJCQkJIGNmZ190eXBlKSwKPj4gKwkJCQkgICAgICZ0eXBlKTsK
Pj4gKwkJcGNpX3JlYWRfY29uZmlnX2J5dGUoZGV2LCBwb3MgKyBvZmZzZXRvZihzdHJ1Y3Qgdmly
dGlvX3BjaV9jYXAsCj4+ICsJCQkJCQkJIGJhciksCj4+ICsJCQkJICAgICAmYmFyKTsKPj4gKwo+
PiArCQkvKiBJZ25vcmUgc3RydWN0dXJlcyB3aXRoIHJlc2VydmVkIEJBUiB2YWx1ZXMgKi8KPj4g
KwkJaWYgKGJhciA+IDB4NSkKPj4gKwkJCWNvbnRpbnVlOwo+PiArCj4+ICsJCWlmICh0eXBlID09
IGNmZ190eXBlKSB7Cj4+ICsJCQlpZiAocGNpX3Jlc291cmNlX2xlbihkZXYsIGJhcikgJiYKPj4g
KwkJCSAgICBwY2lfcmVzb3VyY2VfZmxhZ3MoZGV2LCBiYXIpICYgaW9yZXNvdXJjZV90eXBlcykg
ewo+PiArCQkJCSpiYXJzIHw9ICgxIDw8IGJhcik7Cj4+ICsJCQkJcmV0dXJuIHBvczsKPj4gKwkJ
CX0KPj4gKwkJfQo+PiArCX0KPj4gKwlyZXR1cm4gMDsKPj4gK30KPj4gKwo+PiArLyogVGhpcyBp
cyBwYXJ0IG9mIHRoZSBBQkkuICBEb24ndCBzY3JldyB3aXRoIGl0LiAqLwo+PiArc3RhdGljIGlu
bGluZSB2b2lkIGNoZWNrX29mZnNldHModm9pZCkKPj4gK3sKPj4gKwkvKiBOb3RlOiBkaXNrIHNw
YWNlIHdhcyBoYXJtZWQgaW4gY29tcGlsYXRpb24gb2YgdGhpcyBmdW5jdGlvbi4gKi8KPj4gKwlC
VUlMRF9CVUdfT04oVklSVElPX1BDSV9DQVBfVk5EUiAhPQo+PiArCQkgICAgIG9mZnNldG9mKHN0
cnVjdCB2aXJ0aW9fcGNpX2NhcCwgY2FwX3ZuZHIpKTsKPj4gKwlCVUlMRF9CVUdfT04oVklSVElP
X1BDSV9DQVBfTkVYVCAhPQo+PiArCQkgICAgIG9mZnNldG9mKHN0cnVjdCB2aXJ0aW9fcGNpX2Nh
cCwgY2FwX25leHQpKTsKPj4gKwlCVUlMRF9CVUdfT04oVklSVElPX1BDSV9DQVBfTEVOICE9Cj4+
ICsJCSAgICAgb2Zmc2V0b2Yoc3RydWN0IHZpcnRpb19wY2lfY2FwLCBjYXBfbGVuKSk7Cj4+ICsJ
QlVJTERfQlVHX09OKFZJUlRJT19QQ0lfQ0FQX0NGR19UWVBFICE9Cj4+ICsJCSAgICAgb2Zmc2V0
b2Yoc3RydWN0IHZpcnRpb19wY2lfY2FwLCBjZmdfdHlwZSkpOwo+PiArCUJVSUxEX0JVR19PTihW
SVJUSU9fUENJX0NBUF9CQVIgIT0KPj4gKwkJICAgICBvZmZzZXRvZihzdHJ1Y3QgdmlydGlvX3Bj
aV9jYXAsIGJhcikpOwo+PiArCUJVSUxEX0JVR19PTihWSVJUSU9fUENJX0NBUF9PRkZTRVQgIT0K
Pj4gKwkJICAgICBvZmZzZXRvZihzdHJ1Y3QgdmlydGlvX3BjaV9jYXAsIG9mZnNldCkpOwo+PiAr
CUJVSUxEX0JVR19PTihWSVJUSU9fUENJX0NBUF9MRU5HVEggIT0KPj4gKwkJICAgICBvZmZzZXRv
ZihzdHJ1Y3QgdmlydGlvX3BjaV9jYXAsIGxlbmd0aCkpOwo+PiArCUJVSUxEX0JVR19PTihWSVJU
SU9fUENJX05PVElGWV9DQVBfTVVMVCAhPQo+PiArCQkgICAgIG9mZnNldG9mKHN0cnVjdCB2aXJ0
aW9fcGNpX25vdGlmeV9jYXAsCj4+ICsJCQkgICAgICBub3RpZnlfb2ZmX211bHRpcGxpZXIpKTsK
Pj4gKwlCVUlMRF9CVUdfT04oVklSVElPX1BDSV9DT01NT05fREZTRUxFQ1QgIT0KPj4gKwkJICAg
ICBvZmZzZXRvZihzdHJ1Y3QgdmlydGlvX3BjaV9jb21tb25fY2ZnLAo+PiArCQkJICAgICAgZGV2
aWNlX2ZlYXR1cmVfc2VsZWN0KSk7Cj4+ICsJQlVJTERfQlVHX09OKFZJUlRJT19QQ0lfQ09NTU9O
X0RGICE9Cj4+ICsJCSAgICAgb2Zmc2V0b2Yoc3RydWN0IHZpcnRpb19wY2lfY29tbW9uX2NmZywg
ZGV2aWNlX2ZlYXR1cmUpKTsKPj4gKwlCVUlMRF9CVUdfT04oVklSVElPX1BDSV9DT01NT05fR0ZT
RUxFQ1QgIT0KPj4gKwkJICAgICBvZmZzZXRvZihzdHJ1Y3QgdmlydGlvX3BjaV9jb21tb25fY2Zn
LAo+PiArCQkJICAgICAgZ3Vlc3RfZmVhdHVyZV9zZWxlY3QpKTsKPj4gKwlCVUlMRF9CVUdfT04o
VklSVElPX1BDSV9DT01NT05fR0YgIT0KPj4gKwkJICAgICBvZmZzZXRvZihzdHJ1Y3QgdmlydGlv
X3BjaV9jb21tb25fY2ZnLCBndWVzdF9mZWF0dXJlKSk7Cj4+ICsJQlVJTERfQlVHX09OKFZJUlRJ
T19QQ0lfQ09NTU9OX01TSVggIT0KPj4gKwkJICAgICBvZmZzZXRvZihzdHJ1Y3QgdmlydGlvX3Bj
aV9jb21tb25fY2ZnLCBtc2l4X2NvbmZpZykpOwo+PiArCUJVSUxEX0JVR19PTihWSVJUSU9fUENJ
X0NPTU1PTl9OVU1RICE9Cj4+ICsJCSAgICAgb2Zmc2V0b2Yoc3RydWN0IHZpcnRpb19wY2lfY29t
bW9uX2NmZywgbnVtX3F1ZXVlcykpOwo+PiArCUJVSUxEX0JVR19PTihWSVJUSU9fUENJX0NPTU1P
Tl9TVEFUVVMgIT0KPj4gKwkJICAgICBvZmZzZXRvZihzdHJ1Y3QgdmlydGlvX3BjaV9jb21tb25f
Y2ZnLCBkZXZpY2Vfc3RhdHVzKSk7Cj4+ICsJQlVJTERfQlVHX09OKFZJUlRJT19QQ0lfQ09NTU9O
X0NGR0dFTkVSQVRJT04gIT0KPj4gKwkJICAgICBvZmZzZXRvZihzdHJ1Y3QgdmlydGlvX3BjaV9j
b21tb25fY2ZnLCBjb25maWdfZ2VuZXJhdGlvbikpOwo+PiArCUJVSUxEX0JVR19PTihWSVJUSU9f
UENJX0NPTU1PTl9RX1NFTEVDVCAhPQo+PiArCQkgICAgIG9mZnNldG9mKHN0cnVjdCB2aXJ0aW9f
cGNpX2NvbW1vbl9jZmcsIHF1ZXVlX3NlbGVjdCkpOwo+PiArCUJVSUxEX0JVR19PTihWSVJUSU9f
UENJX0NPTU1PTl9RX1NJWkUgIT0KPj4gKwkJICAgICBvZmZzZXRvZihzdHJ1Y3QgdmlydGlvX3Bj
aV9jb21tb25fY2ZnLCBxdWV1ZV9zaXplKSk7Cj4+ICsJQlVJTERfQlVHX09OKFZJUlRJT19QQ0lf
Q09NTU9OX1FfTVNJWCAhPQo+PiArCQkgICAgIG9mZnNldG9mKHN0cnVjdCB2aXJ0aW9fcGNpX2Nv
bW1vbl9jZmcsIHF1ZXVlX21zaXhfdmVjdG9yKSk7Cj4+ICsJQlVJTERfQlVHX09OKFZJUlRJT19Q
Q0lfQ09NTU9OX1FfRU5BQkxFICE9Cj4+ICsJCSAgICAgb2Zmc2V0b2Yoc3RydWN0IHZpcnRpb19w
Y2lfY29tbW9uX2NmZywgcXVldWVfZW5hYmxlKSk7Cj4+ICsJQlVJTERfQlVHX09OKFZJUlRJT19Q
Q0lfQ09NTU9OX1FfTk9GRiAhPQo+PiArCQkgICAgIG9mZnNldG9mKHN0cnVjdCB2aXJ0aW9fcGNp
X2NvbW1vbl9jZmcsIHF1ZXVlX25vdGlmeV9vZmYpKTsKPj4gKwlCVUlMRF9CVUdfT04oVklSVElP
X1BDSV9DT01NT05fUV9ERVNDTE8gIT0KPj4gKwkJICAgICBvZmZzZXRvZihzdHJ1Y3QgdmlydGlv
X3BjaV9jb21tb25fY2ZnLCBxdWV1ZV9kZXNjX2xvKSk7Cj4+ICsJQlVJTERfQlVHX09OKFZJUlRJ
T19QQ0lfQ09NTU9OX1FfREVTQ0hJICE9Cj4+ICsJCSAgICAgb2Zmc2V0b2Yoc3RydWN0IHZpcnRp
b19wY2lfY29tbW9uX2NmZywgcXVldWVfZGVzY19oaSkpOwo+PiArCUJVSUxEX0JVR19PTihWSVJU
SU9fUENJX0NPTU1PTl9RX0FWQUlMTE8gIT0KPj4gKwkJICAgICBvZmZzZXRvZihzdHJ1Y3Qgdmly
dGlvX3BjaV9jb21tb25fY2ZnLCBxdWV1ZV9hdmFpbF9sbykpOwo+PiArCUJVSUxEX0JVR19PTihW
SVJUSU9fUENJX0NPTU1PTl9RX0FWQUlMSEkgIT0KPj4gKwkJICAgICBvZmZzZXRvZihzdHJ1Y3Qg
dmlydGlvX3BjaV9jb21tb25fY2ZnLCBxdWV1ZV9hdmFpbF9oaSkpOwo+PiArCUJVSUxEX0JVR19P
TihWSVJUSU9fUENJX0NPTU1PTl9RX1VTRURMTyAhPQo+PiArCQkgICAgIG9mZnNldG9mKHN0cnVj
dCB2aXJ0aW9fcGNpX2NvbW1vbl9jZmcsIHF1ZXVlX3VzZWRfbG8pKTsKPj4gKwlCVUlMRF9CVUdf
T04oVklSVElPX1BDSV9DT01NT05fUV9VU0VESEkgIT0KPj4gKwkJICAgICBvZmZzZXRvZihzdHJ1
Y3QgdmlydGlvX3BjaV9jb21tb25fY2ZnLCBxdWV1ZV91c2VkX2hpKSk7Cj4+ICt9Cj4+ICsKPj4g
Ky8qCj4+ICsgKiB2cF9tb2Rlcm5fcHJvYmU6IHByb2JlIHRoZSBtb2Rlcm4gdmlydGlvIHBjaSBk
ZXZpY2UsIG5vdGUgdGhhdCB0aGUKPj4gKyAqIGNhbGxlciBpcyByZXF1aXJlZCB0byBlbmFibGUg
UENJIGRldmljZSBiZWZvcmUgY2FsbGluZyB0aGlzIGZ1bmN0aW9uLgo+PiArICogQG1kZXY6IHRo
ZSBtb2Rlcm4gdmlydGlvLXBjaSBkZXZpY2UKPj4gKyAqCj4+ICsgKiBSZXR1cm4gMCBvbiBzdWNj
ZWVkIG90aGVyd2lzZSBmYWlsCj4+ICsgKi8KPj4gK2ludCB2cF9tb2Rlcm5fcHJvYmUoc3RydWN0
IHZpcnRpb19wY2lfbW9kZXJuX2RldmljZSAqbWRldikKPj4gK3sKPj4gKwlzdHJ1Y3QgcGNpX2Rl
diAqcGNpX2RldiA9IG1kZXYtPnBjaV9kZXY7Cj4+ICsJaW50IGVyciwgY29tbW9uLCBpc3IsIG5v
dGlmeSwgZGV2aWNlOwo+PiArCXUzMiBub3RpZnlfbGVuZ3RoOwo+PiArCXUzMiBub3RpZnlfb2Zm
c2V0Owo+PiArCj4+ICsJY2hlY2tfb2Zmc2V0cygpOwo+PiArCj4+ICsJbWRldi0+cGNpX2RldiA9
IHBjaV9kZXY7Cj4+ICsKPj4gKwkvKiBXZSBvbmx5IG93biBkZXZpY2VzID49IDB4MTAwMCBhbmQg
PD0gMHgxMDdmOiBsZWF2ZSB0aGUgcmVzdC4gKi8KPj4gKwlpZiAocGNpX2Rldi0+ZGV2aWNlIDwg
MHgxMDAwIHx8IHBjaV9kZXYtPmRldmljZSA+IDB4MTA3ZikKPj4gKwkJcmV0dXJuIC1FTk9ERVY7
Cj4+ICsKPj4gKwlpZiAocGNpX2Rldi0+ZGV2aWNlIDwgMHgxMDQwKSB7Cj4+ICsJCS8qIFRyYW5z
aXRpb25hbCBkZXZpY2VzOiB1c2UgdGhlIFBDSSBzdWJzeXN0ZW0gZGV2aWNlIGlkIGFzCj4+ICsJ
CSAqIHZpcnRpbyBkZXZpY2UgaWQsIHNhbWUgYXMgbGVnYWN5IGRyaXZlciBhbHdheXMgZGlkLgo+
PiArCQkgKi8KPj4gKwkJbWRldi0+aWQuZGV2aWNlID0gcGNpX2Rldi0+c3Vic3lzdGVtX2Rldmlj
ZTsKPj4gKwl9IGVsc2Ugewo+PiArCQkvKiBNb2Rlcm4gZGV2aWNlczogc2ltcGx5IHVzZSBQQ0kg
ZGV2aWNlIGlkLCBidXQgc3RhcnQgZnJvbSAweDEwNDAuICovCj4+ICsJCW1kZXYtPmlkLmRldmlj
ZSA9IHBjaV9kZXYtPmRldmljZSAtIDB4MTA0MDsKPj4gKwl9Cj4+ICsJbWRldi0+aWQudmVuZG9y
ID0gcGNpX2Rldi0+c3Vic3lzdGVtX3ZlbmRvcjsKPj4gKwo+PiArCS8qIGNoZWNrIGZvciBhIGNv
bW1vbiBjb25maWc6IGlmIG5vdCwgdXNlIGxlZ2FjeSBtb2RlIChiYXIgMCkuICovCj4+ICsJY29t
bW9uID0gdmlydGlvX3BjaV9maW5kX2NhcGFiaWxpdHkocGNpX2RldiwgVklSVElPX1BDSV9DQVBf
Q09NTU9OX0NGRywKPj4gKwkJCQkJICAgIElPUkVTT1VSQ0VfSU8gfCBJT1JFU09VUkNFX01FTSwK
Pj4gKwkJCQkJICAgICZtZGV2LT5tb2Rlcm5fYmFycyk7Cj4+ICsJaWYgKCFjb21tb24pIHsKPj4g
KwkJZGV2X2luZm8oJnBjaV9kZXYtPmRldiwKPj4gKwkJCSAidmlydGlvX3BjaTogbGVhdmluZyBm
b3IgbGVnYWN5IGRyaXZlclxuIik7Cj4+ICsJCXJldHVybiAtRU5PREVWOwo+PiArCX0KPj4gKwo+
PiArCS8qIElmIGNvbW1vbiBpcyB0aGVyZSwgdGhlc2Ugc2hvdWxkIGJlIHRvby4uLiAqLwo+PiAr
CWlzciA9IHZpcnRpb19wY2lfZmluZF9jYXBhYmlsaXR5KHBjaV9kZXYsIFZJUlRJT19QQ0lfQ0FQ
X0lTUl9DRkcsCj4+ICsJCQkJCSBJT1JFU09VUkNFX0lPIHwgSU9SRVNPVVJDRV9NRU0sCj4+ICsJ
CQkJCSAmbWRldi0+bW9kZXJuX2JhcnMpOwo+PiArCW5vdGlmeSA9IHZpcnRpb19wY2lfZmluZF9j
YXBhYmlsaXR5KHBjaV9kZXYsIFZJUlRJT19QQ0lfQ0FQX05PVElGWV9DRkcsCj4+ICsJCQkJCSAg
ICBJT1JFU09VUkNFX0lPIHwgSU9SRVNPVVJDRV9NRU0sCj4+ICsJCQkJCSAgICAmbWRldi0+bW9k
ZXJuX2JhcnMpOwo+PiArCWlmICghaXNyIHx8ICFub3RpZnkpIHsKPj4gKwkJZGV2X2VycigmcGNp
X2Rldi0+ZGV2LAo+PiArCQkJInZpcnRpb19wY2k6IG1pc3NpbmcgY2FwYWJpbGl0aWVzICVpLyVp
LyVpXG4iLAo+PiArCQkJY29tbW9uLCBpc3IsIG5vdGlmeSk7Cj4+ICsJCXJldHVybiAtRUlOVkFM
Owo+PiArCX0KPj4gKwo+PiArCWVyciA9IGRtYV9zZXRfbWFza19hbmRfY29oZXJlbnQoJnBjaV9k
ZXYtPmRldiwgRE1BX0JJVF9NQVNLKDY0KSk7Cj4+ICsJaWYgKGVycikKPj4gKwkJZXJyID0gZG1h
X3NldF9tYXNrX2FuZF9jb2hlcmVudCgmcGNpX2Rldi0+ZGV2LAo+PiArCQkJCQkJRE1BX0JJVF9N
QVNLKDMyKSk7Cj4+ICsJaWYgKGVycikKPj4gKwkJZGV2X3dhcm4oJnBjaV9kZXYtPmRldiwgIkZh
aWxlZCB0byBlbmFibGUgNjQtYml0IG9yIDMyLWJpdCBETUEuICBUcnlpbmcgdG8gY29udGludWUs
IGJ1dCB0aGlzIG1pZ2h0IG5vdCB3b3JrLlxuIik7Cj4+ICsKPj4gKwkvKiBEZXZpY2UgY2FwYWJp
bGl0eSBpcyBvbmx5IG1hbmRhdG9yeSBmb3IgZGV2aWNlcyB0aGF0IGhhdmUKPj4gKwkgKiBkZXZp
Y2Utc3BlY2lmaWMgY29uZmlndXJhdGlvbi4KPj4gKwkgKi8KPj4gKwlkZXZpY2UgPSB2aXJ0aW9f
cGNpX2ZpbmRfY2FwYWJpbGl0eShwY2lfZGV2LCBWSVJUSU9fUENJX0NBUF9ERVZJQ0VfQ0ZHLAo+
PiArCQkJCQkgICAgSU9SRVNPVVJDRV9JTyB8IElPUkVTT1VSQ0VfTUVNLAo+PiArCQkJCQkgICAg
Jm1kZXYtPm1vZGVybl9iYXJzKTsKPj4gKwo+PiArCWVyciA9IHBjaV9yZXF1ZXN0X3NlbGVjdGVk
X3JlZ2lvbnMocGNpX2RldiwgbWRldi0+bW9kZXJuX2JhcnMsCj4+ICsJCQkJCSAgICJ2aXJ0aW8t
cGNpLW1vZGVybiIpOwo+PiArCWlmIChlcnIpCj4+ICsJCXJldHVybiBlcnI7Cj4+ICsKPj4gKwll
cnIgPSAtRUlOVkFMOwo+PiArCW1kZXYtPmNvbW1vbiA9IHZwX21vZGVybl9tYXBfY2FwYWJpbGl0
eShtZGV2LCBjb21tb24sCj4+ICsJCQkJICAgICAgc2l6ZW9mKHN0cnVjdCB2aXJ0aW9fcGNpX2Nv
bW1vbl9jZmcpLCA0LAo+PiArCQkJCSAgICAgIDAsIHNpemVvZihzdHJ1Y3QgdmlydGlvX3BjaV9j
b21tb25fY2ZnKSwKPj4gKwkJCQkgICAgICBOVUxMKTsKPj4gKwlpZiAoIW1kZXYtPmNvbW1vbikK
Pj4gKwkJZ290byBlcnJfbWFwX2NvbW1vbjsKPj4gKwltZGV2LT5pc3IgPSB2cF9tb2Rlcm5fbWFw
X2NhcGFiaWxpdHkobWRldiwgaXNyLCBzaXplb2YodTgpLCAxLAo+PiArCQkJCQkgICAgIDAsIDEs
Cj4+ICsJCQkJCSAgICAgTlVMTCk7Cj4+ICsJaWYgKCFtZGV2LT5pc3IpCj4+ICsJCWdvdG8gZXJy
X21hcF9pc3I7Cj4+ICsKPj4gKwkvKiBSZWFkIG5vdGlmeV9vZmZfbXVsdGlwbGllciBmcm9tIGNv
bmZpZyBzcGFjZS4gKi8KPj4gKwlwY2lfcmVhZF9jb25maWdfZHdvcmQocGNpX2RldiwKPj4gKwkJ
CSAgICAgIG5vdGlmeSArIG9mZnNldG9mKHN0cnVjdCB2aXJ0aW9fcGNpX25vdGlmeV9jYXAsCj4+
ICsJCQkJCQlub3RpZnlfb2ZmX211bHRpcGxpZXIpLAo+PiArCQkJICAgICAgJm1kZXYtPm5vdGlm
eV9vZmZzZXRfbXVsdGlwbGllcik7Cj4+ICsJLyogUmVhZCBub3RpZnkgbGVuZ3RoIGFuZCBvZmZz
ZXQgZnJvbSBjb25maWcgc3BhY2UuICovCj4+ICsJcGNpX3JlYWRfY29uZmlnX2R3b3JkKHBjaV9k
ZXYsCj4+ICsJCQkgICAgICBub3RpZnkgKyBvZmZzZXRvZihzdHJ1Y3QgdmlydGlvX3BjaV9ub3Rp
ZnlfY2FwLAo+PiArCQkJCQkJY2FwLmxlbmd0aCksCj4+ICsJCQkgICAgICAmbm90aWZ5X2xlbmd0
aCk7Cj4+ICsKPj4gKwlwY2lfcmVhZF9jb25maWdfZHdvcmQocGNpX2RldiwKPj4gKwkJCSAgICAg
IG5vdGlmeSArIG9mZnNldG9mKHN0cnVjdCB2aXJ0aW9fcGNpX25vdGlmeV9jYXAsCj4+ICsJCQkJ
CQljYXAub2Zmc2V0KSwKPj4gKwkJCSAgICAgICZub3RpZnlfb2Zmc2V0KTsKPj4gKwo+PiArCS8q
IFdlIGRvbid0IGtub3cgaG93IG1hbnkgVlFzIHdlJ2xsIG1hcCwgYWhlYWQgb2YgdGhlIHRpbWUu
Cj4+ICsJICogSWYgbm90aWZ5IGxlbmd0aCBpcyBzbWFsbCwgbWFwIGl0IGFsbCBub3cuCj4+ICsJ
ICogT3RoZXJ3aXNlLCBtYXAgZWFjaCBWUSBpbmRpdmlkdWFsbHkgbGF0ZXIuCj4+ICsJICovCj4+
ICsJaWYgKCh1NjQpbm90aWZ5X2xlbmd0aCArIChub3RpZnlfb2Zmc2V0ICUgUEFHRV9TSVpFKSA8
PSBQQUdFX1NJWkUpIHsKPj4gKwkJbWRldi0+bm90aWZ5X2Jhc2UgPSB2cF9tb2Rlcm5fbWFwX2Nh
cGFiaWxpdHkobWRldiwgbm90aWZ5LAo+PiArCQkJCQkJCSAgICAgMiwgMiwKPj4gKwkJCQkJCQkg
ICAgIDAsIG5vdGlmeV9sZW5ndGgsCj4+ICsJCQkJCQkJICAgICAmbWRldi0+bm90aWZ5X2xlbik7
Cj4+ICsJCWlmICghbWRldi0+bm90aWZ5X2Jhc2UpCj4+ICsJCQlnb3RvIGVycl9tYXBfbm90aWZ5
Owo+PiArCX0gZWxzZSB7Cj4+ICsJCW1kZXYtPm5vdGlmeV9tYXBfY2FwID0gbm90aWZ5Owo+PiAr
CX0KPj4gKwo+PiArCS8qIEFnYWluLCB3ZSBkb24ndCBrbm93IGhvdyBtdWNoIHdlIHNob3VsZCBt
YXAsIGJ1dCBQQUdFX1NJWkUKPj4gKwkgKiBpcyBtb3JlIHRoYW4gZW5vdWdoIGZvciBhbGwgZXhp
c3RpbmcgZGV2aWNlcy4KPj4gKwkgKi8KPj4gKwlpZiAoZGV2aWNlKSB7Cj4+ICsJCW1kZXYtPmRl
dmljZSA9IHZwX21vZGVybl9tYXBfY2FwYWJpbGl0eShtZGV2LCBkZXZpY2UsIDAsIDQsCj4+ICsJ
CQkJCQkJMCwgUEFHRV9TSVpFLAo+PiArCQkJCQkJCSZtZGV2LT5kZXZpY2VfbGVuKTsKPj4gKwkJ
aWYgKCFtZGV2LT5kZXZpY2UpCj4+ICsJCQlnb3RvIGVycl9tYXBfZGV2aWNlOwo+PiArCX0KPj4g
Kwo+PiArCXJldHVybiAwOwo+PiArCj4+ICtlcnJfbWFwX2RldmljZToKPj4gKwlpZiAobWRldi0+
bm90aWZ5X2Jhc2UpCj4+ICsJCXBjaV9pb3VubWFwKHBjaV9kZXYsIG1kZXYtPm5vdGlmeV9iYXNl
KTsKPj4gK2Vycl9tYXBfbm90aWZ5Ogo+PiArCXBjaV9pb3VubWFwKHBjaV9kZXYsIG1kZXYtPmlz
cik7Cj4+ICtlcnJfbWFwX2lzcjoKPj4gKwlwY2lfaW91bm1hcChwY2lfZGV2LCBtZGV2LT5jb21t
b24pOwo+PiArZXJyX21hcF9jb21tb246Cj4+ICsJcmV0dXJuIGVycjsKPj4gK30KPj4gK0VYUE9S
VF9TWU1CT0xfR1BMKHZwX21vZGVybl9wcm9iZSk7Cj4+ICsKPj4gKy8qCj4+ICsgKiB2cF9tb2Rl
cm5fcHJvYmU6IHJlbW92ZSBhbmQgY2xlYW51cCB0aGUgbW9kZXJuIHZpcnRpbyBwY2kgZGV2aWNl
Cj4+ICsgKiBAbWRldjogdGhlIG1vZGVybiB2aXJ0aW8tcGNpIGRldmljZQo+PiArICovCj4+ICt2
b2lkIHZwX21vZGVybl9yZW1vdmUoc3RydWN0IHZpcnRpb19wY2lfbW9kZXJuX2RldmljZSAqbWRl
dikKPj4gK3sKPj4gKwlzdHJ1Y3QgcGNpX2RldiAqcGNpX2RldiA9IG1kZXYtPnBjaV9kZXY7Cj4+
ICsKPj4gKwlpZiAobWRldi0+ZGV2aWNlKQo+PiArCQlwY2lfaW91bm1hcChwY2lfZGV2LCBtZGV2
LT5kZXZpY2UpOwo+PiArCWlmIChtZGV2LT5ub3RpZnlfYmFzZSkKPj4gKwkJcGNpX2lvdW5tYXAo
cGNpX2RldiwgbWRldi0+bm90aWZ5X2Jhc2UpOwo+PiArCXBjaV9pb3VubWFwKHBjaV9kZXYsIG1k
ZXYtPmlzcik7Cj4+ICsJcGNpX2lvdW5tYXAocGNpX2RldiwgbWRldi0+Y29tbW9uKTsKPj4gKwlw
Y2lfcmVsZWFzZV9zZWxlY3RlZF9yZWdpb25zKHBjaV9kZXYsIG1kZXYtPm1vZGVybl9iYXJzKTsK
Pj4gK30KPj4gK0VYUE9SVF9TWU1CT0xfR1BMKHZwX21vZGVybl9yZW1vdmUpOwo+PiArCj4+ICsv
Kgo+PiArICogdnBfbW9kZXJuX2dldF9mZWF0dXJlcyAtIGdldCBmZWF0dXJlcyBmcm9tIGRldmlj
ZQo+PiArICogQG1kZXY6IHRoZSBtb2Rlcm4gdmlydGlvLXBjaSBkZXZpY2UKPj4gKyAqCj4+ICsg
KiBSZXR1cm5zIHRoZSBmZWF0dXJlcyByZWFkIGZyb20gdGhlIGRldmljZQo+PiArICovCj4+ICt1
NjQgdnBfbW9kZXJuX2dldF9mZWF0dXJlcyhzdHJ1Y3QgdmlydGlvX3BjaV9tb2Rlcm5fZGV2aWNl
ICptZGV2KQo+PiArewo+PiArCXN0cnVjdCB2aXJ0aW9fcGNpX2NvbW1vbl9jZmcgX19pb21lbSAq
Y2ZnID0gbWRldi0+Y29tbW9uOwo+PiArCj4+ICsJdTY0IGZlYXR1cmVzOwo+PiArCj4+ICsJdnBf
aW93cml0ZTMyKDAsICZjZmctPmRldmljZV9mZWF0dXJlX3NlbGVjdCk7Cj4+ICsJZmVhdHVyZXMg
PSB2cF9pb3JlYWQzMigmY2ZnLT5kZXZpY2VfZmVhdHVyZSk7Cj4+ICsJdnBfaW93cml0ZTMyKDEs
ICZjZmctPmRldmljZV9mZWF0dXJlX3NlbGVjdCk7Cj4+ICsJZmVhdHVyZXMgfD0gKCh1NjQpdnBf
aW9yZWFkMzIoJmNmZy0+ZGV2aWNlX2ZlYXR1cmUpIDw8IDMyKTsKPj4gKwo+PiArCXJldHVybiBm
ZWF0dXJlczsKPj4gK30KPj4gK0VYUE9SVF9TWU1CT0xfR1BMKHZwX21vZGVybl9nZXRfZmVhdHVy
ZXMpOwo+PiArCj4+ICsvKgo+PiArICogdnBfbW9kZXJuX3NldF9mZWF0dXJlcyAtIHNldCBmZWF0
dXJlcyB0byBkZXZpY2UKPj4gKyAqIEBtZGV2OiB0aGUgbW9kZXJuIHZpcnRpby1wY2kgZGV2aWNl
Cj4+ICsgKiBAZmVhdHVyZXM6IHRoZSBmZWF0dXJlcyBzZXQgdG8gZGV2aWNlCj4+ICsgKi8KPj4g
K3ZvaWQgdnBfbW9kZXJuX3NldF9mZWF0dXJlcyhzdHJ1Y3QgdmlydGlvX3BjaV9tb2Rlcm5fZGV2
aWNlICptZGV2LAo+PiArCQkJICAgIHU2NCBmZWF0dXJlcykKPj4gK3sKPj4gKwlzdHJ1Y3Qgdmly
dGlvX3BjaV9jb21tb25fY2ZnIF9faW9tZW0gKmNmZyA9IG1kZXYtPmNvbW1vbjsKPj4gKwo+PiAr
CXZwX2lvd3JpdGUzMigwLCAmY2ZnLT5ndWVzdF9mZWF0dXJlX3NlbGVjdCk7Cj4+ICsJdnBfaW93
cml0ZTMyKCh1MzIpZmVhdHVyZXMsICZjZmctPmd1ZXN0X2ZlYXR1cmUpOwo+PiArCXZwX2lvd3Jp
dGUzMigxLCAmY2ZnLT5ndWVzdF9mZWF0dXJlX3NlbGVjdCk7Cj4+ICsJdnBfaW93cml0ZTMyKGZl
YXR1cmVzID4+IDMyLCAmY2ZnLT5ndWVzdF9mZWF0dXJlKTsKPj4gK30KPj4gK0VYUE9SVF9TWU1C
T0xfR1BMKHZwX21vZGVybl9zZXRfZmVhdHVyZXMpOwo+PiArCj4+ICsvKgo+PiArICogdnBfbW9k
ZXJuX2dlbmVyYXRpb24gLSBnZXQgdGhlIGRldmljZSBnZW5yZWF0aW9uCj4+ICsgKiBAbWRldjog
dGhlIG1vZGVybiB2aXJ0aW8tcGNpIGRldmljZQo+PiArICoKPj4gKyAqIFJldHVybnMgdGhlIGdl
bnJlYXRpb24gcmVhZCBmcm9tIGRldmljZQo+PiArICovCj4+ICt1MzIgdnBfbW9kZXJuX2dlbmVy
YXRpb24oc3RydWN0IHZpcnRpb19wY2lfbW9kZXJuX2RldmljZSAqbWRldikKPj4gK3sKPj4gKwlz
dHJ1Y3QgdmlydGlvX3BjaV9jb21tb25fY2ZnIF9faW9tZW0gKmNmZyA9IG1kZXYtPmNvbW1vbjsK
Pj4gKwo+PiArCXJldHVybiB2cF9pb3JlYWQ4KCZjZmctPmNvbmZpZ19nZW5lcmF0aW9uKTsKPj4g
K30KPj4gK0VYUE9SVF9TWU1CT0xfR1BMKHZwX21vZGVybl9nZW5lcmF0aW9uKTsKPj4gKwo+PiAr
LyoKPj4gKyAqIHZwX21vZGVybl9nZXRfc3RhdHVzIC0gZ2V0IHRoZSBkZXZpY2Ugc3RhdHVzCj4+
ICsgKiBAbWRldjogdGhlIG1vZGVybiB2aXJ0aW8tcGNpIGRldmljZQo+PiArICoKPj4gKyAqIFJl
dHVybnMgdGhlIHN0YXR1cyByZWFkIGZyb20gZGV2aWNlCj4+ICsgKi8KPj4gK3U4IHZwX21vZGVy
bl9nZXRfc3RhdHVzKHN0cnVjdCB2aXJ0aW9fcGNpX21vZGVybl9kZXZpY2UgKm1kZXYpCj4+ICt7
Cj4+ICsJc3RydWN0IHZpcnRpb19wY2lfY29tbW9uX2NmZyBfX2lvbWVtICpjZmcgPSBtZGV2LT5j
b21tb247Cj4+ICsKPj4gKwlyZXR1cm4gdnBfaW9yZWFkOCgmY2ZnLT5kZXZpY2Vfc3RhdHVzKTsK
Pj4gK30KPj4gK0VYUE9SVF9TWU1CT0xfR1BMKHZwX21vZGVybl9nZXRfc3RhdHVzKTsKPj4gKwo+
PiArLyoKPj4gKyAqIHZwX21vZGVybl9zZXRfc3RhdHVzIC0gc2V0IHN0YXR1cyB0byBkZXZpY2UK
Pj4gKyAqIEBtZGV2OiB0aGUgbW9kZXJuIHZpcnRpby1wY2kgZGV2aWNlCj4+ICsgKiBAc3RhdHVz
OiB0aGUgc3RhdHVzIHNldCB0byBkZXZpY2UKPj4gKyAqLwo+PiArdm9pZCB2cF9tb2Rlcm5fc2V0
X3N0YXR1cyhzdHJ1Y3QgdmlydGlvX3BjaV9tb2Rlcm5fZGV2aWNlICptZGV2LAo+PiArCQkJCSB1
OCBzdGF0dXMpCj4+ICt7Cj4+ICsJc3RydWN0IHZpcnRpb19wY2lfY29tbW9uX2NmZyBfX2lvbWVt
ICpjZmcgPSBtZGV2LT5jb21tb247Cj4+ICsKPj4gKwl2cF9pb3dyaXRlOChzdGF0dXMsICZjZmct
PmRldmljZV9zdGF0dXMpOwo+PiArfQo+PiArRVhQT1JUX1NZTUJPTF9HUEwodnBfbW9kZXJuX3Nl
dF9zdGF0dXMpOwo+PiArCj4+ICsvKgo+PiArICogdnBfbW9kZXJuX3F1ZXVlX3ZlY3RvciAtIHNl
dCB0aGUgTVNJWCB2ZWN0b3IgZm9yIGEgc3BlY2lmaWMgdmlydHF1ZXVlCj4+ICsgKiBAbWRldjog
dGhlIG1vZGVybiB2aXJ0aW8tcGNpIGRldmljZQo+PiArICogQGluZGV4OiBxdWV1ZSBpbmRleAo+
PiArICogQHZlY3RvcjogdGhlIGNvbmZpZyB2ZWN0b3IKPj4gKyAqCj4+ICsgKiBSZXR1cm5zIHRo
ZSBjb25maWcgdmVjdG9yIHJlYWQgZnJvbSB0aGUgZGV2aWNlCj4+ICsgKi8KPj4gK3UxNiB2cF9t
b2Rlcm5fcXVldWVfdmVjdG9yKHN0cnVjdCB2aXJ0aW9fcGNpX21vZGVybl9kZXZpY2UgKm1kZXYs
Cj4+ICsJCQkgICB1MTYgaW5kZXgsIHUxNiB2ZWN0b3IpCj4+ICt7Cj4+ICsJc3RydWN0IHZpcnRp
b19wY2lfY29tbW9uX2NmZyBfX2lvbWVtICpjZmcgPSBtZGV2LT5jb21tb247Cj4+ICsKPj4gKwl2
cF9pb3dyaXRlMTYoaW5kZXgsICZjZmctPnF1ZXVlX3NlbGVjdCk7Cj4+ICsJdnBfaW93cml0ZTE2
KHZlY3RvciwgJmNmZy0+cXVldWVfbXNpeF92ZWN0b3IpOwo+PiArCS8qIEZsdXNoIHRoZSB3cml0
ZSBvdXQgdG8gZGV2aWNlICovCj4+ICsJcmV0dXJuIHZwX2lvcmVhZDE2KCZjZmctPnF1ZXVlX21z
aXhfdmVjdG9yKTsKPj4gK30KPj4gK0VYUE9SVF9TWU1CT0xfR1BMKHZwX21vZGVybl9xdWV1ZV92
ZWN0b3IpOwo+PiArCj4+ICsvKgo+PiArICogdnBfbW9kZXJuX2NvbmZpZ192ZWN0b3IgLSBzZXQg
dGhlIHZlY3RvciBmb3IgY29uZmlnIGludGVycnVwdAo+PiArICogQG1kZXY6IHRoZSBtb2Rlcm4g
dmlydGlvLXBjaSBkZXZpY2UKPj4gKyAqIEB2ZWN0b3I6IHRoZSBjb25maWcgdmVjdG9yCj4+ICsg
Kgo+PiArICogUmV0dXJucyB0aGUgY29uZmlnIHZlY3RvciByZWFkIGZyb20gdGhlIGRldmljZQo+
PiArICovCj4+ICt1MTYgdnBfbW9kZXJuX2NvbmZpZ192ZWN0b3Ioc3RydWN0IHZpcnRpb19wY2lf
bW9kZXJuX2RldmljZSAqbWRldiwKPj4gKwkJCSAgICB1MTYgdmVjdG9yKQo+PiArewo+PiArCXN0
cnVjdCB2aXJ0aW9fcGNpX2NvbW1vbl9jZmcgX19pb21lbSAqY2ZnID0gbWRldi0+Y29tbW9uOwo+
PiArCj4+ICsJLyogU2V0dXAgdGhlIHZlY3RvciB1c2VkIGZvciBjb25maWd1cmF0aW9uIGV2ZW50
cyAqLwo+PiArCXZwX2lvd3JpdGUxNih2ZWN0b3IsICZjZmctPm1zaXhfY29uZmlnKTsKPj4gKwkv
KiBWZXJpZnkgd2UgaGFkIGVub3VnaCByZXNvdXJjZXMgdG8gYXNzaWduIHRoZSB2ZWN0b3IgKi8K
Pj4gKwkvKiBXaWxsIGFsc28gZmx1c2ggdGhlIHdyaXRlIG91dCB0byBkZXZpY2UgKi8KPj4gKwly
ZXR1cm4gdnBfaW9yZWFkMTYoJmNmZy0+bXNpeF9jb25maWcpOwo+PiArfQo+PiArRVhQT1JUX1NZ
TUJPTF9HUEwodnBfbW9kZXJuX2NvbmZpZ192ZWN0b3IpOwo+PiArCj4+ICsvKgo+PiArICogdnBf
bW9kZXJuX3F1ZXVlX2FkZHJlc3MgLSBzZXQgdGhlIHZpcnRxdWV1ZSBhZGRyZXNzCj4+ICsgKiBA
bWRldjogdGhlIG1vZGVybiB2aXJ0aW8tcGNpIGRldmljZQo+PiArICogQGluZGV4OiB0aGUgcXVl
dWUgaW5kZXgKPj4gKyAqIEBkZXNjX2FkZHI6IGFkZHJlc3Mgb2YgdGhlIGRlc2NyaXB0b3IgYXJl
YQo+PiArICogQGRyaXZlcl9hZGRyOiBhZGRyZXNzIG9mIHRoZSBkcml2ZXIgYXJlYQo+PiArICog
QGRldmljZV9hZGRyOiBhZGRyZXNzIG9mIHRoZSBkZXZpY2UgYXJlYQo+PiArICovCj4+ICt2b2lk
IHZwX21vZGVybl9xdWV1ZV9hZGRyZXNzKHN0cnVjdCB2aXJ0aW9fcGNpX21vZGVybl9kZXZpY2Ug
Km1kZXYsCj4+ICsJCQkgICAgIHUxNiBpbmRleCwgdTY0IGRlc2NfYWRkciwgdTY0IGRyaXZlcl9h
ZGRyLAo+PiArCQkJICAgICB1NjQgZGV2aWNlX2FkZHIpCj4+ICt7Cj4+ICsJc3RydWN0IHZpcnRp
b19wY2lfY29tbW9uX2NmZyBfX2lvbWVtICpjZmcgPSBtZGV2LT5jb21tb247Cj4+ICsKPj4gKwl2
cF9pb3dyaXRlMTYoaW5kZXgsICZjZmctPnF1ZXVlX3NlbGVjdCk7Cj4+ICsKPj4gKwl2cF9pb3dy
aXRlNjRfdHdvcGFydChkZXNjX2FkZHIsICZjZmctPnF1ZXVlX2Rlc2NfbG8sCj4+ICsJCQkgICAg
ICZjZmctPnF1ZXVlX2Rlc2NfaGkpOwo+PiArCXZwX2lvd3JpdGU2NF90d29wYXJ0KGRyaXZlcl9h
ZGRyLCAmY2ZnLT5xdWV1ZV9hdmFpbF9sbywKPj4gKwkJCSAgICAgJmNmZy0+cXVldWVfYXZhaWxf
aGkpOwo+PiArCXZwX2lvd3JpdGU2NF90d29wYXJ0KGRldmljZV9hZGRyLCAmY2ZnLT5xdWV1ZV91
c2VkX2xvLAo+PiArCQkJICAgICAmY2ZnLT5xdWV1ZV91c2VkX2hpKTsKPj4gK30KPj4gK0VYUE9S
VF9TWU1CT0xfR1BMKHZwX21vZGVybl9xdWV1ZV9hZGRyZXNzKTsKPj4gKwo+PiArLyoKPj4gKyAq
IHZwX21vZGVybl9zZXRfcXVldWVfZW5hYmxlIC0gZW5hYmxlIGEgdmlydHF1ZXVlCj4+ICsgKiBA
bWRldjogdGhlIG1vZGVybiB2aXJ0aW8tcGNpIGRldmljZQo+PiArICogQGluZGV4OiB0aGUgcXVl
dWUgaW5kZXgKPj4gKyAqIEBlbmFibGU6IHdoZXRoZXIgdGhlIHZpcnRxdWV1ZSBpcyBlbmFibGUg
b3Igbm90Cj4+ICsgKi8KPj4gK3ZvaWQgdnBfbW9kZXJuX3NldF9xdWV1ZV9lbmFibGUoc3RydWN0
IHZpcnRpb19wY2lfbW9kZXJuX2RldmljZSAqbWRldiwKPj4gKwkJCQl1MTYgaW5kZXgsIGJvb2wg
ZW5hYmxlKQo+PiArewo+PiArCXZwX2lvd3JpdGUxNihpbmRleCwgJm1kZXYtPmNvbW1vbi0+cXVl
dWVfc2VsZWN0KTsKPj4gKwl2cF9pb3dyaXRlMTYoZW5hYmxlLCAmbWRldi0+Y29tbW9uLT5xdWV1
ZV9lbmFibGUpOwo+PiArfQo+PiArRVhQT1JUX1NZTUJPTF9HUEwodnBfbW9kZXJuX3NldF9xdWV1
ZV9lbmFibGUpOwo+PiArCj4+ICsvKgo+PiArICogdnBfbW9kZXJuX2dldF9xdWV1ZV9lbmFibGUg
LSBlbmFibGUgYSB2aXJ0cXVldWUKPj4gKyAqIEBtZGV2OiB0aGUgbW9kZXJuIHZpcnRpby1wY2kg
ZGV2aWNlCj4+ICsgKiBAaW5kZXg6IHRoZSBxdWV1ZSBpbmRleAo+PiArICoKPj4gKyAqIFJldHVy
bnMgd2hldGhlciBhIHZpcnRxdWV1ZSBpcyBlbmFibGVkIG9yIG5vdAo+PiArICovCj4+ICtib29s
IHZwX21vZGVybl9nZXRfcXVldWVfZW5hYmxlKHN0cnVjdCB2aXJ0aW9fcGNpX21vZGVybl9kZXZp
Y2UgKm1kZXYsCj4+ICsJCQkJdTE2IGluZGV4KQo+PiArewo+PiArCXZwX2lvd3JpdGUxNihpbmRl
eCwgJm1kZXYtPmNvbW1vbi0+cXVldWVfc2VsZWN0KTsKPj4gKwo+PiArCXJldHVybiB2cF9pb3Jl
YWQxNigmbWRldi0+Y29tbW9uLT5xdWV1ZV9lbmFibGUpOwo+PiArfQo+PiArRVhQT1JUX1NZTUJP
TF9HUEwodnBfbW9kZXJuX2dldF9xdWV1ZV9lbmFibGUpOwo+PiArCj4+ICsvKgo+PiArICogdnBf
bW9kZXJuX3NldF9xdWV1ZV9zaXplIC0gc2V0IHNpemUgZm9yIGEgdmlydHF1ZXVlCj4+ICsgKiBA
bWRldjogdGhlIG1vZGVybiB2aXJ0aW8tcGNpIGRldmljZQo+PiArICogQGluZGV4OiB0aGUgcXVl
dWUgaW5kZXgKPj4gKyAqIEBzaXplOiB0aGUgc2l6ZSBvZiB0aGUgdmlydHF1ZXVlCj4+ICsgKi8K
Pj4gK3ZvaWQgdnBfbW9kZXJuX3NldF9xdWV1ZV9zaXplKHN0cnVjdCB2aXJ0aW9fcGNpX21vZGVy
bl9kZXZpY2UgKm1kZXYsCj4+ICsJCQkgICAgICB1MTYgaW5kZXgsIHUxNiBzaXplKQo+PiArewo+
PiArCXZwX2lvd3JpdGUxNihpbmRleCwgJm1kZXYtPmNvbW1vbi0+cXVldWVfc2VsZWN0KTsKPj4g
Kwl2cF9pb3dyaXRlMTYoc2l6ZSwgJm1kZXYtPmNvbW1vbi0+cXVldWVfc2l6ZSk7Cj4+ICsKPj4g
K30KPj4gK0VYUE9SVF9TWU1CT0xfR1BMKHZwX21vZGVybl9zZXRfcXVldWVfc2l6ZSk7Cj4+ICsK
Pj4gKy8qCj4+ICsgKiB2cF9tb2Rlcm5fZ2V0X3F1ZXVlX3NpemUgLSBnZXQgc2l6ZSBmb3IgYSB2
aXJ0cXVldWUKPj4gKyAqIEBtZGV2OiB0aGUgbW9kZXJuIHZpcnRpby1wY2kgZGV2aWNlCj4+ICsg
KiBAaW5kZXg6IHRoZSBxdWV1ZSBpbmRleAo+PiArICoKPj4gKyAqIFJldHVybnMgdGhlIHNpemUg
b2YgdGhlIHZpcnRxdWV1ZQo+PiArICovCj4+ICt1MTYgdnBfbW9kZXJuX2dldF9xdWV1ZV9zaXpl
KHN0cnVjdCB2aXJ0aW9fcGNpX21vZGVybl9kZXZpY2UgKm1kZXYsCj4+ICsJCQkgICAgIHUxNiBp
bmRleCkKPj4gK3sKPj4gKwl2cF9pb3dyaXRlMTYoaW5kZXgsICZtZGV2LT5jb21tb24tPnF1ZXVl
X3NlbGVjdCk7Cj4+ICsKPj4gKwlyZXR1cm4gdnBfaW9yZWFkMTYoJm1kZXYtPmNvbW1vbi0+cXVl
dWVfc2l6ZSk7Cj4+ICsKPj4gK30KPj4gK0VYUE9SVF9TWU1CT0xfR1BMKHZwX21vZGVybl9nZXRf
cXVldWVfc2l6ZSk7Cj4+ICsKPj4gKy8qCj4+ICsgKiB2cF9tb2Rlcm5fZ2V0X251bV9xdWV1ZXMg
LSBnZXQgdGhlIG51bWJlciBvZiB2aXJ0cXVldWVzCj4+ICsgKiBAbWRldjogdGhlIG1vZGVybiB2
aXJ0aW8tcGNpIGRldmljZQo+PiArICoKPj4gKyAqIFJldHVybnMgdGhlIG51bWJlciBvZiB2aXJ0
cXVldWVzCj4+ICsgKi8KPj4gK3UxNiB2cF9tb2Rlcm5fZ2V0X251bV9xdWV1ZXMoc3RydWN0IHZp
cnRpb19wY2lfbW9kZXJuX2RldmljZSAqbWRldikKPj4gK3sKPj4gKwlyZXR1cm4gdnBfaW9yZWFk
MTYoJm1kZXYtPmNvbW1vbi0+bnVtX3F1ZXVlcyk7Cj4+ICt9Cj4+ICtFWFBPUlRfU1lNQk9MX0dQ
TCh2cF9tb2Rlcm5fZ2V0X251bV9xdWV1ZXMpOwo+PiArCj4+ICsvKgo+PiArICogdnBfbW9kZXJu
X2dldF9xdWV1ZV9ub3RpZnlfb2ZmIC0gZ2V0IG5vdGlmaWNhdGlvbiBvZmZzZXQgZm9yIGEgdmly
dHF1ZXVlCj4+ICsgKiBAbWRldjogdGhlIG1vZGVybiB2aXJ0aW8tcGNpIGRldmljZQo+PiArICog
QGluZGV4OiB0aGUgcXVldWUgaW5kZXgKPj4gKyAqCj4+ICsgKiBSZXR1cm5zIHRoZSBub3RpZmlj
YXRpb24gb2Zmc2V0IGZvciBhIHZpcnRxdWV1ZQo+PiArICovCj4+ICt1MTYgdnBfbW9kZXJuX2dl
dF9xdWV1ZV9ub3RpZnlfb2ZmKHN0cnVjdCB2aXJ0aW9fcGNpX21vZGVybl9kZXZpY2UgKm1kZXYs
Cj4+ICsJCQkJICAgdTE2IGluZGV4KQo+PiArewo+PiArCXZwX2lvd3JpdGUxNihpbmRleCwgJm1k
ZXYtPmNvbW1vbi0+cXVldWVfc2VsZWN0KTsKPj4gKwo+PiArCXJldHVybiB2cF9pb3JlYWQxNigm
bWRldi0+Y29tbW9uLT5xdWV1ZV9ub3RpZnlfb2ZmKTsKPj4gK30KPj4gK0VYUE9SVF9TWU1CT0xf
R1BMKHZwX21vZGVybl9nZXRfcXVldWVfbm90aWZ5X29mZik7Cj4+ICsKPj4gK01PRFVMRV9WRVJT
SU9OKCIwLjEiKTsKPj4gK01PRFVMRV9ERVNDUklQVElPTigiTW9kZXJuIFZpcnRpbyBQQ0kgRGV2
aWNlIik7Cj4+ICtNT0RVTEVfQVVUSE9SKCJKYXNvbiBXYW5nIDxqYXNvd2FuZ0ByZWRoYXQuY29t
PiIpOwo+PiArTU9EVUxFX0xJQ0VOU0UoIkdQTCIpOwo+PiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS9s
aW51eC92aXJ0aW9fcGNpX21vZGVybi5oIGIvaW5jbHVkZS9saW51eC92aXJ0aW9fcGNpX21vZGVy
bi5oCj4+IG5ldyBmaWxlIG1vZGUgMTAwNjQ0Cj4+IGluZGV4IDAwMDAwMDAwMDAwMC4uZjI2YWNi
ZWVjOTY1Cj4+IC0tLSAvZGV2L251bGwKPj4gKysrIGIvaW5jbHVkZS9saW51eC92aXJ0aW9fcGNp
X21vZGVybi5oCj4+IEBAIC0wLDAgKzEsMTExIEBACj4+ICsvKiBTUERYLUxpY2Vuc2UtSWRlbnRp
ZmllcjogR1BMLTIuMCAqLwo+PiArI2lmbmRlZiBfTElOVVhfVklSVElPX1BDSV9NT0RFUk5fSAo+
PiArI2RlZmluZSBfTElOVVhfVklSVElPX1BDSV9NT0RFUk5fSAo+PiArCj4+ICsjaW5jbHVkZSA8
bGludXgvcGNpLmg+Cj4+ICsjaW5jbHVkZSA8bGludXgvdmlydGlvX3BjaS5oPgo+PiArCj4+ICtz
dHJ1Y3QgdmlydGlvX3BjaV9tb2Rlcm5fZGV2aWNlIHsKPj4gKwlzdHJ1Y3QgcGNpX2RldiAqcGNp
X2RldjsKPj4gKwo+PiArCXN0cnVjdCB2aXJ0aW9fcGNpX2NvbW1vbl9jZmcgX19pb21lbSAqY29t
bW9uOwo+PiArCS8qIERldmljZS1zcGVjaWZpYyBkYXRhIChub24tbGVnYWN5IG1vZGUpICAqLwo+
PiArCXZvaWQgX19pb21lbSAqZGV2aWNlOwo+PiArCS8qIEJhc2Ugb2YgdnEgbm90aWZpY2F0aW9u
cyAobm9uLWxlZ2FjeSBtb2RlKS4gKi8KPj4gKwl2b2lkIF9faW9tZW0gKm5vdGlmeV9iYXNlOwo+
PiArCS8qIFdoZXJlIHRvIHJlYWQgYW5kIGNsZWFyIGludGVycnVwdCAqLwo+PiArCXU4IF9faW9t
ZW0gKmlzcjsKPj4gKwo+PiArCS8qIFNvIHdlIGNhbiBzYW5pdHktY2hlY2sgYWNjZXNzZXMuICov
Cj4+ICsJc2l6ZV90IG5vdGlmeV9sZW47Cj4+ICsJc2l6ZV90IGRldmljZV9sZW47Cj4+ICsKPj4g
KwkvKiBDYXBhYmlsaXR5IGZvciB3aGVuIHdlIG5lZWQgdG8gbWFwIG5vdGlmaWNhdGlvbnMgcGVy
LXZxLiAqLwo+PiArCWludCBub3RpZnlfbWFwX2NhcDsKPj4gKwo+PiArCS8qIE11bHRpcGx5IHF1
ZXVlX25vdGlmeV9vZmYgYnkgdGhpcyB2YWx1ZS4gKG5vbi1sZWdhY3kgbW9kZSkuICovCj4+ICsJ
dTMyIG5vdGlmeV9vZmZzZXRfbXVsdGlwbGllcjsKPj4gKwo+PiArCWludCBtb2Rlcm5fYmFyczsK
Pj4gKwo+PiArCXN0cnVjdCB2aXJ0aW9fZGV2aWNlX2lkIGlkOwo+PiArfTsKPj4gKwo+PiArLyoK
Pj4gKyAqIFR5cGUtc2FmZSB3cmFwcGVycyBmb3IgaW8gYWNjZXNzZXMuCj4+ICsgKiBVc2UgdGhl
c2UgdG8gZW5mb3JjZSBhdCBjb21waWxlIHRpbWUgdGhlIGZvbGxvd2luZyBzcGVjIHJlcXVpcmVt
ZW50Ogo+PiArICoKPj4gKyAqIFRoZSBkcml2ZXIgTVVTVCBhY2Nlc3MgZWFjaCBmaWVsZCB1c2lu
ZyB0aGUg4oCcbmF0dXJhbOKAnSBhY2Nlc3MKPj4gKyAqIG1ldGhvZCwgaS5lLiAzMi1iaXQgYWNj
ZXNzZXMgZm9yIDMyLWJpdCBmaWVsZHMsIDE2LWJpdCBhY2Nlc3Nlcwo+PiArICogZm9yIDE2LWJp
dCBmaWVsZHMgYW5kIDgtYml0IGFjY2Vzc2VzIGZvciA4LWJpdCBmaWVsZHMuCj4+ICsgKi8KPj4g
K3N0YXRpYyBpbmxpbmUgdTggdnBfaW9yZWFkOChjb25zdCB1OCBfX2lvbWVtICphZGRyKQo+PiAr
ewo+PiArCXJldHVybiBpb3JlYWQ4KGFkZHIpOwo+PiArfQo+PiArc3RhdGljIGlubGluZSB1MTYg
dnBfaW9yZWFkMTYgKGNvbnN0IF9fbGUxNiBfX2lvbWVtICphZGRyKQo+PiArewo+PiArCXJldHVy
biBpb3JlYWQxNihhZGRyKTsKPj4gK30KPj4gKwo+PiArc3RhdGljIGlubGluZSB1MzIgdnBfaW9y
ZWFkMzIoY29uc3QgX19sZTMyIF9faW9tZW0gKmFkZHIpCj4+ICt7Cj4+ICsJcmV0dXJuIGlvcmVh
ZDMyKGFkZHIpOwo+PiArfQo+PiArCj4+ICtzdGF0aWMgaW5saW5lIHZvaWQgdnBfaW93cml0ZTgo
dTggdmFsdWUsIHU4IF9faW9tZW0gKmFkZHIpCj4+ICt7Cj4+ICsJaW93cml0ZTgodmFsdWUsIGFk
ZHIpOwo+PiArfQo+PiArCj4+ICtzdGF0aWMgaW5saW5lIHZvaWQgdnBfaW93cml0ZTE2KHUxNiB2
YWx1ZSwgX19sZTE2IF9faW9tZW0gKmFkZHIpCj4+ICt7Cj4+ICsJaW93cml0ZTE2KHZhbHVlLCBh
ZGRyKTsKPj4gK30KPj4gKwo+PiArc3RhdGljIGlubGluZSB2b2lkIHZwX2lvd3JpdGUzMih1MzIg
dmFsdWUsIF9fbGUzMiBfX2lvbWVtICphZGRyKQo+PiArewo+PiArCWlvd3JpdGUzMih2YWx1ZSwg
YWRkcik7Cj4+ICt9Cj4+ICsKPj4gK3N0YXRpYyBpbmxpbmUgdm9pZCB2cF9pb3dyaXRlNjRfdHdv
cGFydCh1NjQgdmFsLAo+PiArCQkJCQlfX2xlMzIgX19pb21lbSAqbG8sCj4+ICsJCQkJCV9fbGUz
MiBfX2lvbWVtICpoaSkKPj4gK3sKPj4gKwl2cF9pb3dyaXRlMzIoKHUzMil2YWwsIGxvKTsKPj4g
Kwl2cF9pb3dyaXRlMzIodmFsID4+IDMyLCBoaSk7Cj4+ICt9Cj4+ICsKPj4gK3U2NCB2cF9tb2Rl
cm5fZ2V0X2ZlYXR1cmVzKHN0cnVjdCB2aXJ0aW9fcGNpX21vZGVybl9kZXZpY2UgKm1kZXYpOwo+
PiArdm9pZCB2cF9tb2Rlcm5fc2V0X2ZlYXR1cmVzKHN0cnVjdCB2aXJ0aW9fcGNpX21vZGVybl9k
ZXZpY2UgKm1kZXYsCj4+ICsJCSAgICAgdTY0IGZlYXR1cmVzKTsKPj4gK3UzMiB2cF9tb2Rlcm5f
Z2VuZXJhdGlvbihzdHJ1Y3QgdmlydGlvX3BjaV9tb2Rlcm5fZGV2aWNlICptZGV2KTsKPj4gK3U4
IHZwX21vZGVybl9nZXRfc3RhdHVzKHN0cnVjdCB2aXJ0aW9fcGNpX21vZGVybl9kZXZpY2UgKm1k
ZXYpOwo+PiArdm9pZCB2cF9tb2Rlcm5fc2V0X3N0YXR1cyhzdHJ1Y3QgdmlydGlvX3BjaV9tb2Rl
cm5fZGV2aWNlICptZGV2LAo+PiArCQkgICB1OCBzdGF0dXMpOwo+PiArdTE2IHZwX21vZGVybl9x
dWV1ZV92ZWN0b3Ioc3RydWN0IHZpcnRpb19wY2lfbW9kZXJuX2RldmljZSAqbWRldiwKPj4gKwkJ
CSAgIHUxNiBpZHgsIHUxNiB2ZWN0b3IpOwo+PiArdTE2IHZwX21vZGVybl9jb25maWdfdmVjdG9y
KHN0cnVjdCB2aXJ0aW9fcGNpX21vZGVybl9kZXZpY2UgKm1kZXYsCj4+ICsJCSAgICAgdTE2IHZl
Y3Rvcik7Cj4+ICt2b2lkIHZwX21vZGVybl9xdWV1ZV9hZGRyZXNzKHN0cnVjdCB2aXJ0aW9fcGNp
X21vZGVybl9kZXZpY2UgKm1kZXYsCj4+ICsJCQkgICAgIHUxNiBpbmRleCwgdTY0IGRlc2NfYWRk
ciwgdTY0IGRyaXZlcl9hZGRyLAo+PiArCQkJICAgICB1NjQgZGV2aWNlX2FkZHIpOwo+PiArdm9p
ZCB2cF9tb2Rlcm5fc2V0X3F1ZXVlX2VuYWJsZShzdHJ1Y3QgdmlydGlvX3BjaV9tb2Rlcm5fZGV2
aWNlICptZGV2LAo+PiArCQkJCXUxNiBpZHgsIGJvb2wgZW5hYmxlKTsKPj4gK2Jvb2wgdnBfbW9k
ZXJuX2dldF9xdWV1ZV9lbmFibGUoc3RydWN0IHZpcnRpb19wY2lfbW9kZXJuX2RldmljZSAqbWRl
diwKPj4gKwkJCQl1MTYgaWR4KTsKPj4gK3ZvaWQgdnBfbW9kZXJuX3NldF9xdWV1ZV9zaXplKHN0
cnVjdCB2aXJ0aW9fcGNpX21vZGVybl9kZXZpY2UgKm1kZXYsCj4+ICsJCQkgICAgICB1MTYgaWR4
LCB1MTYgc2l6ZSk7Cj4+ICt1MTYgdnBfbW9kZXJuX2dldF9xdWV1ZV9zaXplKHN0cnVjdCB2aXJ0
aW9fcGNpX21vZGVybl9kZXZpY2UgKm1kZXYsCj4+ICsJCQkgICAgIHUxNiBpZHgpOwo+PiArdTE2
IHZwX21vZGVybl9nZXRfbnVtX3F1ZXVlcyhzdHJ1Y3QgdmlydGlvX3BjaV9tb2Rlcm5fZGV2aWNl
ICptZGV2KTsKPj4gK3UxNiB2cF9tb2Rlcm5fZ2V0X3F1ZXVlX25vdGlmeV9vZmYoc3RydWN0IHZp
cnRpb19wY2lfbW9kZXJuX2RldmljZSAqbWRldiwKPj4gKwkJCQkgICB1MTYgaWR4KTsKPj4gK3Zv
aWQgX19pb21lbSAqdnBfbW9kZXJuX21hcF9jYXBhYmlsaXR5KHN0cnVjdCB2aXJ0aW9fcGNpX21v
ZGVybl9kZXZpY2UgKm1kZXYsIGludCBvZmYsCj4+ICsJCQkJICAgICAgIHNpemVfdCBtaW5sZW4s
Cj4+ICsJCQkJICAgICAgIHUzMiBhbGlnbiwKPj4gKwkJCQkgICAgICAgdTMyIHN0YXJ0LCB1MzIg
c2l6ZSwKPj4gKwkJCQkgICAgICAgc2l6ZV90ICpsZW4pOwo+PiAraW50IHZwX21vZGVybl9wcm9i
ZShzdHJ1Y3QgdmlydGlvX3BjaV9tb2Rlcm5fZGV2aWNlICptZGV2KTsKPj4gK3ZvaWQgdnBfbW9k
ZXJuX3JlbW92ZShzdHJ1Y3QgdmlydGlvX3BjaV9tb2Rlcm5fZGV2aWNlICptZGV2KTsKPj4gKyNl
bmRpZgoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KVmly
dHVhbGl6YXRpb24gbWFpbGluZyBsaXN0ClZpcnR1YWxpemF0aW9uQGxpc3RzLmxpbnV4LWZvdW5k
YXRpb24ub3JnCmh0dHBzOi8vbGlzdHMubGludXhmb3VuZGF0aW9uLm9yZy9tYWlsbWFuL2xpc3Rp
bmZvL3ZpcnR1YWxpemF0aW9u
