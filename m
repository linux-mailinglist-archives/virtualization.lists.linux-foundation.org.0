Return-Path: <virtualization-bounces@lists.linux-foundation.org>
X-Original-To: lists.virtualization@lfdr.de
Delivered-To: lists.virtualization@lfdr.de
Received: from smtp3.osuosl.org (smtp3.osuosl.org [140.211.166.136])
	by mail.lfdr.de (Postfix) with ESMTPS id DB6694C645D
	for <lists.virtualization@lfdr.de>; Mon, 28 Feb 2022 09:07:48 +0100 (CET)
Received: from localhost (localhost [127.0.0.1])
	by smtp3.osuosl.org (Postfix) with ESMTP id 4318260AB3;
	Mon, 28 Feb 2022 08:07:47 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp3.osuosl.org ([127.0.0.1])
	by localhost (smtp3.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id hqblap6tVp-f; Mon, 28 Feb 2022 08:07:46 +0000 (UTC)
Received: from lists.linuxfoundation.org (lf-lists.osuosl.org [140.211.9.56])
	by smtp3.osuosl.org (Postfix) with ESMTPS id BC32D60768;
	Mon, 28 Feb 2022 08:07:45 +0000 (UTC)
Received: from lf-lists.osuosl.org (localhost [127.0.0.1])
	by lists.linuxfoundation.org (Postfix) with ESMTP id 3D753C007B;
	Mon, 28 Feb 2022 08:07:45 +0000 (UTC)
X-Original-To: virtualization@lists.linux-foundation.org
Delivered-To: virtualization@lists.linuxfoundation.org
Received: from smtp4.osuosl.org (smtp4.osuosl.org [IPv6:2605:bc80:3010::137])
 by lists.linuxfoundation.org (Postfix) with ESMTP id 66205C001A
 for <virtualization@lists.linux-foundation.org>;
 Mon, 28 Feb 2022 08:07:44 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by smtp4.osuosl.org (Postfix) with ESMTP id 4B04F408FC
 for <virtualization@lists.linux-foundation.org>;
 Mon, 28 Feb 2022 08:07:44 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
Authentication-Results: smtp4.osuosl.org (amavisd-new);
 dkim=pass (1024-bit key) header.d=redhat.com
Received: from smtp4.osuosl.org ([127.0.0.1])
 by localhost (smtp4.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id kJxbGZhWs0KL
 for <virtualization@lists.linux-foundation.org>;
 Mon, 28 Feb 2022 08:07:42 +0000 (UTC)
X-Greylist: domain auto-whitelisted by SQLgrey-1.8.0
Received: from us-smtp-delivery-124.mimecast.com
 (us-smtp-delivery-124.mimecast.com [170.10.129.124])
 by smtp4.osuosl.org (Postfix) with ESMTPS id F18F8408FA
 for <virtualization@lists.linux-foundation.org>;
 Mon, 28 Feb 2022 08:07:41 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=redhat.com;
 s=mimecast20190719; t=1646035660;
 h=from:from:reply-to:subject:subject:date:date:message-id:message-id:
 to:to:cc:cc:mime-version:mime-version:content-type:content-type:
 content-transfer-encoding:content-transfer-encoding:
 in-reply-to:in-reply-to:references:references;
 bh=ZEg+1lw95oVgyFcFAqtClQVp7snHOaZZ37kJvcE2J+E=;
 b=XqrFaj4F135it6vhaJJm2w4y3n4jB07m+U7WUm8P7bDtMMXaOaeaHV5v+ynnz/slaCPPG/
 l49fyOmtVwgF+6HzROcpYSLbVRTdPOo8rhNWmWHkr/lAhBx7TOTLLybWP+QXwt0nDvoqua
 /RbhupE5GlMvNztQGCZ03qtLKyXPQnU=
Received: from mail-pj1-f72.google.com (mail-pj1-f72.google.com
 [209.85.216.72]) by relay.mimecast.com with ESMTP with STARTTLS
 (version=TLSv1.2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 us-mta-663-3QYAlJQSN9ClJyGcQo3dsA-1; Mon, 28 Feb 2022 03:07:36 -0500
X-MC-Unique: 3QYAlJQSN9ClJyGcQo3dsA-1
Received: by mail-pj1-f72.google.com with SMTP id
 z4-20020a17090ad78400b001bc8d98be2aso8361249pju.6
 for <virtualization@lists.linux-foundation.org>;
 Mon, 28 Feb 2022 00:07:36 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20210112;
 h=x-gm-message-state:message-id:date:mime-version:user-agent:subject
 :content-language:to:cc:references:from:in-reply-to
 :content-transfer-encoding;
 bh=ZEg+1lw95oVgyFcFAqtClQVp7snHOaZZ37kJvcE2J+E=;
 b=ohzauFkV2mvR9iI+wCDK7K60S1a3oQy4hWntzR/iWWRZb0vvnRy5Qemhasrwh75tsq
 NubrSZZcUcDu7BYMXCgVwmY6zOH5ywXTa3Y2n5pjKefjpTcc1dxWqfJunxcjk5XDHYb5
 7k2w56U3tG9P5gReXH54kZfSGdBgTvD+afpylFkZnUGVHsg1cpUOArX6yXJyUt34Qpcd
 i+0S0g7t6KqHVToRTzVEhznXyus/K0jZN8QG+2KXjpvAk905dHtxJ/PW+Mv/RlDMfU07
 XrFTSuylQKQU7aEwDOcnTHWHOyDBLKzo6USZBsrEntn1cRoSytT5aN20K0U2/KspzL6y
 lsYQ==
X-Gm-Message-State: AOAM533OFo3YuNN/Gn+P1+xgZyJz1CTR3HZ6/oNnJ+X9xwnR1bKd2F70
 YLbDskCsYirTS2o1aFukZTYzc6tPaGlzQeMzfejvUPo7FN94GpvvO3Ioa4foyVCGKOitIpyBGCT
 eNNbJOxUDZVYgXSt0T+amxYqGazrtIinhaM0Ss16p0w==
X-Received: by 2002:a17:902:b692:b0:151:5474:d3ee with SMTP id
 c18-20020a170902b69200b001515474d3eemr8260953pls.139.1646035655194; 
 Mon, 28 Feb 2022 00:07:35 -0800 (PST)
X-Google-Smtp-Source: ABdhPJznHT+nxWUnKGWZ5hcEVi75Ogi5dSqPiYgaue8FxDbPTCecmBni8Dqz6AEQvbkaw/HCAc7kRA==
X-Received: by 2002:a17:902:b692:b0:151:5474:d3ee with SMTP id
 c18-20020a170902b69200b001515474d3eemr8260925pls.139.1646035654918; 
 Mon, 28 Feb 2022 00:07:34 -0800 (PST)
Received: from [10.72.13.215] ([209.132.188.80])
 by smtp.gmail.com with ESMTPSA id
 lr2-20020a17090b4b8200b001bd6b5cce1dsm206968pjb.36.2022.02.28.00.07.29
 (version=TLS1_3 cipher=TLS_AES_128_GCM_SHA256 bits=128/128);
 Mon, 28 Feb 2022 00:07:34 -0800 (PST)
Message-ID: <efaa9bf0-5b5a-a33e-ce38-44473159d44a@redhat.com>
Date: Mon, 28 Feb 2022 16:07:27 +0800
MIME-Version: 1.0
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:91.0)
 Gecko/20100101 Thunderbird/91.6.1
Subject: Re: [RFC PATCH v2 05/19] vdpa: introduce virtqueue groups
To: Gautam Dawar <gautam.dawar@xilinx.com>
References: <20201216064818.48239-1-jasowang@redhat.com>
 <20220224212314.1326-1-gdawar@xilinx.com>
 <20220224212314.1326-6-gdawar@xilinx.com>
From: Jason Wang <jasowang@redhat.com>
In-Reply-To: <20220224212314.1326-6-gdawar@xilinx.com>
Authentication-Results: relay.mimecast.com;
 auth=pass smtp.auth=CUSA124A263 smtp.mailfrom=jasowang@redhat.com
X-Mimecast-Spam-Score: 0
X-Mimecast-Originator: redhat.com
Content-Language: en-US
Cc: kvm@vger.kernel.org, "Michael S. Tsirkin" <mst@redhat.com>,
 netdev@vger.kernel.org, Xie Yongji <xieyongji@bytedance.com>,
 linux-kernel@vger.kernel.org, gdawar@xilinx.com,
 virtualization@lists.linux-foundation.org, martinh@xilinx.com,
 eperezma@redhat.com, hanand@xilinx.com, tanujk@xilinx.com,
 Si-Wei Liu <si-wei.liu@oracle.com>, Zhu Lingshan <lingshan.zhu@intel.com>,
 Longpeng <longpeng2@huawei.com>, Eli Cohen <elic@nvidia.com>
X-BeenThere: virtualization@lists.linux-foundation.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: Linux virtualization <virtualization.lists.linux-foundation.org>
List-Unsubscribe: <https://lists.linuxfoundation.org/mailman/options/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=unsubscribe>
List-Archive: <http://lists.linuxfoundation.org/pipermail/virtualization/>
List-Post: <mailto:virtualization@lists.linux-foundation.org>
List-Help: <mailto:virtualization-request@lists.linux-foundation.org?subject=help>
List-Subscribe: <https://lists.linuxfoundation.org/mailman/listinfo/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: virtualization-bounces@lists.linux-foundation.org
Sender: "Virtualization" <virtualization-bounces@lists.linux-foundation.org>

CuWcqCAyMDIyLzIvMjUg5LiK5Y2INToyMiwgR2F1dGFtIERhd2FyIOWGmemBkzoKPiBUaGlzIHBh
dGNoIGludHJvZHVjZXMgdmlydHF1ZXVlIGdyb3VwcyB0byB2RFBBIGRldmljZS4gVGhlIHZpcnRx
dWV1ZQo+IGdyb3VwIGlzIHRoZSBtaW5pbWFsIHNldCBvZiB2aXJ0cXVldWVzIHRoYXQgbXVzdCBz
aGFyZSBhbiBhZGRyZXNzCj4gc3BhY2UuIEFuZCB0aGUgYWRkcmVzcyBzcGFjZSBpZGVudGlmaWVy
IGNvdWxkIG9ubHkgYmUgYXR0YWNoZWQgdG8KPiBhIHNwZWNpZmljIHZpcnRxdWV1ZSBncm91cC4K
Pgo+IFNpZ25lZC1vZmYtYnk6IEphc29uIFdhbmcgPGphc293YW5nQHJlZGhhdC5jb20+Cj4gU2ln
bmVkLW9mZi1ieTogR2F1dGFtIERhd2FyIDxnZGF3YXJAeGlsaW54LmNvbT4KPiAtLS0KPiAgIGRy
aXZlcnMvdmRwYS9pZmN2Zi9pZmN2Zl9tYWluLmMgICB8ICA4ICsrKysrKystCj4gICBkcml2ZXJz
L3ZkcGEvbWx4NS9uZXQvbWx4NV92bmV0LmMgfCAgOCArKysrKysrLQo+ICAgZHJpdmVycy92ZHBh
L3ZkcGEuYyAgICAgICAgICAgICAgIHwgIDMgKysrCj4gICBkcml2ZXJzL3ZkcGEvdmRwYV9zaW0v
dmRwYV9zaW0uYyAgfCAgOSArKysrKysrKy0KPiAgIGRyaXZlcnMvdmRwYS92ZHBhX3NpbS92ZHBh
X3NpbS5oICB8ICAxICsKPiAgIGluY2x1ZGUvbGludXgvdmRwYS5oICAgICAgICAgICAgICB8IDE2
ICsrKysrKysrKysrKy0tLS0KPiAgIDYgZmlsZXMgY2hhbmdlZCwgMzggaW5zZXJ0aW9ucygrKSwg
NyBkZWxldGlvbnMoLSkKCgpXZSBoYWQgdGhyZWUgbW9yZSBwYXJlbnRzIG5vdywgc28gd2Ugc2hv
dWxkIGNvbnZlcnQgdGhlbSBhcyB3ZWxsOgoKdnBfdmRwYSwgVkRVU0UgYW5kIGVuaV92ZHBhLgoK
VGhhbmtzCgoKPgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL3ZkcGEvaWZjdmYvaWZjdmZfbWFpbi5j
IGIvZHJpdmVycy92ZHBhL2lmY3ZmL2lmY3ZmX21haW4uYwo+IGluZGV4IGQxYTZiNWFiNTQzYy4u
YzgxNWEyZTYyNDQwIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvdmRwYS9pZmN2Zi9pZmN2Zl9tYWlu
LmMKPiArKysgYi9kcml2ZXJzL3ZkcGEvaWZjdmYvaWZjdmZfbWFpbi5jCj4gQEAgLTM3OCw2ICsz
NzgsMTEgQEAgc3RhdGljIHNpemVfdCBpZmN2Zl92ZHBhX2dldF9jb25maWdfc2l6ZShzdHJ1Y3Qg
dmRwYV9kZXZpY2UgKnZkcGFfZGV2KQo+ICAgCXJldHVybiAgdmYtPmNvbmZpZ19zaXplOwo+ICAg
fQo+ICAgCj4gK3N0YXRpYyB1MzIgaWZjdmZfdmRwYV9nZXRfdnFfZ3JvdXAoc3RydWN0IHZkcGFf
ZGV2aWNlICp2ZHBhLCB1MTYgaWR4KQo+ICt7Cj4gKwlyZXR1cm4gMDsKPiArfQo+ICsKPiAgIHN0
YXRpYyB2b2lkIGlmY3ZmX3ZkcGFfZ2V0X2NvbmZpZyhzdHJ1Y3QgdmRwYV9kZXZpY2UgKnZkcGFf
ZGV2LAo+ICAgCQkJCSAgdW5zaWduZWQgaW50IG9mZnNldCwKPiAgIAkJCQkgIHZvaWQgKmJ1Ziwg
dW5zaWduZWQgaW50IGxlbikKPiBAQCAtNDUzLDYgKzQ1OCw3IEBAIHN0YXRpYyBjb25zdCBzdHJ1
Y3QgdmRwYV9jb25maWdfb3BzIGlmY192ZHBhX29wcyA9IHsKPiAgIAkuZ2V0X2RldmljZV9pZAk9
IGlmY3ZmX3ZkcGFfZ2V0X2RldmljZV9pZCwKPiAgIAkuZ2V0X3ZlbmRvcl9pZAk9IGlmY3ZmX3Zk
cGFfZ2V0X3ZlbmRvcl9pZCwKPiAgIAkuZ2V0X3ZxX2FsaWduCT0gaWZjdmZfdmRwYV9nZXRfdnFf
YWxpZ24sCj4gKwkuZ2V0X3ZxX2dyb3VwCT0gaWZjdmZfdmRwYV9nZXRfdnFfZ3JvdXAsCj4gICAJ
LmdldF9jb25maWdfc2l6ZQk9IGlmY3ZmX3ZkcGFfZ2V0X2NvbmZpZ19zaXplLAo+ICAgCS5nZXRf
Y29uZmlnCT0gaWZjdmZfdmRwYV9nZXRfY29uZmlnLAo+ICAgCS5zZXRfY29uZmlnCT0gaWZjdmZf
dmRwYV9zZXRfY29uZmlnLAo+IEBAIC01MDcsNyArNTEzLDcgQEAgc3RhdGljIGludCBpZmN2Zl92
ZHBhX2Rldl9hZGQoc3RydWN0IHZkcGFfbWdtdF9kZXYgKm1kZXYsIGNvbnN0IGNoYXIgKm5hbWUs
Cj4gICAJcGRldiA9IGlmY3ZmX21nbXRfZGV2LT5wZGV2Owo+ICAgCWRldiA9ICZwZGV2LT5kZXY7
Cj4gICAJYWRhcHRlciA9IHZkcGFfYWxsb2NfZGV2aWNlKHN0cnVjdCBpZmN2Zl9hZGFwdGVyLCB2
ZHBhLAo+IC0JCQkJICAgIGRldiwgJmlmY192ZHBhX29wcywgbmFtZSwgZmFsc2UpOwo+ICsJCQkJ
ICAgIGRldiwgJmlmY192ZHBhX29wcywgMSwgbmFtZSwgZmFsc2UpOwo+ICAgCWlmIChJU19FUlIo
YWRhcHRlcikpIHsKPiAgIAkJSUZDVkZfRVJSKHBkZXYsICJGYWlsZWQgdG8gYWxsb2NhdGUgdkRQ
QSBzdHJ1Y3R1cmUiKTsKPiAgIAkJcmV0dXJuIFBUUl9FUlIoYWRhcHRlcik7Cj4gZGlmZiAtLWdp
dCBhL2RyaXZlcnMvdmRwYS9tbHg1L25ldC9tbHg1X3ZuZXQuYyBiL2RyaXZlcnMvdmRwYS9tbHg1
L25ldC9tbHg1X3ZuZXQuYwo+IGluZGV4IGI1MzYwM2Q5NDA4Mi4uZmNmYzI4NDYwYjcyIDEwMDY0
NAo+IC0tLSBhL2RyaXZlcnMvdmRwYS9tbHg1L25ldC9tbHg1X3ZuZXQuYwo+ICsrKyBiL2RyaXZl
cnMvdmRwYS9tbHg1L25ldC9tbHg1X3ZuZXQuYwo+IEBAIC0xODQ3LDYgKzE4NDcsMTEgQEAgc3Rh
dGljIHUzMiBtbHg1X3ZkcGFfZ2V0X3ZxX2FsaWduKHN0cnVjdCB2ZHBhX2RldmljZSAqdmRldikK
PiAgIAlyZXR1cm4gUEFHRV9TSVpFOwo+ICAgfQo+ICAgCj4gK3N0YXRpYyB1MzIgbWx4NV92ZHBh
X2dldF92cV9ncm91cChzdHJ1Y3QgdmRwYV9kZXZpY2UgKnZkcGEsIHUxNiBpZHgpCj4gK3sKPiAr
CXJldHVybiAwOwo+ICt9Cj4gKwo+ICAgZW51bSB7IE1MWDVfVklSVElPX05FVF9GX0dVRVNUX0NT
VU0gPSAxIDw8IDksCj4gICAJTUxYNV9WSVJUSU9fTkVUX0ZfQ1NVTSA9IDEgPDwgMTAsCj4gICAJ
TUxYNV9WSVJUSU9fTkVUX0ZfSE9TVF9UU082ID0gMSA8PCAxMSwKPiBAQCAtMjM2Myw2ICsyMzY4
LDcgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCB2ZHBhX2NvbmZpZ19vcHMgbWx4NV92ZHBhX29wcyA9
IHsKPiAgIAkuZ2V0X3ZxX25vdGlmaWNhdGlvbiA9IG1seDVfZ2V0X3ZxX25vdGlmaWNhdGlvbiwK
PiAgIAkuZ2V0X3ZxX2lycSA9IG1seDVfZ2V0X3ZxX2lycSwKPiAgIAkuZ2V0X3ZxX2FsaWduID0g
bWx4NV92ZHBhX2dldF92cV9hbGlnbiwKPiArCS5nZXRfdnFfZ3JvdXAgPSBtbHg1X3ZkcGFfZ2V0
X3ZxX2dyb3VwLAo+ICAgCS5nZXRfZGV2aWNlX2ZlYXR1cmVzID0gbWx4NV92ZHBhX2dldF9kZXZp
Y2VfZmVhdHVyZXMsCj4gICAJLnNldF9kcml2ZXJfZmVhdHVyZXMgPSBtbHg1X3ZkcGFfc2V0X2Ry
aXZlcl9mZWF0dXJlcywKPiAgIAkuZ2V0X2RyaXZlcl9mZWF0dXJlcyA9IG1seDVfdmRwYV9nZXRf
ZHJpdmVyX2ZlYXR1cmVzLAo+IEBAIC0yNTc1LDcgKzI1ODEsNyBAQCBzdGF0aWMgaW50IG1seDVf
dmRwYV9kZXZfYWRkKHN0cnVjdCB2ZHBhX21nbXRfZGV2ICp2X21kZXYsIGNvbnN0IGNoYXIgKm5h
bWUsCj4gICAJfQo+ICAgCj4gICAJbmRldiA9IHZkcGFfYWxsb2NfZGV2aWNlKHN0cnVjdCBtbHg1
X3ZkcGFfbmV0LCBtdmRldi52ZGV2LCBtZGV2LT5kZXZpY2UsICZtbHg1X3ZkcGFfb3BzLAo+IC0J
CQkJIG5hbWUsIGZhbHNlKTsKPiArCQkJCSAxLCBuYW1lLCBmYWxzZSk7Cj4gICAJaWYgKElTX0VS
UihuZGV2KSkKPiAgIAkJcmV0dXJuIFBUUl9FUlIobmRldik7Cj4gICAKPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy92ZHBhL3ZkcGEuYyBiL2RyaXZlcnMvdmRwYS92ZHBhLmMKPiBpbmRleCA5ODQ2Yzlk
ZTRiZmEuLmEwN2JmMDEzMDU1OSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL3ZkcGEvdmRwYS5jCj4g
KysrIGIvZHJpdmVycy92ZHBhL3ZkcGEuYwo+IEBAIC0xNTksNiArMTU5LDcgQEAgc3RhdGljIHZv
aWQgdmRwYV9yZWxlYXNlX2RldihzdHJ1Y3QgZGV2aWNlICpkKQo+ICAgICogaW5pdGlhbGl6ZWQg
YnV0IGJlZm9yZSByZWdpc3RlcmVkLgo+ICAgICogQHBhcmVudDogdGhlIHBhcmVudCBkZXZpY2UK
PiAgICAqIEBjb25maWc6IHRoZSBidXMgb3BlcmF0aW9ucyB0aGF0IGlzIHN1cHBvcnRlZCBieSB0
aGlzIGRldmljZQo+ICsgKiBAbmdyb3VwczogbnVtYmVyIG9mIGdyb3VwcyBzdXBwb3J0ZWQgYnkg
dGhpcyBkZXZpY2UKPiAgICAqIEBzaXplOiBzaXplIG9mIHRoZSBwYXJlbnQgc3RydWN0dXJlIHRo
YXQgY29udGFpbnMgcHJpdmF0ZSBkYXRhCj4gICAgKiBAbmFtZTogbmFtZSBvZiB0aGUgdmRwYSBk
ZXZpY2U7IG9wdGlvbmFsLgo+ICAgICogQHVzZV92YTogaW5kaWNhdGUgd2hldGhlciB2aXJ0dWFs
IGFkZHJlc3MgbXVzdCBiZSB1c2VkIGJ5IHRoaXMgZGV2aWNlCj4gQEAgLTE3MSw2ICsxNzIsNyBA
QCBzdGF0aWMgdm9pZCB2ZHBhX3JlbGVhc2VfZGV2KHN0cnVjdCBkZXZpY2UgKmQpCj4gICAgKi8K
PiAgIHN0cnVjdCB2ZHBhX2RldmljZSAqX192ZHBhX2FsbG9jX2RldmljZShzdHJ1Y3QgZGV2aWNl
ICpwYXJlbnQsCj4gICAJCQkJCWNvbnN0IHN0cnVjdCB2ZHBhX2NvbmZpZ19vcHMgKmNvbmZpZywK
PiArCQkJCQl1bnNpZ25lZCBpbnQgbmdyb3VwcywKPiAgIAkJCQkJc2l6ZV90IHNpemUsIGNvbnN0
IGNoYXIgKm5hbWUsCj4gICAJCQkJCWJvb2wgdXNlX3ZhKQo+ICAgewo+IEBAIC0yMDMsNiArMjA1
LDcgQEAgc3RydWN0IHZkcGFfZGV2aWNlICpfX3ZkcGFfYWxsb2NfZGV2aWNlKHN0cnVjdCBkZXZp
Y2UgKnBhcmVudCwKPiAgIAl2ZGV2LT5jb25maWcgPSBjb25maWc7Cj4gICAJdmRldi0+ZmVhdHVy
ZXNfdmFsaWQgPSBmYWxzZTsKPiAgIAl2ZGV2LT51c2VfdmEgPSB1c2VfdmE7Cj4gKwl2ZGV2LT5u
Z3JvdXBzID0gbmdyb3VwczsKPiAgIAo+ICAgCWlmIChuYW1lKQo+ICAgCQllcnIgPSBkZXZfc2V0
X25hbWUoJnZkZXYtPmRldiwgIiVzIiwgbmFtZSk7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvdmRw
YS92ZHBhX3NpbS92ZHBhX3NpbS5jIGIvZHJpdmVycy92ZHBhL3ZkcGFfc2ltL3ZkcGFfc2ltLmMK
PiBpbmRleCBkZGJlMTQyYWYwOWEuLmM5OGNiMWY4NjlmYSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJz
L3ZkcGEvdmRwYV9zaW0vdmRwYV9zaW0uYwo+ICsrKyBiL2RyaXZlcnMvdmRwYS92ZHBhX3NpbS92
ZHBhX3NpbS5jCj4gQEAgLTI1MCw3ICsyNTAsNyBAQCBzdHJ1Y3QgdmRwYXNpbSAqdmRwYXNpbV9j
cmVhdGUoc3RydWN0IHZkcGFzaW1fZGV2X2F0dHIgKmRldl9hdHRyKQo+ICAgCWVsc2UKPiAgIAkJ
b3BzID0gJnZkcGFzaW1fY29uZmlnX29wczsKPiAgIAo+IC0JdmRwYXNpbSA9IHZkcGFfYWxsb2Nf
ZGV2aWNlKHN0cnVjdCB2ZHBhc2ltLCB2ZHBhLCBOVUxMLCBvcHMsCj4gKwl2ZHBhc2ltID0gdmRw
YV9hbGxvY19kZXZpY2Uoc3RydWN0IHZkcGFzaW0sIHZkcGEsIE5VTEwsIG9wcywgMSwKPiAgIAkJ
CQkgICAgZGV2X2F0dHItPm5hbWUsIGZhbHNlKTsKPiAgIAlpZiAoSVNfRVJSKHZkcGFzaW0pKSB7
Cj4gICAJCXJldCA9IFBUUl9FUlIodmRwYXNpbSk7Cj4gQEAgLTM5OSw2ICszOTksMTEgQEAgc3Rh
dGljIHUzMiB2ZHBhc2ltX2dldF92cV9hbGlnbihzdHJ1Y3QgdmRwYV9kZXZpY2UgKnZkcGEpCj4g
ICAJcmV0dXJuIFZEUEFTSU1fUVVFVUVfQUxJR047Cj4gICB9Cj4gICAKPiArc3RhdGljIHUzMiB2
ZHBhc2ltX2dldF92cV9ncm91cChzdHJ1Y3QgdmRwYV9kZXZpY2UgKnZkcGEsIHUxNiBpZHgpCj4g
K3sKPiArCXJldHVybiAwOwo+ICt9Cj4gKwo+ICAgc3RhdGljIHU2NCB2ZHBhc2ltX2dldF9kZXZp
Y2VfZmVhdHVyZXMoc3RydWN0IHZkcGFfZGV2aWNlICp2ZHBhKQo+ICAgewo+ICAgCXN0cnVjdCB2
ZHBhc2ltICp2ZHBhc2ltID0gdmRwYV90b19zaW0odmRwYSk7Cj4gQEAgLTYyMCw2ICs2MjUsNyBA
QCBzdGF0aWMgY29uc3Qgc3RydWN0IHZkcGFfY29uZmlnX29wcyB2ZHBhc2ltX2NvbmZpZ19vcHMg
PSB7Cj4gICAJLnNldF92cV9zdGF0ZSAgICAgICAgICAgPSB2ZHBhc2ltX3NldF92cV9zdGF0ZSwK
PiAgIAkuZ2V0X3ZxX3N0YXRlICAgICAgICAgICA9IHZkcGFzaW1fZ2V0X3ZxX3N0YXRlLAo+ICAg
CS5nZXRfdnFfYWxpZ24gICAgICAgICAgID0gdmRwYXNpbV9nZXRfdnFfYWxpZ24sCj4gKwkuZ2V0
X3ZxX2dyb3VwICAgICAgICAgICA9IHZkcGFzaW1fZ2V0X3ZxX2dyb3VwLAo+ICAgCS5nZXRfZGV2
aWNlX2ZlYXR1cmVzICAgID0gdmRwYXNpbV9nZXRfZGV2aWNlX2ZlYXR1cmVzLAo+ICAgCS5zZXRf
ZHJpdmVyX2ZlYXR1cmVzICAgID0gdmRwYXNpbV9zZXRfZHJpdmVyX2ZlYXR1cmVzLAo+ICAgCS5n
ZXRfZHJpdmVyX2ZlYXR1cmVzICAgID0gdmRwYXNpbV9nZXRfZHJpdmVyX2ZlYXR1cmVzLAo+IEBA
IC02NTAsNiArNjU2LDcgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCB2ZHBhX2NvbmZpZ19vcHMgdmRw
YXNpbV9iYXRjaF9jb25maWdfb3BzID0gewo+ICAgCS5zZXRfdnFfc3RhdGUgICAgICAgICAgID0g
dmRwYXNpbV9zZXRfdnFfc3RhdGUsCj4gICAJLmdldF92cV9zdGF0ZSAgICAgICAgICAgPSB2ZHBh
c2ltX2dldF92cV9zdGF0ZSwKPiAgIAkuZ2V0X3ZxX2FsaWduICAgICAgICAgICA9IHZkcGFzaW1f
Z2V0X3ZxX2FsaWduLAo+ICsJLmdldF92cV9ncm91cCAgICAgICAgICAgPSB2ZHBhc2ltX2dldF92
cV9ncm91cCwKPiAgIAkuZ2V0X2RldmljZV9mZWF0dXJlcyAgICA9IHZkcGFzaW1fZ2V0X2Rldmlj
ZV9mZWF0dXJlcywKPiAgIAkuc2V0X2RyaXZlcl9mZWF0dXJlcyAgICA9IHZkcGFzaW1fc2V0X2Ry
aXZlcl9mZWF0dXJlcywKPiAgIAkuZ2V0X2RyaXZlcl9mZWF0dXJlcyAgICA9IHZkcGFzaW1fZ2V0
X2RyaXZlcl9mZWF0dXJlcywKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy92ZHBhL3ZkcGFfc2ltL3Zk
cGFfc2ltLmggYi9kcml2ZXJzL3ZkcGEvdmRwYV9zaW0vdmRwYV9zaW0uaAo+IGluZGV4IGNkNThl
ODg4YmNmMy4uMGJlN2MxZTdlZjgwIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvdmRwYS92ZHBhX3Np
bS92ZHBhX3NpbS5oCj4gKysrIGIvZHJpdmVycy92ZHBhL3ZkcGFfc2ltL3ZkcGFfc2ltLmgKPiBA
QCAtNjMsNiArNjMsNyBAQCBzdHJ1Y3QgdmRwYXNpbSB7Cj4gICAJdTMyIHN0YXR1czsKPiAgIAl1
MzIgZ2VuZXJhdGlvbjsKPiAgIAl1NjQgZmVhdHVyZXM7Cj4gKwl1MzIgZ3JvdXBzOwo+ICAgCS8q
IHNwaW5sb2NrIHRvIHN5bmNocm9uaXplIGlvbW11IHRhYmxlICovCj4gICAJc3BpbmxvY2tfdCBp
b21tdV9sb2NrOwo+ICAgfTsKPiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS9saW51eC92ZHBhLmggYi9p
bmNsdWRlL2xpbnV4L3ZkcGEuaAo+IGluZGV4IDJkZTQ0MmVjZWNhZS4uMDI2YjdhZDcyZWQ3IDEw
MDY0NAo+IC0tLSBhL2luY2x1ZGUvbGludXgvdmRwYS5oCj4gKysrIGIvaW5jbHVkZS9saW51eC92
ZHBhLmgKPiBAQCAtODUsNiArODUsNyBAQCBzdHJ1Y3QgdmRwYV9kZXZpY2Ugewo+ICAgCWJvb2wg
dXNlX3ZhOwo+ICAgCWludCBudnFzOwo+ICAgCXN0cnVjdCB2ZHBhX21nbXRfZGV2ICptZGV2Owo+
ICsJdW5zaWduZWQgaW50IG5ncm91cHM7Cj4gICB9Owo+ICAgCj4gICAvKioKPiBAQCAtMTcyLDYg
KzE3MywxMCBAQCBzdHJ1Y3QgdmRwYV9tYXBfZmlsZSB7Cj4gICAgKgkJCQlmb3IgdGhlIGRldmlj
ZQo+ICAgICoJCQkJQHZkZXY6IHZkcGEgZGV2aWNlCj4gICAgKgkJCQlSZXR1cm5zIHZpcnRxdWV1
ZSBhbGdpbiByZXF1aXJlbWVudAo+ICsgKiBAZ2V0X3ZxX2dyb3VwOgkJR2V0IHRoZSBncm91cCBp
ZCBmb3IgYSBzcGVjaWZpYyB2aXJ0cXVldWUKPiArICoJCQkJQHZkZXY6IHZkcGEgZGV2aWNlCj4g
KyAqCQkJCUBpZHg6IHZpcnRxdWV1ZSBpbmRleAo+ICsgKgkJCQlSZXR1cm5zIHUzMjogZ3JvdXAg
aWQgZm9yIHRoaXMgdmlydHF1ZXVlCj4gICAgKiBAZ2V0X2RldmljZV9mZWF0dXJlczoJR2V0IHZp
cnRpbyBmZWF0dXJlcyBzdXBwb3J0ZWQgYnkgdGhlIGRldmljZQo+ICAgICoJCQkJQHZkZXY6IHZk
cGEgZGV2aWNlCj4gICAgKgkJCQlSZXR1cm5zIHRoZSB2aXJ0aW8gZmVhdHVyZXMgc3VwcG9ydCBi
eSB0aGUKPiBAQCAtMjgyLDYgKzI4Nyw3IEBAIHN0cnVjdCB2ZHBhX2NvbmZpZ19vcHMgewo+ICAg
Cj4gICAJLyogRGV2aWNlIG9wcyAqLwo+ICAgCXUzMiAoKmdldF92cV9hbGlnbikoc3RydWN0IHZk
cGFfZGV2aWNlICp2ZGV2KTsKPiArCXUzMiAoKmdldF92cV9ncm91cCkoc3RydWN0IHZkcGFfZGV2
aWNlICp2ZGV2LCB1MTYgaWR4KTsKPiAgIAl1NjQgKCpnZXRfZGV2aWNlX2ZlYXR1cmVzKShzdHJ1
Y3QgdmRwYV9kZXZpY2UgKnZkZXYpOwo+ICAgCWludCAoKnNldF9kcml2ZXJfZmVhdHVyZXMpKHN0
cnVjdCB2ZHBhX2RldmljZSAqdmRldiwgdTY0IGZlYXR1cmVzKTsKPiAgIAl1NjQgKCpnZXRfZHJp
dmVyX2ZlYXR1cmVzKShzdHJ1Y3QgdmRwYV9kZXZpY2UgKnZkZXYpOwo+IEBAIC0zMTQsNiArMzIw
LDcgQEAgc3RydWN0IHZkcGFfY29uZmlnX29wcyB7Cj4gICAKPiAgIHN0cnVjdCB2ZHBhX2Rldmlj
ZSAqX192ZHBhX2FsbG9jX2RldmljZShzdHJ1Y3QgZGV2aWNlICpwYXJlbnQsCj4gICAJCQkJCWNv
bnN0IHN0cnVjdCB2ZHBhX2NvbmZpZ19vcHMgKmNvbmZpZywKPiArCQkJCQl1bnNpZ25lZCBpbnQg
bmdyb3VwcywKPiAgIAkJCQkJc2l6ZV90IHNpemUsIGNvbnN0IGNoYXIgKm5hbWUsCj4gICAJCQkJ
CWJvb2wgdXNlX3ZhKTsKPiAgIAo+IEBAIC0zMjQsMTcgKzMzMSwxOCBAQCBzdHJ1Y3QgdmRwYV9k
ZXZpY2UgKl9fdmRwYV9hbGxvY19kZXZpY2Uoc3RydWN0IGRldmljZSAqcGFyZW50LAo+ICAgICog
QG1lbWJlcjogdGhlIG5hbWUgb2Ygc3RydWN0IHZkcGFfZGV2aWNlIHdpdGhpbiB0aGUgQGRldl9z
dHJ1Y3QKPiAgICAqIEBwYXJlbnQ6IHRoZSBwYXJlbnQgZGV2aWNlCj4gICAgKiBAY29uZmlnOiB0
aGUgYnVzIG9wZXJhdGlvbnMgdGhhdCBpcyBzdXBwb3J0ZWQgYnkgdGhpcyBkZXZpY2UKPiArICog
QG5ncm91cHM6IHRoZSBudW1iZXIgb2YgdmlydHF1ZXVlIGdyb3VwcyBzdXBwb3J0ZWQgYnkgdGhp
cyBkZXZpY2UKPiAgICAqIEBuYW1lOiBuYW1lIG9mIHRoZSB2ZHBhIGRldmljZQo+ICAgICogQHVz
ZV92YTogaW5kaWNhdGUgd2hldGhlciB2aXJ0dWFsIGFkZHJlc3MgbXVzdCBiZSB1c2VkIGJ5IHRo
aXMgZGV2aWNlCj4gICAgKgo+ICAgICogUmV0dXJuIGFsbG9jYXRlZCBkYXRhIHN0cnVjdHVyZSBv
ciBFUlJfUFRSIHVwb24gZXJyb3IKPiAgICAqLwo+IC0jZGVmaW5lIHZkcGFfYWxsb2NfZGV2aWNl
KGRldl9zdHJ1Y3QsIG1lbWJlciwgcGFyZW50LCBjb25maWcsIG5hbWUsIHVzZV92YSkgICBcCj4g
LQkJCSAgY29udGFpbmVyX29mKF9fdmRwYV9hbGxvY19kZXZpY2UoIFwKPiAtCQkJCSAgICAgICBw
YXJlbnQsIGNvbmZpZywgXAo+ICsjZGVmaW5lIHZkcGFfYWxsb2NfZGV2aWNlKGRldl9zdHJ1Y3Qs
IG1lbWJlciwgcGFyZW50LCBjb25maWcsIG5ncm91cHMsIG5hbWUsIHVzZV92YSkgICBcCj4gKwkJ
CSAgY29udGFpbmVyX29mKChfX3ZkcGFfYWxsb2NfZGV2aWNlKCBcCj4gKwkJCQkgICAgICAgcGFy
ZW50LCBjb25maWcsIG5ncm91cHMsIFwKPiAgIAkJCQkgICAgICAgc2l6ZW9mKGRldl9zdHJ1Y3Qp
ICsgXAo+ICAgCQkJCSAgICAgICBCVUlMRF9CVUdfT05fWkVSTyhvZmZzZXRvZiggXAo+IC0JCQkJ
ICAgICAgIGRldl9zdHJ1Y3QsIG1lbWJlcikpLCBuYW1lLCB1c2VfdmEpLCBcCj4gKwkJCQkgICAg
ICAgZGV2X3N0cnVjdCwgbWVtYmVyKSksIG5hbWUsIHVzZV92YSkpLCBcCj4gICAJCQkJICAgICAg
IGRldl9zdHJ1Y3QsIG1lbWJlcikKPiAgIAo+ICAgaW50IHZkcGFfcmVnaXN0ZXJfZGV2aWNlKHN0
cnVjdCB2ZHBhX2RldmljZSAqdmRldiwgaW50IG52cXMpOwoKX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX18KVmlydHVhbGl6YXRpb24gbWFpbGluZyBsaXN0ClZp
cnR1YWxpemF0aW9uQGxpc3RzLmxpbnV4LWZvdW5kYXRpb24ub3JnCmh0dHBzOi8vbGlzdHMubGlu
dXhmb3VuZGF0aW9uLm9yZy9tYWlsbWFuL2xpc3RpbmZvL3ZpcnR1YWxpemF0aW9u
