Return-Path: <virtualization-bounces@lists.linux-foundation.org>
X-Original-To: lists.virtualization@lfdr.de
Delivered-To: lists.virtualization@lfdr.de
Received: from mail.linuxfoundation.org (mail.linuxfoundation.org [140.211.169.12])
	by mail.lfdr.de (Postfix) with ESMTPS id C96CBA4E41
	for <lists.virtualization@lfdr.de>; Mon,  2 Sep 2019 06:15:27 +0200 (CEST)
Received: from mail.linux-foundation.org (localhost [127.0.0.1])
	by mail.linuxfoundation.org (Postfix) with ESMTP id AB8E79CA;
	Mon,  2 Sep 2019 04:15:20 +0000 (UTC)
X-Original-To: virtualization@lists.linux-foundation.org
Delivered-To: virtualization@mail.linuxfoundation.org
Received: from smtp1.linuxfoundation.org (smtp1.linux-foundation.org
	[172.17.192.35])
	by mail.linuxfoundation.org (Postfix) with ESMTPS id 6EDAF481
	for <virtualization@lists.linux-foundation.org>;
	Mon,  2 Sep 2019 04:15:19 +0000 (UTC)
X-Greylist: domain auto-whitelisted by SQLgrey-1.7.6
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
	by smtp1.linuxfoundation.org (Postfix) with ESMTPS id 0E1F9709
	for <virtualization@lists.linux-foundation.org>;
	Mon,  2 Sep 2019 04:15:18 +0000 (UTC)
Received: from smtp.corp.redhat.com (int-mx05.intmail.prod.int.phx2.redhat.com
	[10.5.11.15])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mx1.redhat.com (Postfix) with ESMTPS id 1B05481F13;
	Mon,  2 Sep 2019 04:15:17 +0000 (UTC)
Received: from [10.72.12.232] (ovpn-12-232.pek2.redhat.com [10.72.12.232])
	by smtp.corp.redhat.com (Postfix) with ESMTP id AA7A35D6B7;
	Mon,  2 Sep 2019 04:15:05 +0000 (UTC)
Subject: Re: [RFC v3] vhost: introduce mdev based hardware vhost backend
To: Tiwei Bie <tiwei.bie@intel.com>, mst@redhat.com,
	alex.williamson@redhat.com, maxime.coquelin@redhat.com
References: <20190828053712.26106-1-tiwei.bie@intel.com>
From: Jason Wang <jasowang@redhat.com>
Message-ID: <b91820c4-2fe2-55ee-5089-5f7c94322521@redhat.com>
Date: Mon, 2 Sep 2019 12:15:05 +0800
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
	Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <20190828053712.26106-1-tiwei.bie@intel.com>
Content-Language: en-US
X-Scanned-By: MIMEDefang 2.79 on 10.5.11.15
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.5.16
	(mx1.redhat.com [10.5.110.25]);
	Mon, 02 Sep 2019 04:15:17 +0000 (UTC)
X-Spam-Status: No, score=-6.9 required=5.0 tests=BAYES_00,RCVD_IN_DNSWL_HI
	autolearn=ham version=3.3.1
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on
	smtp1.linux-foundation.org
Cc: kvm@vger.kernel.org, netdev@vger.kernel.org, linux-kernel@vger.kernel.org,
	virtualization@lists.linux-foundation.org,
	zhihong.wang@intel.com, lingshan.zhu@intel.com
X-BeenThere: virtualization@lists.linux-foundation.org
X-Mailman-Version: 2.1.12
Precedence: list
List-Id: Linux virtualization <virtualization.lists.linux-foundation.org>
List-Unsubscribe: <https://lists.linuxfoundation.org/mailman/options/virtualization>,
	<mailto:virtualization-request@lists.linux-foundation.org?subject=unsubscribe>
List-Archive: <http://lists.linuxfoundation.org/pipermail/virtualization/>
List-Post: <mailto:virtualization@lists.linux-foundation.org>
List-Help: <mailto:virtualization-request@lists.linux-foundation.org?subject=help>
List-Subscribe: <https://lists.linuxfoundation.org/mailman/listinfo/virtualization>,
	<mailto:virtualization-request@lists.linux-foundation.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Sender: virtualization-bounces@lists.linux-foundation.org
Errors-To: virtualization-bounces@lists.linux-foundation.org

Ck9uIDIwMTkvOC8yOCDkuIvljYgxOjM3LCBUaXdlaSBCaWUgd3JvdGU6Cj4gRGV0YWlscyBhYm91
dCB0aGlzIGNhbiBiZSBmb3VuZCBoZXJlOgo+Cj4gaHR0cHM6Ly9sd24ubmV0L0FydGljbGVzLzc1
MDc3MC8KPgo+IFdoYXQncyBuZXcgaW4gdGhpcyB2ZXJzaW9uCj4gPT09PT09PT09PT09PT09PT09
PT09PT09PT0KPgo+IFRoZXJlIGFyZSB0aHJlZSBjaG9pY2VzIGJhc2VkIG9uIHRoZSBkaXNjdXNz
aW9uIFsxXSBpbiBSRkMgdjI6Cj4KPj4gIzEuIFdlIGV4cG9zZSBhIFZGSU8gZGV2aWNlLCBzbyB3
ZSBjYW4gcmV1c2UgdGhlIFZGSU8gY29udGFpbmVyL2dyb3VwCj4+ICAgICAgYmFzZWQgRE1BIEFQ
SSBhbmQgcG90ZW50aWFsbHkgcmV1c2UgYSBsb3Qgb2YgVkZJTyBjb2RlIGluIFFFTVUuCj4+Cj4+
ICAgICAgQnV0IGluIHRoaXMgY2FzZSwgd2UgaGF2ZSB0d28gY2hvaWNlcyBmb3IgdGhlIFZGSU8g
ZGV2aWNlIGludGVyZmFjZQo+PiAgICAgIChpLmUuIHRoZSBpbnRlcmZhY2Ugb24gdG9wIG9mIFZG
SU8gZGV2aWNlIGZkKToKPj4KPj4gICAgICBBKSB3ZSBtYXkgaW52ZW50IGEgbmV3IHZob3N0IHBy
b3RvY29sIChhcyBkZW1vbnN0cmF0ZWQgYnkgdGhlIGNvZGUKPj4gICAgICAgICBpbiB0aGlzIFJG
Qykgb24gVkZJTyBkZXZpY2UgZmQgdG8gbWFrZSBpdCB3b3JrIGluIFZGSU8ncyB3YXksCj4+ICAg
ICAgICAgaS5lLiByZWdpb25zIGFuZCBpcnFzLgo+Pgo+PiAgICAgIEIpIE9yIGFzIHlvdSBwcm9w
b3NlZCwgaW5zdGVhZCBvZiBpbnZlbnRpbmcgYSBuZXcgdmhvc3QgcHJvdG9jb2wsCj4+ICAgICAg
ICAgd2UgY2FuIHJldXNlIG1vc3QgZXhpc3Rpbmcgdmhvc3QgaW9jdGxzIG9uIHRoZSBWRklPIGRl
dmljZSBmZAo+PiAgICAgICAgIGRpcmVjdGx5LiBUaGVyZSBzaG91bGQgYmUgbm8gY29uZmxpY3Rz
IGJldHdlZW4gdGhlIFZGSU8gaW9jdGxzCj4+ICAgICAgICAgKHR5cGUgaXMgMHgzQikgYW5kIFZI
T1NUIGlvY3RscyAodHlwZSBpcyAweEFGKSBjdXJyZW50bHkuCj4+Cj4+ICMyLiBJbnN0ZWFkIG9m
IGV4cG9zaW5nIGEgVkZJTyBkZXZpY2UsIHdlIG1heSBleHBvc2UgYSBWSE9TVCBkZXZpY2UuCj4+
ICAgICAgQW5kIHdlIHdpbGwgaW50cm9kdWNlIGEgbmV3IG1kZXYgZHJpdmVyIHZob3N0LW1kZXYg
dG8gZG8gdGhpcy4KPj4gICAgICBJdCB3b3VsZCBiZSBuYXR1cmFsIHRvIHJldXNlIHRoZSBleGlz
dGluZyBrZXJuZWwgdmhvc3QgaW50ZXJmYWNlCj4+ICAgICAgKGlvY3Rscykgb24gaXQgYXMgbXVj
aCBhcyBwb3NzaWJsZS4gQnV0IHdlIHdpbGwgbmVlZCB0byBpbnZlbnQKPj4gICAgICBzb21lIEFQ
SXMgZm9yIERNQSBwcm9ncmFtbWluZyAocmV1c2luZyBWSE9TVF9TRVRfTUVNX1RBQkxFIGlzIGEK
Pj4gICAgICBjaG9pY2UsIGJ1dCBpdCdzIHRvbyBoZWF2eSBhbmQgZG9lc24ndCBzdXBwb3J0IHZJ
T01NVSBieSBpdHNlbGYpLgo+IFRoaXMgdmVyc2lvbiBpcyBtb3JlIGxpa2UgYSBxdWljayBQb0Mg
dG8gdHJ5IEphc29uJ3MgcHJvcG9zYWwgb24KPiByZXVzaW5nIHZob3N0IGlvY3Rscy4gQW5kIHRo
ZSBzZWNvbmQgd2F5ICgjMS9CKSBpbiBhYm92ZSB0aHJlZQo+IGNob2ljZXMgd2FzIGNob3NlbiBp
biB0aGlzIHZlcnNpb24gdG8gZGVtb25zdHJhdGUgdGhlIGlkZWEgcXVpY2tseS4KPgo+IE5vdyB0
aGUgdXNlcnNwYWNlIEFQSSBsb29rcyBsaWtlIHRoaXM6Cj4KPiAtIFZGSU8ncyBjb250YWluZXIv
Z3JvdXAgYmFzZWQgSU9NTVUgQVBJIGlzIHVzZWQgdG8gZG8gdGhlCj4gICAgRE1BIHByb2dyYW1t
aW5nLgo+Cj4gLSBWaG9zdCdzIGV4aXN0aW5nIGlvY3RscyBhcmUgdXNlZCB0byBzZXR1cCB0aGUg
ZGV2aWNlLgo+Cj4gQW5kIHRoZSBkZXZpY2Ugd2lsbCByZXBvcnQgZGV2aWNlX2FwaSBhcyAidmZp
by12aG9zdCIuCj4KPiBOb3RlIHRoYXQsIHRoZXJlIGFyZSBkaXJ0eSBoYWNrcyBpbiB0aGlzIHZl
cnNpb24uIElmIHdlIGRlY2lkZSB0bwo+IGdvIHRoaXMgd2F5LCBzb21lIHJlZmFjdG9yaW5nIGlu
IHZob3N0LmMvdmhvc3QuaCBtYXkgYmUgbmVlZGVkLgo+Cj4gUFMuIFRoZSBkaXJlY3QgbWFwcGlu
ZyBvZiB0aGUgbm90aWZ5IHJlZ2lzdGVycyBpc24ndCBpbXBsZW1lbnRlZAo+ICAgICAgaW4gdGhp
cyB2ZXJzaW9uLgo+Cj4gWzFdIGh0dHBzOi8vbGttbC5vcmcvbGttbC8yMDE5LzcvOS8xMDEKCgpU
aGFua3MgZm9yIHRoZSBwYXRjaCwgc2VlIGNvbW1lbnRzIGlubGluZS4KCgo+Cj4gU2lnbmVkLW9m
Zi1ieTogVGl3ZWkgQmllIDx0aXdlaS5iaWVAaW50ZWwuY29tPgo+IC0tLQo+ICAgZHJpdmVycy92
aG9zdC9LY29uZmlnICAgICAgfCAgIDkgKwo+ICAgZHJpdmVycy92aG9zdC9NYWtlZmlsZSAgICAg
fCAgIDMgKwo+ICAgZHJpdmVycy92aG9zdC9tZGV2LmMgICAgICAgfCAzODIgKysrKysrKysrKysr
KysrKysrKysrKysrKysrKysrKysrKysrKwo+ICAgaW5jbHVkZS9saW51eC92aG9zdF9tZGV2Lmgg
fCAgNTggKysrKysrCj4gICBpbmNsdWRlL3VhcGkvbGludXgvdmZpby5oICB8ICAgMiArCj4gICBp
bmNsdWRlL3VhcGkvbGludXgvdmhvc3QuaCB8ICAgOCArCj4gICA2IGZpbGVzIGNoYW5nZWQsIDQ2
MiBpbnNlcnRpb25zKCspCj4gICBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy92aG9zdC9tZGV2
LmMKPiAgIGNyZWF0ZSBtb2RlIDEwMDY0NCBpbmNsdWRlL2xpbnV4L3Zob3N0X21kZXYuaAo+Cj4g
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvdmhvc3QvS2NvbmZpZyBiL2RyaXZlcnMvdmhvc3QvS2NvbmZp
Zwo+IGluZGV4IDNkMDNjY2JkMWFkYy4uMmJhNTRmY2Y0M2I3IDEwMDY0NAo+IC0tLSBhL2RyaXZl
cnMvdmhvc3QvS2NvbmZpZwo+ICsrKyBiL2RyaXZlcnMvdmhvc3QvS2NvbmZpZwo+IEBAIC0zNCw2
ICszNCwxNSBAQCBjb25maWcgVkhPU1RfVlNPQ0sKPiAgIAlUbyBjb21waWxlIHRoaXMgZHJpdmVy
IGFzIGEgbW9kdWxlLCBjaG9vc2UgTSBoZXJlOiB0aGUgbW9kdWxlIHdpbGwgYmUgY2FsbGVkCj4g
ICAJdmhvc3RfdnNvY2suCj4gICAKPiArY29uZmlnIFZIT1NUX01ERVYKPiArCXRyaXN0YXRlICJI
YXJkd2FyZSB2aG9zdCBhY2NlbGVyYXRvciBhYnN0cmFjdGlvbiIKPiArCWRlcGVuZHMgb24gRVZF
TlRGRCAmJiBWRklPICYmIFZGSU9fTURFVgo+ICsJc2VsZWN0IFZIT1NUCj4gKwlkZWZhdWx0IG4K
PiArCS0tLWhlbHAtLS0KPiArCVNheSBZIGhlcmUgdG8gZW5hYmxlIHRoZSB2aG9zdF9tZGV2IG1v
ZHVsZQo+ICsJZm9yIHVzZSB3aXRoIGhhcmR3YXJlIHZob3N0IGFjY2VsZXJhdG9ycwo+ICsKPiAg
IGNvbmZpZyBWSE9TVAo+ICAgCXRyaXN0YXRlCj4gICAJLS0taGVscC0tLQo+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL3Zob3N0L01ha2VmaWxlIGIvZHJpdmVycy92aG9zdC9NYWtlZmlsZQo+IGluZGV4
IDZjNmRmMjRmNzcwYy4uYWQ5YzBmOGM2ZDhjIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvdmhvc3Qv
TWFrZWZpbGUKPiArKysgYi9kcml2ZXJzL3Zob3N0L01ha2VmaWxlCj4gQEAgLTEwLDQgKzEwLDcg
QEAgdmhvc3RfdnNvY2steSA6PSB2c29jay5vCj4gICAKPiAgIG9iai0kKENPTkZJR19WSE9TVF9S
SU5HKSArPSB2cmluZ2gubwo+ICAgCj4gK29iai0kKENPTkZJR19WSE9TVF9NREVWKSArPSB2aG9z
dF9tZGV2Lm8KPiArdmhvc3RfbWRldi15IDo9IG1kZXYubwo+ICsKPiAgIG9iai0kKENPTkZJR19W
SE9TVCkJKz0gdmhvc3Qubwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL3Zob3N0L21kZXYuYyBiL2Ry
aXZlcnMvdmhvc3QvbWRldi5jCj4gbmV3IGZpbGUgbW9kZSAxMDA2NDQKPiBpbmRleCAwMDAwMDAw
MDAwMDAuLjZiZWYxZDlhZTJlNgo+IC0tLSAvZGV2L251bGwKPiArKysgYi9kcml2ZXJzL3Zob3N0
L21kZXYuYwo+IEBAIC0wLDAgKzEsMzgyIEBACj4gKy8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVy
OiBHUEwtMi4wCj4gKy8qCj4gKyAqIENvcHlyaWdodCAoQykgMjAxOC0yMDE5IEludGVsIENvcnBv
cmF0aW9uLgo+ICsgKi8KPiArCj4gKyNpbmNsdWRlIDxsaW51eC9tb2R1bGUuaD4KPiArI2luY2x1
ZGUgPGxpbnV4L2tlcm5lbC5oPgo+ICsjaW5jbHVkZSA8bGludXgvdmZpby5oPgo+ICsjaW5jbHVk
ZSA8bGludXgvdmhvc3QuaD4KPiArI2luY2x1ZGUgPGxpbnV4L21kZXYuaD4KPiArI2luY2x1ZGUg
PGxpbnV4L3Zob3N0X21kZXYuaD4KPiArCj4gKyNpbmNsdWRlICJ2aG9zdC5oIgo+ICsKPiArc3Ry
dWN0IHZob3N0X21kZXYgewo+ICsJc3RydWN0IHZob3N0X2RldiBkZXY7Cj4gKwlib29sIG9wZW5l
ZDsKPiArCWludCBudnFzOwo+ICsJdTY0IHN0YXRlOwo+ICsJdTY0IGFja2VkX2ZlYXR1cmVzOwo+
ICsJdTY0IGZlYXR1cmVzOwo+ICsJY29uc3Qgc3RydWN0IHZob3N0X21kZXZfZGV2aWNlX29wcyAq
b3BzOwo+ICsJc3RydWN0IG1kZXZfZGV2aWNlICptZGV2Owo+ICsJdm9pZCAqcHJpdmF0ZTsKPiAr
CXN0cnVjdCB2aG9zdF92aXJ0cXVldWUgdnFzW107Cj4gK307Cj4gKwo+ICtzdGF0aWMgdm9pZCBo
YW5kbGVfdnFfa2ljayhzdHJ1Y3Qgdmhvc3Rfd29yayAqd29yaykKPiArewo+ICsJc3RydWN0IHZo
b3N0X3ZpcnRxdWV1ZSAqdnEgPSBjb250YWluZXJfb2Yod29yaywgc3RydWN0IHZob3N0X3ZpcnRx
dWV1ZSwKPiArCQkJCQkJICBwb2xsLndvcmspOwo+ICsJc3RydWN0IHZob3N0X21kZXYgKnZkcGEg
PSBjb250YWluZXJfb2YodnEtPmRldiwgc3RydWN0IHZob3N0X21kZXYsIGRldik7Cj4gKwo+ICsJ
dmRwYS0+b3BzLT5ub3RpZnkodmRwYSwgdnEgLSB2ZHBhLT52cXMpOwo+ICt9Cj4gKwo+ICtzdGF0
aWMgaW50IHZob3N0X3NldF9zdGF0ZShzdHJ1Y3Qgdmhvc3RfbWRldiAqdmRwYSwgdTY0IF9fdXNl
ciAqc3RhdGVwKQo+ICt7Cj4gKwl1NjQgc3RhdGU7Cj4gKwo+ICsJaWYgKGNvcHlfZnJvbV91c2Vy
KCZzdGF0ZSwgc3RhdGVwLCBzaXplb2Yoc3RhdGUpKSkKPiArCQlyZXR1cm4gLUVGQVVMVDsKPiAr
Cj4gKwlpZiAoc3RhdGUgPj0gVkhPU1RfTURFVl9TX01BWCkKPiArCQlyZXR1cm4gLUVJTlZBTDsK
PiArCj4gKwlpZiAodmRwYS0+c3RhdGUgPT0gc3RhdGUpCj4gKwkJcmV0dXJuIDA7Cj4gKwo+ICsJ
bXV0ZXhfbG9jaygmdmRwYS0+ZGV2Lm11dGV4KTsKPiArCj4gKwl2ZHBhLT5zdGF0ZSA9IHN0YXRl
Owo+ICsKPiArCXN3aXRjaCAodmRwYS0+c3RhdGUpIHsKPiArCWNhc2UgVkhPU1RfTURFVl9TX1JV
Tk5JTkc6Cj4gKwkJdmRwYS0+b3BzLT5zdGFydCh2ZHBhKTsKPiArCQlicmVhazsKPiArCWNhc2Ug
VkhPU1RfTURFVl9TX1NUT1BQRUQ6Cj4gKwkJdmRwYS0+b3BzLT5zdG9wKHZkcGEpOwo+ICsJCWJy
ZWFrOwo+ICsJfQo+ICsKPiArCW11dGV4X3VubG9jaygmdmRwYS0+ZGV2Lm11dGV4KTsKPiArCj4g
KwlyZXR1cm4gMDsKPiArfQo+ICsKPiArc3RhdGljIGludCB2aG9zdF9zZXRfZmVhdHVyZXMoc3Ry
dWN0IHZob3N0X21kZXYgKnZkcGEsIHU2NCBfX3VzZXIgKmZlYXR1cmVwKQo+ICt7Cj4gKwl1NjQg
ZmVhdHVyZXM7Cj4gKwo+ICsJaWYgKGNvcHlfZnJvbV91c2VyKCZmZWF0dXJlcywgZmVhdHVyZXAs
IHNpemVvZihmZWF0dXJlcykpKQo+ICsJCXJldHVybiAtRUZBVUxUOwo+ICsKPiArCWlmIChmZWF0
dXJlcyAmIH52ZHBhLT5mZWF0dXJlcykKPiArCQlyZXR1cm4gLUVJTlZBTDsKPiArCj4gKwl2ZHBh
LT5hY2tlZF9mZWF0dXJlcyA9IGZlYXR1cmVzOwo+ICsJdmRwYS0+b3BzLT5mZWF0dXJlc19jaGFu
Z2VkKHZkcGEpOwo+ICsJcmV0dXJuIDA7Cj4gK30KPiArCj4gK3N0YXRpYyBpbnQgdmhvc3RfZ2V0
X2ZlYXR1cmVzKHN0cnVjdCB2aG9zdF9tZGV2ICp2ZHBhLCB1NjQgX191c2VyICpmZWF0dXJlcCkK
PiArewo+ICsJaWYgKGNvcHlfdG9fdXNlcihmZWF0dXJlcCwgJnZkcGEtPmZlYXR1cmVzLCBzaXpl
b2YodmRwYS0+ZmVhdHVyZXMpKSkKPiArCQlyZXR1cm4gLUVGQVVMVDsKPiArCXJldHVybiAwOwo+
ICt9Cj4gKwo+ICtzdGF0aWMgaW50IHZob3N0X2dldF92cmluZ19iYXNlKHN0cnVjdCB2aG9zdF9t
ZGV2ICp2ZHBhLCB2b2lkIF9fdXNlciAqYXJncCkKPiArewo+ICsJc3RydWN0IHZob3N0X3ZpcnRx
dWV1ZSAqdnE7Cj4gKwl1MzIgaWR4Owo+ICsJaW50IHI7Cj4gKwo+ICsJciA9IGdldF91c2VyKGlk
eCwgKHUzMiBfX3VzZXIgKilhcmdwKTsKPiArCWlmIChyIDwgMCkKPiArCQlyZXR1cm4gcjsKPiAr
Cj4gKwl2cSA9ICZ2ZHBhLT52cXNbaWR4XTsKPiArCXZxLT5sYXN0X2F2YWlsX2lkeCA9IHZkcGEt
Pm9wcy0+Z2V0X3ZyaW5nX2Jhc2UodmRwYSwgaWR4KTsKPiArCj4gKwlyZXR1cm4gdmhvc3RfdnJp
bmdfaW9jdGwoJnZkcGEtPmRldiwgVkhPU1RfR0VUX1ZSSU5HX0JBU0UsIGFyZ3ApOwo+ICt9Cj4g
Kwo+ICsvKgo+ICsgKiBIZWxwZXJzIGZvciBiYWNrZW5kIHRvIHJlZ2lzdGVyIG1kZXYuCj4gKyAq
Lwo+ICsKPiArc3RydWN0IHZob3N0X21kZXYgKnZob3N0X21kZXZfYWxsb2Moc3RydWN0IG1kZXZf
ZGV2aWNlICptZGV2LCB2b2lkICpwcml2YXRlLAo+ICsJCQkJICAgIGludCBudnFzKQo+ICt7Cj4g
KwlzdHJ1Y3Qgdmhvc3RfbWRldiAqdmRwYTsKPiArCXN0cnVjdCB2aG9zdF9kZXYgKmRldjsKPiAr
CXN0cnVjdCB2aG9zdF92aXJ0cXVldWUgKip2cXM7Cj4gKwlzaXplX3Qgc2l6ZTsKPiArCWludCBp
Owo+ICsKPiArCXNpemUgPSBzaXplb2Yoc3RydWN0IHZob3N0X21kZXYpICsgbnZxcyAqIHNpemVv
ZihzdHJ1Y3Qgdmhvc3RfdmlydHF1ZXVlKTsKPiArCj4gKwl2ZHBhID0ga3phbGxvYyhzaXplLCBH
RlBfS0VSTkVMKTsKPiArCWlmICghdmRwYSkKPiArCQlyZXR1cm4gTlVMTDsKPiArCj4gKwl2ZHBh
LT5udnFzID0gbnZxczsKPiArCj4gKwl2cXMgPSBrbWFsbG9jX2FycmF5KG52cXMsIHNpemVvZigq
dnFzKSwgR0ZQX0tFUk5FTCk7Cj4gKwlpZiAoIXZxcykgewo+ICsJCWtmcmVlKHZkcGEpOwo+ICsJ
CXJldHVybiBOVUxMOwo+ICsJfQo+ICsKPiArCWRldiA9ICZ2ZHBhLT5kZXY7Cj4gKwlmb3IgKGkg
PSAwOyBpIDwgbnZxczsgaSsrKSB7Cj4gKwkJdnFzW2ldID0gJnZkcGEtPnZxc1tpXTsKPiArCQl2
cXNbaV0tPmhhbmRsZV9raWNrID0gaGFuZGxlX3ZxX2tpY2s7Cj4gKwl9Cj4gKwl2aG9zdF9kZXZf
aW5pdChkZXYsIHZxcywgbnZxcywgMCwgMCwgMCk7Cj4gKwo+ICsJdmRwYS0+cHJpdmF0ZSA9IHBy
aXZhdGU7Cj4gKwl2ZHBhLT5tZGV2ID0gbWRldjsKPiArCj4gKwltZGV2X3NldF9kcnZkYXRhKG1k
ZXYsIHZkcGEpOwo+ICsKPiArCXJldHVybiB2ZHBhOwo+ICt9Cj4gK0VYUE9SVF9TWU1CT0wodmhv
c3RfbWRldl9hbGxvYyk7Cj4gKwo+ICt2b2lkIHZob3N0X21kZXZfZnJlZShzdHJ1Y3Qgdmhvc3Rf
bWRldiAqdmRwYSkKPiArewo+ICsJc3RydWN0IG1kZXZfZGV2aWNlICptZGV2Owo+ICsKPiArCW1k
ZXYgPSB2ZHBhLT5tZGV2Owo+ICsJbWRldl9zZXRfZHJ2ZGF0YShtZGV2LCBOVUxMKTsKPiArCj4g
Kwl2aG9zdF9kZXZfc3RvcCgmdmRwYS0+ZGV2KTsKPiArCXZob3N0X2Rldl9jbGVhbnVwKCZ2ZHBh
LT5kZXYpOwo+ICsJa2ZyZWUodmRwYS0+ZGV2LnZxcyk7Cj4gKwlrZnJlZSh2ZHBhKTsKPiArfQo+
ICtFWFBPUlRfU1lNQk9MKHZob3N0X21kZXZfZnJlZSk7Cj4gKwo+ICtzc2l6ZV90IHZob3N0X21k
ZXZfcmVhZChzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYsIGNoYXIgX191c2VyICpidWYsCj4gKwkJ
ICBzaXplX3QgY291bnQsIGxvZmZfdCAqcHBvcykKPiArewo+ICsJcmV0dXJuIC1FSU5WQUw7Cj4g
K30KPiArRVhQT1JUX1NZTUJPTCh2aG9zdF9tZGV2X3JlYWQpOwo+ICsKPiArCj4gK3NzaXplX3Qg
dmhvc3RfbWRldl93cml0ZShzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYsIGNvbnN0IGNoYXIgX191
c2VyICpidWYsCj4gKwkJICAgc2l6ZV90IGNvdW50LCBsb2ZmX3QgKnBwb3MpCj4gK3sKPiArCXJl
dHVybiAtRUlOVkFMOwo+ICt9Cj4gK0VYUE9SVF9TWU1CT0wodmhvc3RfbWRldl93cml0ZSk7Cj4g
Kwo+ICtpbnQgdmhvc3RfbWRldl9tbWFwKHN0cnVjdCBtZGV2X2RldmljZSAqbWRldiwgc3RydWN0
IHZtX2FyZWFfc3RydWN0ICp2bWEpCj4gK3sKPiArCS8vIFRPRE8KPiArCXJldHVybiAtRUlOVkFM
Owo+ICt9Cj4gK0VYUE9SVF9TWU1CT0wodmhvc3RfbWRldl9tbWFwKTsKPiArCj4gK2xvbmcgdmhv
c3RfbWRldl9pb2N0bChzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYsIHVuc2lnbmVkIGludCBjbWQs
Cj4gKwkJICAgICAgdW5zaWduZWQgbG9uZyBhcmcpCj4gK3sKPiArCXZvaWQgX191c2VyICphcmdw
ID0gKHZvaWQgX191c2VyICopYXJnOwo+ICsJc3RydWN0IHZob3N0X21kZXYgKnZkcGE7Cj4gKwl1
bnNpZ25lZCBsb25nIG1pbnN6Owo+ICsJaW50IHJldCA9IDA7Cj4gKwo+ICsJaWYgKCFtZGV2KQo+
ICsJCXJldHVybiAtRUlOVkFMOwo+ICsKPiArCXZkcGEgPSBtZGV2X2dldF9kcnZkYXRhKG1kZXYp
Owo+ICsJaWYgKCF2ZHBhKQo+ICsJCXJldHVybiAtRU5PREVWOwo+ICsKPiArCXN3aXRjaCAoY21k
KSB7Cj4gKwljYXNlIFZGSU9fREVWSUNFX0dFVF9JTkZPOgo+ICsJewo+ICsJCXN0cnVjdCB2Zmlv
X2RldmljZV9pbmZvIGluZm87Cj4gKwo+ICsJCW1pbnN6ID0gb2Zmc2V0b2ZlbmQoc3RydWN0IHZm
aW9fZGV2aWNlX2luZm8sIG51bV9pcnFzKTsKPiArCj4gKwkJaWYgKGNvcHlfZnJvbV91c2VyKCZp
bmZvLCAodm9pZCBfX3VzZXIgKilhcmcsIG1pbnN6KSkgewo+ICsJCQlyZXQgPSAtRUZBVUxUOwo+
ICsJCQlicmVhazsKPiArCQl9Cj4gKwo+ICsJCWlmIChpbmZvLmFyZ3N6IDwgbWluc3opIHsKPiAr
CQkJcmV0ID0gLUVJTlZBTDsKPiArCQkJYnJlYWs7Cj4gKwkJfQo+ICsKPiArCQlpbmZvLmZsYWdz
ID0gVkZJT19ERVZJQ0VfRkxBR1NfVkhPU1Q7Cj4gKwkJaW5mby5udW1fcmVnaW9ucyA9IDA7Cj4g
KwkJaW5mby5udW1faXJxcyA9IDA7Cj4gKwo+ICsJCWlmIChjb3B5X3RvX3VzZXIoKHZvaWQgX191
c2VyICopYXJnLCAmaW5mbywgbWluc3opKSB7Cj4gKwkJCXJldCA9IC1FRkFVTFQ7Cj4gKwkJCWJy
ZWFrOwo+ICsJCX0KPiArCj4gKwkJYnJlYWs7Cj4gKwl9Cj4gKwljYXNlIFZGSU9fREVWSUNFX0dF
VF9SRUdJT05fSU5GTzoKPiArCWNhc2UgVkZJT19ERVZJQ0VfR0VUX0lSUV9JTkZPOgo+ICsJY2Fz
ZSBWRklPX0RFVklDRV9TRVRfSVJRUzoKPiArCWNhc2UgVkZJT19ERVZJQ0VfUkVTRVQ6Cj4gKwkJ
cmV0ID0gLUVJTlZBTDsKPiArCQlicmVhazsKPiArCj4gKwljYXNlIFZIT1NUX01ERVZfU0VUX1NU
QVRFOgo+ICsJCXJldCA9IHZob3N0X3NldF9zdGF0ZSh2ZHBhLCBhcmdwKTsKPiArCQlicmVhazsK
CgpTbyB0aGlzIGlzIHVzZWQgdG8gc3RhcnQgb3Igc3RvcCB0aGUgZGV2aWNlLiBUaGlzIG1lYW5z
IGlmIHVzZXJzcGFjZSAKd2FudCB0byBkcml2ZSBhIG5ldHdvcmsgZGV2aWNlLCB0aGUgQVBJIGlz
IG5vdCAxMDAlIGNvbXBhdGlibGUuIEFueSAKYmxvY2tlciBmb3IgdGhpcz8gRS5nIGZvciBTRVRf
QkFDS0VORCwgd2UgY2FuIHBhc3MgYSBmZCBhbmQgdGhlbiAKaWRlbnRpZnkgdGhlIHR5cGUgb2Yg
YmFja2VuZC4KCkFub3RoZXIgcXVlc3Rpb24gaXMsIGhvdyBjYW4gdXNlciBrbm93IHRoZSB0eXBl
IG9mIGEgZGV2aWNlPwoKCj4gKwljYXNlIFZIT1NUX0dFVF9GRUFUVVJFUzoKPiArCQlyZXQgPSB2
aG9zdF9nZXRfZmVhdHVyZXModmRwYSwgYXJncCk7Cj4gKwkJYnJlYWs7Cj4gKwljYXNlIFZIT1NU
X1NFVF9GRUFUVVJFUzoKPiArCQlyZXQgPSB2aG9zdF9zZXRfZmVhdHVyZXModmRwYSwgYXJncCk7
Cj4gKwkJYnJlYWs7Cj4gKwljYXNlIFZIT1NUX0dFVF9WUklOR19CQVNFOgo+ICsJCXJldCA9IHZo
b3N0X2dldF92cmluZ19iYXNlKHZkcGEsIGFyZ3ApOwo+ICsJCWJyZWFrOwo+ICsJZGVmYXVsdDoK
PiArCQlyZXQgPSB2aG9zdF9kZXZfaW9jdGwoJnZkcGEtPmRldiwgY21kLCBhcmdwKTsKPiArCQlp
ZiAocmV0ID09IC1FTk9JT0NUTENNRCkKPiArCQkJcmV0ID0gdmhvc3RfdnJpbmdfaW9jdGwoJnZk
cGEtPmRldiwgY21kLCBhcmdwKTsKPiArCX0KPiArCj4gKwlyZXR1cm4gcmV0Owo+ICt9Cj4gK0VY
UE9SVF9TWU1CT0wodmhvc3RfbWRldl9pb2N0bCk7Cj4gKwo+ICtpbnQgdmhvc3RfbWRldl9vcGVu
KHN0cnVjdCBtZGV2X2RldmljZSAqbWRldikKPiArewo+ICsJc3RydWN0IHZob3N0X21kZXYgKnZk
cGE7Cj4gKwlpbnQgcmV0ID0gMDsKPiArCj4gKwl2ZHBhID0gbWRldl9nZXRfZHJ2ZGF0YShtZGV2
KTsKPiArCWlmICghdmRwYSkKPiArCQlyZXR1cm4gLUVOT0RFVjsKPiArCj4gKwltdXRleF9sb2Nr
KCZ2ZHBhLT5kZXYubXV0ZXgpOwo+ICsKPiArCWlmICh2ZHBhLT5vcGVuZWQpCj4gKwkJcmV0ID0g
LUVCVVNZOwo+ICsJZWxzZQo+ICsJCXZkcGEtPm9wZW5lZCA9IHRydWU7Cj4gKwo+ICsJbXV0ZXhf
dW5sb2NrKCZ2ZHBhLT5kZXYubXV0ZXgpOwo+ICsKPiArCXJldHVybiByZXQ7Cj4gK30KPiArRVhQ
T1JUX1NZTUJPTCh2aG9zdF9tZGV2X29wZW4pOwo+ICsKPiArdm9pZCB2aG9zdF9tZGV2X2Nsb3Nl
KHN0cnVjdCBtZGV2X2RldmljZSAqbWRldikKPiArewo+ICsJc3RydWN0IHZob3N0X21kZXYgKnZk
cGE7Cj4gKwo+ICsJdmRwYSA9IG1kZXZfZ2V0X2RydmRhdGEobWRldik7Cj4gKwo+ICsJbXV0ZXhf
bG9jaygmdmRwYS0+ZGV2Lm11dGV4KTsKPiArCj4gKwl2aG9zdF9kZXZfc3RvcCgmdmRwYS0+ZGV2
KTsKPiArCXZob3N0X2Rldl9jbGVhbnVwKCZ2ZHBhLT5kZXYpOwo+ICsKPiArCXZkcGEtPm9wZW5l
ZCA9IGZhbHNlOwo+ICsJbXV0ZXhfdW5sb2NrKCZ2ZHBhLT5kZXYubXV0ZXgpOwo+ICt9Cj4gK0VY
UE9SVF9TWU1CT0wodmhvc3RfbWRldl9jbG9zZSk7Cj4gKwo+ICsvKgo+ICsgKiBIZWxwZXJzIGZv
ciBiYWNrZW5kIHRvIHNldC9nZXQgaW5mb3JtYXRpb24uCj4gKyAqLwo+ICsKPiAraW50IHZob3N0
X21kZXZfc2V0X2RldmljZV9vcHMoc3RydWN0IHZob3N0X21kZXYgKnZkcGEsCj4gKwkJCSAgICAg
IGNvbnN0IHN0cnVjdCB2aG9zdF9tZGV2X2RldmljZV9vcHMgKm9wcykKPiArewo+ICsJdmRwYS0+
b3BzID0gb3BzOwo+ICsJcmV0dXJuIDA7Cj4gK30KPiArRVhQT1JUX1NZTUJPTCh2aG9zdF9tZGV2
X3NldF9kZXZpY2Vfb3BzKTsKPiArCj4gK2ludCB2aG9zdF9tZGV2X3NldF9mZWF0dXJlcyhzdHJ1
Y3Qgdmhvc3RfbWRldiAqdmRwYSwgdTY0IGZlYXR1cmVzKQo+ICt7Cj4gKwl2ZHBhLT5mZWF0dXJl
cyA9IGZlYXR1cmVzOwo+ICsJcmV0dXJuIDA7Cj4gK30KPiArRVhQT1JUX1NZTUJPTCh2aG9zdF9t
ZGV2X3NldF9mZWF0dXJlcyk7Cj4gKwo+ICtzdHJ1Y3QgZXZlbnRmZF9jdHggKgo+ICt2aG9zdF9t
ZGV2X2dldF9jYWxsX2N0eChzdHJ1Y3Qgdmhvc3RfbWRldiAqdmRwYSwgaW50IHF1ZXVlX2lkKQo+
ICt7Cj4gKwlyZXR1cm4gdmRwYS0+dnFzW3F1ZXVlX2lkXS5jYWxsX2N0eDsKPiArfQo+ICtFWFBP
UlRfU1lNQk9MKHZob3N0X21kZXZfZ2V0X2NhbGxfY3R4KTsKPiArCj4gK2ludCB2aG9zdF9tZGV2
X2dldF9hY2tlZF9mZWF0dXJlcyhzdHJ1Y3Qgdmhvc3RfbWRldiAqdmRwYSwgdTY0ICpmZWF0dXJl
cykKPiArewo+ICsJKmZlYXR1cmVzID0gdmRwYS0+YWNrZWRfZmVhdHVyZXM7Cj4gKwlyZXR1cm4g
MDsKPiArfQo+ICtFWFBPUlRfU1lNQk9MKHZob3N0X21kZXZfZ2V0X2Fja2VkX2ZlYXR1cmVzKTsK
PiArCj4gK2ludCB2aG9zdF9tZGV2X2dldF92cmluZ19udW0oc3RydWN0IHZob3N0X21kZXYgKnZk
cGEsIGludCBxdWV1ZV9pZCwgdTE2ICpudW0pCj4gK3sKPiArCSpudW0gPSB2ZHBhLT52cXNbcXVl
dWVfaWRdLm51bTsKPiArCXJldHVybiAwOwo+ICt9Cj4gK0VYUE9SVF9TWU1CT0wodmhvc3RfbWRl
dl9nZXRfdnJpbmdfbnVtKTsKPiArCj4gK2ludCB2aG9zdF9tZGV2X2dldF92cmluZ19iYXNlKHN0
cnVjdCB2aG9zdF9tZGV2ICp2ZHBhLCBpbnQgcXVldWVfaWQsIHUxNiAqYmFzZSkKPiArewo+ICsJ
KmJhc2UgPSB2ZHBhLT52cXNbcXVldWVfaWRdLmxhc3RfYXZhaWxfaWR4Owo+ICsJcmV0dXJuIDA7
Cj4gK30KPiArRVhQT1JUX1NZTUJPTCh2aG9zdF9tZGV2X2dldF92cmluZ19iYXNlKTsKPiArCj4g
K2ludCB2aG9zdF9tZGV2X2dldF92cmluZ19hZGRyKHN0cnVjdCB2aG9zdF9tZGV2ICp2ZHBhLCBp
bnQgcXVldWVfaWQsCj4gKwkJCSAgICAgIHN0cnVjdCB2aG9zdF92cmluZ19hZGRyICphZGRyKQo+
ICt7Cj4gKwlzdHJ1Y3Qgdmhvc3RfdmlydHF1ZXVlICp2cSA9ICZ2ZHBhLT52cXNbcXVldWVfaWRd
Owo+ICsKPiArCS8qCj4gKwkgKiBYWFg6IHdlIG5lZWQgdXNlcnNwYWNlIHRvIHBhc3MgZ3Vlc3Qg
cGh5c2ljYWwgYWRkcmVzcyBvcgo+ICsJICogICAgICBJT1ZBIGRpcmVjdGx5Lgo+ICsJICovCj4g
KwlhZGRyLT5mbGFncyA9IHZxLT5sb2dfdXNlZCA/ICgweDEgPDwgVkhPU1RfVlJJTkdfRl9MT0cp
IDogMDsKPiArCWFkZHItPmRlc2NfdXNlcl9hZGRyID0gKF9fdTY0KXZxLT5kZXNjOwo+ICsJYWRk
ci0+YXZhaWxfdXNlcl9hZGRyID0gKF9fdTY0KXZxLT5hdmFpbDsKPiArCWFkZHItPnVzZWRfdXNl
cl9hZGRyID0gKF9fdTY0KXZxLT51c2VkOwo+ICsJYWRkci0+bG9nX2d1ZXN0X2FkZHIgPSAoX191
NjQpdnEtPmxvZ19hZGRyOwo+ICsJcmV0dXJuIDA7Cj4gK30KPiArRVhQT1JUX1NZTUJPTCh2aG9z
dF9tZGV2X2dldF92cmluZ19hZGRyKTsKPiArCj4gK2ludCB2aG9zdF9tZGV2X2dldF9sb2dfYmFz
ZShzdHJ1Y3Qgdmhvc3RfbWRldiAqdmRwYSwgaW50IHF1ZXVlX2lkLAo+ICsJCQkgICAgdm9pZCAq
KmxvZ19iYXNlLCB1NjQgKmxvZ19zaXplKQo+ICt7Cj4gKwkvLyBUT0RPCj4gKwlyZXR1cm4gMDsK
PiArfQo+ICtFWFBPUlRfU1lNQk9MKHZob3N0X21kZXZfZ2V0X2xvZ19iYXNlKTsKPiArCj4gK3N0
cnVjdCBtZGV2X2RldmljZSAqdmhvc3RfbWRldl9nZXRfbWRldihzdHJ1Y3Qgdmhvc3RfbWRldiAq
dmRwYSkKPiArewo+ICsJcmV0dXJuIHZkcGEtPm1kZXY7Cj4gK30KPiArRVhQT1JUX1NZTUJPTCh2
aG9zdF9tZGV2X2dldF9tZGV2KTsKPiArCj4gK3ZvaWQgKnZob3N0X21kZXZfZ2V0X3ByaXZhdGUo
c3RydWN0IHZob3N0X21kZXYgKnZkcGEpCj4gK3sKPiArCXJldHVybiB2ZHBhLT5wcml2YXRlOwo+
ICt9Cj4gK0VYUE9SVF9TWU1CT0wodmhvc3RfbWRldl9nZXRfcHJpdmF0ZSk7Cj4gKwo+ICtNT0RV
TEVfVkVSU0lPTigiMC4wLjAiKTsKPiArTU9EVUxFX0xJQ0VOU0UoIkdQTCB2MiIpOwo+ICtNT0RV
TEVfREVTQ1JJUFRJT04oIkhhcmR3YXJlIHZob3N0IGFjY2VsZXJhdG9yIGFic3RyYWN0aW9uIik7
Cj4gZGlmZiAtLWdpdCBhL2luY2x1ZGUvbGludXgvdmhvc3RfbWRldi5oIGIvaW5jbHVkZS9saW51
eC92aG9zdF9tZGV2LmgKPiBuZXcgZmlsZSBtb2RlIDEwMDY0NAo+IGluZGV4IDAwMDAwMDAwMDAw
MC4uMDcwNzg3Y2U2YjM2Cj4gLS0tIC9kZXYvbnVsbAo+ICsrKyBiL2luY2x1ZGUvbGludXgvdmhv
c3RfbWRldi5oCj4gQEAgLTAsMCArMSw1OCBAQAo+ICsvLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmll
cjogR1BMLTIuMAo+ICsvKgo+ICsgKiBDb3B5cmlnaHQgKEMpIDIwMTgtMjAxOSBJbnRlbCBDb3Jw
b3JhdGlvbi4KPiArICovCj4gKwo+ICsjaWZuZGVmIF9WSE9TVF9NREVWX0gKPiArI2RlZmluZSBf
VkhPU1RfTURFVl9ICj4gKwo+ICtzdHJ1Y3QgbWRldl9kZXZpY2U7Cj4gK3N0cnVjdCB2aG9zdF9t
ZGV2Owo+ICsKPiArdHlwZWRlZiBpbnQgKCp2aG9zdF9tZGV2X3N0YXJ0X2RldmljZV90KShzdHJ1
Y3Qgdmhvc3RfbWRldiAqdmRwYSk7Cj4gK3R5cGVkZWYgaW50ICgqdmhvc3RfbWRldl9zdG9wX2Rl
dmljZV90KShzdHJ1Y3Qgdmhvc3RfbWRldiAqdmRwYSk7Cj4gK3R5cGVkZWYgaW50ICgqdmhvc3Rf
bWRldl9zZXRfZmVhdHVyZXNfdCkoc3RydWN0IHZob3N0X21kZXYgKnZkcGEpOwo+ICt0eXBlZGVm
IHZvaWQgKCp2aG9zdF9tZGV2X25vdGlmeV9kZXZpY2VfdCkoc3RydWN0IHZob3N0X21kZXYgKnZk
cGEsIGludCBxdWV1ZV9pZCk7Cj4gK3R5cGVkZWYgdTY0ICgqdmhvc3RfbWRldl9nZXRfbm90aWZ5
X2FkZHJfdCkoc3RydWN0IHZob3N0X21kZXYgKnZkcGEsIGludCBxdWV1ZV9pZCk7Cj4gK3R5cGVk
ZWYgdTE2ICgqdmhvc3RfbWRldl9nZXRfdnJpbmdfYmFzZV90KShzdHJ1Y3Qgdmhvc3RfbWRldiAq
dmRwYSwgaW50IHF1ZXVlX2lkKTsKPiArdHlwZWRlZiB2b2lkICgqdmhvc3RfbWRldl9mZWF0dXJl
c19jaGFuZ2VkX3QpKHN0cnVjdCB2aG9zdF9tZGV2ICp2ZHBhKTsKPiArCj4gK3N0cnVjdCB2aG9z
dF9tZGV2X2RldmljZV9vcHMgewo+ICsJdmhvc3RfbWRldl9zdGFydF9kZXZpY2VfdAlzdGFydDsK
PiArCXZob3N0X21kZXZfc3RvcF9kZXZpY2VfdAlzdG9wOwo+ICsJdmhvc3RfbWRldl9ub3RpZnlf
ZGV2aWNlX3QJbm90aWZ5Owo+ICsJdmhvc3RfbWRldl9nZXRfbm90aWZ5X2FkZHJfdAlnZXRfbm90
aWZ5X2FkZHI7Cj4gKwl2aG9zdF9tZGV2X2dldF92cmluZ19iYXNlX3QJZ2V0X3ZyaW5nX2Jhc2U7
Cj4gKwl2aG9zdF9tZGV2X2ZlYXR1cmVzX2NoYW5nZWRfdAlmZWF0dXJlc19jaGFuZ2VkOwo+ICt9
OwoKCkNvbnNpZGVyIHdlIHdhbnQgdG8gaW1wbGVtZW50IGEgbmV0d29yayBkZXZpY2UsIHdobyBp
cyBnb2luZyB0byAKaW1wbGVtZW50IHRoZSBkZXZpY2UgY29uZmlndXJhdGlvbiBzcGFjZT8gSSBi
ZWxpZXZlIGl0J3Mgbm90IGdvb2QgdG8gCmludmVudCBhbm90aGVyIHNldCBvZiBBUEkgZm9yIGRv
aW5nIHRoaXMuIFNvIEkgYmVsaWV2ZSB3ZSB3YW50IHNvbWV0aGluZyAKbGlrZSByZWFkX2NvbmZp
Zy93cml0ZV9jb25maWcgaGVyZS4KClRoZW4gSSBjYW1lIHVwIGFuIGlkZWE6CgoxKSBpbnRyb2R1
Y2UgYSBuZXcgbWRldiBidXMgdHJhbnNwb3J0LCBhbmQgYSBuZXcgbWRldiBkcml2ZXIgdmlydGlv
X21kZXYKMikgdkRQQSAoZWl0aGVyIHNvZnR3YXJlIG9yIGhhcmR3YXJlKSBjYW4gcmVnaXN0ZXIg
YXMgYSBkZXZpY2Ugb2YgdmlydGlvIAptZGV2IGRldmljZQozKSB0aGVuIHdlIGNhbiB1c2Uga2Vy
bmVsIHZpcnRpbyBkcml2ZXIgdG8gZHJpdmUgdkRQQSBkZXZpY2UgYW5kIHV0aWxpemUgCmtlcm5l
bCBuZXR3b3JraW5nL3N0b3JhZ2Ugc3RhY2sKNCkgZm9yIHVzZXJzcGFjZSBkcml2ZXIgbGlrZSB2
aG9zdC1tZGV2LCBpdCBjb3VsZCBiZSBidWlsdCBvZiB0b3Agb2YgCm1kZXYgdHJhbnNwb3J0CgpI
YXZpbmcgYSBmdWxsIG5ldyB0cmFuc3BvcnQgZm9yIHZpcnRpbywgdGhlIGFkdmFudGFnZXMgYXJl
IG9idmlvdXM6CgoxKSBBIGdlbmVyaWMgc29sdXRpb24gZm9yIGJvdGgga2VybmVsIGFuZCB1c2Vy
c3BhY2UgZHJpdmVyIGFuZCBzdXBwb3J0IApjb25maWd1cmF0aW9uIHNwYWNlIGFjY2VzcwoyKSBG
b3Iga2VybmVsIGRyaXZlciwgZXhpc3Qga2VybmVsIG5ldHdvcmtpbmcvc3RvcmFnZSBzdGFjayBj
b3VsZCBiZSAKcmV1c2VkLCBhbmQgc28gZGlkIGZhc3QgcGF0aCBpbXBsZW1lbnRhdGlvbiAoZS5n
IFhEUCwgaW9fdXJpbmcgZXRjKS4KMikgRm9yIHVzZXJzcGFjZSBkcml2ZXIsIHRoZSBmdW5jdGlv
biBvZiB2aXJ0aW8gdHJhbnNwb3J0IGlzIGEgc3VwZXJzZXQgCm9mIHZob3N0LCBhbnkgQVBJIGNv
dWxkIGJlIGJ1aWx0IG9uIHRvcCBlYXNpbHkgKGUuZyB2aG9zdCBpb2N0bCkuCgpXaGF0J3MgeW91
ciB0aG91Z2h0PwoKVGhhbmtzCgoKPiArCj4gK3N0cnVjdCB2aG9zdF9tZGV2ICp2aG9zdF9tZGV2
X2FsbG9jKHN0cnVjdCBtZGV2X2RldmljZSAqbWRldiwKPiArCQl2b2lkICpwcml2YXRlLCBpbnQg
bnZxcyk7Cj4gK3ZvaWQgdmhvc3RfbWRldl9mcmVlKHN0cnVjdCB2aG9zdF9tZGV2ICp2ZHBhKTsK
PiArCj4gK3NzaXplX3Qgdmhvc3RfbWRldl9yZWFkKHN0cnVjdCBtZGV2X2RldmljZSAqbWRldiwg
Y2hhciBfX3VzZXIgKmJ1ZiwKPiArCQlzaXplX3QgY291bnQsIGxvZmZfdCAqcHBvcyk7Cj4gK3Nz
aXplX3Qgdmhvc3RfbWRldl93cml0ZShzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYsIGNvbnN0IGNo
YXIgX191c2VyICpidWYsCj4gKwkJc2l6ZV90IGNvdW50LCBsb2ZmX3QgKnBwb3MpOwo+ICtsb25n
IHZob3N0X21kZXZfaW9jdGwoc3RydWN0IG1kZXZfZGV2aWNlICptZGV2LCB1bnNpZ25lZCBpbnQg
Y21kLAo+ICsJCXVuc2lnbmVkIGxvbmcgYXJnKTsKPiAraW50IHZob3N0X21kZXZfbW1hcChzdHJ1
Y3QgbWRldl9kZXZpY2UgKm1kZXYsIHN0cnVjdCB2bV9hcmVhX3N0cnVjdCAqdm1hKTsKPiAraW50
IHZob3N0X21kZXZfb3BlbihzdHJ1Y3QgbWRldl9kZXZpY2UgKm1kZXYpOwo+ICt2b2lkIHZob3N0
X21kZXZfY2xvc2Uoc3RydWN0IG1kZXZfZGV2aWNlICptZGV2KTsKPiArCj4gK2ludCB2aG9zdF9t
ZGV2X3NldF9kZXZpY2Vfb3BzKHN0cnVjdCB2aG9zdF9tZGV2ICp2ZHBhLAo+ICsJCWNvbnN0IHN0
cnVjdCB2aG9zdF9tZGV2X2RldmljZV9vcHMgKm9wcyk7Cj4gK2ludCB2aG9zdF9tZGV2X3NldF9m
ZWF0dXJlcyhzdHJ1Y3Qgdmhvc3RfbWRldiAqdmRwYSwgdTY0IGZlYXR1cmVzKTsKPiArc3RydWN0
IGV2ZW50ZmRfY3R4ICp2aG9zdF9tZGV2X2dldF9jYWxsX2N0eChzdHJ1Y3Qgdmhvc3RfbWRldiAq
dmRwYSwKPiArCQlpbnQgcXVldWVfaWQpOwo+ICtpbnQgdmhvc3RfbWRldl9nZXRfYWNrZWRfZmVh
dHVyZXMoc3RydWN0IHZob3N0X21kZXYgKnZkcGEsIHU2NCAqZmVhdHVyZXMpOwo+ICtpbnQgdmhv
c3RfbWRldl9nZXRfdnJpbmdfbnVtKHN0cnVjdCB2aG9zdF9tZGV2ICp2ZHBhLCBpbnQgcXVldWVf
aWQsIHUxNiAqbnVtKTsKPiAraW50IHZob3N0X21kZXZfZ2V0X3ZyaW5nX2Jhc2Uoc3RydWN0IHZo
b3N0X21kZXYgKnZkcGEsIGludCBxdWV1ZV9pZCwgdTE2ICpiYXNlKTsKPiAraW50IHZob3N0X21k
ZXZfZ2V0X3ZyaW5nX2FkZHIoc3RydWN0IHZob3N0X21kZXYgKnZkcGEsIGludCBxdWV1ZV9pZCwK
PiArCQlzdHJ1Y3Qgdmhvc3RfdnJpbmdfYWRkciAqYWRkcik7Cj4gK2ludCB2aG9zdF9tZGV2X2dl
dF9sb2dfYmFzZShzdHJ1Y3Qgdmhvc3RfbWRldiAqdmRwYSwgaW50IHF1ZXVlX2lkLAo+ICsJCXZv
aWQgKipsb2dfYmFzZSwgdTY0ICpsb2dfc2l6ZSk7Cj4gK3N0cnVjdCBtZGV2X2RldmljZSAqdmhv
c3RfbWRldl9nZXRfbWRldihzdHJ1Y3Qgdmhvc3RfbWRldiAqdmRwYSk7Cj4gK3ZvaWQgKnZob3N0
X21kZXZfZ2V0X3ByaXZhdGUoc3RydWN0IHZob3N0X21kZXYgKnZkcGEpOwo+ICsKPiArI2VuZGlm
IC8qIF9WSE9TVF9NREVWX0ggKi8KPiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS91YXBpL2xpbnV4L3Zm
aW8uaCBiL2luY2x1ZGUvdWFwaS9saW51eC92ZmlvLmgKPiBpbmRleCA4ZjEwNzQ4ZGFjNzkuLjAz
MDBkNjgzMWNjNSAxMDA2NDQKPiAtLS0gYS9pbmNsdWRlL3VhcGkvbGludXgvdmZpby5oCj4gKysr
IGIvaW5jbHVkZS91YXBpL2xpbnV4L3ZmaW8uaAo+IEBAIC0yMDEsNiArMjAxLDcgQEAgc3RydWN0
IHZmaW9fZGV2aWNlX2luZm8gewo+ICAgI2RlZmluZSBWRklPX0RFVklDRV9GTEFHU19BTUJBICAo
MSA8PCAzKQkvKiB2ZmlvLWFtYmEgZGV2aWNlICovCj4gICAjZGVmaW5lIFZGSU9fREVWSUNFX0ZM
QUdTX0NDVwkoMSA8PCA0KQkvKiB2ZmlvLWNjdyBkZXZpY2UgKi8KPiAgICNkZWZpbmUgVkZJT19E
RVZJQ0VfRkxBR1NfQVAJKDEgPDwgNSkJLyogdmZpby1hcCBkZXZpY2UgKi8KPiArI2RlZmluZSBW
RklPX0RFVklDRV9GTEFHU19WSE9TVAkoMSA8PCA2KQkvKiB2ZmlvLXZob3N0IGRldmljZSAqLwo+
ICAgCV9fdTMyCW51bV9yZWdpb25zOwkvKiBNYXggcmVnaW9uIGluZGV4ICsgMSAqLwo+ICAgCV9f
dTMyCW51bV9pcnFzOwkvKiBNYXggSVJRIGluZGV4ICsgMSAqLwo+ICAgfTsKPiBAQCAtMjE3LDYg
KzIxOCw3IEBAIHN0cnVjdCB2ZmlvX2RldmljZV9pbmZvIHsKPiAgICNkZWZpbmUgVkZJT19ERVZJ
Q0VfQVBJX0FNQkFfU1RSSU5HCQkidmZpby1hbWJhIgo+ICAgI2RlZmluZSBWRklPX0RFVklDRV9B
UElfQ0NXX1NUUklORwkJInZmaW8tY2N3Igo+ICAgI2RlZmluZSBWRklPX0RFVklDRV9BUElfQVBf
U1RSSU5HCQkidmZpby1hcCIKPiArI2RlZmluZSBWRklPX0RFVklDRV9BUElfVkhPU1RfU1RSSU5H
CQkidmZpby12aG9zdCIKPiAgIAo+ICAgLyoqCj4gICAgKiBWRklPX0RFVklDRV9HRVRfUkVHSU9O
X0lORk8gLSBfSU9XUihWRklPX1RZUEUsIFZGSU9fQkFTRSArIDgsCj4gZGlmZiAtLWdpdCBhL2lu
Y2x1ZGUvdWFwaS9saW51eC92aG9zdC5oIGIvaW5jbHVkZS91YXBpL2xpbnV4L3Zob3N0LmgKPiBp
bmRleCA0MGQwMjhlZWQ2NDUuLjVhZmJjMmYwOGZhMyAxMDA2NDQKPiAtLS0gYS9pbmNsdWRlL3Vh
cGkvbGludXgvdmhvc3QuaAo+ICsrKyBiL2luY2x1ZGUvdWFwaS9saW51eC92aG9zdC5oCj4gQEAg
LTExNiw0ICsxMTYsMTIgQEAKPiAgICNkZWZpbmUgVkhPU1RfVlNPQ0tfU0VUX0dVRVNUX0NJRAlf
SU9XKFZIT1NUX1ZJUlRJTywgMHg2MCwgX191NjQpCj4gICAjZGVmaW5lIFZIT1NUX1ZTT0NLX1NF
VF9SVU5OSU5HCQlfSU9XKFZIT1NUX1ZJUlRJTywgMHg2MSwgaW50KQo+ICAgCj4gKy8qIFZIT1NU
X01ERVYgc3BlY2lmaWMgZGVmaW5lcyAqLwo+ICsKPiArI2RlZmluZSBWSE9TVF9NREVWX1NFVF9T
VEFURQlfSU9XKFZIT1NUX1ZJUlRJTywgMHg3MCwgX191NjQpCj4gKwo+ICsjZGVmaW5lIFZIT1NU
X01ERVZfU19TVE9QUEVECTAKPiArI2RlZmluZSBWSE9TVF9NREVWX1NfUlVOTklORwkxCj4gKyNk
ZWZpbmUgVkhPU1RfTURFVl9TX01BWAkyCj4gKwo+ICAgI2VuZGlmCl9fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClZpcnR1YWxpemF0aW9uIG1haWxpbmcgbGlz
dApWaXJ0dWFsaXphdGlvbkBsaXN0cy5saW51eC1mb3VuZGF0aW9uLm9yZwpodHRwczovL2xpc3Rz
LmxpbnV4Zm91bmRhdGlvbi5vcmcvbWFpbG1hbi9saXN0aW5mby92aXJ0dWFsaXphdGlvbg==
