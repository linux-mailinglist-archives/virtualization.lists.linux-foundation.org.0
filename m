Return-Path: <virtualization-bounces@lists.linux-foundation.org>
X-Original-To: lists.virtualization@lfdr.de
Delivered-To: lists.virtualization@lfdr.de
Received: from smtp4.osuosl.org (smtp4.osuosl.org [140.211.166.137])
	by mail.lfdr.de (Postfix) with ESMTPS id CD5DA71730D
	for <lists.virtualization@lfdr.de>; Wed, 31 May 2023 03:18:41 +0200 (CEST)
Received: from localhost (localhost [127.0.0.1])
	by smtp4.osuosl.org (Postfix) with ESMTP id DBA3C404EE;
	Wed, 31 May 2023 01:18:39 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp4.osuosl.org DBA3C404EE
Authentication-Results: smtp4.osuosl.org;
	dkim=fail reason="signature verification failed" (1024-bit key) header.d=redhat.com header.i=@redhat.com header.a=rsa-sha256 header.s=mimecast20190719 header.b=DHsXrDFm
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp4.osuosl.org ([127.0.0.1])
	by localhost (smtp4.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 07bTMk9ObXOr; Wed, 31 May 2023 01:18:37 +0000 (UTC)
Received: from lists.linuxfoundation.org (lf-lists.osuosl.org [140.211.9.56])
	by smtp4.osuosl.org (Postfix) with ESMTPS id 1A6DB404D9;
	Wed, 31 May 2023 01:18:37 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp4.osuosl.org 1A6DB404D9
Received: from lf-lists.osuosl.org (localhost [127.0.0.1])
	by lists.linuxfoundation.org (Postfix) with ESMTP id 5F8F5C008C;
	Wed, 31 May 2023 01:18:36 +0000 (UTC)
X-Original-To: virtualization@lists.linux-foundation.org
Delivered-To: virtualization@lists.linuxfoundation.org
Received: from smtp3.osuosl.org (smtp3.osuosl.org [140.211.166.136])
 by lists.linuxfoundation.org (Postfix) with ESMTP id 99B63C002A
 for <virtualization@lists.linux-foundation.org>;
 Wed, 31 May 2023 01:18:35 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by smtp3.osuosl.org (Postfix) with ESMTP id 6DF6D60B0E
 for <virtualization@lists.linux-foundation.org>;
 Wed, 31 May 2023 01:18:35 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp3.osuosl.org 6DF6D60B0E
Authentication-Results: smtp3.osuosl.org;
 dkim=pass (1024-bit key) header.d=redhat.com header.i=@redhat.com
 header.a=rsa-sha256 header.s=mimecast20190719 header.b=DHsXrDFm
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp3.osuosl.org ([127.0.0.1])
 by localhost (smtp3.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id q9MD36p-wFdF
 for <virtualization@lists.linux-foundation.org>;
 Wed, 31 May 2023 01:18:33 +0000 (UTC)
X-Greylist: domain auto-whitelisted by SQLgrey-1.8.0
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp3.osuosl.org BDE6E60899
Received: from us-smtp-delivery-124.mimecast.com
 (us-smtp-delivery-124.mimecast.com [170.10.129.124])
 by smtp3.osuosl.org (Postfix) with ESMTPS id BDE6E60899
 for <virtualization@lists.linux-foundation.org>;
 Wed, 31 May 2023 01:18:32 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=redhat.com;
 s=mimecast20190719; t=1685495911;
 h=from:from:reply-to:subject:subject:date:date:message-id:message-id:
 to:to:cc:cc:mime-version:mime-version:content-type:content-type:
 content-transfer-encoding:content-transfer-encoding:
 in-reply-to:in-reply-to:references:references;
 bh=Ir/VVy+J40+fR5W5ZYolYNwrbXnQ4o9+NPmBgQ3p4b4=;
 b=DHsXrDFm6SEzZlsWH0lyJYKjG7YXhTsEe4GPYykTTUm25U9N6N++PtjP8KFhW3BrzQCBCE
 u4DzfYWNLba/Jyx/KH2t7Tu3NO5S+QbUaZy8NGvUYxAChnUBOXYVMteWvTcutKRZrh6XJV
 mFoh29L9DXji9RWTPrtLk97x27Q7LmY=
Received: from mail-lj1-f198.google.com (mail-lj1-f198.google.com
 [209.85.208.198]) by relay.mimecast.com with ESMTP with STARTTLS
 (version=TLSv1.3, cipher=TLS_AES_256_GCM_SHA384) id
 us-mta-385-Q95v1HdfPiadIUEmpMXHpw-1; Tue, 30 May 2023 21:18:29 -0400
X-MC-Unique: Q95v1HdfPiadIUEmpMXHpw-1
Received: by mail-lj1-f198.google.com with SMTP id
 38308e7fff4ca-2afad629450so2481331fa.1
 for <virtualization@lists.linux-foundation.org>;
 Tue, 30 May 2023 18:18:28 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20221208; t=1685495907; x=1688087907;
 h=content-transfer-encoding:cc:to:subject:message-id:date:from
 :in-reply-to:references:mime-version:x-gm-message-state:from:to:cc
 :subject:date:message-id:reply-to;
 bh=Ir/VVy+J40+fR5W5ZYolYNwrbXnQ4o9+NPmBgQ3p4b4=;
 b=B4Rx+37lbCxPJJDxf06PYhoN/HRFOhGlnRHsJC85AUyuo8B6hh3pa/gKUoqDIrYRHL
 aXtJxv8P6/9sJEPSh4Dw05XkNXgBNU2/FoAm7w5S8i1v2cX78ZQogy6V6otHsjlczuFe
 e4BwyVKCs+nGWRtAoxl8IJyrTHgnWP7fL19kzYHfl8Zaq+Gg1xMZJzU786c13lxIWrmt
 NP3fNibcgVgW6OROwrHj8kqpdKCiOlsCiOUnxJr01hxJpWi+r40q3hOuY0XtChDZwUVT
 9m0G2/vjlodIt26Qgd5yIa2UThO6Sg5mvwdLXv4R78yB7eJgbrX01ID528B+qsQgp0zh
 xTuw==
X-Gm-Message-State: AC+VfDzKk0rDIj6Rg297loz4XlbBurye/RECyu4BJ8E+abAHY0J7icmX
 WbCsO3XiQ8gKjZuz9/0pSqMNhqOutDdD4PTYWA+Q2Va+y/m/WJUOBRVgXtDHdN+mPobk+N+7HTp
 M6zU2Cn/IiQgsWdKz/uGiOShxsLV8wtAELVr/luSAwjXyfjgHyGkKCKtcvg==
X-Received: by 2002:a2e:83c2:0:b0:2b0:248c:bc4e with SMTP id
 s2-20020a2e83c2000000b002b0248cbc4emr1123308ljh.19.1685495907457; 
 Tue, 30 May 2023 18:18:27 -0700 (PDT)
X-Google-Smtp-Source: ACHHUZ5MiD+EkDGCENaEc6zUCMhbWxWBQQ7bKJO9UtQBdqIBpcqivaIBbWJm+oXxBoD/ScRGpUe8cWqgAX4awT04u2A=
X-Received: by 2002:a2e:83c2:0:b0:2b0:248c:bc4e with SMTP id
 s2-20020a2e83c2000000b002b0248cbc4emr1123298ljh.19.1685495907039; Tue, 30 May
 2023 18:18:27 -0700 (PDT)
MIME-Version: 1.0
References: <20230519215632.12343-1-shannon.nelson@amd.com>
 <20230519215632.12343-10-shannon.nelson@amd.com>
In-Reply-To: <20230519215632.12343-10-shannon.nelson@amd.com>
From: Jason Wang <jasowang@redhat.com>
Date: Wed, 31 May 2023 09:18:15 +0800
Message-ID: <CACGkMEuC0VL9R1RookYzao6kUpLt00+c_H=VvET7YpG1cbDS2w@mail.gmail.com>
Subject: Re: [PATCH v7 virtio 09/11] pds_vdpa: add support for vdpa and
 vdpamgmt interfaces
To: Shannon Nelson <shannon.nelson@amd.com>
X-Mimecast-Spam-Score: 0
X-Mimecast-Originator: redhat.com
Cc: brett.creeley@amd.com, mst@redhat.com, simon.horman@corigine.com,
 virtualization@lists.linux-foundation.org, netdev@vger.kernel.org,
 drivers@pensando.io
X-BeenThere: virtualization@lists.linux-foundation.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: Linux virtualization <virtualization.lists.linux-foundation.org>
List-Unsubscribe: <https://lists.linuxfoundation.org/mailman/options/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=unsubscribe>
List-Archive: <http://lists.linuxfoundation.org/pipermail/virtualization/>
List-Post: <mailto:virtualization@lists.linux-foundation.org>
List-Help: <mailto:virtualization-request@lists.linux-foundation.org?subject=help>
List-Subscribe: <https://lists.linuxfoundation.org/mailman/listinfo/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: virtualization-bounces@lists.linux-foundation.org
Sender: "Virtualization" <virtualization-bounces@lists.linux-foundation.org>

T24gU2F0LCBNYXkgMjAsIDIwMjMgYXQgNTo1N+KAr0FNIFNoYW5ub24gTmVsc29uIDxzaGFubm9u
Lm5lbHNvbkBhbWQuY29tPiB3cm90ZToKPgo+IFRoaXMgaXMgdGhlIHZEUEEgZGV2aWNlIHN1cHBv
cnQsIHdoZXJlIHdlIGFkdmVydGlzZSB0aGF0IHdlIGNhbgo+IHN1cHBvcnQgdGhlIHZpcnRpbyBx
dWV1ZXMgYW5kIGRlYWwgd2l0aCB0aGUgY29uZmlndXJhdGlvbiB3b3JrCj4gdGhyb3VnaCB0aGUg
cGRzX2NvcmUncyBhZG1pbnEuCj4KPiBTaWduZWQtb2ZmLWJ5OiBTaGFubm9uIE5lbHNvbiA8c2hh
bm5vbi5uZWxzb25AYW1kLmNvbT4KPiAtLS0KPgo+IE5vdGU6IHRoaXMgaGFkIHByZXZpb3VzbHkg
YmVlbiBBY2tlZC1ieSBKYXNvbiBXYW5nLCBidXQgY2hhbmdlZCBlbm91Z2gKPiAgICAgICBpbiB2
NiB0aGF0IEkgZmVsdCBpdCBuZWVkcyBhIG5ldyBBY2suCgpBY2tlZC1ieTogSmFzb24gV2FuZyA8
amFzb3dhbmdAcmVkaGF0LmNvbT4KClRoYW5rcwoKPgo+ICBkcml2ZXJzL3ZkcGEvcGRzL2F1eF9k
cnYuYyAgfCAgMTUgKwo+ICBkcml2ZXJzL3ZkcGEvcGRzL2F1eF9kcnYuaCAgfCAgIDEgKwo+ICBk
cml2ZXJzL3ZkcGEvcGRzL2RlYnVnZnMuYyAgfCAyNjMgKysrKysrKysrKysrKysrKwo+ICBkcml2
ZXJzL3ZkcGEvcGRzL2RlYnVnZnMuaCAgfCAgIDUgKwo+ICBkcml2ZXJzL3ZkcGEvcGRzL3ZkcGFf
ZGV2LmMgfCA2MDYgKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKystCj4gIGRyaXZl
cnMvdmRwYS9wZHMvdmRwYV9kZXYuaCB8ICAgNCArLQo+ICA2IGZpbGVzIGNoYW5nZWQsIDg5MiBp
bnNlcnRpb25zKCspLCAyIGRlbGV0aW9ucygtKQo+Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvdmRw
YS9wZHMvYXV4X2Rydi5jIGIvZHJpdmVycy92ZHBhL3Bkcy9hdXhfZHJ2LmMKPiBpbmRleCAwYzRh
MTM1YjE0ODQuLjE4NmU5ZWUyMmViMSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL3ZkcGEvcGRzL2F1
eF9kcnYuYwo+ICsrKyBiL2RyaXZlcnMvdmRwYS9wZHMvYXV4X2Rydi5jCj4gQEAgLTYzLDggKzYz
LDIxIEBAIHN0YXRpYyBpbnQgcGRzX3ZkcGFfcHJvYmUoc3RydWN0IGF1eGlsaWFyeV9kZXZpY2Ug
KmF1eF9kZXYsCj4gICAgICAgICAgICAgICAgIGdvdG8gZXJyX2ZyZWVfbWdtdF9pbmZvOwo+ICAg
ICAgICAgfQo+Cj4gKyAgICAgICAvKiBMZXQgdmRwYSBrbm93IHRoYXQgd2UgY2FuIHByb3ZpZGUg
ZGV2aWNlcyAqLwo+ICsgICAgICAgZXJyID0gdmRwYV9tZ210ZGV2X3JlZ2lzdGVyKCZ2ZHBhX2F1
eC0+dmRwYV9tZGV2KTsKPiArICAgICAgIGlmIChlcnIpIHsKPiArICAgICAgICAgICAgICAgZGV2
X2VycihkZXYsICIlczogRmFpbGVkIHRvIGluaXRpYWxpemUgdmRwYV9tZ210IGludGVyZmFjZTog
JXBlXG4iLAo+ICsgICAgICAgICAgICAgICAgICAgICAgIF9fZnVuY19fLCBFUlJfUFRSKGVycikp
Owo+ICsgICAgICAgICAgICAgICBnb3RvIGVycl9mcmVlX3ZpcnRpbzsKPiArICAgICAgIH0KPiAr
Cj4gKyAgICAgICBwZHNfdmRwYV9kZWJ1Z2ZzX2FkZF9wY2lkZXYodmRwYV9hdXgpOwo+ICsgICAg
ICAgcGRzX3ZkcGFfZGVidWdmc19hZGRfaWRlbnQodmRwYV9hdXgpOwo+ICsKPiAgICAgICAgIHJl
dHVybiAwOwo+Cj4gK2Vycl9mcmVlX3ZpcnRpbzoKPiArICAgICAgIHZwX21vZGVybl9yZW1vdmUo
JnZkcGFfYXV4LT52ZF9tZGV2KTsKPiAgZXJyX2ZyZWVfbWdtdF9pbmZvOgo+ICAgICAgICAgcGNp
X2ZyZWVfaXJxX3ZlY3RvcnMocGFkZXYtPnZmX3BkZXYpOwo+ICBlcnJfZnJlZV9tZW06Cj4gQEAg
LTc5LDkgKzkyLDExIEBAIHN0YXRpYyB2b2lkIHBkc192ZHBhX3JlbW92ZShzdHJ1Y3QgYXV4aWxp
YXJ5X2RldmljZSAqYXV4X2RldikKPiAgICAgICAgIHN0cnVjdCBwZHNfdmRwYV9hdXggKnZkcGFf
YXV4ID0gYXV4aWxpYXJ5X2dldF9kcnZkYXRhKGF1eF9kZXYpOwo+ICAgICAgICAgc3RydWN0IGRl
dmljZSAqZGV2ID0gJmF1eF9kZXYtPmRldjsKPgo+ICsgICAgICAgdmRwYV9tZ210ZGV2X3VucmVn
aXN0ZXIoJnZkcGFfYXV4LT52ZHBhX21kZXYpOwo+ICAgICAgICAgdnBfbW9kZXJuX3JlbW92ZSgm
dmRwYV9hdXgtPnZkX21kZXYpOwo+ICAgICAgICAgcGNpX2ZyZWVfaXJxX3ZlY3RvcnModmRwYV9h
dXgtPnBhZGV2LT52Zl9wZGV2KTsKPgo+ICsgICAgICAgcGRzX3ZkcGFfZGVidWdmc19kZWxfdmRw
YWRldih2ZHBhX2F1eCk7Cj4gICAgICAgICBrZnJlZSh2ZHBhX2F1eCk7Cj4gICAgICAgICBhdXhp
bGlhcnlfc2V0X2RydmRhdGEoYXV4X2RldiwgTlVMTCk7Cj4KPiBkaWZmIC0tZ2l0IGEvZHJpdmVy
cy92ZHBhL3Bkcy9hdXhfZHJ2LmggYi9kcml2ZXJzL3ZkcGEvcGRzL2F1eF9kcnYuaAo+IGluZGV4
IDk5ZTBmZjM0MGJmYS4uMjZiNzUzNDQxNTZlIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvdmRwYS9w
ZHMvYXV4X2Rydi5oCj4gKysrIGIvZHJpdmVycy92ZHBhL3Bkcy9hdXhfZHJ2LmgKPiBAQCAtMTMs
NiArMTMsNyBAQCBzdHJ1Y3QgcGRzX3ZkcGFfYXV4IHsKPiAgICAgICAgIHN0cnVjdCBwZHNfYXV4
aWxpYXJ5X2RldiAqcGFkZXY7Cj4KPiAgICAgICAgIHN0cnVjdCB2ZHBhX21nbXRfZGV2IHZkcGFf
bWRldjsKPiArICAgICAgIHN0cnVjdCBwZHNfdmRwYV9kZXZpY2UgKnBkc3Y7Cj4KPiAgICAgICAg
IHN0cnVjdCBwZHNfdmRwYV9pZGVudCBpZGVudDsKPgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL3Zk
cGEvcGRzL2RlYnVnZnMuYyBiL2RyaXZlcnMvdmRwYS9wZHMvZGVidWdmcy5jCj4gaW5kZXggZDkx
ZGNlYjA3MzgwLi4yMWEwZGMwY2I2MDcgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy92ZHBhL3Bkcy9k
ZWJ1Z2ZzLmMKPiArKysgYi9kcml2ZXJzL3ZkcGEvcGRzL2RlYnVnZnMuYwo+IEBAIC0xMCw2ICsx
MCw3IEBACj4gICNpbmNsdWRlIDxsaW51eC9wZHMvcGRzX2F1eGJ1cy5oPgo+Cj4gICNpbmNsdWRl
ICJhdXhfZHJ2LmgiCj4gKyNpbmNsdWRlICJ2ZHBhX2Rldi5oIgo+ICAjaW5jbHVkZSAiZGVidWdm
cy5oIgo+Cj4gIHN0YXRpYyBzdHJ1Y3QgZGVudHJ5ICpkYmZzX2RpcjsKPiBAQCAtMjQsMyArMjUs
MjY1IEBAIHZvaWQgcGRzX3ZkcGFfZGVidWdmc19kZXN0cm95KHZvaWQpCj4gICAgICAgICBkZWJ1
Z2ZzX3JlbW92ZV9yZWN1cnNpdmUoZGJmc19kaXIpOwo+ICAgICAgICAgZGJmc19kaXIgPSBOVUxM
Owo+ICB9Cj4gKwo+ICsjZGVmaW5lIFBSSU5UX1NCSVRfTkFNRShfX3NlcSwgX19mLCBfX25hbWUp
ICAgICAgICAgICAgICAgICAgICAgXAo+ICsgICAgICAgZG8geyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcCj4gKyAgICAgICAgICAgICAgIGlmICgo
X19mKSAmIChfX25hbWUpKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcCj4gKyAgICAg
ICAgICAgICAgICAgICAgICAgc2VxX3ByaW50ZihfX3NlcSwgIiAlcyIsICYjX19uYW1lWzE2XSk7
IFwKPiArICAgICAgIH0gd2hpbGUgKDApCj4gKwo+ICtzdGF0aWMgdm9pZCBwcmludF9zdGF0dXNf
Yml0cyhzdHJ1Y3Qgc2VxX2ZpbGUgKnNlcSwgdTggc3RhdHVzKQo+ICt7Cj4gKyAgICAgICBzZXFf
cHV0cyhzZXEsICJzdGF0dXM6Iik7Cj4gKyAgICAgICBQUklOVF9TQklUX05BTUUoc2VxLCBzdGF0
dXMsIFZJUlRJT19DT05GSUdfU19BQ0tOT1dMRURHRSk7Cj4gKyAgICAgICBQUklOVF9TQklUX05B
TUUoc2VxLCBzdGF0dXMsIFZJUlRJT19DT05GSUdfU19EUklWRVIpOwo+ICsgICAgICAgUFJJTlRf
U0JJVF9OQU1FKHNlcSwgc3RhdHVzLCBWSVJUSU9fQ09ORklHX1NfRFJJVkVSX09LKTsKPiArICAg
ICAgIFBSSU5UX1NCSVRfTkFNRShzZXEsIHN0YXR1cywgVklSVElPX0NPTkZJR19TX0ZFQVRVUkVT
X09LKTsKPiArICAgICAgIFBSSU5UX1NCSVRfTkFNRShzZXEsIHN0YXR1cywgVklSVElPX0NPTkZJ
R19TX05FRURTX1JFU0VUKTsKPiArICAgICAgIFBSSU5UX1NCSVRfTkFNRShzZXEsIHN0YXR1cywg
VklSVElPX0NPTkZJR19TX0ZBSUxFRCk7Cj4gKyAgICAgICBzZXFfcHV0cyhzZXEsICJcbiIpOwo+
ICt9Cj4gKwo+ICtzdGF0aWMgdm9pZCBwcmludF9mZWF0dXJlX2JpdHNfYWxsKHN0cnVjdCBzZXFf
ZmlsZSAqc2VxLCB1NjQgZmVhdHVyZXMpCj4gK3sKPiArICAgICAgIGludCBpOwo+ICsKPiArICAg
ICAgIHNlcV9wdXRzKHNlcSwgImZlYXR1cmVzOiIpOwo+ICsKPiArICAgICAgIGZvciAoaSA9IDA7
IGkgPCAoc2l6ZW9mKHU2NCkgKiA4KTsgaSsrKSB7Cj4gKyAgICAgICAgICAgICAgIHU2NCBtYXNr
ID0gQklUX1VMTChpKTsKPiArCj4gKyAgICAgICAgICAgICAgIHN3aXRjaCAoZmVhdHVyZXMgJiBt
YXNrKSB7Cj4gKyAgICAgICAgICAgICAgIGNhc2UgQklUX1VMTChWSVJUSU9fTkVUX0ZfQ1NVTSk6
Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgc2VxX3B1dHMoc2VxLCAiIFZJUlRJT19ORVRfRl9D
U1VNIik7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7Cj4gKyAgICAgICAgICAgICAg
IGNhc2UgQklUX1VMTChWSVJUSU9fTkVUX0ZfR1VFU1RfQ1NVTSk6Cj4gKyAgICAgICAgICAgICAg
ICAgICAgICAgc2VxX3B1dHMoc2VxLCAiIFZJUlRJT19ORVRfRl9HVUVTVF9DU1VNIik7Cj4gKyAg
ICAgICAgICAgICAgICAgICAgICAgYnJlYWs7Cj4gKyAgICAgICAgICAgICAgIGNhc2UgQklUX1VM
TChWSVJUSU9fTkVUX0ZfQ1RSTF9HVUVTVF9PRkZMT0FEUyk6Cj4gKyAgICAgICAgICAgICAgICAg
ICAgICAgc2VxX3B1dHMoc2VxLCAiIFZJUlRJT19ORVRfRl9DVFJMX0dVRVNUX09GRkxPQURTIik7
Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7Cj4gKyAgICAgICAgICAgICAgIGNhc2Ug
QklUX1VMTChWSVJUSU9fTkVUX0ZfTVRVKToKPiArICAgICAgICAgICAgICAgICAgICAgICBzZXFf
cHV0cyhzZXEsICIgVklSVElPX05FVF9GX01UVSIpOwo+ICsgICAgICAgICAgICAgICAgICAgICAg
IGJyZWFrOwo+ICsgICAgICAgICAgICAgICBjYXNlIEJJVF9VTEwoVklSVElPX05FVF9GX01BQyk6
Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgc2VxX3B1dHMoc2VxLCAiIFZJUlRJT19ORVRfRl9N
QUMiKTsKPiArICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKPiArICAgICAgICAgICAgICAg
Y2FzZSBCSVRfVUxMKFZJUlRJT19ORVRfRl9HVUVTVF9UU080KToKPiArICAgICAgICAgICAgICAg
ICAgICAgICBzZXFfcHV0cyhzZXEsICIgVklSVElPX05FVF9GX0dVRVNUX1RTTzQiKTsKPiArICAg
ICAgICAgICAgICAgICAgICAgICBicmVhazsKPiArICAgICAgICAgICAgICAgY2FzZSBCSVRfVUxM
KFZJUlRJT19ORVRfRl9HVUVTVF9UU082KToKPiArICAgICAgICAgICAgICAgICAgICAgICBzZXFf
cHV0cyhzZXEsICIgVklSVElPX05FVF9GX0dVRVNUX1RTTzYiKTsKPiArICAgICAgICAgICAgICAg
ICAgICAgICBicmVhazsKPiArICAgICAgICAgICAgICAgY2FzZSBCSVRfVUxMKFZJUlRJT19ORVRf
Rl9HVUVTVF9FQ04pOgo+ICsgICAgICAgICAgICAgICAgICAgICAgIHNlcV9wdXRzKHNlcSwgIiBW
SVJUSU9fTkVUX0ZfR1VFU1RfRUNOIik7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7
Cj4gKyAgICAgICAgICAgICAgIGNhc2UgQklUX1VMTChWSVJUSU9fTkVUX0ZfR1VFU1RfVUZPKToK
PiArICAgICAgICAgICAgICAgICAgICAgICBzZXFfcHV0cyhzZXEsICIgVklSVElPX05FVF9GX0dV
RVNUX1VGTyIpOwo+ICsgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwo+ICsgICAgICAgICAg
ICAgICBjYXNlIEJJVF9VTEwoVklSVElPX05FVF9GX0hPU1RfVFNPNCk6Cj4gKyAgICAgICAgICAg
ICAgICAgICAgICAgc2VxX3B1dHMoc2VxLCAiIFZJUlRJT19ORVRfRl9IT1NUX1RTTzQiKTsKPiAr
ICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKPiArICAgICAgICAgICAgICAgY2FzZSBCSVRf
VUxMKFZJUlRJT19ORVRfRl9IT1NUX1RTTzYpOgo+ICsgICAgICAgICAgICAgICAgICAgICAgIHNl
cV9wdXRzKHNlcSwgIiBWSVJUSU9fTkVUX0ZfSE9TVF9UU082Iik7Cj4gKyAgICAgICAgICAgICAg
ICAgICAgICAgYnJlYWs7Cj4gKyAgICAgICAgICAgICAgIGNhc2UgQklUX1VMTChWSVJUSU9fTkVU
X0ZfSE9TVF9FQ04pOgo+ICsgICAgICAgICAgICAgICAgICAgICAgIHNlcV9wdXRzKHNlcSwgIiBW
SVJUSU9fTkVUX0ZfSE9TVF9FQ04iKTsKPiArICAgICAgICAgICAgICAgICAgICAgICBicmVhazsK
PiArICAgICAgICAgICAgICAgY2FzZSBCSVRfVUxMKFZJUlRJT19ORVRfRl9IT1NUX1VGTyk6Cj4g
KyAgICAgICAgICAgICAgICAgICAgICAgc2VxX3B1dHMoc2VxLCAiIFZJUlRJT19ORVRfRl9IT1NU
X1VGTyIpOwo+ICsgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwo+ICsgICAgICAgICAgICAg
ICBjYXNlIEJJVF9VTEwoVklSVElPX05FVF9GX01SR19SWEJVRik6Cj4gKyAgICAgICAgICAgICAg
ICAgICAgICAgc2VxX3B1dHMoc2VxLCAiIFZJUlRJT19ORVRfRl9NUkdfUlhCVUYiKTsKPiArICAg
ICAgICAgICAgICAgICAgICAgICBicmVhazsKPiArICAgICAgICAgICAgICAgY2FzZSBCSVRfVUxM
KFZJUlRJT19ORVRfRl9TVEFUVVMpOgo+ICsgICAgICAgICAgICAgICAgICAgICAgIHNlcV9wdXRz
KHNlcSwgIiBWSVJUSU9fTkVUX0ZfU1RBVFVTIik7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAg
YnJlYWs7Cj4gKyAgICAgICAgICAgICAgIGNhc2UgQklUX1VMTChWSVJUSU9fTkVUX0ZfQ1RSTF9W
USk6Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgc2VxX3B1dHMoc2VxLCAiIFZJUlRJT19ORVRf
Rl9DVFJMX1ZRIik7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7Cj4gKyAgICAgICAg
ICAgICAgIGNhc2UgQklUX1VMTChWSVJUSU9fTkVUX0ZfQ1RSTF9SWCk6Cj4gKyAgICAgICAgICAg
ICAgICAgICAgICAgc2VxX3B1dHMoc2VxLCAiIFZJUlRJT19ORVRfRl9DVFJMX1JYIik7Cj4gKyAg
ICAgICAgICAgICAgICAgICAgICAgYnJlYWs7Cj4gKyAgICAgICAgICAgICAgIGNhc2UgQklUX1VM
TChWSVJUSU9fTkVUX0ZfQ1RSTF9WTEFOKToKPiArICAgICAgICAgICAgICAgICAgICAgICBzZXFf
cHV0cyhzZXEsICIgVklSVElPX05FVF9GX0NUUkxfVkxBTiIpOwo+ICsgICAgICAgICAgICAgICAg
ICAgICAgIGJyZWFrOwo+ICsgICAgICAgICAgICAgICBjYXNlIEJJVF9VTEwoVklSVElPX05FVF9G
X0NUUkxfUlhfRVhUUkEpOgo+ICsgICAgICAgICAgICAgICAgICAgICAgIHNlcV9wdXRzKHNlcSwg
IiBWSVJUSU9fTkVUX0ZfQ1RSTF9SWF9FWFRSQSIpOwo+ICsgICAgICAgICAgICAgICAgICAgICAg
IGJyZWFrOwo+ICsgICAgICAgICAgICAgICBjYXNlIEJJVF9VTEwoVklSVElPX05FVF9GX0dVRVNU
X0FOTk9VTkNFKToKPiArICAgICAgICAgICAgICAgICAgICAgICBzZXFfcHV0cyhzZXEsICIgVklS
VElPX05FVF9GX0dVRVNUX0FOTk9VTkNFIik7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgYnJl
YWs7Cj4gKyAgICAgICAgICAgICAgIGNhc2UgQklUX1VMTChWSVJUSU9fTkVUX0ZfTVEpOgo+ICsg
ICAgICAgICAgICAgICAgICAgICAgIHNlcV9wdXRzKHNlcSwgIiBWSVJUSU9fTkVUX0ZfTVEiKTsK
PiArICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKPiArICAgICAgICAgICAgICAgY2FzZSBC
SVRfVUxMKFZJUlRJT19ORVRfRl9DVFJMX01BQ19BRERSKToKPiArICAgICAgICAgICAgICAgICAg
ICAgICBzZXFfcHV0cyhzZXEsICIgVklSVElPX05FVF9GX0NUUkxfTUFDX0FERFIiKTsKPiArICAg
ICAgICAgICAgICAgICAgICAgICBicmVhazsKPiArICAgICAgICAgICAgICAgY2FzZSBCSVRfVUxM
KFZJUlRJT19ORVRfRl9IQVNIX1JFUE9SVCk6Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgc2Vx
X3B1dHMoc2VxLCAiIFZJUlRJT19ORVRfRl9IQVNIX1JFUE9SVCIpOwo+ICsgICAgICAgICAgICAg
ICAgICAgICAgIGJyZWFrOwo+ICsgICAgICAgICAgICAgICBjYXNlIEJJVF9VTEwoVklSVElPX05F
VF9GX1JTUyk6Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgc2VxX3B1dHMoc2VxLCAiIFZJUlRJ
T19ORVRfRl9SU1MiKTsKPiArICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKPiArICAgICAg
ICAgICAgICAgY2FzZSBCSVRfVUxMKFZJUlRJT19ORVRfRl9SU0NfRVhUKToKPiArICAgICAgICAg
ICAgICAgICAgICAgICBzZXFfcHV0cyhzZXEsICIgVklSVElPX05FVF9GX1JTQ19FWFQiKTsKPiAr
ICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKPiArICAgICAgICAgICAgICAgY2FzZSBCSVRf
VUxMKFZJUlRJT19ORVRfRl9TVEFOREJZKToKPiArICAgICAgICAgICAgICAgICAgICAgICBzZXFf
cHV0cyhzZXEsICIgVklSVElPX05FVF9GX1NUQU5EQlkiKTsKPiArICAgICAgICAgICAgICAgICAg
ICAgICBicmVhazsKPiArICAgICAgICAgICAgICAgY2FzZSBCSVRfVUxMKFZJUlRJT19ORVRfRl9T
UEVFRF9EVVBMRVgpOgo+ICsgICAgICAgICAgICAgICAgICAgICAgIHNlcV9wdXRzKHNlcSwgIiBW
SVJUSU9fTkVUX0ZfU1BFRURfRFVQTEVYIik7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgYnJl
YWs7Cj4gKyAgICAgICAgICAgICAgIGNhc2UgQklUX1VMTChWSVJUSU9fRl9OT1RJRllfT05fRU1Q
VFkpOgo+ICsgICAgICAgICAgICAgICAgICAgICAgIHNlcV9wdXRzKHNlcSwgIiBWSVJUSU9fRl9O
T1RJRllfT05fRU1QVFkiKTsKPiArICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKPiArICAg
ICAgICAgICAgICAgY2FzZSBCSVRfVUxMKFZJUlRJT19GX0FOWV9MQVlPVVQpOgo+ICsgICAgICAg
ICAgICAgICAgICAgICAgIHNlcV9wdXRzKHNlcSwgIiBWSVJUSU9fRl9BTllfTEFZT1VUIik7Cj4g
KyAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7Cj4gKyAgICAgICAgICAgICAgIGNhc2UgQklU
X1VMTChWSVJUSU9fRl9WRVJTSU9OXzEpOgo+ICsgICAgICAgICAgICAgICAgICAgICAgIHNlcV9w
dXRzKHNlcSwgIiBWSVJUSU9fRl9WRVJTSU9OXzEiKTsKPiArICAgICAgICAgICAgICAgICAgICAg
ICBicmVhazsKPiArICAgICAgICAgICAgICAgY2FzZSBCSVRfVUxMKFZJUlRJT19GX0FDQ0VTU19Q
TEFURk9STSk6Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgc2VxX3B1dHMoc2VxLCAiIFZJUlRJ
T19GX0FDQ0VTU19QTEFURk9STSIpOwo+ICsgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwo+
ICsgICAgICAgICAgICAgICBjYXNlIEJJVF9VTEwoVklSVElPX0ZfUklOR19QQUNLRUQpOgo+ICsg
ICAgICAgICAgICAgICAgICAgICAgIHNlcV9wdXRzKHNlcSwgIiBWSVJUSU9fRl9SSU5HX1BBQ0tF
RCIpOwo+ICsgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwo+ICsgICAgICAgICAgICAgICBj
YXNlIEJJVF9VTEwoVklSVElPX0ZfT1JERVJfUExBVEZPUk0pOgo+ICsgICAgICAgICAgICAgICAg
ICAgICAgIHNlcV9wdXRzKHNlcSwgIiBWSVJUSU9fRl9PUkRFUl9QTEFURk9STSIpOwo+ICsgICAg
ICAgICAgICAgICAgICAgICAgIGJyZWFrOwo+ICsgICAgICAgICAgICAgICBjYXNlIEJJVF9VTEwo
VklSVElPX0ZfU1JfSU9WKToKPiArICAgICAgICAgICAgICAgICAgICAgICBzZXFfcHV0cyhzZXEs
ICIgVklSVElPX0ZfU1JfSU9WIik7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7Cj4g
KyAgICAgICAgICAgICAgIGNhc2UgMDoKPiArICAgICAgICAgICAgICAgICAgICAgICBicmVhazsK
PiArICAgICAgICAgICAgICAgZGVmYXVsdDoKPiArICAgICAgICAgICAgICAgICAgICAgICBzZXFf
cHJpbnRmKHNlcSwgIiBiaXRfJWQiLCBpKTsKPiArICAgICAgICAgICAgICAgICAgICAgICBicmVh
azsKPiArICAgICAgICAgICAgICAgfQo+ICsgICAgICAgfQo+ICsKPiArICAgICAgIHNlcV9wdXRz
KHNlcSwgIlxuIik7Cj4gK30KPiArCj4gK3ZvaWQgcGRzX3ZkcGFfZGVidWdmc19hZGRfcGNpZGV2
KHN0cnVjdCBwZHNfdmRwYV9hdXggKnZkcGFfYXV4KQo+ICt7Cj4gKyAgICAgICB2ZHBhX2F1eC0+
ZGVudHJ5ID0gZGVidWdmc19jcmVhdGVfZGlyKHBjaV9uYW1lKHZkcGFfYXV4LT5wYWRldi0+dmZf
cGRldiksIGRiZnNfZGlyKTsKPiArfQo+ICsKPiArc3RhdGljIGludCBpZGVudGl0eV9zaG93KHN0
cnVjdCBzZXFfZmlsZSAqc2VxLCB2b2lkICp2KQo+ICt7Cj4gKyAgICAgICBzdHJ1Y3QgcGRzX3Zk
cGFfYXV4ICp2ZHBhX2F1eCA9IHNlcS0+cHJpdmF0ZTsKPiArICAgICAgIHN0cnVjdCB2ZHBhX21n
bXRfZGV2ICptZ210Owo+ICsKPiArICAgICAgIHNlcV9wcmludGYoc2VxLCAiYXV4X2RldjogICAg
ICAgICAgICAlc1xuIiwKPiArICAgICAgICAgICAgICAgICAgZGV2X25hbWUoJnZkcGFfYXV4LT5w
YWRldi0+YXV4X2Rldi5kZXYpKTsKPiArCj4gKyAgICAgICBtZ210ID0gJnZkcGFfYXV4LT52ZHBh
X21kZXY7Cj4gKyAgICAgICBzZXFfcHJpbnRmKHNlcSwgIm1heF92cXM6ICAgICAgICAgICAgJWRc
biIsIG1nbXQtPm1heF9zdXBwb3J0ZWRfdnFzKTsKPiArICAgICAgIHNlcV9wcmludGYoc2VxLCAi
Y29uZmlnX2F0dHJfbWFzazogICAlI2xseFxuIiwgbWdtdC0+Y29uZmlnX2F0dHJfbWFzayk7Cj4g
KyAgICAgICBzZXFfcHJpbnRmKHNlcSwgInN1cHBvcnRlZF9mZWF0dXJlczogJSNsbHhcbiIsIG1n
bXQtPnN1cHBvcnRlZF9mZWF0dXJlcyk7Cj4gKyAgICAgICBwcmludF9mZWF0dXJlX2JpdHNfYWxs
KHNlcSwgbWdtdC0+c3VwcG9ydGVkX2ZlYXR1cmVzKTsKPiArCj4gKyAgICAgICByZXR1cm4gMDsK
PiArfQo+ICtERUZJTkVfU0hPV19BVFRSSUJVVEUoaWRlbnRpdHkpOwo+ICsKPiArdm9pZCBwZHNf
dmRwYV9kZWJ1Z2ZzX2FkZF9pZGVudChzdHJ1Y3QgcGRzX3ZkcGFfYXV4ICp2ZHBhX2F1eCkKPiAr
ewo+ICsgICAgICAgZGVidWdmc19jcmVhdGVfZmlsZSgiaWRlbnRpdHkiLCAwNDAwLCB2ZHBhX2F1
eC0+ZGVudHJ5LAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZHBhX2F1eCwgJmlkZW50
aXR5X2ZvcHMpOwo+ICt9Cj4gKwo+ICtzdGF0aWMgaW50IGNvbmZpZ19zaG93KHN0cnVjdCBzZXFf
ZmlsZSAqc2VxLCB2b2lkICp2KQo+ICt7Cj4gKyAgICAgICBzdHJ1Y3QgcGRzX3ZkcGFfZGV2aWNl
ICpwZHN2ID0gc2VxLT5wcml2YXRlOwo+ICsgICAgICAgc3RydWN0IHZpcnRpb19uZXRfY29uZmln
IHZjOwo+ICsgICAgICAgdTY0IGRyaXZlcl9mZWF0dXJlczsKPiArICAgICAgIHU4IHN0YXR1czsK
PiArCj4gKyAgICAgICBtZW1jcHlfZnJvbWlvKCZ2YywgcGRzdi0+dmRwYV9hdXgtPnZkX21kZXYu
ZGV2aWNlLAo+ICsgICAgICAgICAgICAgICAgICAgICBzaXplb2Yoc3RydWN0IHZpcnRpb19uZXRf
Y29uZmlnKSk7Cj4gKwo+ICsgICAgICAgc2VxX3ByaW50ZihzZXEsICJtYWM6ICAgICAgICAgICAg
ICAgICAgJXBNXG4iLCB2Yy5tYWMpOwo+ICsgICAgICAgc2VxX3ByaW50ZihzZXEsICJtYXhfdmly
dHF1ZXVlX3BhaXJzOiAgJWRcbiIsCj4gKyAgICAgICAgICAgICAgICAgIF9fdmlydGlvMTZfdG9f
Y3B1KHRydWUsIHZjLm1heF92aXJ0cXVldWVfcGFpcnMpKTsKPiArICAgICAgIHNlcV9wcmludGYo
c2VxLCAibXR1OiAgICAgICAgICAgICAgICAgICVkXG4iLCBfX3ZpcnRpbzE2X3RvX2NwdSh0cnVl
LCB2Yy5tdHUpKTsKPiArICAgICAgIHNlcV9wcmludGYoc2VxLCAic3BlZWQ6ICAgICAgICAgICAg
ICAgICVkXG4iLCBsZTMyX3RvX2NwdSh2Yy5zcGVlZCkpOwo+ICsgICAgICAgc2VxX3ByaW50Zihz
ZXEsICJkdXBsZXg6ICAgICAgICAgICAgICAgJWRcbiIsIHZjLmR1cGxleCk7Cj4gKyAgICAgICBz
ZXFfcHJpbnRmKHNlcSwgInJzc19tYXhfa2V5X3NpemU6ICAgICAlZFxuIiwgdmMucnNzX21heF9r
ZXlfc2l6ZSk7Cj4gKyAgICAgICBzZXFfcHJpbnRmKHNlcSwgInJzc19tYXhfaW5kaXJlY3Rpb25f
dGFibGVfbGVuZ3RoOiAlZFxuIiwKPiArICAgICAgICAgICAgICAgICAgbGUxNl90b19jcHUodmMu
cnNzX21heF9pbmRpcmVjdGlvbl90YWJsZV9sZW5ndGgpKTsKPiArICAgICAgIHNlcV9wcmludGYo
c2VxLCAic3VwcG9ydGVkX2hhc2hfdHlwZXM6ICUjeFxuIiwKPiArICAgICAgICAgICAgICAgICAg
bGUzMl90b19jcHUodmMuc3VwcG9ydGVkX2hhc2hfdHlwZXMpKTsKPiArICAgICAgIHNlcV9wcmlu
dGYoc2VxLCAidm5fc3RhdHVzOiAgICAgICAgICAgICUjeFxuIiwKPiArICAgICAgICAgICAgICAg
ICAgX192aXJ0aW8xNl90b19jcHUodHJ1ZSwgdmMuc3RhdHVzKSk7Cj4gKwo+ICsgICAgICAgc3Rh
dHVzID0gdnBfbW9kZXJuX2dldF9zdGF0dXMoJnBkc3YtPnZkcGFfYXV4LT52ZF9tZGV2KTsKPiAr
ICAgICAgIHNlcV9wcmludGYoc2VxLCAiZGV2X3N0YXR1czogICAgICAgICAgICUjeFxuIiwgc3Rh
dHVzKTsKPiArICAgICAgIHByaW50X3N0YXR1c19iaXRzKHNlcSwgc3RhdHVzKTsKPiArCj4gKyAg
ICAgICBzZXFfcHJpbnRmKHNlcSwgInJlcV9mZWF0dXJlczogICAgICAgICAlI2xseFxuIiwgcGRz
di0+cmVxX2ZlYXR1cmVzKTsKPiArICAgICAgIHByaW50X2ZlYXR1cmVfYml0c19hbGwoc2VxLCBw
ZHN2LT5yZXFfZmVhdHVyZXMpOwo+ICsgICAgICAgZHJpdmVyX2ZlYXR1cmVzID0gdnBfbW9kZXJu
X2dldF9kcml2ZXJfZmVhdHVyZXMoJnBkc3YtPnZkcGFfYXV4LT52ZF9tZGV2KTsKPiArICAgICAg
IHNlcV9wcmludGYoc2VxLCAiZHJpdmVyX2ZlYXR1cmVzOiAgICAgICUjbGx4XG4iLCBkcml2ZXJf
ZmVhdHVyZXMpOwo+ICsgICAgICAgcHJpbnRfZmVhdHVyZV9iaXRzX2FsbChzZXEsIGRyaXZlcl9m
ZWF0dXJlcyk7Cj4gKyAgICAgICBzZXFfcHJpbnRmKHNlcSwgInZkcGFfaW5kZXg6ICAgICAgICAg
ICAlZFxuIiwgcGRzdi0+dmRwYV9pbmRleCk7Cj4gKyAgICAgICBzZXFfcHJpbnRmKHNlcSwgIm51
bV92cXM6ICAgICAgICAgICAgICAlZFxuIiwgcGRzdi0+bnVtX3Zxcyk7Cj4gKwo+ICsgICAgICAg
cmV0dXJuIDA7Cj4gK30KPiArREVGSU5FX1NIT1dfQVRUUklCVVRFKGNvbmZpZyk7Cj4gKwo+ICtz
dGF0aWMgaW50IHZxX3Nob3coc3RydWN0IHNlcV9maWxlICpzZXEsIHZvaWQgKnYpCj4gK3sKPiAr
ICAgICAgIHN0cnVjdCBwZHNfdmRwYV92cV9pbmZvICp2cSA9IHNlcS0+cHJpdmF0ZTsKPiArCj4g
KyAgICAgICBzZXFfcHJpbnRmKHNlcSwgInJlYWR5OiAgICAgICVkXG4iLCB2cS0+cmVhZHkpOwo+
ICsgICAgICAgc2VxX3ByaW50ZihzZXEsICJkZXNjX2FkZHI6ICAlI2xseFxuIiwgdnEtPmRlc2Nf
YWRkcik7Cj4gKyAgICAgICBzZXFfcHJpbnRmKHNlcSwgImF2YWlsX2FkZHI6ICUjbGx4XG4iLCB2
cS0+YXZhaWxfYWRkcik7Cj4gKyAgICAgICBzZXFfcHJpbnRmKHNlcSwgInVzZWRfYWRkcjogICUj
bGx4XG4iLCB2cS0+dXNlZF9hZGRyKTsKPiArICAgICAgIHNlcV9wcmludGYoc2VxLCAicV9sZW46
ICAgICAgJWRcbiIsIHZxLT5xX2xlbik7Cj4gKyAgICAgICBzZXFfcHJpbnRmKHNlcSwgInFpZDog
ICAgICAgICVkXG4iLCB2cS0+cWlkKTsKPiArCj4gKyAgICAgICBzZXFfcHJpbnRmKHNlcSwgImRv
b3JiZWxsOiAgICUjbGx4XG4iLCB2cS0+ZG9vcmJlbGwpOwo+ICsgICAgICAgc2VxX3ByaW50Zihz
ZXEsICJhdmFpbF9pZHg6ICAlZFxuIiwgdnEtPmF2YWlsX2lkeCk7Cj4gKyAgICAgICBzZXFfcHJp
bnRmKHNlcSwgInVzZWRfaWR4OiAgICVkXG4iLCB2cS0+dXNlZF9pZHgpOwo+ICsgICAgICAgc2Vx
X3ByaW50ZihzZXEsICJpcnE6ICAgICAgICAlZFxuIiwgdnEtPmlycSk7Cj4gKyAgICAgICBzZXFf
cHJpbnRmKHNlcSwgImlycS1uYW1lOiAgICVzXG4iLCB2cS0+aXJxX25hbWUpOwo+ICsKPiArICAg
ICAgIHJldHVybiAwOwo+ICt9Cj4gK0RFRklORV9TSE9XX0FUVFJJQlVURSh2cSk7Cj4gKwo+ICt2
b2lkIHBkc192ZHBhX2RlYnVnZnNfYWRkX3ZkcGFkZXYoc3RydWN0IHBkc192ZHBhX2F1eCAqdmRw
YV9hdXgpCj4gK3sKPiArICAgICAgIGludCBpOwo+ICsKPiArICAgICAgIGRlYnVnZnNfY3JlYXRl
X2ZpbGUoImNvbmZpZyIsIDA0MDAsIHZkcGFfYXV4LT5kZW50cnksIHZkcGFfYXV4LT5wZHN2LCAm
Y29uZmlnX2ZvcHMpOwo+ICsKPiArICAgICAgIGZvciAoaSA9IDA7IGkgPCB2ZHBhX2F1eC0+cGRz
di0+bnVtX3ZxczsgaSsrKSB7Cj4gKyAgICAgICAgICAgICAgIGNoYXIgbmFtZVs4XTsKPiArCj4g
KyAgICAgICAgICAgICAgIHNucHJpbnRmKG5hbWUsIHNpemVvZihuYW1lKSwgInZxJTAyZCIsIGkp
Owo+ICsgICAgICAgICAgICAgICBkZWJ1Z2ZzX2NyZWF0ZV9maWxlKG5hbWUsIDA0MDAsIHZkcGFf
YXV4LT5kZW50cnksCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJnZkcGFf
YXV4LT5wZHN2LT52cXNbaV0sICZ2cV9mb3BzKTsKPiArICAgICAgIH0KPiArfQo+ICsKPiArdm9p
ZCBwZHNfdmRwYV9kZWJ1Z2ZzX2RlbF92ZHBhZGV2KHN0cnVjdCBwZHNfdmRwYV9hdXggKnZkcGFf
YXV4KQo+ICt7Cj4gKyAgICAgICBkZWJ1Z2ZzX3JlbW92ZV9yZWN1cnNpdmUodmRwYV9hdXgtPmRl
bnRyeSk7Cj4gKyAgICAgICB2ZHBhX2F1eC0+ZGVudHJ5ID0gTlVMTDsKPiArfQo+ICsKPiArdm9p
ZCBwZHNfdmRwYV9kZWJ1Z2ZzX3Jlc2V0X3ZkcGFkZXYoc3RydWN0IHBkc192ZHBhX2F1eCAqdmRw
YV9hdXgpCj4gK3sKPiArICAgICAgIC8qIHdlIGRvbid0IGtlZXAgdHJhY2sgb2YgdGhlIGVudHJp
ZXMsIHNvIHJlbW92ZSBpdCBhbGwKPiArICAgICAgICAqIHRoZW4gcmVidWlsZCB0aGUgYmFzaWNz
Cj4gKyAgICAgICAgKi8KPiArICAgICAgIHBkc192ZHBhX2RlYnVnZnNfZGVsX3ZkcGFkZXYodmRw
YV9hdXgpOwo+ICsgICAgICAgcGRzX3ZkcGFfZGVidWdmc19hZGRfcGNpZGV2KHZkcGFfYXV4KTsK
PiArICAgICAgIHBkc192ZHBhX2RlYnVnZnNfYWRkX2lkZW50KHZkcGFfYXV4KTsKPiArfQo+IGRp
ZmYgLS1naXQgYS9kcml2ZXJzL3ZkcGEvcGRzL2RlYnVnZnMuaCBiL2RyaXZlcnMvdmRwYS9wZHMv
ZGVidWdmcy5oCj4gaW5kZXggNjU4ODQ5NTkxYTk5Li5jMDg4YTRlOGYxZTkgMTAwNjQ0Cj4gLS0t
IGEvZHJpdmVycy92ZHBhL3Bkcy9kZWJ1Z2ZzLmgKPiArKysgYi9kcml2ZXJzL3ZkcGEvcGRzL2Rl
YnVnZnMuaAo+IEBAIC04LDUgKzgsMTAgQEAKPgo+ICB2b2lkIHBkc192ZHBhX2RlYnVnZnNfY3Jl
YXRlKHZvaWQpOwo+ICB2b2lkIHBkc192ZHBhX2RlYnVnZnNfZGVzdHJveSh2b2lkKTsKPiArdm9p
ZCBwZHNfdmRwYV9kZWJ1Z2ZzX2FkZF9wY2lkZXYoc3RydWN0IHBkc192ZHBhX2F1eCAqdmRwYV9h
dXgpOwo+ICt2b2lkIHBkc192ZHBhX2RlYnVnZnNfYWRkX2lkZW50KHN0cnVjdCBwZHNfdmRwYV9h
dXggKnZkcGFfYXV4KTsKPiArdm9pZCBwZHNfdmRwYV9kZWJ1Z2ZzX2FkZF92ZHBhZGV2KHN0cnVj
dCBwZHNfdmRwYV9hdXggKnZkcGFfYXV4KTsKPiArdm9pZCBwZHNfdmRwYV9kZWJ1Z2ZzX2RlbF92
ZHBhZGV2KHN0cnVjdCBwZHNfdmRwYV9hdXggKnZkcGFfYXV4KTsKPiArdm9pZCBwZHNfdmRwYV9k
ZWJ1Z2ZzX3Jlc2V0X3ZkcGFkZXYoc3RydWN0IHBkc192ZHBhX2F1eCAqdmRwYV9hdXgpOwo+Cj4g
ICNlbmRpZiAvKiBfUERTX1ZEUEFfREVCVUdGU19IXyAqLwo+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L3ZkcGEvcGRzL3ZkcGFfZGV2LmMgYi9kcml2ZXJzL3ZkcGEvcGRzL3ZkcGFfZGV2LmMKPiBpbmRl
eCAwZjBmMGFiOGI4MTEuLjU2OTBlZTY3NmFkOSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL3ZkcGEv
cGRzL3ZkcGFfZGV2LmMKPiArKysgYi9kcml2ZXJzL3ZkcGEvcGRzL3ZkcGFfZGV2LmMKPiBAQCAt
NCw2ICs0LDcgQEAKPiAgI2luY2x1ZGUgPGxpbnV4L3BjaS5oPgo+ICAjaW5jbHVkZSA8bGludXgv
dmRwYS5oPgo+ICAjaW5jbHVkZSA8dWFwaS9saW51eC92ZHBhLmg+Cj4gKyNpbmNsdWRlIDxsaW51
eC92aXJ0aW9fcGNpX21vZGVybi5oPgo+Cj4gICNpbmNsdWRlIDxsaW51eC9wZHMvcGRzX2NvbW1v
bi5oPgo+ICAjaW5jbHVkZSA8bGludXgvcGRzL3Bkc19jb3JlX2lmLmg+Cj4gQEAgLTEyLDcgKzEz
LDQ2NCBAQAo+Cj4gICNpbmNsdWRlICJ2ZHBhX2Rldi5oIgo+ICAjaW5jbHVkZSAiYXV4X2Rydi5o
Igo+ICsjaW5jbHVkZSAiY21kcy5oIgo+ICsjaW5jbHVkZSAiZGVidWdmcy5oIgo+Cj4gK3N0YXRp
YyB1NjQgcGRzX3ZkcGFfZ2V0X2RyaXZlcl9mZWF0dXJlcyhzdHJ1Y3QgdmRwYV9kZXZpY2UgKnZk
cGFfZGV2KTsKPiArCj4gK3N0YXRpYyBzdHJ1Y3QgcGRzX3ZkcGFfZGV2aWNlICp2ZHBhX3RvX3Bk
c3Yoc3RydWN0IHZkcGFfZGV2aWNlICp2ZHBhX2RldikKPiArewo+ICsgICAgICAgcmV0dXJuIGNv
bnRhaW5lcl9vZih2ZHBhX2Rldiwgc3RydWN0IHBkc192ZHBhX2RldmljZSwgdmRwYV9kZXYpOwo+
ICt9Cj4gKwo+ICtzdGF0aWMgaW50IHBkc192ZHBhX3NldF92cV9hZGRyZXNzKHN0cnVjdCB2ZHBh
X2RldmljZSAqdmRwYV9kZXYsIHUxNiBxaWQsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICB1NjQgZGVzY19hZGRyLCB1NjQgZHJpdmVyX2FkZHIsIHU2NCBkZXZpY2VfYWRkcikK
PiArewo+ICsgICAgICAgc3RydWN0IHBkc192ZHBhX2RldmljZSAqcGRzdiA9IHZkcGFfdG9fcGRz
dih2ZHBhX2Rldik7Cj4gKwo+ICsgICAgICAgcGRzdi0+dnFzW3FpZF0uZGVzY19hZGRyID0gZGVz
Y19hZGRyOwo+ICsgICAgICAgcGRzdi0+dnFzW3FpZF0uYXZhaWxfYWRkciA9IGRyaXZlcl9hZGRy
Owo+ICsgICAgICAgcGRzdi0+dnFzW3FpZF0udXNlZF9hZGRyID0gZGV2aWNlX2FkZHI7Cj4gKwo+
ICsgICAgICAgcmV0dXJuIDA7Cj4gK30KPiArCj4gK3N0YXRpYyB2b2lkIHBkc192ZHBhX3NldF92
cV9udW0oc3RydWN0IHZkcGFfZGV2aWNlICp2ZHBhX2RldiwgdTE2IHFpZCwgdTMyIG51bSkKPiAr
ewo+ICsgICAgICAgc3RydWN0IHBkc192ZHBhX2RldmljZSAqcGRzdiA9IHZkcGFfdG9fcGRzdih2
ZHBhX2Rldik7Cj4gKwo+ICsgICAgICAgcGRzdi0+dnFzW3FpZF0ucV9sZW4gPSBudW07Cj4gK30K
PiArCj4gK3N0YXRpYyB2b2lkIHBkc192ZHBhX2tpY2tfdnEoc3RydWN0IHZkcGFfZGV2aWNlICp2
ZHBhX2RldiwgdTE2IHFpZCkKPiArewo+ICsgICAgICAgc3RydWN0IHBkc192ZHBhX2RldmljZSAq
cGRzdiA9IHZkcGFfdG9fcGRzdih2ZHBhX2Rldik7Cj4gKwo+ICsgICAgICAgaW93cml0ZTE2KHFp
ZCwgcGRzdi0+dnFzW3FpZF0ubm90aWZ5KTsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQgcGRzX3Zk
cGFfc2V0X3ZxX2NiKHN0cnVjdCB2ZHBhX2RldmljZSAqdmRwYV9kZXYsIHUxNiBxaWQsCj4gKyAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB2ZHBhX2NhbGxiYWNrICpjYikKPiAr
ewo+ICsgICAgICAgc3RydWN0IHBkc192ZHBhX2RldmljZSAqcGRzdiA9IHZkcGFfdG9fcGRzdih2
ZHBhX2Rldik7Cj4gKwo+ICsgICAgICAgcGRzdi0+dnFzW3FpZF0uZXZlbnRfY2IgPSAqY2I7Cj4g
K30KPiArCj4gK3N0YXRpYyBpcnFyZXR1cm5fdCBwZHNfdmRwYV9pc3IoaW50IGlycSwgdm9pZCAq
ZGF0YSkKPiArewo+ICsgICAgICAgc3RydWN0IHBkc192ZHBhX3ZxX2luZm8gKnZxOwo+ICsKPiAr
ICAgICAgIHZxID0gZGF0YTsKPiArICAgICAgIGlmICh2cS0+ZXZlbnRfY2IuY2FsbGJhY2spCj4g
KyAgICAgICAgICAgICAgIHZxLT5ldmVudF9jYi5jYWxsYmFjayh2cS0+ZXZlbnRfY2IucHJpdmF0
ZSk7Cj4gKwo+ICsgICAgICAgcmV0dXJuIElSUV9IQU5ETEVEOwo+ICt9Cj4gKwo+ICtzdGF0aWMg
dm9pZCBwZHNfdmRwYV9yZWxlYXNlX2lycShzdHJ1Y3QgcGRzX3ZkcGFfZGV2aWNlICpwZHN2LCBp
bnQgcWlkKQo+ICt7Cj4gKyAgICAgICBpZiAocGRzdi0+dnFzW3FpZF0uaXJxID09IFZJUlRJT19N
U0lfTk9fVkVDVE9SKQo+ICsgICAgICAgICAgICAgICByZXR1cm47Cj4gKwo+ICsgICAgICAgZnJl
ZV9pcnEocGRzdi0+dnFzW3FpZF0uaXJxLCAmcGRzdi0+dnFzW3FpZF0pOwo+ICsgICAgICAgcGRz
di0+dnFzW3FpZF0uaXJxID0gVklSVElPX01TSV9OT19WRUNUT1I7Cj4gK30KPiArCj4gK3N0YXRp
YyB2b2lkIHBkc192ZHBhX3NldF92cV9yZWFkeShzdHJ1Y3QgdmRwYV9kZXZpY2UgKnZkcGFfZGV2
LCB1MTYgcWlkLCBib29sIHJlYWR5KQo+ICt7Cj4gKyAgICAgICBzdHJ1Y3QgcGRzX3ZkcGFfZGV2
aWNlICpwZHN2ID0gdmRwYV90b19wZHN2KHZkcGFfZGV2KTsKPiArICAgICAgIHN0cnVjdCBwY2lf
ZGV2ICpwZGV2ID0gcGRzdi0+dmRwYV9hdXgtPnBhZGV2LT52Zl9wZGV2Owo+ICsgICAgICAgc3Ry
dWN0IGRldmljZSAqZGV2ID0gJnBkc3YtPnZkcGFfZGV2LmRldjsKPiArICAgICAgIHU2NCBkcml2
ZXJfZmVhdHVyZXM7Cj4gKyAgICAgICB1MTYgaW52ZXJ0X2lkeCA9IDA7Cj4gKyAgICAgICBpbnQg
aXJxOwo+ICsgICAgICAgaW50IGVycjsKPiArCj4gKyAgICAgICBkZXZfZGJnKGRldiwgIiVzOiBx
aWQgJWQgcmVhZHkgJWQgPT4gJWRcbiIsCj4gKyAgICAgICAgICAgICAgIF9fZnVuY19fLCBxaWQs
IHBkc3YtPnZxc1txaWRdLnJlYWR5LCByZWFkeSk7Cj4gKyAgICAgICBpZiAocmVhZHkgPT0gcGRz
di0+dnFzW3FpZF0ucmVhZHkpCj4gKyAgICAgICAgICAgICAgIHJldHVybjsKPiArCj4gKyAgICAg
ICBkcml2ZXJfZmVhdHVyZXMgPSBwZHNfdmRwYV9nZXRfZHJpdmVyX2ZlYXR1cmVzKHZkcGFfZGV2
KTsKPiArICAgICAgIGlmIChkcml2ZXJfZmVhdHVyZXMgJiBCSVRfVUxMKFZJUlRJT19GX1JJTkdf
UEFDS0VEKSkKPiArICAgICAgICAgICAgICAgaW52ZXJ0X2lkeCA9IFBEU19WRFBBX1BBQ0tFRF9J
TlZFUlRfSURYOwo+ICsKPiArICAgICAgIGlmIChyZWFkeSkgewo+ICsgICAgICAgICAgICAgICBp
cnEgPSBwY2lfaXJxX3ZlY3RvcihwZGV2LCBxaWQpOwo+ICsgICAgICAgICAgICAgICBzbnByaW50
ZihwZHN2LT52cXNbcWlkXS5pcnFfbmFtZSwgc2l6ZW9mKHBkc3YtPnZxc1txaWRdLmlycV9uYW1l
KSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgInZkcGEtJXMtJWQiLCBkZXZfbmFtZShkZXYp
LCBxaWQpOwo+ICsKPiArICAgICAgICAgICAgICAgZXJyID0gcmVxdWVzdF9pcnEoaXJxLCBwZHNf
dmRwYV9pc3IsIDAsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBkc3YtPnZx
c1txaWRdLmlycV9uYW1lLCAmcGRzdi0+dnFzW3FpZF0pOwo+ICsgICAgICAgICAgICAgICBpZiAo
ZXJyKSB7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgZGV2X2VycihkZXYsICIlczogbm8gaXJx
IGZvciBxaWQgJWQ6ICVwZVxuIiwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9f
ZnVuY19fLCBxaWQsIEVSUl9QVFIoZXJyKSk7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgcmV0
dXJuOwo+ICsgICAgICAgICAgICAgICB9Cj4gKyAgICAgICAgICAgICAgIHBkc3YtPnZxc1txaWRd
LmlycSA9IGlycTsKPiArCj4gKyAgICAgICAgICAgICAgIC8qIFBhc3MgdnEgc2V0dXAgaW5mbyB0
byBEU0MgdXNpbmcgYWRtaW5xIHRvIGdhdGhlciB1cCBhbmQKPiArICAgICAgICAgICAgICAgICog
c2VuZCBhbGwgaW5mbyBhdCBvbmNlIHNvIEZXIGNhbiBkbyBpdHMgZnVsbCBzZXQgdXAgaW4KPiAr
ICAgICAgICAgICAgICAgICogb25lIGVhc3kgb3BlcmF0aW9uCj4gKyAgICAgICAgICAgICAgICAq
Lwo+ICsgICAgICAgICAgICAgICBlcnIgPSBwZHNfdmRwYV9jbWRfaW5pdF92cShwZHN2LCBxaWQs
IGludmVydF9pZHgsICZwZHN2LT52cXNbcWlkXSk7Cj4gKyAgICAgICAgICAgICAgIGlmIChlcnIp
IHsKPiArICAgICAgICAgICAgICAgICAgICAgICBkZXZfZXJyKGRldiwgIkZhaWxlZCB0byBpbml0
IHZxICVkOiAlcGVcbiIsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxaWQsIEVS
Ul9QVFIoZXJyKSk7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgcGRzX3ZkcGFfcmVsZWFzZV9p
cnEocGRzdiwgcWlkKTsKPiArICAgICAgICAgICAgICAgICAgICAgICByZWFkeSA9IGZhbHNlOwo+
ICsgICAgICAgICAgICAgICB9Cj4gKyAgICAgICB9IGVsc2Ugewo+ICsgICAgICAgICAgICAgICBl
cnIgPSBwZHNfdmRwYV9jbWRfcmVzZXRfdnEocGRzdiwgcWlkLCBpbnZlcnRfaWR4LCAmcGRzdi0+
dnFzW3FpZF0pOwo+ICsgICAgICAgICAgICAgICBpZiAoZXJyKQo+ICsgICAgICAgICAgICAgICAg
ICAgICAgIGRldl9lcnIoZGV2LCAiJXM6IHJlc2V0X3ZxIGZhaWxlZCBxaWQgJWQ6ICVwZVxuIiwK
PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9fZnVuY19fLCBxaWQsIEVSUl9QVFIo
ZXJyKSk7Cj4gKyAgICAgICAgICAgICAgIHBkc192ZHBhX3JlbGVhc2VfaXJxKHBkc3YsIHFpZCk7
Cj4gKyAgICAgICB9Cj4gKwo+ICsgICAgICAgcGRzdi0+dnFzW3FpZF0ucmVhZHkgPSByZWFkeTsK
PiArfQo+ICsKPiArc3RhdGljIGJvb2wgcGRzX3ZkcGFfZ2V0X3ZxX3JlYWR5KHN0cnVjdCB2ZHBh
X2RldmljZSAqdmRwYV9kZXYsIHUxNiBxaWQpCj4gK3sKPiArICAgICAgIHN0cnVjdCBwZHNfdmRw
YV9kZXZpY2UgKnBkc3YgPSB2ZHBhX3RvX3Bkc3YodmRwYV9kZXYpOwo+ICsKPiArICAgICAgIHJl
dHVybiBwZHN2LT52cXNbcWlkXS5yZWFkeTsKPiArfQo+ICsKPiArc3RhdGljIGludCBwZHNfdmRw
YV9zZXRfdnFfc3RhdGUoc3RydWN0IHZkcGFfZGV2aWNlICp2ZHBhX2RldiwgdTE2IHFpZCwKPiAr
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJ1Y3QgdmRwYV92cV9zdGF0
ZSAqc3RhdGUpCj4gK3sKPiArICAgICAgIHN0cnVjdCBwZHNfdmRwYV9kZXZpY2UgKnBkc3YgPSB2
ZHBhX3RvX3Bkc3YodmRwYV9kZXYpOwo+ICsgICAgICAgc3RydWN0IHBkc19hdXhpbGlhcnlfZGV2
ICpwYWRldiA9IHBkc3YtPnZkcGFfYXV4LT5wYWRldjsKPiArICAgICAgIHN0cnVjdCBkZXZpY2Ug
KmRldiA9ICZwYWRldi0+YXV4X2Rldi5kZXY7Cj4gKyAgICAgICB1NjQgZHJpdmVyX2ZlYXR1cmVz
Owo+ICsgICAgICAgdTE2IGF2YWlsOwo+ICsgICAgICAgdTE2IHVzZWQ7Cj4gKwo+ICsgICAgICAg
aWYgKHBkc3YtPnZxc1txaWRdLnJlYWR5KSB7Cj4gKyAgICAgICAgICAgICAgIGRldl9lcnIoZGV2
LCAiU2V0dGluZyBkZXZpY2UgcG9zaXRpb24gaXMgZGVuaWVkIHdoaWxlIHZxIGlzIGVuYWJsZWRc
biIpOwo+ICsgICAgICAgICAgICAgICByZXR1cm4gLUVJTlZBTDsKPiArICAgICAgIH0KPiArCj4g
KyAgICAgICBkcml2ZXJfZmVhdHVyZXMgPSBwZHNfdmRwYV9nZXRfZHJpdmVyX2ZlYXR1cmVzKHZk
cGFfZGV2KTsKPiArICAgICAgIGlmIChkcml2ZXJfZmVhdHVyZXMgJiBCSVRfVUxMKFZJUlRJT19G
X1JJTkdfUEFDS0VEKSkgewo+ICsgICAgICAgICAgICAgICBhdmFpbCA9IHN0YXRlLT5wYWNrZWQu
bGFzdF9hdmFpbF9pZHggfAo+ICsgICAgICAgICAgICAgICAgICAgICAgIChzdGF0ZS0+cGFja2Vk
Lmxhc3RfYXZhaWxfY291bnRlciA8PCAxNSk7Cj4gKyAgICAgICAgICAgICAgIHVzZWQgPSBzdGF0
ZS0+cGFja2VkLmxhc3RfdXNlZF9pZHggfAo+ICsgICAgICAgICAgICAgICAgICAgICAgKHN0YXRl
LT5wYWNrZWQubGFzdF91c2VkX2NvdW50ZXIgPDwgMTUpOwo+ICsKPiArICAgICAgICAgICAgICAg
LyogVGhlIGF2YWlsIGFuZCB1c2VkIGluZGV4IGFyZSBzdG9yZWQgd2l0aCB0aGUgcGFja2VkIHdy
YXAKPiArICAgICAgICAgICAgICAgICogY291bnRlciBiaXQgaW52ZXJ0ZWQuICBUaGlzIHdheSwg
aW4gY2FzZSBzZXRfdnFfc3RhdGUgaXMKPiArICAgICAgICAgICAgICAgICogbm90IGNhbGxlZCwg
dGhlIGluaXRpYWwgdmFsdWUgY2FuIGJlIHNldCB0byB6ZXJvIHByaW9yIHRvCj4gKyAgICAgICAg
ICAgICAgICAqIGZlYXR1cmUgbmVnb3RpYXRpb24sIGFuZCBpdCBpcyBnb29kIGZvciBib3RoIHBh
Y2tlZCBhbmQKPiArICAgICAgICAgICAgICAgICogc3BsaXQgdnEuCj4gKyAgICAgICAgICAgICAg
ICAqLwo+ICsgICAgICAgICAgICAgICBhdmFpbCBePSBQRFNfVkRQQV9QQUNLRURfSU5WRVJUX0lE
WDsKPiArICAgICAgICAgICAgICAgdXNlZCBePSBQRFNfVkRQQV9QQUNLRURfSU5WRVJUX0lEWDsK
PiArICAgICAgIH0gZWxzZSB7Cj4gKyAgICAgICAgICAgICAgIGF2YWlsID0gc3RhdGUtPnNwbGl0
LmF2YWlsX2luZGV4Owo+ICsgICAgICAgICAgICAgICAvKiBzdGF0ZS0+c3BsaXQgZG9lcyBub3Qg
cHJvdmlkZSBhIHVzZWRfaW5kZXg6Cj4gKyAgICAgICAgICAgICAgICAqIHRoZSB2cSB3aWxsIGJl
IHNldCB0byAiZW1wdHkiIGhlcmUsIGFuZCB0aGUgdnEgd2lsbCByZWFkCj4gKyAgICAgICAgICAg
ICAgICAqIHRoZSBjdXJyZW50IHVzZWQgaW5kZXggdGhlIG5leHQgdGltZSB0aGUgdnEgaXMga2lj
a2VkLgo+ICsgICAgICAgICAgICAgICAgKi8KPiArICAgICAgICAgICAgICAgdXNlZCA9IGF2YWls
Owo+ICsgICAgICAgfQo+ICsKPiArICAgICAgIGlmICh1c2VkICE9IGF2YWlsKSB7Cj4gKyAgICAg
ICAgICAgICAgIGRldl9kYmcoZGV2LCAiU2V0dGluZyB1c2VkIGVxdWFsIHRvIGF2YWlsLCBmb3Ig
aW50ZXJvcGVyYWJpbGl0eVxuIik7Cj4gKyAgICAgICAgICAgICAgIHVzZWQgPSBhdmFpbDsKPiAr
ICAgICAgIH0KPiArCj4gKyAgICAgICBwZHN2LT52cXNbcWlkXS5hdmFpbF9pZHggPSBhdmFpbDsK
PiArICAgICAgIHBkc3YtPnZxc1txaWRdLnVzZWRfaWR4ID0gdXNlZDsKPiArCj4gKyAgICAgICBy
ZXR1cm4gMDsKPiArfQo+ICsKPiArc3RhdGljIGludCBwZHNfdmRwYV9nZXRfdnFfc3RhdGUoc3Ry
dWN0IHZkcGFfZGV2aWNlICp2ZHBhX2RldiwgdTE2IHFpZCwKPiArICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBzdHJ1Y3QgdmRwYV92cV9zdGF0ZSAqc3RhdGUpCj4gK3sKPiArICAgICAg
IHN0cnVjdCBwZHNfdmRwYV9kZXZpY2UgKnBkc3YgPSB2ZHBhX3RvX3Bkc3YodmRwYV9kZXYpOwo+
ICsgICAgICAgc3RydWN0IHBkc19hdXhpbGlhcnlfZGV2ICpwYWRldiA9IHBkc3YtPnZkcGFfYXV4
LT5wYWRldjsKPiArICAgICAgIHN0cnVjdCBkZXZpY2UgKmRldiA9ICZwYWRldi0+YXV4X2Rldi5k
ZXY7Cj4gKyAgICAgICB1NjQgZHJpdmVyX2ZlYXR1cmVzOwo+ICsgICAgICAgdTE2IGF2YWlsOwo+
ICsgICAgICAgdTE2IHVzZWQ7Cj4gKwo+ICsgICAgICAgaWYgKHBkc3YtPnZxc1txaWRdLnJlYWR5
KSB7Cj4gKyAgICAgICAgICAgICAgIGRldl9lcnIoZGV2LCAiR2V0dGluZyBkZXZpY2UgcG9zaXRp
b24gaXMgZGVuaWVkIHdoaWxlIHZxIGlzIGVuYWJsZWRcbiIpOwo+ICsgICAgICAgICAgICAgICBy
ZXR1cm4gLUVJTlZBTDsKPiArICAgICAgIH0KPiArCj4gKyAgICAgICBhdmFpbCA9IHBkc3YtPnZx
c1txaWRdLmF2YWlsX2lkeDsKPiArICAgICAgIHVzZWQgPSBwZHN2LT52cXNbcWlkXS51c2VkX2lk
eDsKPiArCj4gKyAgICAgICBkcml2ZXJfZmVhdHVyZXMgPSBwZHNfdmRwYV9nZXRfZHJpdmVyX2Zl
YXR1cmVzKHZkcGFfZGV2KTsKPiArICAgICAgIGlmIChkcml2ZXJfZmVhdHVyZXMgJiBCSVRfVUxM
KFZJUlRJT19GX1JJTkdfUEFDS0VEKSkgewo+ICsgICAgICAgICAgICAgICBhdmFpbCBePSBQRFNf
VkRQQV9QQUNLRURfSU5WRVJUX0lEWDsKPiArICAgICAgICAgICAgICAgdXNlZCBePSBQRFNfVkRQ
QV9QQUNLRURfSU5WRVJUX0lEWDsKPiArCj4gKyAgICAgICAgICAgICAgIHN0YXRlLT5wYWNrZWQu
bGFzdF9hdmFpbF9pZHggPSBhdmFpbCAmIDB4N2ZmZjsKPiArICAgICAgICAgICAgICAgc3RhdGUt
PnBhY2tlZC5sYXN0X2F2YWlsX2NvdW50ZXIgPSBhdmFpbCA+PiAxNTsKPiArICAgICAgICAgICAg
ICAgc3RhdGUtPnBhY2tlZC5sYXN0X3VzZWRfaWR4ID0gdXNlZCAmIDB4N2ZmZjsKPiArICAgICAg
ICAgICAgICAgc3RhdGUtPnBhY2tlZC5sYXN0X3VzZWRfY291bnRlciA9IHVzZWQgPj4gMTU7Cj4g
KyAgICAgICB9IGVsc2Ugewo+ICsgICAgICAgICAgICAgICBzdGF0ZS0+c3BsaXQuYXZhaWxfaW5k
ZXggPSBhdmFpbDsKPiArICAgICAgICAgICAgICAgLyogc3RhdGUtPnNwbGl0IGRvZXMgbm90IHBy
b3ZpZGUgYSB1c2VkX2luZGV4LiAqLwo+ICsgICAgICAgfQo+ICsKPiArICAgICAgIHJldHVybiAw
Owo+ICt9Cj4gKwo+ICtzdGF0aWMgc3RydWN0IHZkcGFfbm90aWZpY2F0aW9uX2FyZWEKPiArcGRz
X3ZkcGFfZ2V0X3ZxX25vdGlmaWNhdGlvbihzdHJ1Y3QgdmRwYV9kZXZpY2UgKnZkcGFfZGV2LCB1
MTYgcWlkKQo+ICt7Cj4gKyAgICAgICBzdHJ1Y3QgcGRzX3ZkcGFfZGV2aWNlICpwZHN2ID0gdmRw
YV90b19wZHN2KHZkcGFfZGV2KTsKPiArICAgICAgIHN0cnVjdCB2aXJ0aW9fcGNpX21vZGVybl9k
ZXZpY2UgKnZkX21kZXY7Cj4gKyAgICAgICBzdHJ1Y3QgdmRwYV9ub3RpZmljYXRpb25fYXJlYSBh
cmVhOwo+ICsKPiArICAgICAgIGFyZWEuYWRkciA9IHBkc3YtPnZxc1txaWRdLm5vdGlmeV9wYTsK
PiArCj4gKyAgICAgICB2ZF9tZGV2ID0gJnBkc3YtPnZkcGFfYXV4LT52ZF9tZGV2Owo+ICsgICAg
ICAgaWYgKCF2ZF9tZGV2LT5ub3RpZnlfb2Zmc2V0X211bHRpcGxpZXIpCj4gKyAgICAgICAgICAg
ICAgIGFyZWEuc2l6ZSA9IFBEU19QQUdFX1NJWkU7Cj4gKyAgICAgICBlbHNlCj4gKyAgICAgICAg
ICAgICAgIGFyZWEuc2l6ZSA9IHZkX21kZXYtPm5vdGlmeV9vZmZzZXRfbXVsdGlwbGllcjsKPiAr
Cj4gKyAgICAgICByZXR1cm4gYXJlYTsKPiArfQo+ICsKPiArc3RhdGljIGludCBwZHNfdmRwYV9n
ZXRfdnFfaXJxKHN0cnVjdCB2ZHBhX2RldmljZSAqdmRwYV9kZXYsIHUxNiBxaWQpCj4gK3sKPiAr
ICAgICAgIHN0cnVjdCBwZHNfdmRwYV9kZXZpY2UgKnBkc3YgPSB2ZHBhX3RvX3Bkc3YodmRwYV9k
ZXYpOwo+ICsKPiArICAgICAgIHJldHVybiBwZHN2LT52cXNbcWlkXS5pcnE7Cj4gK30KPiArCj4g
K3N0YXRpYyB1MzIgcGRzX3ZkcGFfZ2V0X3ZxX2FsaWduKHN0cnVjdCB2ZHBhX2RldmljZSAqdmRw
YV9kZXYpCj4gK3sKPiArICAgICAgIHJldHVybiBQRFNfUEFHRV9TSVpFOwo+ICt9Cj4gKwo+ICtz
dGF0aWMgdTMyIHBkc192ZHBhX2dldF92cV9ncm91cChzdHJ1Y3QgdmRwYV9kZXZpY2UgKnZkcGFf
ZGV2LCB1MTYgaWR4KQo+ICt7Cj4gKyAgICAgICByZXR1cm4gMDsKPiArfQo+ICsKPiArc3RhdGlj
IHU2NCBwZHNfdmRwYV9nZXRfZGV2aWNlX2ZlYXR1cmVzKHN0cnVjdCB2ZHBhX2RldmljZSAqdmRw
YV9kZXYpCj4gK3sKPiArICAgICAgIHN0cnVjdCBwZHNfdmRwYV9kZXZpY2UgKnBkc3YgPSB2ZHBh
X3RvX3Bkc3YodmRwYV9kZXYpOwo+ICsKPiArICAgICAgIHJldHVybiBwZHN2LT5zdXBwb3J0ZWRf
ZmVhdHVyZXM7Cj4gK30KPiArCj4gK3N0YXRpYyBpbnQgcGRzX3ZkcGFfc2V0X2RyaXZlcl9mZWF0
dXJlcyhzdHJ1Y3QgdmRwYV9kZXZpY2UgKnZkcGFfZGV2LCB1NjQgZmVhdHVyZXMpCj4gK3sKPiAr
ICAgICAgIHN0cnVjdCBwZHNfdmRwYV9kZXZpY2UgKnBkc3YgPSB2ZHBhX3RvX3Bkc3YodmRwYV9k
ZXYpOwo+ICsgICAgICAgc3RydWN0IGRldmljZSAqZGV2ID0gJnBkc3YtPnZkcGFfZGV2LmRldjsK
PiArICAgICAgIHU2NCBkcml2ZXJfZmVhdHVyZXM7Cj4gKyAgICAgICB1NjQgbmVnb19mZWF0dXJl
czsKPiArICAgICAgIHU2NCBtaXNzaW5nOwo+ICsKPiArICAgICAgIGlmICghKGZlYXR1cmVzICYg
QklUX1VMTChWSVJUSU9fRl9BQ0NFU1NfUExBVEZPUk0pKSAmJiBmZWF0dXJlcykgewo+ICsgICAg
ICAgICAgICAgICBkZXZfZXJyKGRldiwgIlZJUlRJT19GX0FDQ0VTU19QTEFURk9STSBpcyBub3Qg
bmVnb3RpYXRlZFxuIik7Cj4gKyAgICAgICAgICAgICAgIHJldHVybiAtRU9QTk9UU1VQUDsKPiAr
ICAgICAgIH0KPiArCj4gKyAgICAgICBwZHN2LT5yZXFfZmVhdHVyZXMgPSBmZWF0dXJlczsKPiAr
Cj4gKyAgICAgICAvKiBDaGVjayBmb3IgdmFsaWQgZmVhdHVyZSBiaXRzICovCj4gKyAgICAgICBu
ZWdvX2ZlYXR1cmVzID0gZmVhdHVyZXMgJiBsZTY0X3RvX2NwdShwZHN2LT52ZHBhX2F1eC0+aWRl
bnQuaHdfZmVhdHVyZXMpOwo+ICsgICAgICAgbWlzc2luZyA9IHBkc3YtPnJlcV9mZWF0dXJlcyAm
IH5uZWdvX2ZlYXR1cmVzOwo+ICsgICAgICAgaWYgKG1pc3NpbmcpIHsKPiArICAgICAgICAgICAg
ICAgZGV2X2VycihkZXYsICJDYW4ndCBzdXBwb3J0IGFsbCByZXF1ZXN0ZWQgZmVhdHVyZXMgaW4g
JSNsbHgsIG1pc3NpbmcgJSNsbHggZmVhdHVyZXNcbiIsCj4gKyAgICAgICAgICAgICAgICAgICAg
ICAgcGRzdi0+cmVxX2ZlYXR1cmVzLCBtaXNzaW5nKTsKPiArICAgICAgICAgICAgICAgcmV0dXJu
IC1FT1BOT1RTVVBQOwo+ICsgICAgICAgfQo+ICsKPiArICAgICAgIGRyaXZlcl9mZWF0dXJlcyA9
IHBkc192ZHBhX2dldF9kcml2ZXJfZmVhdHVyZXModmRwYV9kZXYpOwo+ICsgICAgICAgZGV2X2Ri
ZyhkZXYsICIlczogJSNsbHggPT4gJSNsbHhcbiIsCj4gKyAgICAgICAgICAgICAgIF9fZnVuY19f
LCBkcml2ZXJfZmVhdHVyZXMsIG5lZ29fZmVhdHVyZXMpOwo+ICsKPiArICAgICAgIGlmIChkcml2
ZXJfZmVhdHVyZXMgPT0gbmVnb19mZWF0dXJlcykKPiArICAgICAgICAgICAgICAgcmV0dXJuIDA7
Cj4gKwo+ICsgICAgICAgdnBfbW9kZXJuX3NldF9mZWF0dXJlcygmcGRzdi0+dmRwYV9hdXgtPnZk
X21kZXYsIG5lZ29fZmVhdHVyZXMpOwo+ICsKPiArICAgICAgIHJldHVybiAwOwo+ICt9Cj4gKwo+
ICtzdGF0aWMgdTY0IHBkc192ZHBhX2dldF9kcml2ZXJfZmVhdHVyZXMoc3RydWN0IHZkcGFfZGV2
aWNlICp2ZHBhX2RldikKPiArewo+ICsgICAgICAgc3RydWN0IHBkc192ZHBhX2RldmljZSAqcGRz
diA9IHZkcGFfdG9fcGRzdih2ZHBhX2Rldik7Cj4gKwo+ICsgICAgICAgcmV0dXJuIHZwX21vZGVy
bl9nZXRfZHJpdmVyX2ZlYXR1cmVzKCZwZHN2LT52ZHBhX2F1eC0+dmRfbWRldik7Cj4gK30KPiAr
Cj4gK3N0YXRpYyB2b2lkIHBkc192ZHBhX3NldF9jb25maWdfY2Ioc3RydWN0IHZkcGFfZGV2aWNl
ICp2ZHBhX2RldiwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB2
ZHBhX2NhbGxiYWNrICpjYikKPiArewo+ICsgICAgICAgc3RydWN0IHBkc192ZHBhX2RldmljZSAq
cGRzdiA9IHZkcGFfdG9fcGRzdih2ZHBhX2Rldik7Cj4gKwo+ICsgICAgICAgcGRzdi0+Y29uZmln
X2NiLmNhbGxiYWNrID0gY2ItPmNhbGxiYWNrOwo+ICsgICAgICAgcGRzdi0+Y29uZmlnX2NiLnBy
aXZhdGUgPSBjYi0+cHJpdmF0ZTsKPiArfQo+ICsKPiArc3RhdGljIHUxNiBwZHNfdmRwYV9nZXRf
dnFfbnVtX21heChzdHJ1Y3QgdmRwYV9kZXZpY2UgKnZkcGFfZGV2KQo+ICt7Cj4gKyAgICAgICBz
dHJ1Y3QgcGRzX3ZkcGFfZGV2aWNlICpwZHN2ID0gdmRwYV90b19wZHN2KHZkcGFfZGV2KTsKPiAr
Cj4gKyAgICAgICAvKiBxZW11IGhhcyBhc3NlcnQoKSB0aGF0IHZxX251bV9tYXggPD0gVklSVFFV
RVVFX01BWF9TSVpFICgxMDI0KSAqLwo+ICsgICAgICAgcmV0dXJuIG1pbl90KHUxNiwgMTAyNCwg
QklUKGxlMTZfdG9fY3B1KHBkc3YtPnZkcGFfYXV4LT5pZGVudC5tYXhfcWxlbikpKTsKPiArfQo+
ICsKPiArc3RhdGljIHUzMiBwZHNfdmRwYV9nZXRfZGV2aWNlX2lkKHN0cnVjdCB2ZHBhX2Rldmlj
ZSAqdmRwYV9kZXYpCj4gK3sKPiArICAgICAgIHJldHVybiBWSVJUSU9fSURfTkVUOwo+ICt9Cj4g
Kwo+ICtzdGF0aWMgdTMyIHBkc192ZHBhX2dldF92ZW5kb3JfaWQoc3RydWN0IHZkcGFfZGV2aWNl
ICp2ZHBhX2RldikKPiArewo+ICsgICAgICAgcmV0dXJuIFBDSV9WRU5ET1JfSURfUEVOU0FORE87
Cj4gK30KPiArCj4gK3N0YXRpYyB1OCBwZHNfdmRwYV9nZXRfc3RhdHVzKHN0cnVjdCB2ZHBhX2Rl
dmljZSAqdmRwYV9kZXYpCj4gK3sKPiArICAgICAgIHN0cnVjdCBwZHNfdmRwYV9kZXZpY2UgKnBk
c3YgPSB2ZHBhX3RvX3Bkc3YodmRwYV9kZXYpOwo+ICsKPiArICAgICAgIHJldHVybiB2cF9tb2Rl
cm5fZ2V0X3N0YXR1cygmcGRzdi0+dmRwYV9hdXgtPnZkX21kZXYpOwo+ICt9Cj4gKwo+ICtzdGF0
aWMgdm9pZCBwZHNfdmRwYV9zZXRfc3RhdHVzKHN0cnVjdCB2ZHBhX2RldmljZSAqdmRwYV9kZXYs
IHU4IHN0YXR1cykKPiArewo+ICsgICAgICAgc3RydWN0IHBkc192ZHBhX2RldmljZSAqcGRzdiA9
IHZkcGFfdG9fcGRzdih2ZHBhX2Rldik7Cj4gKyAgICAgICBzdHJ1Y3QgZGV2aWNlICpkZXYgPSAm
cGRzdi0+dmRwYV9kZXYuZGV2Owo+ICsgICAgICAgdTggb2xkX3N0YXR1czsKPiArICAgICAgIGlu
dCBpOwo+ICsKPiArICAgICAgIG9sZF9zdGF0dXMgPSBwZHNfdmRwYV9nZXRfc3RhdHVzKHZkcGFf
ZGV2KTsKPiArICAgICAgIGRldl9kYmcoZGV2LCAiJXM6IG9sZCAlI3ggbmV3ICUjeFxuIiwgX19m
dW5jX18sIG9sZF9zdGF0dXMsIHN0YXR1cyk7Cj4gKwo+ICsgICAgICAgcGRzX3ZkcGFfY21kX3Nl
dF9zdGF0dXMocGRzdiwgc3RhdHVzKTsKPiArCj4gKyAgICAgICAvKiBOb3RlOiBzdGlsbCB3b3Jr
aW5nIHdpdGggRlcgb24gdGhlIG5lZWQgZm9yIHRoaXMgcmVzZXQgY21kICovCj4gKyAgICAgICBp
ZiAoc3RhdHVzID09IDApIHsKPiArICAgICAgICAgICAgICAgcGRzX3ZkcGFfY21kX3Jlc2V0KHBk
c3YpOwo+ICsKPiArICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBkc3YtPm51bV92cXM7
IGkrKykgewo+ICsgICAgICAgICAgICAgICAgICAgICAgIHBkc3YtPnZxc1tpXS5hdmFpbF9pZHgg
PSAwOwo+ICsgICAgICAgICAgICAgICAgICAgICAgIHBkc3YtPnZxc1tpXS51c2VkX2lkeCA9IDA7
Cj4gKyAgICAgICAgICAgICAgIH0KPiArICAgICAgIH0KPiArCj4gKyAgICAgICBpZiAoc3RhdHVz
ICYgfm9sZF9zdGF0dXMgJiBWSVJUSU9fQ09ORklHX1NfRkVBVFVSRVNfT0spIHsKPiArICAgICAg
ICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBkc3YtPm51bV92cXM7IGkrKykgewo+ICsgICAgICAg
ICAgICAgICAgICAgICAgIHBkc3YtPnZxc1tpXS5ub3RpZnkgPQo+ICsgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgdnBfbW9kZXJuX21hcF92cV9ub3RpZnkoJnBkc3YtPnZkcGFfYXV4LT52
ZF9tZGV2LAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgaSwgJnBkc3YtPnZxc1tpXS5ub3RpZnlfcGEpOwo+ICsgICAgICAgICAgICAgICB9
Cj4gKyAgICAgICB9Cj4gK30KPiArCj4gK3N0YXRpYyBpbnQgcGRzX3ZkcGFfcmVzZXQoc3RydWN0
IHZkcGFfZGV2aWNlICp2ZHBhX2RldikKPiArewo+ICsgICAgICAgc3RydWN0IHBkc192ZHBhX2Rl
dmljZSAqcGRzdiA9IHZkcGFfdG9fcGRzdih2ZHBhX2Rldik7Cj4gKyAgICAgICBzdHJ1Y3QgZGV2
aWNlICpkZXY7Cj4gKyAgICAgICBpbnQgZXJyID0gMDsKPiArICAgICAgIHU4IHN0YXR1czsKPiAr
ICAgICAgIGludCBpOwo+ICsKPiArICAgICAgIGRldiA9ICZwZHN2LT52ZHBhX2F1eC0+cGFkZXYt
PmF1eF9kZXYuZGV2Owo+ICsgICAgICAgc3RhdHVzID0gcGRzX3ZkcGFfZ2V0X3N0YXR1cyh2ZHBh
X2Rldik7Cj4gKwo+ICsgICAgICAgaWYgKHN0YXR1cyA9PSAwKQo+ICsgICAgICAgICAgICAgICBy
ZXR1cm4gMDsKPiArCj4gKyAgICAgICBpZiAoc3RhdHVzICYgVklSVElPX0NPTkZJR19TX0RSSVZF
Ul9PSykgewo+ICsgICAgICAgICAgICAgICAvKiBSZXNldCB0aGUgdnFzICovCj4gKyAgICAgICAg
ICAgICAgIGZvciAoaSA9IDA7IGkgPCBwZHN2LT5udW1fdnFzICYmICFlcnI7IGkrKykgewo+ICsg
ICAgICAgICAgICAgICAgICAgICAgIGVyciA9IHBkc192ZHBhX2NtZF9yZXNldF92cShwZHN2LCBp
LCAwLCAmcGRzdi0+dnFzW2ldKTsKPiArICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKQo+
ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2X2VycihkZXYsICIlczogcmVzZXRf
dnEgZmFpbGVkIHFpZCAlZDogJXBlXG4iLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBfX2Z1bmNfXywgaSwgRVJSX1BUUihlcnIpKTsKPiArICAgICAgICAgICAgICAg
ICAgICAgICBwZHNfdmRwYV9yZWxlYXNlX2lycShwZHN2LCBpKTsKPiArICAgICAgICAgICAgICAg
ICAgICAgICBtZW1zZXQoJnBkc3YtPnZxc1tpXSwgMCwgc2l6ZW9mKHBkc3YtPnZxc1swXSkpOwo+
ICsgICAgICAgICAgICAgICAgICAgICAgIHBkc3YtPnZxc1tpXS5yZWFkeSA9IGZhbHNlOwo+ICsg
ICAgICAgICAgICAgICB9Cj4gKyAgICAgICB9Cj4gKwo+ICsgICAgICAgcGRzX3ZkcGFfc2V0X3N0
YXR1cyh2ZHBhX2RldiwgMCk7Cj4gKwo+ICsgICAgICAgcmV0dXJuIDA7Cj4gK30KPiArCj4gK3N0
YXRpYyBzaXplX3QgcGRzX3ZkcGFfZ2V0X2NvbmZpZ19zaXplKHN0cnVjdCB2ZHBhX2RldmljZSAq
dmRwYV9kZXYpCj4gK3sKPiArICAgICAgIHJldHVybiBzaXplb2Yoc3RydWN0IHZpcnRpb19uZXRf
Y29uZmlnKTsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQgcGRzX3ZkcGFfZ2V0X2NvbmZpZyhzdHJ1
Y3QgdmRwYV9kZXZpY2UgKnZkcGFfZGV2LAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgdW5zaWduZWQgaW50IG9mZnNldCwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHZvaWQgKmJ1ZiwgdW5zaWduZWQgaW50IGxlbikKPiArewo+ICsgICAgICAgc3RydWN0IHBkc192
ZHBhX2RldmljZSAqcGRzdiA9IHZkcGFfdG9fcGRzdih2ZHBhX2Rldik7Cj4gKyAgICAgICB2b2lk
IF9faW9tZW0gKmRldmljZTsKPiArCj4gKyAgICAgICBpZiAob2Zmc2V0ICsgbGVuID4gc2l6ZW9m
KHN0cnVjdCB2aXJ0aW9fbmV0X2NvbmZpZykpIHsKPiArICAgICAgICAgICAgICAgV0FSTih0cnVl
LCAiJXM6IGJhZCByZWFkLCBvZmZzZXQgJWQgbGVuICVkXG4iLCBfX2Z1bmNfXywgb2Zmc2V0LCBs
ZW4pOwo+ICsgICAgICAgICAgICAgICByZXR1cm47Cj4gKyAgICAgICB9Cj4gKwo+ICsgICAgICAg
ZGV2aWNlID0gcGRzdi0+dmRwYV9hdXgtPnZkX21kZXYuZGV2aWNlOwo+ICsgICAgICAgbWVtY3B5
X2Zyb21pbyhidWYsIGRldmljZSArIG9mZnNldCwgbGVuKTsKPiArfQo+ICsKPiArc3RhdGljIHZv
aWQgcGRzX3ZkcGFfc2V0X2NvbmZpZyhzdHJ1Y3QgdmRwYV9kZXZpY2UgKnZkcGFfZGV2LAo+ICsg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgaW50IG9mZnNldCwgY29uc3Qg
dm9pZCAqYnVmLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgaW50
IGxlbikKPiArewo+ICsgICAgICAgc3RydWN0IHBkc192ZHBhX2RldmljZSAqcGRzdiA9IHZkcGFf
dG9fcGRzdih2ZHBhX2Rldik7Cj4gKyAgICAgICB2b2lkIF9faW9tZW0gKmRldmljZTsKPiArCj4g
KyAgICAgICBpZiAob2Zmc2V0ICsgbGVuID4gc2l6ZW9mKHN0cnVjdCB2aXJ0aW9fbmV0X2NvbmZp
ZykpIHsKPiArICAgICAgICAgICAgICAgV0FSTih0cnVlLCAiJXM6IGJhZCByZWFkLCBvZmZzZXQg
JWQgbGVuICVkXG4iLCBfX2Z1bmNfXywgb2Zmc2V0LCBsZW4pOwo+ICsgICAgICAgICAgICAgICBy
ZXR1cm47Cj4gKyAgICAgICB9Cj4gKwo+ICsgICAgICAgZGV2aWNlID0gcGRzdi0+dmRwYV9hdXgt
PnZkX21kZXYuZGV2aWNlOwo+ICsgICAgICAgbWVtY3B5X3RvaW8oZGV2aWNlICsgb2Zmc2V0LCBi
dWYsIGxlbik7Cj4gK30KPiArCj4gK3N0YXRpYyBjb25zdCBzdHJ1Y3QgdmRwYV9jb25maWdfb3Bz
IHBkc192ZHBhX29wcyA9IHsKPiArICAgICAgIC5zZXRfdnFfYWRkcmVzcyAgICAgICAgID0gcGRz
X3ZkcGFfc2V0X3ZxX2FkZHJlc3MsCj4gKyAgICAgICAuc2V0X3ZxX251bSAgICAgICAgICAgICA9
IHBkc192ZHBhX3NldF92cV9udW0sCj4gKyAgICAgICAua2lja192cSAgICAgICAgICAgICAgICA9
IHBkc192ZHBhX2tpY2tfdnEsCj4gKyAgICAgICAuc2V0X3ZxX2NiICAgICAgICAgICAgICA9IHBk
c192ZHBhX3NldF92cV9jYiwKPiArICAgICAgIC5zZXRfdnFfcmVhZHkgICAgICAgICAgID0gcGRz
X3ZkcGFfc2V0X3ZxX3JlYWR5LAo+ICsgICAgICAgLmdldF92cV9yZWFkeSAgICAgICAgICAgPSBw
ZHNfdmRwYV9nZXRfdnFfcmVhZHksCj4gKyAgICAgICAuc2V0X3ZxX3N0YXRlICAgICAgICAgICA9
IHBkc192ZHBhX3NldF92cV9zdGF0ZSwKPiArICAgICAgIC5nZXRfdnFfc3RhdGUgICAgICAgICAg
ID0gcGRzX3ZkcGFfZ2V0X3ZxX3N0YXRlLAo+ICsgICAgICAgLmdldF92cV9ub3RpZmljYXRpb24g
ICAgPSBwZHNfdmRwYV9nZXRfdnFfbm90aWZpY2F0aW9uLAo+ICsgICAgICAgLmdldF92cV9pcnEg
ICAgICAgICAgICAgPSBwZHNfdmRwYV9nZXRfdnFfaXJxLAo+ICsgICAgICAgLmdldF92cV9hbGln
biAgICAgICAgICAgPSBwZHNfdmRwYV9nZXRfdnFfYWxpZ24sCj4gKyAgICAgICAuZ2V0X3ZxX2dy
b3VwICAgICAgICAgICA9IHBkc192ZHBhX2dldF92cV9ncm91cCwKPiArCj4gKyAgICAgICAuZ2V0
X2RldmljZV9mZWF0dXJlcyAgICA9IHBkc192ZHBhX2dldF9kZXZpY2VfZmVhdHVyZXMsCj4gKyAg
ICAgICAuc2V0X2RyaXZlcl9mZWF0dXJlcyAgICA9IHBkc192ZHBhX3NldF9kcml2ZXJfZmVhdHVy
ZXMsCj4gKyAgICAgICAuZ2V0X2RyaXZlcl9mZWF0dXJlcyAgICA9IHBkc192ZHBhX2dldF9kcml2
ZXJfZmVhdHVyZXMsCj4gKyAgICAgICAuc2V0X2NvbmZpZ19jYiAgICAgICAgICA9IHBkc192ZHBh
X3NldF9jb25maWdfY2IsCj4gKyAgICAgICAuZ2V0X3ZxX251bV9tYXggICAgICAgICA9IHBkc192
ZHBhX2dldF92cV9udW1fbWF4LAo+ICsgICAgICAgLmdldF9kZXZpY2VfaWQgICAgICAgICAgPSBw
ZHNfdmRwYV9nZXRfZGV2aWNlX2lkLAo+ICsgICAgICAgLmdldF92ZW5kb3JfaWQgICAgICAgICAg
PSBwZHNfdmRwYV9nZXRfdmVuZG9yX2lkLAo+ICsgICAgICAgLmdldF9zdGF0dXMgICAgICAgICAg
ICAgPSBwZHNfdmRwYV9nZXRfc3RhdHVzLAo+ICsgICAgICAgLnNldF9zdGF0dXMgICAgICAgICAg
ICAgPSBwZHNfdmRwYV9zZXRfc3RhdHVzLAo+ICsgICAgICAgLnJlc2V0ICAgICAgICAgICAgICAg
ICAgPSBwZHNfdmRwYV9yZXNldCwKPiArICAgICAgIC5nZXRfY29uZmlnX3NpemUgICAgICAgID0g
cGRzX3ZkcGFfZ2V0X2NvbmZpZ19zaXplLAo+ICsgICAgICAgLmdldF9jb25maWcgICAgICAgICAg
ICAgPSBwZHNfdmRwYV9nZXRfY29uZmlnLAo+ICsgICAgICAgLnNldF9jb25maWcgICAgICAgICAg
ICAgPSBwZHNfdmRwYV9zZXRfY29uZmlnLAo+ICt9Owo+ICBzdGF0aWMgc3RydWN0IHZpcnRpb19k
ZXZpY2VfaWQgcGRzX3ZkcGFfaWRfdGFibGVbXSA9IHsKPiAgICAgICAgIHtWSVJUSU9fSURfTkVU
LCBWSVJUSU9fREVWX0FOWV9JRH0sCj4gICAgICAgICB7MH0sCj4gQEAgLTIxLDEyICs0NzksMTU3
IEBAIHN0YXRpYyBzdHJ1Y3QgdmlydGlvX2RldmljZV9pZCBwZHNfdmRwYV9pZF90YWJsZVtdID0g
ewo+ICBzdGF0aWMgaW50IHBkc192ZHBhX2Rldl9hZGQoc3RydWN0IHZkcGFfbWdtdF9kZXYgKm1k
ZXYsIGNvbnN0IGNoYXIgKm5hbWUsCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0
IHN0cnVjdCB2ZHBhX2Rldl9zZXRfY29uZmlnICphZGRfY29uZmlnKQo+ICB7Cj4gLSAgICAgICBy
ZXR1cm4gLUVPUE5PVFNVUFA7Cj4gKyAgICAgICBzdHJ1Y3QgcGRzX3ZkcGFfYXV4ICp2ZHBhX2F1
eDsKPiArICAgICAgIHN0cnVjdCBwZHNfdmRwYV9kZXZpY2UgKnBkc3Y7Cj4gKyAgICAgICBzdHJ1
Y3QgdmRwYV9tZ210X2RldiAqbWdtdDsKPiArICAgICAgIHUxNiBmd19tYXhfdnFzLCB2cV9wYWly
czsKPiArICAgICAgIHN0cnVjdCBkZXZpY2UgKmRtYV9kZXY7Cj4gKyAgICAgICBzdHJ1Y3QgcGNp
X2RldiAqcGRldjsKPiArICAgICAgIHN0cnVjdCBkZXZpY2UgKmRldjsKPiArICAgICAgIHU4IG1h
Y1tFVEhfQUxFTl07Cj4gKyAgICAgICBpbnQgZXJyOwo+ICsgICAgICAgaW50IGk7Cj4gKwo+ICsg
ICAgICAgdmRwYV9hdXggPSBjb250YWluZXJfb2YobWRldiwgc3RydWN0IHBkc192ZHBhX2F1eCwg
dmRwYV9tZGV2KTsKPiArICAgICAgIGRldiA9ICZ2ZHBhX2F1eC0+cGFkZXYtPmF1eF9kZXYuZGV2
Owo+ICsgICAgICAgbWdtdCA9ICZ2ZHBhX2F1eC0+dmRwYV9tZGV2Owo+ICsKPiArICAgICAgIGlm
ICh2ZHBhX2F1eC0+cGRzdikgewo+ICsgICAgICAgICAgICAgICBkZXZfd2FybihkZXYsICJNdWx0
aXBsZSB2RFBBIGRldmljZXMgb24gYSBWRiBpcyBub3Qgc3VwcG9ydGVkLlxuIik7Cj4gKyAgICAg
ICAgICAgICAgIHJldHVybiAtRU9QTk9UU1VQUDsKPiArICAgICAgIH0KPiArCj4gKyAgICAgICBw
ZHN2ID0gdmRwYV9hbGxvY19kZXZpY2Uoc3RydWN0IHBkc192ZHBhX2RldmljZSwgdmRwYV9kZXYs
Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2LCAmcGRzX3ZkcGFfb3BzLCAx
LCAxLCBuYW1lLCBmYWxzZSk7Cj4gKyAgICAgICBpZiAoSVNfRVJSKHBkc3YpKSB7Cj4gKyAgICAg
ICAgICAgICAgIGRldl9lcnIoZGV2LCAiRmFpbGVkIHRvIGFsbG9jYXRlIHZEUEEgc3RydWN0dXJl
OiAlcGVcbiIsIHBkc3YpOwo+ICsgICAgICAgICAgICAgICByZXR1cm4gUFRSX0VSUihwZHN2KTsK
PiArICAgICAgIH0KPiArCj4gKyAgICAgICB2ZHBhX2F1eC0+cGRzdiA9IHBkc3Y7Cj4gKyAgICAg
ICBwZHN2LT52ZHBhX2F1eCA9IHZkcGFfYXV4Owo+ICsKPiArICAgICAgIHBkZXYgPSB2ZHBhX2F1
eC0+cGFkZXYtPnZmX3BkZXY7Cj4gKyAgICAgICBkbWFfZGV2ID0gJnBkZXYtPmRldjsKPiArICAg
ICAgIHBkc3YtPnZkcGFfZGV2LmRtYV9kZXYgPSBkbWFfZGV2Owo+ICsKPiArICAgICAgIHBkc3Yt
PnN1cHBvcnRlZF9mZWF0dXJlcyA9IG1nbXQtPnN1cHBvcnRlZF9mZWF0dXJlczsKPiArCj4gKyAg
ICAgICBpZiAoYWRkX2NvbmZpZy0+bWFzayAmIEJJVF9VTEwoVkRQQV9BVFRSX0RFVl9GRUFUVVJF
UykpIHsKPiArICAgICAgICAgICAgICAgdTY0IHVuc3VwcF9mZWF0dXJlcyA9Cj4gKyAgICAgICAg
ICAgICAgICAgICAgICAgYWRkX2NvbmZpZy0+ZGV2aWNlX2ZlYXR1cmVzICYgfm1nbXQtPnN1cHBv
cnRlZF9mZWF0dXJlczsKPiArCj4gKyAgICAgICAgICAgICAgIGlmICh1bnN1cHBfZmVhdHVyZXMp
IHsKPiArICAgICAgICAgICAgICAgICAgICAgICBkZXZfZXJyKGRldiwgIlVuc3VwcG9ydGVkIGZl
YXR1cmVzOiAlI2xseFxuIiwgdW5zdXBwX2ZlYXR1cmVzKTsKPiArICAgICAgICAgICAgICAgICAg
ICAgICBlcnIgPSAtRU9QTk9UU1VQUDsKPiArICAgICAgICAgICAgICAgICAgICAgICBnb3RvIGVy
cl91bm1hcDsKPiArICAgICAgICAgICAgICAgfQo+ICsKPiArICAgICAgICAgICAgICAgcGRzdi0+
c3VwcG9ydGVkX2ZlYXR1cmVzID0gYWRkX2NvbmZpZy0+ZGV2aWNlX2ZlYXR1cmVzOwo+ICsgICAg
ICAgfQo+ICsKPiArICAgICAgIGVyciA9IHBkc192ZHBhX2NtZF9yZXNldChwZHN2KTsKPiArICAg
ICAgIGlmIChlcnIpIHsKPiArICAgICAgICAgICAgICAgZGV2X2VycihkZXYsICJGYWlsZWQgdG8g
cmVzZXQgaHc6ICVwZVxuIiwgRVJSX1BUUihlcnIpKTsKPiArICAgICAgICAgICAgICAgZ290byBl
cnJfdW5tYXA7Cj4gKyAgICAgICB9Cj4gKwo+ICsgICAgICAgZXJyID0gcGRzX3ZkcGFfaW5pdF9o
dyhwZHN2KTsKPiArICAgICAgIGlmIChlcnIpIHsKPiArICAgICAgICAgICAgICAgZGV2X2Vycihk
ZXYsICJGYWlsZWQgdG8gaW5pdCBodzogJXBlXG4iLCBFUlJfUFRSKGVycikpOwo+ICsgICAgICAg
ICAgICAgICBnb3RvIGVycl91bm1hcDsKPiArICAgICAgIH0KPiArCj4gKyAgICAgICBmd19tYXhf
dnFzID0gbGUxNl90b19jcHUocGRzdi0+dmRwYV9hdXgtPmlkZW50Lm1heF92cXMpOwo+ICsgICAg
ICAgdnFfcGFpcnMgPSBmd19tYXhfdnFzIC8gMjsKPiArCj4gKyAgICAgICAvKiBNYWtlIHN1cmUg
d2UgaGF2ZSB0aGUgcXVldWVzIGJlaW5nIHJlcXVlc3RlZCAqLwo+ICsgICAgICAgaWYgKGFkZF9j
b25maWctPm1hc2sgJiAoMSA8PCBWRFBBX0FUVFJfREVWX05FVF9DRkdfTUFYX1ZRUCkpCj4gKyAg
ICAgICAgICAgICAgIHZxX3BhaXJzID0gYWRkX2NvbmZpZy0+bmV0Lm1heF92cV9wYWlyczsKPiAr
Cj4gKyAgICAgICBwZHN2LT5udW1fdnFzID0gMiAqIHZxX3BhaXJzOwo+ICsgICAgICAgaWYgKHBk
c3YtPnN1cHBvcnRlZF9mZWF0dXJlcyAmIEJJVF9VTEwoVklSVElPX05FVF9GX0NUUkxfVlEpKQo+
ICsgICAgICAgICAgICAgICBwZHN2LT5udW1fdnFzKys7Cj4gKwo+ICsgICAgICAgaWYgKHBkc3Yt
Pm51bV92cXMgPiBmd19tYXhfdnFzKSB7Cj4gKyAgICAgICAgICAgICAgIGRldl9lcnIoZGV2LCAi
JXM6IHF1ZXVlIGNvdW50IHJlcXVlc3RlZCAldSBncmVhdGVyIHRoYW4gbWF4ICV1XG4iLAo+ICsg
ICAgICAgICAgICAgICAgICAgICAgIF9fZnVuY19fLCBwZHN2LT5udW1fdnFzLCBmd19tYXhfdnFz
KTsKPiArICAgICAgICAgICAgICAgZXJyID0gLUVOT1NQQzsKPiArICAgICAgICAgICAgICAgZ290
byBlcnJfdW5tYXA7Cj4gKyAgICAgICB9Cj4gKwo+ICsgICAgICAgaWYgKHBkc3YtPm51bV92cXMg
IT0gZndfbWF4X3Zxcykgewo+ICsgICAgICAgICAgICAgICBlcnIgPSBwZHNfdmRwYV9jbWRfc2V0
X21heF92cV9wYWlycyhwZHN2LCB2cV9wYWlycyk7Cj4gKyAgICAgICAgICAgICAgIGlmIChlcnIp
IHsKPiArICAgICAgICAgICAgICAgICAgICAgICBkZXZfZXJyKGRldiwgIkZhaWxlZCB0byBzZXQg
bWF4X3ZxX3BhaXJzOiAlcGVcbiIsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBF
UlJfUFRSKGVycikpOwo+ICsgICAgICAgICAgICAgICAgICAgICAgIGdvdG8gZXJyX3VubWFwOwo+
ICsgICAgICAgICAgICAgICB9Cj4gKyAgICAgICB9Cj4gKwo+ICsgICAgICAgLyogU2V0IGEgbWFj
LCBlaXRoZXIgZnJvbSB0aGUgdXNlciBjb25maWcgaWYgcHJvdmlkZWQKPiArICAgICAgICAqIG9y
IHNldCBhIHJhbmRvbSBtYWMgaWYgZGVmYXVsdCBpcyAwMDouLjowMAo+ICsgICAgICAgICovCj4g
KyAgICAgICBpZiAoYWRkX2NvbmZpZy0+bWFzayAmIEJJVF9VTEwoVkRQQV9BVFRSX0RFVl9ORVRf
Q0ZHX01BQ0FERFIpKSB7Cj4gKyAgICAgICAgICAgICAgIGV0aGVyX2FkZHJfY29weShtYWMsIGFk
ZF9jb25maWctPm5ldC5tYWMpOwo+ICsgICAgICAgICAgICAgICBwZHNfdmRwYV9jbWRfc2V0X21h
YyhwZHN2LCBtYWMpOwo+ICsgICAgICAgfSBlbHNlIHsKPiArICAgICAgICAgICAgICAgc3RydWN0
IHZpcnRpb19uZXRfY29uZmlnIF9faW9tZW0gKnZjOwo+ICsKPiArICAgICAgICAgICAgICAgdmMg
PSBwZHN2LT52ZHBhX2F1eC0+dmRfbWRldi5kZXZpY2U7Cj4gKyAgICAgICAgICAgICAgIG1lbWNw
eV9mcm9taW8obWFjLCB2Yy0+bWFjLCBzaXplb2YobWFjKSk7Cj4gKyAgICAgICAgICAgICAgIGlm
IChpc196ZXJvX2V0aGVyX2FkZHIobWFjKSkgewo+ICsgICAgICAgICAgICAgICAgICAgICAgIGV0
aF9yYW5kb21fYWRkcihtYWMpOwo+ICsgICAgICAgICAgICAgICAgICAgICAgIGRldl9pbmZvKGRl
diwgInNldHRpbmcgcmFuZG9tIG1hYyAlcE1cbiIsIG1hYyk7Cj4gKyAgICAgICAgICAgICAgICAg
ICAgICAgcGRzX3ZkcGFfY21kX3NldF9tYWMocGRzdiwgbWFjKTsKPiArICAgICAgICAgICAgICAg
fQo+ICsgICAgICAgfQo+ICsKPiArICAgICAgIGZvciAoaSA9IDA7IGkgPCBwZHN2LT5udW1fdnFz
OyBpKyspIHsKPiArICAgICAgICAgICAgICAgcGRzdi0+dnFzW2ldLnFpZCA9IGk7Cj4gKyAgICAg
ICAgICAgICAgIHBkc3YtPnZxc1tpXS5wZHN2ID0gcGRzdjsKPiArICAgICAgICAgICAgICAgcGRz
di0+dnFzW2ldLmlycSA9IFZJUlRJT19NU0lfTk9fVkVDVE9SOwo+ICsgICAgICAgICAgICAgICBw
ZHN2LT52cXNbaV0ubm90aWZ5ID0gdnBfbW9kZXJuX21hcF92cV9ub3RpZnkoJnBkc3YtPnZkcGFf
YXV4LT52ZF9tZGV2LAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgaSwgJnBkc3YtPnZxc1tpXS5ub3RpZnlfcGEpOwo+ICsgICAg
ICAgfQo+ICsKPiArICAgICAgIHBkc3YtPnZkcGFfZGV2Lm1kZXYgPSAmdmRwYV9hdXgtPnZkcGFf
bWRldjsKPiArCj4gKyAgICAgICAvKiBXZSB1c2UgdGhlIF92ZHBhX3JlZ2lzdGVyX2RldmljZSgp
IGNhbGwgcmF0aGVyIHRoYW4gdGhlCj4gKyAgICAgICAgKiB2ZHBhX3JlZ2lzdGVyX2RldmljZSgp
IHRvIGF2b2lkIGEgZGVhZGxvY2sgYmVjYXVzZSBvdXIKPiArICAgICAgICAqIGRldl9hZGQoKSBp
cyBjYWxsZWQgd2l0aCB0aGUgdmRwYV9kZXZfbG9jayBhbHJlYWR5IHNldAo+ICsgICAgICAgICog
YnkgdmRwYV9ubF9jbWRfZGV2X2FkZF9zZXRfZG9pdCgpCj4gKyAgICAgICAgKi8KPiArICAgICAg
IGVyciA9IF92ZHBhX3JlZ2lzdGVyX2RldmljZSgmcGRzdi0+dmRwYV9kZXYsIHBkc3YtPm51bV92
cXMpOwo+ICsgICAgICAgaWYgKGVycikgewo+ICsgICAgICAgICAgICAgICBkZXZfZXJyKGRldiwg
IkZhaWxlZCB0byByZWdpc3RlciB0byB2RFBBIGJ1czogJXBlXG4iLCBFUlJfUFRSKGVycikpOwo+
ICsgICAgICAgICAgICAgICBnb3RvIGVycl91bm1hcDsKPiArICAgICAgIH0KPiArCj4gKyAgICAg
ICBwZHNfdmRwYV9kZWJ1Z2ZzX2FkZF92ZHBhZGV2KHZkcGFfYXV4KTsKPiArCj4gKyAgICAgICBy
ZXR1cm4gMDsKPiArCj4gK2Vycl91bm1hcDoKPiArICAgICAgIHB1dF9kZXZpY2UoJnBkc3YtPnZk
cGFfZGV2LmRldik7Cj4gKyAgICAgICB2ZHBhX2F1eC0+cGRzdiA9IE5VTEw7Cj4gKyAgICAgICBy
ZXR1cm4gZXJyOwo+ICB9Cj4KPiAgc3RhdGljIHZvaWQgcGRzX3ZkcGFfZGV2X2RlbChzdHJ1Y3Qg
dmRwYV9tZ210X2RldiAqbWRldiwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVj
dCB2ZHBhX2RldmljZSAqdmRwYV9kZXYpCj4gIHsKPiArICAgICAgIHN0cnVjdCBwZHNfdmRwYV9h
dXggKnZkcGFfYXV4Owo+ICsKPiArICAgICAgIHZkcGFfYXV4ID0gY29udGFpbmVyX29mKG1kZXYs
IHN0cnVjdCBwZHNfdmRwYV9hdXgsIHZkcGFfbWRldik7Cj4gKyAgICAgICBfdmRwYV91bnJlZ2lz
dGVyX2RldmljZSh2ZHBhX2Rldik7Cj4gKwo+ICsgICAgICAgcGRzX3ZkcGFfY21kX3Jlc2V0KHZk
cGFfYXV4LT5wZHN2KTsKPiArICAgICAgIHBkc192ZHBhX2RlYnVnZnNfcmVzZXRfdmRwYWRldih2
ZHBhX2F1eCk7Cj4gKwo+ICsgICAgICAgdmRwYV9hdXgtPnBkc3YgPSBOVUxMOwo+ICsKPiArICAg
ICAgIGRldl9pbmZvKCZ2ZHBhX2F1eC0+cGFkZXYtPmF1eF9kZXYuZGV2LCAiUmVtb3ZlZCB2ZHBh
IGRldmljZVxuIik7Cj4gIH0KPgo+ICBzdGF0aWMgY29uc3Qgc3RydWN0IHZkcGFfbWdtdGRldl9v
cHMgcGRzX3ZkcGFfbWdtdF9kZXZfb3BzID0gewo+IEBAIC05NCw2ICs2OTcsNyBAQCBpbnQgcGRz
X3ZkcGFfZ2V0X21nbXRfaW5mbyhzdHJ1Y3QgcGRzX3ZkcGFfYXV4ICp2ZHBhX2F1eCkKPiAgICAg
ICAgIG1nbXQtPnN1cHBvcnRlZF9mZWF0dXJlcyA9IGxlNjRfdG9fY3B1KHZkcGFfYXV4LT5pZGVu
dC5od19mZWF0dXJlcyk7Cj4gICAgICAgICBtZ210LT5jb25maWdfYXR0cl9tYXNrID0gQklUX1VM
TChWRFBBX0FUVFJfREVWX05FVF9DRkdfTUFDQUREUik7Cj4gICAgICAgICBtZ210LT5jb25maWdf
YXR0cl9tYXNrIHw9IEJJVF9VTEwoVkRQQV9BVFRSX0RFVl9ORVRfQ0ZHX01BWF9WUVApOwo+ICsg
ICAgICAgbWdtdC0+Y29uZmlnX2F0dHJfbWFzayB8PSBCSVRfVUxMKFZEUEFfQVRUUl9ERVZfRkVB
VFVSRVMpOwo+Cj4gICAgICAgICBlcnIgPSBwY2lfYWxsb2NfaXJxX3ZlY3RvcnMocGRldiwgdmRw
YV9hdXgtPm5pbnRycywgdmRwYV9hdXgtPm5pbnRycywKPiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBQQ0lfSVJRX01TSVgpOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL3ZkcGEv
cGRzL3ZkcGFfZGV2LmggYi9kcml2ZXJzL3ZkcGEvcGRzL3ZkcGFfZGV2LmgKPiBpbmRleCBhMjE1
OTZmNDM4YzEuLjI1YzFkMTkyZjBlZiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL3ZkcGEvcGRzL3Zk
cGFfZGV2LmgKPiArKysgYi9kcml2ZXJzL3ZkcGEvcGRzL3ZkcGFfZGV2LmgKPiBAQCAtMzUsMTIg
KzM1LDE0IEBAIHN0cnVjdCBwZHNfdmRwYV9kZXZpY2Ugewo+ICAgICAgICAgc3RydWN0IHBkc192
ZHBhX2F1eCAqdmRwYV9hdXg7Cj4KPiAgICAgICAgIHN0cnVjdCBwZHNfdmRwYV92cV9pbmZvIHZx
c1tQRFNfVkRQQV9NQVhfUVVFVUVTXTsKPiArICAgICAgIHU2NCBzdXBwb3J0ZWRfZmVhdHVyZXM7
ICAgICAgICAgLyogc3BlY2lmaWVkIGRldmljZSBmZWF0dXJlcyAqLwo+ICAgICAgICAgdTY0IHJl
cV9mZWF0dXJlczsgICAgICAgICAgICAgICAvKiBmZWF0dXJlcyByZXF1ZXN0ZWQgYnkgdmRwYSAq
Lwo+IC0gICAgICAgdTY0IGFjdHVhbF9mZWF0dXJlczsgICAgICAgICAgICAvKiBmZWF0dXJlcyBu
ZWdvdGlhdGVkIGFuZCBpbiB1c2UgKi8KPiAgICAgICAgIHU4IHZkcGFfaW5kZXg7ICAgICAgICAg
ICAgICAgICAgLyogcnN2ZCBmb3IgZnV0dXJlIHN1YmRldmljZSB1c2UgKi8KPiAgICAgICAgIHU4
IG51bV92cXM7ICAgICAgICAgICAgICAgICAgICAgLyogbnVtIHZxcyBpbiB1c2UgKi8KPiAgICAg
ICAgIHN0cnVjdCB2ZHBhX2NhbGxiYWNrIGNvbmZpZ19jYjsKPiAgfTsKPgo+ICsjZGVmaW5lIFBE
U19WRFBBX1BBQ0tFRF9JTlZFUlRfSURYICAgICAweDgwMDAKPiArCj4gIGludCBwZHNfdmRwYV9n
ZXRfbWdtdF9pbmZvKHN0cnVjdCBwZHNfdmRwYV9hdXggKnZkcGFfYXV4KTsKPiAgI2VuZGlmIC8q
IF9WRFBBX0RFVl9IXyAqLwo+IC0tCj4gMi4xNy4xCj4KCgpfX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fXwpWaXJ0dWFsaXphdGlvbiBtYWlsaW5nIGxpc3QKVmly
dHVhbGl6YXRpb25AbGlzdHMubGludXgtZm91bmRhdGlvbi5vcmcKaHR0cHM6Ly9saXN0cy5saW51
eGZvdW5kYXRpb24ub3JnL21haWxtYW4vbGlzdGluZm8vdmlydHVhbGl6YXRpb24=
