Return-Path: <virtualization-bounces@lists.linux-foundation.org>
X-Original-To: lists.virtualization@lfdr.de
Delivered-To: lists.virtualization@lfdr.de
Received: from smtp2.osuosl.org (smtp2.osuosl.org [140.211.166.133])
	by mail.lfdr.de (Postfix) with ESMTPS id 5CDD7441C6B
	for <lists.virtualization@lfdr.de>; Mon,  1 Nov 2021 15:15:50 +0100 (CET)
Received: from localhost (localhost [127.0.0.1])
	by smtp2.osuosl.org (Postfix) with ESMTP id 307D340251;
	Mon,  1 Nov 2021 14:15:47 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp2.osuosl.org ([127.0.0.1])
	by localhost (smtp2.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id XfW6sOh4T1bw; Mon,  1 Nov 2021 14:15:45 +0000 (UTC)
Received: from lists.linuxfoundation.org (lf-lists.osuosl.org [IPv6:2605:bc80:3010:104::8cd3:938])
	by smtp2.osuosl.org (Postfix) with ESMTPS id 607AE40263;
	Mon,  1 Nov 2021 14:15:44 +0000 (UTC)
Received: from lf-lists.osuosl.org (localhost [127.0.0.1])
	by lists.linuxfoundation.org (Postfix) with ESMTP id 4F94AC000E;
	Mon,  1 Nov 2021 14:15:43 +0000 (UTC)
X-Original-To: virtualization@lists.linux-foundation.org
Delivered-To: virtualization@lists.linuxfoundation.org
Received: from smtp2.osuosl.org (smtp2.osuosl.org [IPv6:2605:bc80:3010::133])
 by lists.linuxfoundation.org (Postfix) with ESMTP id 63488C000E
 for <virtualization@lists.linux-foundation.org>;
 Mon,  1 Nov 2021 14:15:40 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by smtp2.osuosl.org (Postfix) with ESMTP id 7FCA4400BD
 for <virtualization@lists.linux-foundation.org>;
 Mon,  1 Nov 2021 14:15:39 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp2.osuosl.org ([127.0.0.1])
 by localhost (smtp2.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 8Z3q8z4ZV4vI
 for <virtualization@lists.linux-foundation.org>;
 Mon,  1 Nov 2021 14:15:37 +0000 (UTC)
X-Greylist: domain auto-whitelisted by SQLgrey-1.8.0
Received: from smtp-out2.suse.de (smtp-out2.suse.de [195.135.220.29])
 by smtp2.osuosl.org (Postfix) with ESMTPS id 98BB3401FE
 for <virtualization@lists.linux-foundation.org>;
 Mon,  1 Nov 2021 14:15:37 +0000 (UTC)
Received: from imap2.suse-dmz.suse.de (imap2.suse-dmz.suse.de [192.168.254.74])
 (using TLSv1.3 with cipher TLS_AES_256_GCM_SHA384 (256/256 bits)
 key-exchange X25519 server-signature ECDSA (P-521) server-digest SHA512)
 (No client certificate requested)
 by smtp-out2.suse.de (Postfix) with ESMTPS id C2A5B1FD74;
 Mon,  1 Nov 2021 14:15:35 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=suse.de; s=susede2_rsa;
 t=1635776135; h=from:from:reply-to:date:date:message-id:message-id:to:to:cc:cc:
 mime-version:mime-version:content-type:content-type:
 content-transfer-encoding:content-transfer-encoding:
 in-reply-to:in-reply-to:references:references;
 bh=hScU7rOmYO0QByee7LvgjaIzNQXX2kN/xQAMO9xPv6E=;
 b=nCbROcnk3iKrU9F3GNYRH4TV4xoVZVHEI0LVuWqazAQDaKyVRDCPUnsEegO9ydU1jZTnl5
 tYUYpSLHetA9mbrq7b36eewJAMYKpqN8mYTeklRPo9zygLDyS54Uoqzk9a/iUxzy/InIzF
 exlVoS/7ByRKWA98ZozpO6jtulD9jQA=
DKIM-Signature: v=1; a=ed25519-sha256; c=relaxed/relaxed; d=suse.de;
 s=susede2_ed25519; t=1635776135;
 h=from:from:reply-to:date:date:message-id:message-id:to:to:cc:cc:
 mime-version:mime-version:content-type:content-type:
 content-transfer-encoding:content-transfer-encoding:
 in-reply-to:in-reply-to:references:references;
 bh=hScU7rOmYO0QByee7LvgjaIzNQXX2kN/xQAMO9xPv6E=;
 b=UUET6DpeWDt3VMfnHME3mdxGIsO15VAGU9byygMRQZn5cFMBaP4bUs/rKP7G4nBq35UZca
 xt7hn1a8eqXixLDg==
Received: from imap2.suse-dmz.suse.de (imap2.suse-dmz.suse.de [192.168.254.74])
 (using TLSv1.3 with cipher TLS_AES_256_GCM_SHA384 (256/256 bits)
 key-exchange X25519 server-signature ECDSA (P-521) server-digest SHA512)
 (No client certificate requested)
 by imap2.suse-dmz.suse.de (Postfix) with ESMTPS id 52A281342A;
 Mon,  1 Nov 2021 14:15:35 +0000 (UTC)
Received: from dovecot-director2.suse.de ([192.168.254.65])
 by imap2.suse-dmz.suse.de with ESMTPSA id sB0kE4f2f2GlHwAAMHmgww
 (envelope-from <tzimmermann@suse.de>); Mon, 01 Nov 2021 14:15:35 +0000
From: Thomas Zimmermann <tzimmermann@suse.de>
To: daniel@ffwll.ch, airlied@linux.ie, mripard@kernel.org,
 maarten.lankhorst@linux.intel.com, noralf@tronnes.org,
 drawat.floss@gmail.com, airlied@redhat.com, kraxel@redhat.com,
 david@lechnology.com, sam@ravnborg.org, javierm@redhat.com,
 kernel@amanoeldawod.com, dirty.ice.hu@gmail.com,
 michael+lkml@stapelberg.ch, aros@gmx.com, joshua@stroblindustries.com,
 arnd@arndb.de
Subject: [PATCH v2 4/9] drm/format-helper: Rework format-helper conversion
 functions
Date: Mon,  1 Nov 2021 15:15:27 +0100
Message-Id: <20211101141532.26655-5-tzimmermann@suse.de>
X-Mailer: git-send-email 2.33.1
In-Reply-To: <20211101141532.26655-1-tzimmermann@suse.de>
References: <20211101141532.26655-1-tzimmermann@suse.de>
MIME-Version: 1.0
Cc: linux-hyperv@vger.kernel.org, Thomas Zimmermann <tzimmermann@suse.de>,
 dri-devel@lists.freedesktop.org, virtualization@lists.linux-foundation.org
X-BeenThere: virtualization@lists.linux-foundation.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: Linux virtualization <virtualization.lists.linux-foundation.org>
List-Unsubscribe: <https://lists.linuxfoundation.org/mailman/options/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=unsubscribe>
List-Archive: <http://lists.linuxfoundation.org/pipermail/virtualization/>
List-Post: <mailto:virtualization@lists.linux-foundation.org>
List-Help: <mailto:virtualization-request@lists.linux-foundation.org?subject=help>
List-Subscribe: <https://lists.linuxfoundation.org/mailman/listinfo/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: virtualization-bounces@lists.linux-foundation.org
Sender: "Virtualization" <virtualization-bounces@lists.linux-foundation.org>

TW92ZSBkZXN0aW5hdGlvbi1idWZmZXIgY2xpcHBpbmcgZnJvbSBhbGwgZm9ybWF0LWhlbHBlciBj
b252ZXJzaW9uCmZ1bmN0aW9ucyBpbnRvIGNhbGxlcnMuIFN1cHBvcnQgZGVzdGluYXRpb24tYnVm
ZmVyIHBpdGNoLiBPbmx5CmRpc3Rpbmd1aXNoIGJldHdlZW4gc3lzdGVtIGFuZCBJL08gbWVtb3J5
LCBidXQgdXNlIHNhbWUgbG9naWMKZXZlcnl3aGVyZS4KClNpbXBseSBoYXJtb25pemUgdGhlIGlu
dGVyZmFjZSBhbmQgc2VtYW50aWNzIG9mIHRoZSBleGlzdGluZyBjb2RlLgpOb3QgYWxsIGNvbnZl
cnNpb24gaGVscGVycyBzdXBwb3J0IGFsbCBjb21iaW5hdGlvbnMgb2YgcGFyYW1ldGVycy4KV2Ug
aGF2ZSB0byBhZGQgYWRkaXRpb25hbCBmZWF0dXJlcyB3aGVuIHdlIG5lZWQgdGhlbS4KCnYyOgoJ
KiBmaXggZGVmYXVsdCBkZXN0aW5hdGlvbiBwaXRjaCBpbiBkcm1fZmJfeHJnYjg4ODhfdG9fZ3Jh
eTgoKQoJICAoTm9yYWxmKQoKU2lnbmVkLW9mZi1ieTogVGhvbWFzIFppbW1lcm1hbm4gPHR6aW1t
ZXJtYW5uQHN1c2UuZGU+ClRlc3RlZC1ieTogTm9yYWxmIFRyw7hubmVzIDxub3JhbGZAdHJvbm5l
cy5vcmc+ClJldmlld2VkLWJ5OiBOb3JhbGYgVHLDuG5uZXMgPG5vcmFsZkB0cm9ubmVzLm9yZz4K
LS0tCiBkcml2ZXJzL2dwdS9kcm0vZHJtX2Zvcm1hdF9oZWxwZXIuYyB8IDEzMSArKysrKysrKysr
KysrKystLS0tLS0tLS0tLS0tCiBkcml2ZXJzL2dwdS9kcm0vZHJtX21pcGlfZGJpLmMgICAgICB8
ICAgMiArLQogZHJpdmVycy9ncHUvZHJtL2d1ZC9ndWRfcGlwZS5jICAgICAgfCAgMTAgKy0tCiBk
cml2ZXJzL2dwdS9kcm0vdGlueS9jaXJydXMuYyAgICAgICB8ICAxMCArLS0KIGRyaXZlcnMvZ3B1
L2RybS90aW55L3JlcGFwZXIuYyAgICAgIHwgICAyICstCiBkcml2ZXJzL2dwdS9kcm0vdGlueS9z
dDc1ODYuYyAgICAgICB8ICAgMiArLQogaW5jbHVkZS9kcm0vZHJtX2Zvcm1hdF9oZWxwZXIuaCAg
ICAgfCAgMzAgKysrLS0tLQogNyBmaWxlcyBjaGFuZ2VkLCA5NyBpbnNlcnRpb25zKCspLCA5MCBk
ZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vZHJtX2Zvcm1hdF9oZWxw
ZXIuYyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fZm9ybWF0X2hlbHBlci5jCmluZGV4IGRhYzM1NTMy
MDI4Ny4uMGM4OTMzMzkwZmRkIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vZHJtX2Zvcm1h
dF9oZWxwZXIuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX2Zvcm1hdF9oZWxwZXIuYwpAQCAt
MTY1LDcgKzE2NSw3IEBAIHZvaWQgZHJtX2ZiX3N3YWIodm9pZCAqZHN0LCB1bnNpZ25lZCBpbnQg
ZHN0X3BpdGNoLCBjb25zdCB2b2lkICpzcmMsCiB9CiBFWFBPUlRfU1lNQk9MKGRybV9mYl9zd2Fi
KTsKIAotc3RhdGljIHZvaWQgZHJtX2ZiX3hyZ2I4ODg4X3RvX3JnYjMzMl9saW5lKHU4ICpkYnVm
LCBfX2xlMzIgKnNidWYsIHVuc2lnbmVkIGludCBwaXhlbHMpCitzdGF0aWMgdm9pZCBkcm1fZmJf
eHJnYjg4ODhfdG9fcmdiMzMyX2xpbmUodTggKmRidWYsIGNvbnN0IF9fbGUzMiAqc2J1ZiwgdW5z
aWduZWQgaW50IHBpeGVscykKIHsKIAl1bnNpZ25lZCBpbnQgeDsKIAl1MzIgcGl4OwpAQCAtMTgx
LDIzICsxODEsMjQgQEAgc3RhdGljIHZvaWQgZHJtX2ZiX3hyZ2I4ODg4X3RvX3JnYjMzMl9saW5l
KHU4ICpkYnVmLCBfX2xlMzIgKnNidWYsIHVuc2lnbmVkIGludAogLyoqCiAgKiBkcm1fZmJfeHJn
Yjg4ODhfdG9fcmdiMzMyIC0gQ29udmVydCBYUkdCODg4OCB0byBSR0IzMzIgY2xpcCBidWZmZXIK
ICAqIEBkc3Q6IFJHQjMzMiBkZXN0aW5hdGlvbiBidWZmZXIKKyAqIEBkc3RfcGl0Y2g6IE51bWJl
ciBvZiBieXRlcyBiZXR3ZWVuIHR3byBjb25zZWN1dGl2ZSBzY2FubGluZXMgd2l0aGluIGRzdAog
ICogQHNyYzogWFJHQjg4ODggc291cmNlIGJ1ZmZlcgogICogQGZiOiBEUk0gZnJhbWVidWZmZXIK
ICAqIEBjbGlwOiBDbGlwIHJlY3RhbmdsZSBhcmVhIHRvIGNvcHkKICAqCiAgKiBEcml2ZXJzIGNh
biB1c2UgdGhpcyBmdW5jdGlvbiBmb3IgUkdCMzMyIGRldmljZXMgdGhhdCBkb24ndCBuYXRpdmVs
eSBzdXBwb3J0IFhSR0I4ODg4LgotICoKLSAqIFRoaXMgZnVuY3Rpb24gZG9lcyBub3QgYXBwbHkg
Y2xpcHBpbmcgb24gZHN0LCBpLmUuIHRoZSBkZXN0aW5hdGlvbiBpcyBhIHNtYWxsIGJ1ZmZlcgot
ICogY29udGFpbmluZyB0aGUgY2xpcCByZWN0IG9ubHkuCiAgKi8KLXZvaWQgZHJtX2ZiX3hyZ2I4
ODg4X3RvX3JnYjMzMih2b2lkICpkc3QsIHZvaWQgKnNyYywgc3RydWN0IGRybV9mcmFtZWJ1ZmZl
ciAqZmIsCi0JCQkgICAgICAgc3RydWN0IGRybV9yZWN0ICpjbGlwKQordm9pZCBkcm1fZmJfeHJn
Yjg4ODhfdG9fcmdiMzMyKHZvaWQgKmRzdCwgdW5zaWduZWQgaW50IGRzdF9waXRjaCwgY29uc3Qg
dm9pZCAqc3JjLAorCQkJICAgICAgIGNvbnN0IHN0cnVjdCBkcm1fZnJhbWVidWZmZXIgKmZiLCBj
b25zdCBzdHJ1Y3QgZHJtX3JlY3QgKmNsaXApCiB7CiAJc2l6ZV90IHdpZHRoID0gZHJtX3JlY3Rf
d2lkdGgoY2xpcCk7CiAJc2l6ZV90IHNyY19sZW4gPSB3aWR0aCAqIHNpemVvZih1MzIpOwogCXVu
c2lnbmVkIGludCB5OwogCXZvaWQgKnNidWY7CiAKKwlpZiAoIWRzdF9waXRjaCkKKwkJZHN0X3Bp
dGNoID0gd2lkdGg7CisKIAkvKiBVc2UgYSBidWZmZXIgdG8gc3BlZWQgdXAgYWNjZXNzIG9uIGJ1
ZmZlcnMgd2l0aCB1bmNhY2hlZCByZWFkIG1hcHBpbmcgKGkuZS4gV0MpICovCiAJc2J1ZiA9IGtt
YWxsb2Moc3JjX2xlbiwgR0ZQX0tFUk5FTCk7CiAJaWYgKCFzYnVmKQpAQCAtMjA4LDE0ICsyMDks
MTQgQEAgdm9pZCBkcm1fZmJfeHJnYjg4ODhfdG9fcmdiMzMyKHZvaWQgKmRzdCwgdm9pZCAqc3Jj
LCBzdHJ1Y3QgZHJtX2ZyYW1lYnVmZmVyICpmYiwKIAkJbWVtY3B5KHNidWYsIHNyYywgc3JjX2xl
bik7CiAJCWRybV9mYl94cmdiODg4OF90b19yZ2IzMzJfbGluZShkc3QsIHNidWYsIHdpZHRoKTsK
IAkJc3JjICs9IGZiLT5waXRjaGVzWzBdOwotCQlkc3QgKz0gd2lkdGg7CisJCWRzdCArPSBkc3Rf
cGl0Y2g7CiAJfQogCiAJa2ZyZWUoc2J1Zik7CiB9CiBFWFBPUlRfU1lNQk9MKGRybV9mYl94cmdi
ODg4OF90b19yZ2IzMzIpOwogCi1zdGF0aWMgdm9pZCBkcm1fZmJfeHJnYjg4ODhfdG9fcmdiNTY1
X2xpbmUodTE2ICpkYnVmLCB1MzIgKnNidWYsCitzdGF0aWMgdm9pZCBkcm1fZmJfeHJnYjg4ODhf
dG9fcmdiNTY1X2xpbmUodTE2ICpkYnVmLCBjb25zdCB1MzIgKnNidWYsCiAJCQkJCSAgIHVuc2ln
bmVkIGludCBwaXhlbHMsCiAJCQkJCSAgIGJvb2wgc3dhYikKIHsKQEAgLTIzNiw2ICsyMzcsNyBA
QCBzdGF0aWMgdm9pZCBkcm1fZmJfeHJnYjg4ODhfdG9fcmdiNTY1X2xpbmUodTE2ICpkYnVmLCB1
MzIgKnNidWYsCiAvKioKICAqIGRybV9mYl94cmdiODg4OF90b19yZ2I1NjUgLSBDb252ZXJ0IFhS
R0I4ODg4IHRvIFJHQjU2NSBjbGlwIGJ1ZmZlcgogICogQGRzdDogUkdCNTY1IGRlc3RpbmF0aW9u
IGJ1ZmZlcgorICogQGRzdF9waXRjaDogTnVtYmVyIG9mIGJ5dGVzIGJldHdlZW4gdHdvIGNvbnNl
Y3V0aXZlIHNjYW5saW5lcyB3aXRoaW4gZHN0CiAgKiBAdmFkZHI6IFhSR0I4ODg4IHNvdXJjZSBi
dWZmZXIKICAqIEBmYjogRFJNIGZyYW1lYnVmZmVyCiAgKiBAY2xpcDogQ2xpcCByZWN0YW5nbGUg
YXJlYSB0byBjb3B5CkBAIC0yNDMsMTMgKzI0NSwxMCBAQCBzdGF0aWMgdm9pZCBkcm1fZmJfeHJn
Yjg4ODhfdG9fcmdiNTY1X2xpbmUodTE2ICpkYnVmLCB1MzIgKnNidWYsCiAgKgogICogRHJpdmVy
cyBjYW4gdXNlIHRoaXMgZnVuY3Rpb24gZm9yIFJHQjU2NSBkZXZpY2VzIHRoYXQgZG9uJ3QgbmF0
aXZlbHkKICAqIHN1cHBvcnQgWFJHQjg4ODguCi0gKgotICogVGhpcyBmdW5jdGlvbiBkb2VzIG5v
dCBhcHBseSBjbGlwcGluZyBvbiBkc3QsIGkuZS4gdGhlIGRlc3RpbmF0aW9uCi0gKiBpcyBhIHNt
YWxsIGJ1ZmZlciBjb250YWluaW5nIHRoZSBjbGlwIHJlY3Qgb25seS4KICAqLwotdm9pZCBkcm1f
ZmJfeHJnYjg4ODhfdG9fcmdiNTY1KHZvaWQgKmRzdCwgdm9pZCAqdmFkZHIsCi0JCQkgICAgICAg
c3RydWN0IGRybV9mcmFtZWJ1ZmZlciAqZmIsCi0JCQkgICAgICAgc3RydWN0IGRybV9yZWN0ICpj
bGlwLCBib29sIHN3YWIpCit2b2lkIGRybV9mYl94cmdiODg4OF90b19yZ2I1NjUodm9pZCAqZHN0
LCB1bnNpZ25lZCBpbnQgZHN0X3BpdGNoLCBjb25zdCB2b2lkICp2YWRkciwKKwkJCSAgICAgICBj
b25zdCBzdHJ1Y3QgZHJtX2ZyYW1lYnVmZmVyICpmYiwgY29uc3Qgc3RydWN0IGRybV9yZWN0ICpj
bGlwLAorCQkJICAgICAgIGJvb2wgc3dhYikKIHsKIAlzaXplX3QgbGluZXBpeGVscyA9IGNsaXAt
PngyIC0gY2xpcC0+eDE7CiAJc2l6ZV90IHNyY19sZW4gPSBsaW5lcGl4ZWxzICogc2l6ZW9mKHUz
Mik7CkBAIC0yNTcsNiArMjU2LDkgQEAgdm9pZCBkcm1fZmJfeHJnYjg4ODhfdG9fcmdiNTY1KHZv
aWQgKmRzdCwgdm9pZCAqdmFkZHIsCiAJdW5zaWduZWQgeSwgbGluZXMgPSBjbGlwLT55MiAtIGNs
aXAtPnkxOwogCXZvaWQgKnNidWY7CiAKKwlpZiAoIWRzdF9waXRjaCkKKwkJZHN0X3BpdGNoID0g
ZHN0X2xlbjsKKwogCS8qCiAJICogVGhlIGNtYSBtZW1vcnkgaXMgd3JpdGUtY29tYmluZWQgc28g
cmVhZHMgYXJlIHVuY2FjaGVkLgogCSAqIFNwZWVkIHVwIGJ5IGZldGNoaW5nIG9uZSBsaW5lIGF0
IGEgdGltZS4KQEAgLTI3MCw3ICsyNzIsNyBAQCB2b2lkIGRybV9mYl94cmdiODg4OF90b19yZ2I1
NjUodm9pZCAqZHN0LCB2b2lkICp2YWRkciwKIAkJbWVtY3B5KHNidWYsIHZhZGRyLCBzcmNfbGVu
KTsKIAkJZHJtX2ZiX3hyZ2I4ODg4X3RvX3JnYjU2NV9saW5lKGRzdCwgc2J1ZiwgbGluZXBpeGVs
cywgc3dhYik7CiAJCXZhZGRyICs9IGZiLT5waXRjaGVzWzBdOwotCQlkc3QgKz0gZHN0X2xlbjsK
KwkJZHN0ICs9IGRzdF9waXRjaDsKIAl9CiAKIAlrZnJlZShzYnVmKTsKQEAgLTI3OCw5ICsyODAs
OSBAQCB2b2lkIGRybV9mYl94cmdiODg4OF90b19yZ2I1NjUodm9pZCAqZHN0LCB2b2lkICp2YWRk
ciwKIEVYUE9SVF9TWU1CT0woZHJtX2ZiX3hyZ2I4ODg4X3RvX3JnYjU2NSk7CiAKIC8qKgotICog
ZHJtX2ZiX3hyZ2I4ODg4X3RvX3JnYjU2NV9kc3RjbGlwIC0gQ29udmVydCBYUkdCODg4OCB0byBS
R0I1NjUgY2xpcCBidWZmZXIKKyAqIGRybV9mYl94cmdiODg4OF90b19yZ2I1NjVfdG9pbyAtIENv
bnZlcnQgWFJHQjg4ODggdG8gUkdCNTY1IGNsaXAgYnVmZmVyCiAgKiBAZHN0OiBSR0I1NjUgZGVz
dGluYXRpb24gYnVmZmVyIChpb21lbSkKLSAqIEBkc3RfcGl0Y2g6IGRlc3RpbmF0aW9uIGJ1ZmZl
ciBwaXRjaAorICogQGRzdF9waXRjaDogTnVtYmVyIG9mIGJ5dGVzIGJldHdlZW4gdHdvIGNvbnNl
Y3V0aXZlIHNjYW5saW5lcyB3aXRoaW4gZHN0CiAgKiBAdmFkZHI6IFhSR0I4ODg4IHNvdXJjZSBi
dWZmZXIKICAqIEBmYjogRFJNIGZyYW1lYnVmZmVyCiAgKiBAY2xpcDogQ2xpcCByZWN0YW5nbGUg
YXJlYSB0byBjb3B5CkBAIC0yODgsMzcgKzI5MCwzNiBAQCBFWFBPUlRfU1lNQk9MKGRybV9mYl94
cmdiODg4OF90b19yZ2I1NjUpOwogICoKICAqIERyaXZlcnMgY2FuIHVzZSB0aGlzIGZ1bmN0aW9u
IGZvciBSR0I1NjUgZGV2aWNlcyB0aGF0IGRvbid0IG5hdGl2ZWx5CiAgKiBzdXBwb3J0IFhSR0I4
ODg4LgotICoKLSAqIFRoaXMgZnVuY3Rpb24gYXBwbGllcyBjbGlwcGluZyBvbiBkc3QsIGkuZS4g
dGhlIGRlc3RpbmF0aW9uIGlzIGEKLSAqIGZ1bGwgKGlvbWVtKSBmcmFtZWJ1ZmZlciBidXQgb25s
eSB0aGUgY2xpcCByZWN0IGNvbnRlbnQgaXMgY29waWVkIG92ZXIuCiAgKi8KLXZvaWQgZHJtX2Zi
X3hyZ2I4ODg4X3RvX3JnYjU2NV9kc3RjbGlwKHZvaWQgX19pb21lbSAqZHN0LCB1bnNpZ25lZCBp
bnQgZHN0X3BpdGNoLAotCQkJCSAgICAgICB2b2lkICp2YWRkciwgc3RydWN0IGRybV9mcmFtZWJ1
ZmZlciAqZmIsCi0JCQkJICAgICAgIHN0cnVjdCBkcm1fcmVjdCAqY2xpcCwgYm9vbCBzd2FiKQor
dm9pZCBkcm1fZmJfeHJnYjg4ODhfdG9fcmdiNTY1X3RvaW8odm9pZCBfX2lvbWVtICpkc3QsIHVu
c2lnbmVkIGludCBkc3RfcGl0Y2gsCisJCQkJICAgIGNvbnN0IHZvaWQgKnZhZGRyLCBjb25zdCBz
dHJ1Y3QgZHJtX2ZyYW1lYnVmZmVyICpmYiwKKwkJCQkgICAgY29uc3Qgc3RydWN0IGRybV9yZWN0
ICpjbGlwLCBib29sIHN3YWIpCiB7CiAJc2l6ZV90IGxpbmVwaXhlbHMgPSBjbGlwLT54MiAtIGNs
aXAtPngxOwogCXNpemVfdCBkc3RfbGVuID0gbGluZXBpeGVscyAqIHNpemVvZih1MTYpOwogCXVu
c2lnbmVkIHksIGxpbmVzID0gY2xpcC0+eTIgLSBjbGlwLT55MTsKIAl2b2lkICpkYnVmOwogCisJ
aWYgKCFkc3RfcGl0Y2gpCisJCWRzdF9waXRjaCA9IGRzdF9sZW47CisKIAlkYnVmID0ga21hbGxv
Yyhkc3RfbGVuLCBHRlBfS0VSTkVMKTsKIAlpZiAoIWRidWYpCiAJCXJldHVybjsKIAogCXZhZGRy
ICs9IGNsaXBfb2Zmc2V0KGNsaXAsIGZiLT5waXRjaGVzWzBdLCBzaXplb2YodTMyKSk7Ci0JZHN0
ICs9IGNsaXBfb2Zmc2V0KGNsaXAsIGRzdF9waXRjaCwgc2l6ZW9mKHUxNikpOwogCWZvciAoeSA9
IDA7IHkgPCBsaW5lczsgeSsrKSB7CiAJCWRybV9mYl94cmdiODg4OF90b19yZ2I1NjVfbGluZShk
YnVmLCB2YWRkciwgbGluZXBpeGVscywgc3dhYik7CiAJCW1lbWNweV90b2lvKGRzdCwgZGJ1Ziwg
ZHN0X2xlbik7CiAJCXZhZGRyICs9IGZiLT5waXRjaGVzWzBdOwotCQlkc3QgKz0gZHN0X2xlbjsK
KwkJZHN0ICs9IGRzdF9waXRjaDsKIAl9CiAKIAlrZnJlZShkYnVmKTsKIH0KLUVYUE9SVF9TWU1C
T0woZHJtX2ZiX3hyZ2I4ODg4X3RvX3JnYjU2NV9kc3RjbGlwKTsKK0VYUE9SVF9TWU1CT0woZHJt
X2ZiX3hyZ2I4ODg4X3RvX3JnYjU2NV90b2lvKTsKIAotc3RhdGljIHZvaWQgZHJtX2ZiX3hyZ2I4
ODg4X3RvX3JnYjg4OF9saW5lKHU4ICpkYnVmLCB1MzIgKnNidWYsCitzdGF0aWMgdm9pZCBkcm1f
ZmJfeHJnYjg4ODhfdG9fcmdiODg4X2xpbmUodTggKmRidWYsIGNvbnN0IHUzMiAqc2J1ZiwKIAkJ
CQkJICAgdW5zaWduZWQgaW50IHBpeGVscykKIHsKIAl1bnNpZ25lZCBpbnQgeDsKQEAgLTMzMywy
NCArMzM0LDI1IEBAIHN0YXRpYyB2b2lkIGRybV9mYl94cmdiODg4OF90b19yZ2I4ODhfbGluZSh1
OCAqZGJ1ZiwgdTMyICpzYnVmLAogLyoqCiAgKiBkcm1fZmJfeHJnYjg4ODhfdG9fcmdiODg4IC0g
Q29udmVydCBYUkdCODg4OCB0byBSR0I4ODggY2xpcCBidWZmZXIKICAqIEBkc3Q6IFJHQjg4OCBk
ZXN0aW5hdGlvbiBidWZmZXIKKyAqIEBkc3RfcGl0Y2g6IE51bWJlciBvZiBieXRlcyBiZXR3ZWVu
IHR3byBjb25zZWN1dGl2ZSBzY2FubGluZXMgd2l0aGluIGRzdAogICogQHNyYzogWFJHQjg4ODgg
c291cmNlIGJ1ZmZlcgogICogQGZiOiBEUk0gZnJhbWVidWZmZXIKICAqIEBjbGlwOiBDbGlwIHJl
Y3RhbmdsZSBhcmVhIHRvIGNvcHkKICAqCiAgKiBEcml2ZXJzIGNhbiB1c2UgdGhpcyBmdW5jdGlv
biBmb3IgUkdCODg4IGRldmljZXMgdGhhdCBkb24ndCBuYXRpdmVseQogICogc3VwcG9ydCBYUkdC
ODg4OC4KLSAqCi0gKiBUaGlzIGZ1bmN0aW9uIGRvZXMgbm90IGFwcGx5IGNsaXBwaW5nIG9uIGRz
dCwgaS5lLiB0aGUgZGVzdGluYXRpb24KLSAqIGlzIGEgc21hbGwgYnVmZmVyIGNvbnRhaW5pbmcg
dGhlIGNsaXAgcmVjdCBvbmx5LgogICovCi12b2lkIGRybV9mYl94cmdiODg4OF90b19yZ2I4ODgo
dm9pZCAqZHN0LCB2b2lkICpzcmMsIHN0cnVjdCBkcm1fZnJhbWVidWZmZXIgKmZiLAotCQkJICAg
ICAgIHN0cnVjdCBkcm1fcmVjdCAqY2xpcCkKK3ZvaWQgZHJtX2ZiX3hyZ2I4ODg4X3RvX3JnYjg4
OCh2b2lkICpkc3QsIHVuc2lnbmVkIGludCBkc3RfcGl0Y2gsIGNvbnN0IHZvaWQgKnNyYywKKwkJ
CSAgICAgICBjb25zdCBzdHJ1Y3QgZHJtX2ZyYW1lYnVmZmVyICpmYiwgY29uc3Qgc3RydWN0IGRy
bV9yZWN0ICpjbGlwKQogewogCXNpemVfdCB3aWR0aCA9IGRybV9yZWN0X3dpZHRoKGNsaXApOwog
CXNpemVfdCBzcmNfbGVuID0gd2lkdGggKiBzaXplb2YodTMyKTsKIAl1bnNpZ25lZCBpbnQgeTsK
IAl2b2lkICpzYnVmOwogCisJaWYgKCFkc3RfcGl0Y2gpCisJCWRzdF9waXRjaCA9IHdpZHRoICog
MzsKKwogCS8qIFVzZSBhIGJ1ZmZlciB0byBzcGVlZCB1cCBhY2Nlc3Mgb24gYnVmZmVycyB3aXRo
IHVuY2FjaGVkIHJlYWQgbWFwcGluZyAoaS5lLiBXQykgKi8KIAlzYnVmID0ga21hbGxvYyhzcmNf
bGVuLCBHRlBfS0VSTkVMKTsKIAlpZiAoIXNidWYpCkBAIC0zNjEsNyArMzYzLDcgQEAgdm9pZCBk
cm1fZmJfeHJnYjg4ODhfdG9fcmdiODg4KHZvaWQgKmRzdCwgdm9pZCAqc3JjLCBzdHJ1Y3QgZHJt
X2ZyYW1lYnVmZmVyICpmYiwKIAkJbWVtY3B5KHNidWYsIHNyYywgc3JjX2xlbik7CiAJCWRybV9m
Yl94cmdiODg4OF90b19yZ2I4ODhfbGluZShkc3QsIHNidWYsIHdpZHRoKTsKIAkJc3JjICs9IGZi
LT5waXRjaGVzWzBdOwotCQlkc3QgKz0gd2lkdGggKiAzOworCQlkc3QgKz0gZHN0X3BpdGNoOwog
CX0KIAogCWtmcmVlKHNidWYpOwpAQCAtMzY5LDQ4ICszNzEsNDggQEAgdm9pZCBkcm1fZmJfeHJn
Yjg4ODhfdG9fcmdiODg4KHZvaWQgKmRzdCwgdm9pZCAqc3JjLCBzdHJ1Y3QgZHJtX2ZyYW1lYnVm
ZmVyICpmYiwKIEVYUE9SVF9TWU1CT0woZHJtX2ZiX3hyZ2I4ODg4X3RvX3JnYjg4OCk7CiAKIC8q
KgotICogZHJtX2ZiX3hyZ2I4ODg4X3RvX3JnYjg4OF9kc3RjbGlwIC0gQ29udmVydCBYUkdCODg4
OCB0byBSR0I4ODggY2xpcCBidWZmZXIKKyAqIGRybV9mYl94cmdiODg4OF90b19yZ2I4ODhfdG9p
byAtIENvbnZlcnQgWFJHQjg4ODggdG8gUkdCODg4IGNsaXAgYnVmZmVyCiAgKiBAZHN0OiBSR0I1
NjUgZGVzdGluYXRpb24gYnVmZmVyIChpb21lbSkKLSAqIEBkc3RfcGl0Y2g6IGRlc3RpbmF0aW9u
IGJ1ZmZlciBwaXRjaAorICogQGRzdF9waXRjaDogTnVtYmVyIG9mIGJ5dGVzIGJldHdlZW4gdHdv
IGNvbnNlY3V0aXZlIHNjYW5saW5lcyB3aXRoaW4gZHN0CiAgKiBAdmFkZHI6IFhSR0I4ODg4IHNv
dXJjZSBidWZmZXIKICAqIEBmYjogRFJNIGZyYW1lYnVmZmVyCiAgKiBAY2xpcDogQ2xpcCByZWN0
YW5nbGUgYXJlYSB0byBjb3B5CiAgKgogICogRHJpdmVycyBjYW4gdXNlIHRoaXMgZnVuY3Rpb24g
Zm9yIFJHQjg4OCBkZXZpY2VzIHRoYXQgZG9uJ3QgbmF0aXZlbHkKICAqIHN1cHBvcnQgWFJHQjg4
ODguCi0gKgotICogVGhpcyBmdW5jdGlvbiBhcHBsaWVzIGNsaXBwaW5nIG9uIGRzdCwgaS5lLiB0
aGUgZGVzdGluYXRpb24gaXMgYQotICogZnVsbCAoaW9tZW0pIGZyYW1lYnVmZmVyIGJ1dCBvbmx5
IHRoZSBjbGlwIHJlY3QgY29udGVudCBpcyBjb3BpZWQgb3Zlci4KICAqLwotdm9pZCBkcm1fZmJf
eHJnYjg4ODhfdG9fcmdiODg4X2RzdGNsaXAodm9pZCBfX2lvbWVtICpkc3QsIHVuc2lnbmVkIGlu
dCBkc3RfcGl0Y2gsCi0JCQkJICAgICAgIHZvaWQgKnZhZGRyLCBzdHJ1Y3QgZHJtX2ZyYW1lYnVm
ZmVyICpmYiwKLQkJCQkgICAgICAgc3RydWN0IGRybV9yZWN0ICpjbGlwKQordm9pZCBkcm1fZmJf
eHJnYjg4ODhfdG9fcmdiODg4X3RvaW8odm9pZCBfX2lvbWVtICpkc3QsIHVuc2lnbmVkIGludCBk
c3RfcGl0Y2gsCisJCQkJICAgIGNvbnN0IHZvaWQgKnZhZGRyLCBjb25zdCBzdHJ1Y3QgZHJtX2Zy
YW1lYnVmZmVyICpmYiwKKwkJCQkgICAgY29uc3Qgc3RydWN0IGRybV9yZWN0ICpjbGlwKQogewog
CXNpemVfdCBsaW5lcGl4ZWxzID0gY2xpcC0+eDIgLSBjbGlwLT54MTsKIAlzaXplX3QgZHN0X2xl
biA9IGxpbmVwaXhlbHMgKiAzOwogCXVuc2lnbmVkIHksIGxpbmVzID0gY2xpcC0+eTIgLSBjbGlw
LT55MTsKIAl2b2lkICpkYnVmOwogCisJaWYgKCFkc3RfcGl0Y2gpCisJCWRzdF9waXRjaCA9IGRz
dF9sZW47CisKIAlkYnVmID0ga21hbGxvYyhkc3RfbGVuLCBHRlBfS0VSTkVMKTsKIAlpZiAoIWRi
dWYpCiAJCXJldHVybjsKIAogCXZhZGRyICs9IGNsaXBfb2Zmc2V0KGNsaXAsIGZiLT5waXRjaGVz
WzBdLCBzaXplb2YodTMyKSk7Ci0JZHN0ICs9IGNsaXBfb2Zmc2V0KGNsaXAsIGRzdF9waXRjaCwg
c2l6ZW9mKHUxNikpOwogCWZvciAoeSA9IDA7IHkgPCBsaW5lczsgeSsrKSB7CiAJCWRybV9mYl94
cmdiODg4OF90b19yZ2I4ODhfbGluZShkYnVmLCB2YWRkciwgbGluZXBpeGVscyk7CiAJCW1lbWNw
eV90b2lvKGRzdCwgZGJ1ZiwgZHN0X2xlbik7CiAJCXZhZGRyICs9IGZiLT5waXRjaGVzWzBdOwot
CQlkc3QgKz0gZHN0X2xlbjsKKwkJZHN0ICs9IGRzdF9waXRjaDsKIAl9CiAKIAlrZnJlZShkYnVm
KTsKIH0KLUVYUE9SVF9TWU1CT0woZHJtX2ZiX3hyZ2I4ODg4X3RvX3JnYjg4OF9kc3RjbGlwKTsK
K0VYUE9SVF9TWU1CT0woZHJtX2ZiX3hyZ2I4ODg4X3RvX3JnYjg4OF90b2lvKTsKIAogLyoqCiAg
KiBkcm1fZmJfeHJnYjg4ODhfdG9fZ3JheTggLSBDb252ZXJ0IFhSR0I4ODg4IHRvIGdyYXlzY2Fs
ZQogICogQGRzdDogOC1iaXQgZ3JheXNjYWxlIGRlc3RpbmF0aW9uIGJ1ZmZlcgorICogQGRzdF9w
aXRjaDogTnVtYmVyIG9mIGJ5dGVzIGJldHdlZW4gdHdvIGNvbnNlY3V0aXZlIHNjYW5saW5lcyB3
aXRoaW4gZHN0CiAgKiBAdmFkZHI6IFhSR0I4ODg4IHNvdXJjZSBidWZmZXIKICAqIEBmYjogRFJN
IGZyYW1lYnVmZmVyCiAgKiBAY2xpcDogQ2xpcCByZWN0YW5nbGUgYXJlYSB0byBjb3B5CkBAIC00
MjQsMTYgKzQyNiwyMSBAQCBFWFBPUlRfU1lNQk9MKGRybV9mYl94cmdiODg4OF90b19yZ2I4ODhf
ZHN0Y2xpcCk7CiAgKgogICogSVRVIEJULjYwMSBpcyB1c2VkIGZvciB0aGUgUkdCIC0+IGx1bWEg
KGJyaWdodG5lc3MpIGNvbnZlcnNpb24uCiAgKi8KLXZvaWQgZHJtX2ZiX3hyZ2I4ODg4X3RvX2dy
YXk4KHU4ICpkc3QsIHZvaWQgKnZhZGRyLCBzdHJ1Y3QgZHJtX2ZyYW1lYnVmZmVyICpmYiwKLQkJ
CSAgICAgICBzdHJ1Y3QgZHJtX3JlY3QgKmNsaXApCit2b2lkIGRybV9mYl94cmdiODg4OF90b19n
cmF5OCh2b2lkICpkc3QsIHVuc2lnbmVkIGludCBkc3RfcGl0Y2gsIGNvbnN0IHZvaWQgKnZhZGRy
LAorCQkJICAgICAgY29uc3Qgc3RydWN0IGRybV9mcmFtZWJ1ZmZlciAqZmIsIGNvbnN0IHN0cnVj
dCBkcm1fcmVjdCAqY2xpcCkKIHsKIAl1bnNpZ25lZCBpbnQgbGVuID0gKGNsaXAtPngyIC0gY2xp
cC0+eDEpICogc2l6ZW9mKHUzMik7CiAJdW5zaWduZWQgaW50IHgsIHk7CiAJdm9pZCAqYnVmOwot
CXUzMiAqc3JjOworCXU4ICpkc3Q4OworCXUzMiAqc3JjMzI7CiAKIAlpZiAoV0FSTl9PTihmYi0+
Zm9ybWF0LT5mb3JtYXQgIT0gRFJNX0ZPUk1BVF9YUkdCODg4OCkpCiAJCXJldHVybjsKKworCWlm
ICghZHN0X3BpdGNoKQorCQlkc3RfcGl0Y2ggPSBkcm1fcmVjdF93aWR0aChjbGlwKTsKKwogCS8q
CiAJICogVGhlIGNtYSBtZW1vcnkgaXMgd3JpdGUtY29tYmluZWQgc28gcmVhZHMgYXJlIHVuY2Fj
aGVkLgogCSAqIFNwZWVkIHVwIGJ5IGZldGNoaW5nIG9uZSBsaW5lIGF0IGEgdGltZS4KQEAgLTQ0
MiwyMCArNDQ5LDIyIEBAIHZvaWQgZHJtX2ZiX3hyZ2I4ODg4X3RvX2dyYXk4KHU4ICpkc3QsIHZv
aWQgKnZhZGRyLCBzdHJ1Y3QgZHJtX2ZyYW1lYnVmZmVyICpmYiwKIAlpZiAoIWJ1ZikKIAkJcmV0
dXJuOwogCisJdmFkZHIgKz0gY2xpcF9vZmZzZXQoY2xpcCwgZmItPnBpdGNoZXNbMF0sIHNpemVv
Zih1MzIpKTsKIAlmb3IgKHkgPSBjbGlwLT55MTsgeSA8IGNsaXAtPnkyOyB5KyspIHsKLQkJc3Jj
ID0gdmFkZHIgKyAoeSAqIGZiLT5waXRjaGVzWzBdKTsKLQkJc3JjICs9IGNsaXAtPngxOwotCQlt
ZW1jcHkoYnVmLCBzcmMsIGxlbik7Ci0JCXNyYyA9IGJ1ZjsKKwkJZHN0OCA9IGRzdDsKKwkJc3Jj
MzIgPSBtZW1jcHkoYnVmLCB2YWRkciwgbGVuKTsKIAkJZm9yICh4ID0gY2xpcC0+eDE7IHggPCBj
bGlwLT54MjsgeCsrKSB7Ci0JCQl1OCByID0gKCpzcmMgJiAweDAwZmYwMDAwKSA+PiAxNjsKLQkJ
CXU4IGcgPSAoKnNyYyAmIDB4MDAwMGZmMDApID4+IDg7Ci0JCQl1OCBiID0gICpzcmMgJiAweDAw
MDAwMGZmOworCQkJdTggciA9ICgqc3JjMzIgJiAweDAwZmYwMDAwKSA+PiAxNjsKKwkJCXU4IGcg
PSAoKnNyYzMyICYgMHgwMDAwZmYwMCkgPj4gODsKKwkJCXU4IGIgPSAgKnNyYzMyICYgMHgwMDAw
MDBmZjsKIAogCQkJLyogSVRVIEJULjYwMTogWSA9IDAuMjk5IFIgKyAwLjU4NyBHICsgMC4xMTQg
QiAqLwotCQkJKmRzdCsrID0gKDMgKiByICsgNiAqIGcgKyBiKSAvIDEwOwotCQkJc3JjKys7CisJ
CQkqZHN0OCsrID0gKDMgKiByICsgNiAqIGcgKyBiKSAvIDEwOworCQkJc3JjMzIrKzsKIAkJfQor
CisJCXZhZGRyICs9IGZiLT5waXRjaGVzWzBdOworCQlkc3QgKz0gZHN0X3BpdGNoOwogCX0KIAog
CWtmcmVlKGJ1Zik7CkBAIC01MDIsMTUgKzUxMSwxNSBAQCBpbnQgZHJtX2ZiX2JsaXRfcmVjdF9k
c3RjbGlwKHZvaWQgX19pb21lbSAqZHN0LCB1bnNpZ25lZCBpbnQgZHN0X3BpdGNoLAogCiAJfSBl
bHNlIGlmIChkc3RfZm9ybWF0ID09IERSTV9GT1JNQVRfUkdCNTY1KSB7CiAJCWlmIChmYl9mb3Jt
YXQgPT0gRFJNX0ZPUk1BVF9YUkdCODg4OCkgewotCQkJZHJtX2ZiX3hyZ2I4ODg4X3RvX3JnYjU2
NV9kc3RjbGlwKGRzdCwgZHN0X3BpdGNoLAotCQkJCQkJCSAgdm1hcCwgZmIsIGNsaXAsCi0JCQkJ
CQkJICBmYWxzZSk7CisJCQlkc3QgKz0gY2xpcF9vZmZzZXQoY2xpcCwgZHN0X3BpdGNoLCBmYi0+
Zm9ybWF0LT5jcHBbMF0pOworCQkJZHJtX2ZiX3hyZ2I4ODg4X3RvX3JnYjU2NV90b2lvKGRzdCwg
ZHN0X3BpdGNoLCB2bWFwLCBmYiwgY2xpcCwKKwkJCQkJCSAgICAgICBmYWxzZSk7CiAJCQlyZXR1
cm4gMDsKIAkJfQogCX0gZWxzZSBpZiAoZHN0X2Zvcm1hdCA9PSBEUk1fRk9STUFUX1JHQjg4OCkg
ewogCQlpZiAoZmJfZm9ybWF0ID09IERSTV9GT1JNQVRfWFJHQjg4ODgpIHsKLQkJCWRybV9mYl94
cmdiODg4OF90b19yZ2I4ODhfZHN0Y2xpcChkc3QsIGRzdF9waXRjaCwKLQkJCQkJCQkgIHZtYXAs
IGZiLCBjbGlwKTsKKwkJCWRzdCArPSBjbGlwX29mZnNldChjbGlwLCBkc3RfcGl0Y2gsIGZiLT5m
b3JtYXQtPmNwcFswXSk7CisJCQlkcm1fZmJfeHJnYjg4ODhfdG9fcmdiODg4X3RvaW8oZHN0LCBk
c3RfcGl0Y2gsIHZtYXAsIGZiLCBjbGlwKTsKIAkJCXJldHVybiAwOwogCQl9CiAJfQpkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2RybV9taXBpX2RiaS5jIGIvZHJpdmVycy9ncHUvZHJtL2Ry
bV9taXBpX2RiaS5jCmluZGV4IDdjZTg5OTE3ZDc2MS4uYjc1NDAzZjMyNTFhIDEwMDY0NAotLS0g
YS9kcml2ZXJzL2dwdS9kcm0vZHJtX21pcGlfZGJpLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2Ry
bV9taXBpX2RiaS5jCkBAIC0yMTYsNyArMjE2LDcgQEAgaW50IG1pcGlfZGJpX2J1Zl9jb3B5KHZv
aWQgKmRzdCwgc3RydWN0IGRybV9mcmFtZWJ1ZmZlciAqZmIsCiAJCQlkcm1fZmJfbWVtY3B5KGRz
dCwgMCwgc3JjLCBmYiwgY2xpcCk7CiAJCWJyZWFrOwogCWNhc2UgRFJNX0ZPUk1BVF9YUkdCODg4
ODoKLQkJZHJtX2ZiX3hyZ2I4ODg4X3RvX3JnYjU2NShkc3QsIHNyYywgZmIsIGNsaXAsIHN3YXAp
OworCQlkcm1fZmJfeHJnYjg4ODhfdG9fcmdiNTY1KGRzdCwgMCwgc3JjLCBmYiwgY2xpcCwgc3dh
cCk7CiAJCWJyZWFrOwogCWRlZmF1bHQ6CiAJCWRybV9lcnJfb25jZShmYi0+ZGV2LCAiRm9ybWF0
IGlzIG5vdCBzdXBwb3J0ZWQ6ICVwNGNjXG4iLApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2d1ZC9ndWRfcGlwZS5jIGIvZHJpdmVycy9ncHUvZHJtL2d1ZC9ndWRfcGlwZS5jCmluZGV4IGUw
YjExN2IyNTU5Zi4uYTE1MGE1YTRiNWQ0IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vZ3Vk
L2d1ZF9waXBlLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2d1ZC9ndWRfcGlwZS5jCkBAIC03NCw3
ICs3NCw3IEBAIHN0YXRpYyBzaXplX3QgZ3VkX3hyZ2I4ODg4X3RvX3IxMjQodTggKmRzdCwgY29u
c3Qgc3RydWN0IGRybV9mb3JtYXRfaW5mbyAqZm9ybWF0CiAJaWYgKCFidWYpCiAJCXJldHVybiAw
OwogCi0JZHJtX2ZiX3hyZ2I4ODg4X3RvX2dyYXk4KGJ1Ziwgc3JjLCBmYiwgcmVjdCk7CisJZHJt
X2ZiX3hyZ2I4ODg4X3RvX2dyYXk4KGJ1ZiwgMCwgc3JjLCBmYiwgcmVjdCk7CiAJcGl4OCA9IGJ1
ZjsKIAogCWZvciAoeSA9IDA7IHkgPCBoZWlnaHQ7IHkrKykgewpAQCAtMTkwLDEzICsxOTAsMTMg
QEAgc3RhdGljIGludCBndWRfcHJlcF9mbHVzaChzdHJ1Y3QgZ3VkX2RldmljZSAqZ2RybSwgc3Ry
dWN0IGRybV9mcmFtZWJ1ZmZlciAqZmIsCiAJCQkJZ290byBlbmRfY3B1X2FjY2VzczsKIAkJCX0K
IAkJfSBlbHNlIGlmIChmb3JtYXQtPmZvcm1hdCA9PSBEUk1fRk9STUFUX1I4KSB7Ci0JCQlkcm1f
ZmJfeHJnYjg4ODhfdG9fZ3JheTgoYnVmLCB2YWRkciwgZmIsIHJlY3QpOworCQkJZHJtX2ZiX3hy
Z2I4ODg4X3RvX2dyYXk4KGJ1ZiwgMCwgdmFkZHIsIGZiLCByZWN0KTsKIAkJfSBlbHNlIGlmIChm
b3JtYXQtPmZvcm1hdCA9PSBEUk1fRk9STUFUX1JHQjMzMikgewotCQkJZHJtX2ZiX3hyZ2I4ODg4
X3RvX3JnYjMzMihidWYsIHZhZGRyLCBmYiwgcmVjdCk7CisJCQlkcm1fZmJfeHJnYjg4ODhfdG9f
cmdiMzMyKGJ1ZiwgMCwgdmFkZHIsIGZiLCByZWN0KTsKIAkJfSBlbHNlIGlmIChmb3JtYXQtPmZv
cm1hdCA9PSBEUk1fRk9STUFUX1JHQjU2NSkgewotCQkJZHJtX2ZiX3hyZ2I4ODg4X3RvX3JnYjU2
NShidWYsIHZhZGRyLCBmYiwgcmVjdCwgZ3VkX2lzX2JpZ19lbmRpYW4oKSk7CisJCQlkcm1fZmJf
eHJnYjg4ODhfdG9fcmdiNTY1KGJ1ZiwgMCwgdmFkZHIsIGZiLCByZWN0LCBndWRfaXNfYmlnX2Vu
ZGlhbigpKTsKIAkJfSBlbHNlIGlmIChmb3JtYXQtPmZvcm1hdCA9PSBEUk1fRk9STUFUX1JHQjg4
OCkgewotCQkJZHJtX2ZiX3hyZ2I4ODg4X3RvX3JnYjg4OChidWYsIHZhZGRyLCBmYiwgcmVjdCk7
CisJCQlkcm1fZmJfeHJnYjg4ODhfdG9fcmdiODg4KGJ1ZiwgMCwgdmFkZHIsIGZiLCByZWN0KTsK
IAkJfSBlbHNlIHsKIAkJCWxlbiA9IGd1ZF94cmdiODg4OF90b19jb2xvcihidWYsIGZvcm1hdCwg
dmFkZHIsIGZiLCByZWN0KTsKIAkJfQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3Rpbnkv
Y2lycnVzLmMgYi9kcml2ZXJzL2dwdS9kcm0vdGlueS9jaXJydXMuYwppbmRleCA1MzQ0ZTUwNmU4
YTkuLjkzMjcwMDFkMzVkZCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3RpbnkvY2lycnVz
LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL3RpbnkvY2lycnVzLmMKQEAgLTMyOSwxNCArMzI5LDEy
IEBAIHN0YXRpYyBpbnQgY2lycnVzX2ZiX2JsaXRfcmVjdChzdHJ1Y3QgZHJtX2ZyYW1lYnVmZmVy
ICpmYiwgY29uc3Qgc3RydWN0IGRtYV9idWZfCiAJCWRybV9mYl9tZW1jcHlfdG9pbyhkc3QsIGZi
LT5waXRjaGVzWzBdLCB2bWFwLCBmYiwgcmVjdCk7CiAKIAl9IGVsc2UgaWYgKGZiLT5mb3JtYXQt
PmNwcFswXSA9PSA0ICYmIGNpcnJ1cy0+Y3BwID09IDIpIHsKLQkJZHJtX2ZiX3hyZ2I4ODg4X3Rv
X3JnYjU2NV9kc3RjbGlwKGNpcnJ1cy0+dnJhbSwKLQkJCQkJCSAgY2lycnVzLT5waXRjaCwKLQkJ
CQkJCSAgdm1hcCwgZmIsIHJlY3QsIGZhbHNlKTsKKwkJZHN0ICs9IGRybV9mYl9jbGlwX29mZnNl
dChjaXJydXMtPnBpdGNoLCBmYi0+Zm9ybWF0LCByZWN0KTsKKwkJZHJtX2ZiX3hyZ2I4ODg4X3Rv
X3JnYjU2NV90b2lvKGRzdCwgY2lycnVzLT5waXRjaCwgdm1hcCwgZmIsIHJlY3QsIGZhbHNlKTsK
IAogCX0gZWxzZSBpZiAoZmItPmZvcm1hdC0+Y3BwWzBdID09IDQgJiYgY2lycnVzLT5jcHAgPT0g
MykgewotCQlkcm1fZmJfeHJnYjg4ODhfdG9fcmdiODg4X2RzdGNsaXAoY2lycnVzLT52cmFtLAot
CQkJCQkJICBjaXJydXMtPnBpdGNoLAotCQkJCQkJICB2bWFwLCBmYiwgcmVjdCk7CisJCWRzdCAr
PSBkcm1fZmJfY2xpcF9vZmZzZXQoY2lycnVzLT5waXRjaCwgZmItPmZvcm1hdCwgcmVjdCk7CisJ
CWRybV9mYl94cmdiODg4OF90b19yZ2I4ODhfdG9pbyhkc3QsIGNpcnJ1cy0+cGl0Y2gsIHZtYXAs
IGZiLCByZWN0KTsKIAogCX0gZWxzZSB7CiAJCVdBUk5fT05fT05DRSgiY3BwIG1pc21hdGNoIik7
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vdGlueS9yZXBhcGVyLmMgYi9kcml2ZXJzL2dw
dS9kcm0vdGlueS9yZXBhcGVyLmMKaW5kZXggNGQwN2IyMWExNmU2Li45N2E3NzVjNDhjZWEgMTAw
NjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS90aW55L3JlcGFwZXIuYworKysgYi9kcml2ZXJzL2dw
dS9kcm0vdGlueS9yZXBhcGVyLmMKQEAgLTU2MCw3ICs1NjAsNyBAQCBzdGF0aWMgaW50IHJlcGFw
ZXJfZmJfZGlydHkoc3RydWN0IGRybV9mcmFtZWJ1ZmZlciAqZmIpCiAJaWYgKHJldCkKIAkJZ290
byBvdXRfZnJlZTsKIAotCWRybV9mYl94cmdiODg4OF90b19ncmF5OChidWYsIGNtYV9vYmotPnZh
ZGRyLCBmYiwgJmNsaXApOworCWRybV9mYl94cmdiODg4OF90b19ncmF5OChidWYsIDAsIGNtYV9v
YmotPnZhZGRyLCBmYiwgJmNsaXApOwogCiAJZHJtX2dlbV9mYl9lbmRfY3B1X2FjY2VzcyhmYiwg
RE1BX0ZST01fREVWSUNFKTsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL3Rpbnkvc3Q3
NTg2LmMgYi9kcml2ZXJzL2dwdS9kcm0vdGlueS9zdDc1ODYuYwppbmRleCBhZDBmYWE4NzIzYzIu
LjUxYjliOWZiM2VhZCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL3Rpbnkvc3Q3NTg2LmMK
KysrIGIvZHJpdmVycy9ncHUvZHJtL3Rpbnkvc3Q3NTg2LmMKQEAgLTczLDcgKzczLDcgQEAgc3Rh
dGljIHZvaWQgc3Q3NTg2X3hyZ2I4ODg4X3RvX2dyYXkzMzIodTggKmRzdCwgdm9pZCAqdmFkZHIs
CiAJaWYgKCFidWYpCiAJCXJldHVybjsKIAotCWRybV9mYl94cmdiODg4OF90b19ncmF5OChidWYs
IHZhZGRyLCBmYiwgY2xpcCk7CisJZHJtX2ZiX3hyZ2I4ODg4X3RvX2dyYXk4KGJ1ZiwgMCwgdmFk
ZHIsIGZiLCBjbGlwKTsKIAlzcmMgPSBidWY7CiAKIAlmb3IgKHkgPSBjbGlwLT55MTsgeSA8IGNs
aXAtPnkyOyB5KyspIHsKZGlmZiAtLWdpdCBhL2luY2x1ZGUvZHJtL2RybV9mb3JtYXRfaGVscGVy
LmggYi9pbmNsdWRlL2RybS9kcm1fZm9ybWF0X2hlbHBlci5oCmluZGV4IGRkY2JhNWFiZTMwNi4u
NmIzNjZmNDIyYTI0IDEwMDY0NAotLS0gYS9pbmNsdWRlL2RybS9kcm1fZm9ybWF0X2hlbHBlci5o
CisrKyBiL2luY2x1ZGUvZHJtL2RybV9mb3JtYXRfaGVscGVyLmgKQEAgLTIwLDIxICsyMCwyMSBA
QCB2b2lkIGRybV9mYl9tZW1jcHlfdG9pbyh2b2lkIF9faW9tZW0gKmRzdCwgdW5zaWduZWQgaW50
IGRzdF9waXRjaCwgY29uc3Qgdm9pZCAqdgogdm9pZCBkcm1fZmJfc3dhYih2b2lkICpkc3QsIHVu
c2lnbmVkIGludCBkc3RfcGl0Y2gsIGNvbnN0IHZvaWQgKnNyYywKIAkJIGNvbnN0IHN0cnVjdCBk
cm1fZnJhbWVidWZmZXIgKmZiLCBjb25zdCBzdHJ1Y3QgZHJtX3JlY3QgKmNsaXAsCiAJCSBib29s
IGNhY2hlZCk7Ci12b2lkIGRybV9mYl94cmdiODg4OF90b19yZ2IzMzIodm9pZCAqZHN0LCB2b2lk
ICp2YWRkciwgc3RydWN0IGRybV9mcmFtZWJ1ZmZlciAqZmIsCi0JCQkgICAgICAgc3RydWN0IGRy
bV9yZWN0ICpjbGlwKTsKLXZvaWQgZHJtX2ZiX3hyZ2I4ODg4X3RvX3JnYjU2NSh2b2lkICpkc3Qs
IHZvaWQgKnZhZGRyLAotCQkJICAgICAgIHN0cnVjdCBkcm1fZnJhbWVidWZmZXIgKmZiLAotCQkJ
ICAgICAgIHN0cnVjdCBkcm1fcmVjdCAqY2xpcCwgYm9vbCBzd2FiKTsKLXZvaWQgZHJtX2ZiX3hy
Z2I4ODg4X3RvX3JnYjU2NV9kc3RjbGlwKHZvaWQgX19pb21lbSAqZHN0LCB1bnNpZ25lZCBpbnQg
ZHN0X3BpdGNoLAotCQkJCSAgICAgICB2b2lkICp2YWRkciwgc3RydWN0IGRybV9mcmFtZWJ1ZmZl
ciAqZmIsCi0JCQkJICAgICAgIHN0cnVjdCBkcm1fcmVjdCAqY2xpcCwgYm9vbCBzd2FiKTsKLXZv
aWQgZHJtX2ZiX3hyZ2I4ODg4X3RvX3JnYjg4OCh2b2lkICpkc3QsIHZvaWQgKnNyYywgc3RydWN0
IGRybV9mcmFtZWJ1ZmZlciAqZmIsCi0JCQkgICAgICAgc3RydWN0IGRybV9yZWN0ICpjbGlwKTsK
LXZvaWQgZHJtX2ZiX3hyZ2I4ODg4X3RvX3JnYjg4OF9kc3RjbGlwKHZvaWQgX19pb21lbSAqZHN0
LCB1bnNpZ25lZCBpbnQgZHN0X3BpdGNoLAotCQkJCSAgICAgICB2b2lkICp2YWRkciwgc3RydWN0
IGRybV9mcmFtZWJ1ZmZlciAqZmIsCi0JCQkJICAgICAgIHN0cnVjdCBkcm1fcmVjdCAqY2xpcCk7
Ci12b2lkIGRybV9mYl94cmdiODg4OF90b19ncmF5OCh1OCAqZHN0LCB2b2lkICp2YWRkciwgc3Ry
dWN0IGRybV9mcmFtZWJ1ZmZlciAqZmIsCi0JCQkgICAgICBzdHJ1Y3QgZHJtX3JlY3QgKmNsaXAp
Owordm9pZCBkcm1fZmJfeHJnYjg4ODhfdG9fcmdiMzMyKHZvaWQgKmRzdCwgdW5zaWduZWQgaW50
IGRzdF9waXRjaCwgY29uc3Qgdm9pZCAqdmFkZHIsCisJCQkgICAgICAgY29uc3Qgc3RydWN0IGRy
bV9mcmFtZWJ1ZmZlciAqZmIsIGNvbnN0IHN0cnVjdCBkcm1fcmVjdCAqY2xpcCk7Cit2b2lkIGRy
bV9mYl94cmdiODg4OF90b19yZ2I1NjUodm9pZCAqZHN0LCB1bnNpZ25lZCBpbnQgZHN0X3BpdGNo
LCBjb25zdCB2b2lkICp2YWRkciwKKwkJCSAgICAgICBjb25zdCBzdHJ1Y3QgZHJtX2ZyYW1lYnVm
ZmVyICpmYiwgY29uc3Qgc3RydWN0IGRybV9yZWN0ICpjbGlwLAorCQkJICAgICAgIGJvb2wgc3dh
Yik7Cit2b2lkIGRybV9mYl94cmdiODg4OF90b19yZ2I1NjVfdG9pbyh2b2lkIF9faW9tZW0gKmRz
dCwgdW5zaWduZWQgaW50IGRzdF9waXRjaCwKKwkJCQkgICAgY29uc3Qgdm9pZCAqdmFkZHIsIGNv
bnN0IHN0cnVjdCBkcm1fZnJhbWVidWZmZXIgKmZiLAorCQkJCSAgICBjb25zdCBzdHJ1Y3QgZHJt
X3JlY3QgKmNsaXAsIGJvb2wgc3dhYik7Cit2b2lkIGRybV9mYl94cmdiODg4OF90b19yZ2I4ODgo
dm9pZCAqZHN0LCB1bnNpZ25lZCBpbnQgZHN0X3BpdGNoLCBjb25zdCB2b2lkICpzcmMsCisJCQkg
ICAgICAgY29uc3Qgc3RydWN0IGRybV9mcmFtZWJ1ZmZlciAqZmIsIGNvbnN0IHN0cnVjdCBkcm1f
cmVjdCAqY2xpcCk7Cit2b2lkIGRybV9mYl94cmdiODg4OF90b19yZ2I4ODhfdG9pbyh2b2lkIF9f
aW9tZW0gKmRzdCwgdW5zaWduZWQgaW50IGRzdF9waXRjaCwKKwkJCQkgICAgY29uc3Qgdm9pZCAq
dmFkZHIsIGNvbnN0IHN0cnVjdCBkcm1fZnJhbWVidWZmZXIgKmZiLAorCQkJCSAgICBjb25zdCBz
dHJ1Y3QgZHJtX3JlY3QgKmNsaXApOwordm9pZCBkcm1fZmJfeHJnYjg4ODhfdG9fZ3JheTgodm9p
ZCAqZHN0LCB1bnNpZ25lZCBpbnQgZHN0X3BpdGNoLCBjb25zdCB2b2lkICp2YWRkciwKKwkJCSAg
ICAgIGNvbnN0IHN0cnVjdCBkcm1fZnJhbWVidWZmZXIgKmZiLCBjb25zdCBzdHJ1Y3QgZHJtX3Jl
Y3QgKmNsaXApOwogCiBpbnQgZHJtX2ZiX2JsaXRfcmVjdF9kc3RjbGlwKHZvaWQgX19pb21lbSAq
ZHN0LCB1bnNpZ25lZCBpbnQgZHN0X3BpdGNoLAogCQkJICAgICB1aW50MzJfdCBkc3RfZm9ybWF0
LCB2b2lkICp2bWFwLAotLSAKMi4zMy4xCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fXwpWaXJ0dWFsaXphdGlvbiBtYWlsaW5nIGxpc3QKVmlydHVhbGl6YXRp
b25AbGlzdHMubGludXgtZm91bmRhdGlvbi5vcmcKaHR0cHM6Ly9saXN0cy5saW51eGZvdW5kYXRp
b24ub3JnL21haWxtYW4vbGlzdGluZm8vdmlydHVhbGl6YXRpb24=
