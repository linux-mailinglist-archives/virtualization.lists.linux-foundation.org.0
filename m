Return-Path: <virtualization-bounces@lists.linux-foundation.org>
X-Original-To: lists.virtualization@lfdr.de
Delivered-To: lists.virtualization@lfdr.de
Received: from mail.linuxfoundation.org (mail.linuxfoundation.org [140.211.169.12])
	by mail.lfdr.de (Postfix) with ESMTPS id 08C046E34F
	for <lists.virtualization@lfdr.de>; Fri, 19 Jul 2019 11:20:43 +0200 (CEST)
Received: from mail.linux-foundation.org (localhost [127.0.0.1])
	by mail.linuxfoundation.org (Postfix) with ESMTP id C8D072427;
	Fri, 19 Jul 2019 09:20:36 +0000 (UTC)
X-Original-To: virtualization@lists.linux-foundation.org
Delivered-To: virtualization@mail.linuxfoundation.org
Received: from smtp1.linuxfoundation.org (smtp1.linux-foundation.org
	[172.17.192.35])
	by mail.linuxfoundation.org (Postfix) with ESMTPS id BA410227B
	for <virtualization@lists.linux-foundation.org>;
	Fri, 19 Jul 2019 09:20:17 +0000 (UTC)
X-Greylist: whitelisted by SQLgrey-1.7.6
Received: from mail-wm1-f67.google.com (mail-wm1-f67.google.com
	[209.85.128.67])
	by smtp1.linuxfoundation.org (Postfix) with ESMTPS id ABDFCFE
	for <virtualization@lists.linux-foundation.org>;
	Fri, 19 Jul 2019 09:20:15 +0000 (UTC)
Received: by mail-wm1-f67.google.com with SMTP id x15so28095944wmj.3
	for <virtualization@lists.linux-foundation.org>;
	Fri, 19 Jul 2019 02:20:15 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
	d=1e100.net; s=20161025;
	h=x-gm-message-state:date:from:to:cc:subject:message-id:references
	:mime-version:content-disposition:content-transfer-encoding
	:in-reply-to:user-agent;
	bh=d7xtP+xXY/V65lMm7hyePdSkWsPyNf2dDv+CiXw5rLE=;
	b=X5p714qUHmurvXaRnw6U0fGE+wMF2hV6UPVdJimtWqTd/4CW5d8RlGVmSf+Z8tSYew
	R5l+lEgD7lxg8hUhog5pxAKQA7PGuHE8vEVt3PmobUlyAwRCxmO5yMjI85saulB/kwsd
	iYHiYWs2OrHqpKgFuXt5wlvAQd6ED3kEEyXfGwOjeP1w9HsSvH/T6AWyX59vA0JKooXO
	NS3CjVYheZwfUic592qnW2zpgjGtaaIILq6ZuO/qVm3y1yeUO1fALI5/38JQTkf0q+OG
	Jtyx2E76bXh2FArHDDPfxrK1iw5XkWUucisOz1A+wfximfdJU1ySOonV+V2D4xAVYpm/
	Vrlw==
X-Gm-Message-State: APjAAAWcpKYhfZoslOxxb61VOMwdUNSz/76MEEfWIpCRyQHICRq8GCKP
	6mnplONM0Gbvc0+xzgw584lEwQ==
X-Google-Smtp-Source: APXvYqy62hSCfG9ct3WGUrLI/2F1gd44Qr2LvGY4D/nvEZf/p8Jwws1gAc8sewlXn3W8/m75H0THhw==
X-Received: by 2002:a1c:44d7:: with SMTP id
	r206mr48394331wma.164.1563528014194; 
	Fri, 19 Jul 2019 02:20:14 -0700 (PDT)
Received: from steredhat (host122-201-dynamic.13-79-r.retail.telecomitalia.it.
	[79.13.201.122]) by smtp.gmail.com with ESMTPSA id
	l8sm50906682wrg.40.2019.07.19.02.20.12
	(version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
	Fri, 19 Jul 2019 02:20:13 -0700 (PDT)
Date: Fri, 19 Jul 2019 11:20:11 +0200
From: Stefano Garzarella <sgarzare@redhat.com>
To: Jason Wang <jasowang@redhat.com>
Subject: Re: [PATCH v4 4/5] vhost/vsock: split packets to send using multiple
	buffers
Message-ID: <20190719092011.czzju7lepn3lv3up@steredhat>
References: <20190717113030.163499-5-sgarzare@redhat.com>
	<20190717105336-mutt-send-email-mst@kernel.org>
	<CAGxU2F45v40qAOHkm1Hk2E69gCS0UwVgS5NS+tDXXuzdF4EixA@mail.gmail.com>
	<20190718041234-mutt-send-email-mst@kernel.org>
	<CAGxU2F6oo7Cou7t9o=gG2=wxHMKX9xYQXNxVtDYeHq5fyEhJWg@mail.gmail.com>
	<20190718072741-mutt-send-email-mst@kernel.org>
	<20190719080832.7hoeus23zjyrx3cc@steredhat>
	<fcd19719-e5a9-adad-1e6c-c84487187088@redhat.com>
	<20190719083920.67qo2umpthz454be@steredhat>
	<53da84b9-184f-1377-0582-ab7cf42ebdb6@redhat.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <53da84b9-184f-1377-0582-ab7cf42ebdb6@redhat.com>
User-Agent: NeoMutt/20180716
X-Spam-Status: No, score=-1.9 required=5.0 tests=BAYES_00,RCVD_IN_DNSWL_NONE
	autolearn=ham version=3.3.1
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on
	smtp1.linux-foundation.org
Cc: kvm@vger.kernel.org, "Michael S. Tsirkin" <mst@redhat.com>,
	netdev@vger.kernel.org, linux-kernel@vger.kernel.org,
	virtualization@lists.linux-foundation.org,
	Stefan Hajnoczi <stefanha@redhat.com>,
	"David S. Miller" <davem@davemloft.net>
X-BeenThere: virtualization@lists.linux-foundation.org
X-Mailman-Version: 2.1.12
Precedence: list
List-Id: Linux virtualization <virtualization.lists.linux-foundation.org>
List-Unsubscribe: <https://lists.linuxfoundation.org/mailman/options/virtualization>,
	<mailto:virtualization-request@lists.linux-foundation.org?subject=unsubscribe>
List-Archive: <http://lists.linuxfoundation.org/pipermail/virtualization/>
List-Post: <mailto:virtualization@lists.linux-foundation.org>
List-Help: <mailto:virtualization-request@lists.linux-foundation.org?subject=help>
List-Subscribe: <https://lists.linuxfoundation.org/mailman/listinfo/virtualization>,
	<mailto:virtualization-request@lists.linux-foundation.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Sender: virtualization-bounces@lists.linux-foundation.org
Errors-To: virtualization-bounces@lists.linux-foundation.org

T24gRnJpLCBKdWwgMTksIDIwMTkgYXQgMDQ6NTE6MDBQTSArMDgwMCwgSmFzb24gV2FuZyB3cm90
ZToKPiAKPiBPbiAyMDE5LzcvMTkg5LiL5Y2INDozOSwgU3RlZmFubyBHYXJ6YXJlbGxhIHdyb3Rl
Ogo+ID4gT24gRnJpLCBKdWwgMTksIDIwMTkgYXQgMDQ6MjE6NTJQTSArMDgwMCwgSmFzb24gV2Fu
ZyB3cm90ZToKPiA+ID4gT24gMjAxOS83LzE5IOS4i+WNiDQ6MDgsIFN0ZWZhbm8gR2FyemFyZWxs
YSB3cm90ZToKPiA+ID4gPiBPbiBUaHUsIEp1bCAxOCwgMjAxOSBhdCAwNzozNTo0NkFNIC0wNDAw
LCBNaWNoYWVsIFMuIFRzaXJraW4gd3JvdGU6Cj4gPiA+ID4gPiBPbiBUaHUsIEp1bCAxOCwgMjAx
OSBhdCAxMTozNzozMEFNICswMjAwLCBTdGVmYW5vIEdhcnphcmVsbGEgd3JvdGU6Cj4gPiA+ID4g
PiA+IE9uIFRodSwgSnVsIDE4LCAyMDE5IGF0IDEwOjEzIEFNIE1pY2hhZWwgUy4gVHNpcmtpbjxt
c3RAcmVkaGF0LmNvbT4gIHdyb3RlOgo+ID4gPiA+ID4gPiA+IE9uIFRodSwgSnVsIDE4LCAyMDE5
IGF0IDA5OjUwOjE0QU0gKzAyMDAsIFN0ZWZhbm8gR2FyemFyZWxsYSB3cm90ZToKPiA+ID4gPiA+
ID4gPiA+IE9uIFdlZCwgSnVsIDE3LCAyMDE5IGF0IDQ6NTUgUE0gTWljaGFlbCBTLiBUc2lya2lu
PG1zdEByZWRoYXQuY29tPiAgd3JvdGU6Cj4gPiA+ID4gPiA+ID4gPiA+IE9uIFdlZCwgSnVsIDE3
LCAyMDE5IGF0IDAxOjMwOjI5UE0gKzAyMDAsIFN0ZWZhbm8gR2FyemFyZWxsYSB3cm90ZToKPiA+
ID4gPiA+ID4gPiA+ID4gPiBJZiB0aGUgcGFja2V0cyB0byBzZW50IHRvIHRoZSBndWVzdCBhcmUg
YmlnZ2VyIHRoYW4gdGhlIGJ1ZmZlcgo+ID4gPiA+ID4gPiA+ID4gPiA+IGF2YWlsYWJsZSwgd2Ug
Y2FuIHNwbGl0IHRoZW0sIHVzaW5nIG11bHRpcGxlIGJ1ZmZlcnMgYW5kIGZpeGluZwo+ID4gPiA+
ID4gPiA+ID4gPiA+IHRoZSBsZW5ndGggaW4gdGhlIHBhY2tldCBoZWFkZXIuCj4gPiA+ID4gPiA+
ID4gPiA+ID4gVGhpcyBpcyBzYWZlIHNpbmNlIHZpcnRpby12c29jayBzdXBwb3J0cyBvbmx5IHN0
cmVhbSBzb2NrZXRzLgo+ID4gPiA+ID4gPiA+ID4gPiA+IAo+ID4gPiA+ID4gPiA+ID4gPiA+IFNp
Z25lZC1vZmYtYnk6IFN0ZWZhbm8gR2FyemFyZWxsYTxzZ2FyemFyZUByZWRoYXQuY29tPgo+ID4g
PiA+ID4gPiA+ID4gPiBTbyBob3cgZG9lcyBpdCB3b3JrIHJpZ2h0IG5vdz8gSWYgYW4gYXBwCj4g
PiA+ID4gPiA+ID4gPiA+IGRvZXMgc2VuZG1zZyB3aXRoIGEgNjRLIGJ1ZmZlciBhbmQgdGhlIG90
aGVyCj4gPiA+ID4gPiA+ID4gPiA+IHNpZGUgcHVibGlzaGVzIDRLIGJ1ZmZlcnMgLSBkb2VzIGl0
IGp1c3Qgc3RhbGw/Cj4gPiA+ID4gPiA+ID4gPiBCZWZvcmUgdGhpcyBzZXJpZXMsIHRoZSA2NEsg
KG9yIGJpZ2dlcikgdXNlciBtZXNzYWdlcyB3YXMgc3BsaXQgaW4gNEsgcGFja2V0cwo+ID4gPiA+
ID4gPiA+ID4gKGZpeGVkIGluIHRoZSBjb2RlKSBhbmQgcXVldWVkIGluIGFuIGludGVybmFsIGxp
c3QgZm9yIHRoZSBUWCB3b3JrZXIuCj4gPiA+ID4gPiA+ID4gPiAKPiA+ID4gPiA+ID4gPiA+IEFm
dGVyIHRoaXMgc2VyaWVzLCB3ZSB3aWxsIHF1ZXVlIHVwIHRvIDY0SyBwYWNrZXRzIGFuZCB0aGVu
IGl0IHdpbGwgYmUgc3BsaXQgaW4KPiA+ID4gPiA+ID4gPiA+IHRoZSBUWCB3b3JrZXIsIGRlcGVu
ZGluZyBvbiB0aGUgc2l6ZSBvZiB0aGUgYnVmZmVycyBhdmFpbGFibGUgaW4gdGhlCj4gPiA+ID4g
PiA+ID4gPiB2cmluZy4gKFRoZSBpZGVhIHdhcyB0byBhbGxvdyBFV01BIG9yIGEgY29uZmlndXJh
dGlvbiBvZiB0aGUgYnVmZmVycyBzaXplLCBidXQKPiA+ID4gPiA+ID4gPiA+IGZvciBub3cgd2Ug
cG9zdHBvbmVkIGl0KQo+ID4gPiA+ID4gPiA+IEdvdCBpdC4gVXNpbmcgd29ya2VycyBmb3IgeG1p
dCBpcyBJTUhPIGEgYmFkIGlkZWEgYnR3Lgo+ID4gPiA+ID4gPiA+IFdoeSBpcyBpdCBkb25lIGxp
a2UgdGhpcz8KPiA+ID4gPiA+ID4gSG9uZXN0bHksIEkgZG9uJ3Qga25vdyB0aGUgZXhhY3QgcmVh
c29ucyBmb3IgdGhpcyBkZXNpZ24sIGJ1dCBJIHN1cHBvc2UKPiA+ID4gPiA+ID4gdGhhdCB0aGUg
aWRlYSB3YXMgdG8gaGF2ZSBvbmx5IG9uZSB3b3JrZXIgdGhhdCB1c2VzIHRoZSB2cmluZywgYW5k
Cj4gPiA+ID4gPiA+IG11bHRpcGxlIHVzZXIgdGhyZWFkcyB0aGF0IGVucXVldWUgcGFja2V0cyBp
biB0aGUgbGlzdC4KPiA+ID4gPiA+ID4gVGhpcyBjYW4gc2ltcGxpZnkgdGhlIGNvZGUgYW5kIHdl
IGNhbiBwdXQgdGhlIHVzZXIgdGhyZWFkcyB0byBzbGVlcCBpZgo+ID4gPiA+ID4gPiB3ZSBkb24n
dCBoYXZlICJjcmVkaXQiIGF2YWlsYWJsZSAodGhpcyBtZWFucyB0aGF0IHRoZSByZWNlaXZlciBk
b2Vzbid0Cj4gPiA+ID4gPiA+IGhhdmUgc3BhY2UgdG8gcmVjZWl2ZSB0aGUgcGFja2V0KS4KPiA+
ID4gPiA+IEkgdGhpbmsgeW91IG1lYW4gdGhlIHJldmVyc2U6IGV2ZW4gd2l0aG91dCBjcmVkaXRz
IHlvdSBjYW4gY29weSBmcm9tCj4gPiA+ID4gPiB1c2VyIGFuZCBxdWV1ZSB1cCBkYXRhLCB0aGVu
IHByb2Nlc3MgaXQgd2l0aG91dCB3YWtpbmcgdXAgdGhlIHVzZXIKPiA+ID4gPiA+IHRocmVhZC4K
PiA+ID4gPiBJIGNoZWNrZWQgdGhlIGNvZGUgYmV0dGVyLCBidXQgaXQgZG9lc24ndCBzZWVtIHRv
IGRvIHRoYXQuCj4gPiA+ID4gVGhlIC5zZW5kbXNnIGNhbGxiYWNrIG9mIGFmX3Zzb2NrLCBjaGVj
ayBpZiB0aGUgdHJhbnNwb3J0IGhhcyBzcGFjZQo+ID4gPiA+ICh2aXJ0aW8tdnNvY2sgdHJhbnNw
b3J0IHJldHVybnMgdGhlIGNyZWRpdCBhdmFpbGFibGUpLiBJZiB0aGVyZSBpcyBubwo+ID4gPiA+
IHNwYWNlLCBpdCBwdXQgdGhlIHRocmVhZCB0byBzbGVlcCBvbiB0aGUgJ3NrX3NsZWVwKHNrKScg
d2FpdF9xdWV1ZS4KPiA+ID4gPiAKPiA+ID4gPiBXaGVuIHRoZSB0cmFuc3BvcnQgcmVjZWl2ZXMg
YW4gdXBkYXRlIG9mIGNyZWRpdCBhdmFpbGFibGUgb24gdGhlIG90aGVyCj4gPiA+ID4gcGVlciwg
aXQgY2FsbHMgJ3NrLT5za193cml0ZV9zcGFjZShzayknIHRoYXQgd2FrZXMgdXAgdGhlIHRocmVh
ZAo+ID4gPiA+IHNsZWVwaW5nLCB0aGF0IHdpbGwgcXVldWUgdGhlIG5ldyBwYWNrZXQuCj4gPiA+
ID4gCj4gPiA+ID4gU28sIGluIHRoZSBjdXJyZW50IGltcGxlbWVudGF0aW9uLCB0aGUgVFggd29y
a2VyIGRvZXNuJ3QgY2hlY2sgdGhlCj4gPiA+ID4gY3JlZGl0IGF2YWlsYWJsZSwgaXQgb25seSBz
ZW5kcyB0aGUgcGFja2V0cy4KPiA+ID4gPiAKPiA+ID4gPiA+IERvZXMgaXQgaGVscCB0aG91Z2g/
IEl0IGNlcnRhaW5seSBhZGRzIHVwIHdvcmsgb3V0c2lkZSBvZgo+ID4gPiA+ID4gdXNlciB0aHJl
YWQgY29udGV4dCB3aGljaCBtZWFucyBpdCdzIG5vdCBhY2NvdW50ZWQgZm9yCj4gPiA+ID4gPiBj
b3JyZWN0bHkuCj4gPiA+ID4gSSBjYW4gdHJ5IHRvIHhtaXQgdGhlIHBhY2tldCBkaXJlY3RseSBp
biB0aGUgdXNlciB0aHJlYWQgY29udGV4dCwgdG8gc2VlCj4gPiA+ID4gdGhlIGltcHJvdmVtZW50
cy4KPiA+ID4gCj4gPiA+IEl0IHdpbGwgdGhlbiBsb29rcyBtb3JlIGxpa2Ugd2hhdCB2aXJ0aW8t
bmV0IChhbmQgb3RoZXIgbmV0d29ya2luZyBkZXZpY2UpCj4gPiA+IGRpZC4KPiA+IEknbGwgdHJ5
IEFTQVAsIHRoZSBjaGFuZ2VzIHNob3VsZCBub3QgYmUgdG9vIGNvbXBsaWNhdGVkLi4uIEkgaG9w
ZSA6KQo+ID4gCj4gPiA+IAo+ID4gPiA+ID4gTWF5YmUgd2Ugd2FudCBtb3JlIFZRcy4gV291bGQg
aGVscCBpbXByb3ZlIHBhcmFsbGVsaXNtLiBUaGUgcXVlc3Rpb24KPiA+ID4gPiA+IHdvdWxkIHRo
ZW4gYmVjb21lIGhvdyB0byBtYXAgc29ja2V0cyB0byBWUXMuIFdpdGggYSBzaW1wbGUgaGFzaAo+
ID4gPiA+ID4gaXQncyBlYXN5IHRvIGNyZWF0ZSBjb2xsaXNpb25zIC4uLgo+ID4gPiA+IFllcywg
bW9yZSBWUXMgY2FuIGhlbHAgYnV0IHRoZSBtYXAgcXVlc3Rpb24gaXMgbm90IHNpbXBsZSB0byBh
bnN3ZXIuCj4gPiA+ID4gTWF5YmUgd2UgY2FuIGRvIGFuIGhhc2ggb24gdGhlIChjaWQsIHBvcnQp
IG9yIGRvIHNvbWUga2luZCBvZiBlc3RpbWF0aW9uCj4gPiA+ID4gb2YgcXVldWUgdXRpbGl6YXRp
b24gYW5kIHRyeSB0byBiYWxhbmNlLgo+ID4gPiA+IFNob3VsZCB0aGUgbWFwcGluZyBiZSB1bmlx
dWU/Cj4gPiA+IAo+ID4gPiBJdCBzb3VuZHMgdG8gbWUgeW91IHdhbnQgc29tZSBraW5kIG9mIGZh
aXIgcXVldWluZz8gV2UndmUgYWxyZWFkeSBoYWQKPiA+ID4gc2V2ZXJhbCBxZGlzY3MgdGhhdCBk
byB0aGlzLgo+ID4gVGhhbmtzIGZvciBwb2ludGluZyBpdCBvdXQhCj4gPiAKPiA+ID4gU28gaWYg
d2UgdXNlIHRoZSBrZXJuZWwgbmV0d29ya2luZyB4bWl0IHBhdGgsIGFsbCB0aG9zZSBpc3N1ZXMg
Y291bGQgYmUKPiA+ID4gYWRkcmVzc2VkLgo+ID4gT25lIG1vcmUgcG9pbnQgdG8gQUZfVlNPQ0sg
KyBuZXQtc3RhY2ssIGJ1dCB3ZSBoYXZlIHRvIGV2YWx1YXRlIHBvc3NpYmxlCj4gPiBkcmF3YmFj
a3MgaW4gdXNpbmcgdGhlIG5ldC1zdGFjay4gKGUuZy4gbW9yZSBsYXRlbmN5IGR1ZSB0byB0aGUg
Y29tcGxleGl0eQo+ID4gb2YgdGhlIG5ldC1zdGFjaz8pCj4gCj4gCj4gWWVzLCB3ZSBuZWVkIGJl
bmNobWFyayB0aGUgcGVyZm9ybWFuY2UuIEJ1dCBhcyB3ZSd2ZSBub3RpY2VkLCBjdXJyZW50IHZz
b2NrCj4gaW1wbGVtZW50YXRpb24gaXMgbm90IGVmZmljaWVudCwgYW5kIGZvciBzdHJlYW0gc29j
a2V0LCB0aGUgb3ZlcmhlYWQgc2hvdWxkCj4gYmUgbWluaW1hbC4gVGhlIG1vc3QgaW1wb3J0YW50
IHRoaW5nIGlzIHRvIGF2b2lkIHJlaW52ZW50aW5nIHRoaW5ncyB0aGF0IGhhcwo+IGFscmVhZHkg
ZXhpc3RlZC4KCkdvdCBpdC4gSSBjb21wbGV0ZWx5IGFncmVlIHdpdGggeW91LCBhbmQgSSB3YW50
IHRvIGF2b2lkIHJlaW52ZW50aW5nIHRoaW5ncwooc3VyZWx5IGluIGEgd29yc2Ugd2F5KS4KCkJ1
dCB0aGUgaWRlYSAoc3VnZ2VzdGVkIGFsc28gYnkgTWljaGVhbCkgdG8gZGlzY292ZXIgaG93IGZh
c3QgY2FuIGdvIGEKbmV3IHByb3RvY29sIHNlcGFyYXRlIGZyb20gdGhlIG5ldHdvcmtpbmcgc3Rh
Y2ssIGlzIHF1aXRlIGF0dHJhY3RpdmUgOikKClRoYW5rcywKU3RlZmFubwpfX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpWaXJ0dWFsaXphdGlvbiBtYWlsaW5n
IGxpc3QKVmlydHVhbGl6YXRpb25AbGlzdHMubGludXgtZm91bmRhdGlvbi5vcmcKaHR0cHM6Ly9s
aXN0cy5saW51eGZvdW5kYXRpb24ub3JnL21haWxtYW4vbGlzdGluZm8vdmlydHVhbGl6YXRpb24=
