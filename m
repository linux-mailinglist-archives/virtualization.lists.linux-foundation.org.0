Return-Path: <virtualization-bounces@lists.linux-foundation.org>
X-Original-To: lists.virtualization@lfdr.de
Delivered-To: lists.virtualization@lfdr.de
Received: from smtp3.osuosl.org (smtp3.osuosl.org [IPv6:2605:bc80:3010::136])
	by mail.lfdr.de (Postfix) with ESMTPS id EA180717429
	for <lists.virtualization@lfdr.de>; Wed, 31 May 2023 05:12:33 +0200 (CEST)
Received: from localhost (localhost [127.0.0.1])
	by smtp3.osuosl.org (Postfix) with ESMTP id 8208A60EAB;
	Wed, 31 May 2023 03:12:30 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp3.osuosl.org 8208A60EAB
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp3.osuosl.org ([127.0.0.1])
	by localhost (smtp3.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id xvFsLjc-t-ub; Wed, 31 May 2023 03:12:28 +0000 (UTC)
Received: from lists.linuxfoundation.org (lf-lists.osuosl.org [IPv6:2605:bc80:3010:104::8cd3:938])
	by smtp3.osuosl.org (Postfix) with ESMTPS id 6E08E60D68;
	Wed, 31 May 2023 03:12:28 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp3.osuosl.org 6E08E60D68
Received: from lf-lists.osuosl.org (localhost [127.0.0.1])
	by lists.linuxfoundation.org (Postfix) with ESMTP id 8F330C008C;
	Wed, 31 May 2023 03:12:27 +0000 (UTC)
X-Original-To: virtualization@lists.linux-foundation.org
Delivered-To: virtualization@lists.linuxfoundation.org
Received: from smtp4.osuosl.org (smtp4.osuosl.org [IPv6:2605:bc80:3010::137])
 by lists.linuxfoundation.org (Postfix) with ESMTP id B9160C002A
 for <virtualization@lists.linux-foundation.org>;
 Wed, 31 May 2023 03:12:25 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by smtp4.osuosl.org (Postfix) with ESMTP id 8B4414177C
 for <virtualization@lists.linux-foundation.org>;
 Wed, 31 May 2023 03:12:25 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp4.osuosl.org 8B4414177C
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp4.osuosl.org ([127.0.0.1])
 by localhost (smtp4.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id SPXi_N6UbhCd
 for <virtualization@lists.linux-foundation.org>;
 Wed, 31 May 2023 03:12:23 +0000 (UTC)
X-Greylist: domain auto-whitelisted by SQLgrey-1.8.0
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp4.osuosl.org 65DB241717
Received: from out30-119.freemail.mail.aliyun.com
 (out30-119.freemail.mail.aliyun.com [115.124.30.119])
 by smtp4.osuosl.org (Postfix) with ESMTPS id 65DB241717
 for <virtualization@lists.linux-foundation.org>;
 Wed, 31 May 2023 03:12:21 +0000 (UTC)
X-Alimail-AntiSpam: AC=PASS; BC=-1|-1; BR=01201311R201e4; CH=green; DM=||false|;
 DS=||; FP=0|-1|-1|-1|0|-1|-1|-1; HT=ay29a033018045192;
 MF=xuanzhuo@linux.alibaba.com; NM=1; PH=DS; RN=11; SR=0;
 TI=SMTPD_---0Vjvjzal_1685502735; 
Received: from localhost(mailfrom:xuanzhuo@linux.alibaba.com
 fp:SMTPD_---0Vjvjzal_1685502735) by smtp.aliyun-inc.com;
 Wed, 31 May 2023 11:12:16 +0800
Message-ID: <1685502651.282807-1-xuanzhuo@linux.alibaba.com>
Subject: Re: [PATCH net-next 2/5] virtio_net: Add page_pool support to improve
 performance
Date: Wed, 31 May 2023 11:10:51 +0800
From: Xuan Zhuo <xuanzhuo@linux.alibaba.com>
To: Liang Chen <liangchen.linux@gmail.com>
References: <20230526054621.18371-1-liangchen.linux@gmail.com>
 <20230526054621.18371-2-liangchen.linux@gmail.com>
 <CACGkMEv+5150S4ooWFMnUs-GpwRYgRMTku0ZgkFpH5iFR1qQsw@mail.gmail.com>
 <CAKhg4tL2b9LEsaNuLi94Zf9XQ4S2FyoXWzW9wTTkrU8L1qNQcQ@mail.gmail.com>
 <20230528023956-mutt-send-email-mst@kernel.org>
 <CAKhg4t+8TsNZ-0hzfo63qCh_uFYHCmyZR+Fx+rC8garnMBt9jw@mail.gmail.com>
In-Reply-To: <CAKhg4t+8TsNZ-0hzfo63qCh_uFYHCmyZR+Fx+rC8garnMBt9jw@mail.gmail.com>
Cc: "Michael S. Tsirkin" <mst@redhat.com>, netdev@vger.kernel.org,
 linux-kernel@vger.kernel.org, alexander.duyck@gmail.com,
 virtualization@lists.linux-foundation.org, edumazet@google.com,
 kuba@kernel.org, pabeni@redhat.com, davem@davemloft.net
X-BeenThere: virtualization@lists.linux-foundation.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: Linux virtualization <virtualization.lists.linux-foundation.org>
List-Unsubscribe: <https://lists.linuxfoundation.org/mailman/options/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=unsubscribe>
List-Archive: <http://lists.linuxfoundation.org/pipermail/virtualization/>
List-Post: <mailto:virtualization@lists.linux-foundation.org>
List-Help: <mailto:virtualization-request@lists.linux-foundation.org?subject=help>
List-Subscribe: <https://lists.linuxfoundation.org/mailman/listinfo/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: virtualization-bounces@lists.linux-foundation.org
Sender: "Virtualization" <virtualization-bounces@lists.linux-foundation.org>

T24gTW9uLCAyOSBNYXkgMjAyMyAxNToyODoxNyArMDgwMCwgTGlhbmcgQ2hlbiA8bGlhbmdjaGVu
LmxpbnV4QGdtYWlsLmNvbT4gd3JvdGU6Cj4gT24gU3VuLCBNYXkgMjgsIDIwMjMgYXQgMjo0MOKA
r1BNIE1pY2hhZWwgUy4gVHNpcmtpbiA8bXN0QHJlZGhhdC5jb20+IHdyb3RlOgo+ID4KPiA+IE9u
IFNhdCwgTWF5IDI3LCAyMDIzIGF0IDA4OjM1OjAxUE0gKzA4MDAsIExpYW5nIENoZW4gd3JvdGU6
Cj4gPiA+IE9uIEZyaSwgTWF5IDI2LCAyMDIzIGF0IDI6NTHigK9QTSBKYXNvbiBXYW5nIDxqYXNv
d2FuZ0ByZWRoYXQuY29tPiB3cm90ZToKPiA+ID4gPgo+ID4gPiA+IE9uIEZyaSwgTWF5IDI2LCAy
MDIzIGF0IDE6NDbigK9QTSBMaWFuZyBDaGVuIDxsaWFuZ2NoZW4ubGludXhAZ21haWwuY29tPiB3
cm90ZToKPiA+ID4gPiA+Cj4gPiA+ID4gPiBUaGUgaW1wbGVtZW50YXRpb24gYXQgdGhlIG1vbWVu
dCB1c2VzIG9uZSBwYWdlIHBlciBwYWNrZXQgaW4gYm90aCB0aGUKPiA+ID4gPiA+IG5vcm1hbCBh
bmQgWERQIHBhdGguCj4gPiA+ID4KPiA+ID4gPiBJdCdzIGJldHRlciB0byBleHBsYWluIHdoeSB3
ZSBuZWVkIGEgcGFnZSBwb29sIGFuZCBob3cgaXQgY2FuIGhlbHAgdGhlCj4gPiA+ID4gcGVyZm9y
bWFuY2UuCj4gPiA+ID4KPiA+ID4KPiA+ID4gU3VyZSwgSSB3aWxsIGluY2x1ZGUgdGhhdCBvbiB2
Mi4KPiA+ID4gPiA+IEluIGFkZGl0aW9uLCBpbnRyb2R1Y2luZyBhIG1vZHVsZSBwYXJhbWV0ZXIg
dG8gZW5hYmxlCj4gPiA+ID4gPiBvciBkaXNhYmxlIHRoZSB1c2FnZSBvZiBwYWdlIHBvb2wgKGRp
c2FibGVkIGJ5IGRlZmF1bHQpLgo+ID4gPiA+Cj4gPiA+ID4gSWYgcGFnZSBwb29sIHdpbnMgZm9y
IG1vc3Qgb2YgdGhlIGNhc2VzLCBhbnkgcmVhc29uIHRvIGRpc2FibGUgaXQgYnkgZGVmYXVsdD8K
PiA+ID4gPgo+ID4gPgo+ID4gPiBUaGFuayB5b3UgZm9yIHJhaXNpbmcgdGhlIHBvaW50LiBJdCBk
b2VzIG1ha2Ugc2Vuc2UgdG8gZW5hYmxlIGl0IGJ5IGRlZmF1bHQuCj4gPgo+ID4gSSdkIGxpa2Ug
dG8gc2VlIG1vcmUgYmVuY2htYXJrcyBwbHMgdGhlbiwgd2l0aCBhIHZhcmlldHkgb2YgcGFja2V0
Cj4gPiBzaXplcywgdWRwIGFuZCB0Y3AuCj4gPgo+Cj4gU3VyZSwgbW9yZSBiZW5jaG1hcmtzIHdp
bGwgYmUgcHJvdmlkZWQuIFRoYW5rcy4KCgpJIHRoaW5rIHNvLgoKSSBkaWQgdGhpcywgYnV0IEkg
ZGlkIG5vdCBmb3VuZCBhbnkgaW1wcm92ZS4gU28gSSBnYXZlIHVwIGl0LgoKVGhhbmtzLgoKCj4K
Pgo+ID4gPiA+ID4KPiA+ID4gPiA+IEluIHNpbmdsZS1jb3JlIHZtIHRlc3RpbmcgZW52aXJvbm1l
bnRzLCBpdCBnaXZlcyBhIG1vZGVzdCBwZXJmb3JtYW5jZSBnYWluCj4gPiA+ID4gPiBpbiB0aGUg
bm9ybWFsIHBhdGguCj4gPiA+ID4gPiAgIFVwc3RyZWFtIGNvZGViYXNlOiA0Ny41IEdiaXRzL3Nl
Ywo+ID4gPiA+ID4gICBVcHN0cmVhbSBjb2RlYmFzZSArIHBhZ2VfcG9vbCBzdXBwb3J0OiA1MC4y
IEdiaXRzL3NlYwo+ID4gPiA+ID4KPiA+ID4gPiA+IEluIG11bHRpLWNvcmUgdm0gdGVzdGluZyBl
bnZpcm9ubWVudHMsIFRoZSBtb3N0IHNpZ25pZmljYW50IHBlcmZvcm1hbmNlCj4gPiA+ID4gPiBn
YWluIGlzIG9ic2VydmVkIGluIFhEUCBjcHVtYXA6Cj4gPiA+ID4gPiAgIFVwc3RyZWFtIGNvZGVi
YXNlOiAxLjM4IEdiaXRzL3NlYwo+ID4gPiA+ID4gICBVcHN0cmVhbSBjb2RlYmFzZSArIHBhZ2Vf
cG9vbCBzdXBwb3J0OiA5Ljc0IEdiaXRzL3NlYwo+ID4gPiA+Cj4gPiA+ID4gUGxlYXNlIHNob3cg
bW9yZSBkZXRhaWxzIG9uIHRoZSB0ZXN0LiBFLmcgd2hpY2gga2luZHMgb2YgdGVzdHMgaGF2ZQo+
ID4gPiA+IHlvdSBtZWFzdXJlZD8KPiA+ID4gPgo+ID4gPiA+IEJ0dywgaXQgd291bGQgYmUgYmV0
dGVyIHRvIG1lYXN1cmUgUFBTIGFzIHdlbGwuCj4gPiA+ID4KPiA+ID4KPiA+ID4gU3VyZS4gSXQg
d2lsbCBiZSBhZGRlZCBvbiB2Mi4KPiA+ID4gPiA+Cj4gPiA+ID4gPiBXaXRoIHRoaXMgZm91bmRh
dGlvbiwgd2UgY2FuIGZ1cnRoZXIgaW50ZWdyYXRlIHBhZ2UgcG9vbCBmcmFnbWVudGF0aW9uIGFu
ZAo+ID4gPiA+ID4gRE1BIG1hcC91bm1hcCBzdXBwb3J0Lgo+ID4gPiA+ID4KPiA+ID4gPiA+IFNp
Z25lZC1vZmYtYnk6IExpYW5nIENoZW4gPGxpYW5nY2hlbi5saW51eEBnbWFpbC5jb20+Cj4gPiA+
ID4gPiAtLS0KPiA+ID4gPiA+ICBkcml2ZXJzL25ldC92aXJ0aW9fbmV0LmMgfCAxODggKysrKysr
KysrKysrKysrKysrKysrKysrKysrKysrLS0tLS0tLS0tCj4gPiA+ID4KPiA+ID4gPiBJIGJlbGll
dmUgd2Ugc2hvdWxkIG1ha2UgdmlydGlvLW5ldCB0byBzZWxlY3QgQ09ORklHX1BBR0VfUE9PTCBv
ciBkbwo+ID4gPiA+IHRoZSBpZmRlZiB0cmlja3MgYXQgbGVhc3QuCj4gPiA+ID4KPiA+ID4KPiA+
ID4gU3VyZS4gaXQgd2lsbCBiZSBkb25lIG9uIHYyLgo+ID4gPiA+ID4gIDEgZmlsZSBjaGFuZ2Vk
LCAxNDYgaW5zZXJ0aW9ucygrKSwgNDIgZGVsZXRpb25zKC0pCj4gPiA+ID4gPgo+ID4gPiA+ID4g
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvbmV0L3ZpcnRpb19uZXQuYyBiL2RyaXZlcnMvbmV0L3ZpcnRp
b19uZXQuYwo+ID4gPiA+ID4gaW5kZXggYzVkY2EwZDkyZTY0Li45OWMwY2EwYzE3ODEgMTAwNjQ0
Cj4gPiA+ID4gPiAtLS0gYS9kcml2ZXJzL25ldC92aXJ0aW9fbmV0LmMKPiA+ID4gPiA+ICsrKyBi
L2RyaXZlcnMvbmV0L3ZpcnRpb19uZXQuYwo+ID4gPiA+ID4gQEAgLTMxLDYgKzMxLDkgQEAgbW9k
dWxlX3BhcmFtKGNzdW0sIGJvb2wsIDA0NDQpOwo+ID4gPiA+ID4gIG1vZHVsZV9wYXJhbShnc28s
IGJvb2wsIDA0NDQpOwo+ID4gPiA+ID4gIG1vZHVsZV9wYXJhbShuYXBpX3R4LCBib29sLCAwNjQ0
KTsKPiA+ID4gPiA+Cj4gPiA+ID4gPiArc3RhdGljIGJvb2wgcGFnZV9wb29sX2VuYWJsZWQ7Cj4g
PiA+ID4gPiArbW9kdWxlX3BhcmFtKHBhZ2VfcG9vbF9lbmFibGVkLCBib29sLCAwNDAwKTsKPiA+
ID4gPiA+ICsKPiA+ID4gPiA+ICAvKiBGSVhNRTogTVRVIGluIGNvbmZpZy4gKi8KPiA+ID4gPiA+
ICAjZGVmaW5lIEdPT0RfUEFDS0VUX0xFTiAoRVRIX0hMRU4gKyBWTEFOX0hMRU4gKyBFVEhfREFU
QV9MRU4pCj4gPiA+ID4gPiAgI2RlZmluZSBHT09EX0NPUFlfTEVOICAxMjgKPiA+ID4gPiA+IEBA
IC0xNTksNiArMTYyLDkgQEAgc3RydWN0IHJlY2VpdmVfcXVldWUgewo+ID4gPiA+ID4gICAgICAg
ICAvKiBDaGFpbiBwYWdlcyBieSB0aGUgcHJpdmF0ZSBwdHIuICovCj4gPiA+ID4gPiAgICAgICAg
IHN0cnVjdCBwYWdlICpwYWdlczsKPiA+ID4gPiA+Cj4gPiA+ID4gPiArICAgICAgIC8qIFBhZ2Ug
cG9vbCAqLwo+ID4gPiA+ID4gKyAgICAgICBzdHJ1Y3QgcGFnZV9wb29sICpwYWdlX3Bvb2w7Cj4g
PiA+ID4gPiArCj4gPiA+ID4gPiAgICAgICAgIC8qIEF2ZXJhZ2UgcGFja2V0IGxlbmd0aCBmb3Ig
bWVyZ2VhYmxlIHJlY2VpdmUgYnVmZmVycy4gKi8KPiA+ID4gPiA+ICAgICAgICAgc3RydWN0IGV3
bWFfcGt0X2xlbiBtcmdfYXZnX3BrdF9sZW47Cj4gPiA+ID4gPgo+ID4gPiA+ID4gQEAgLTQ1OSw2
ICs0NjUsMTQgQEAgc3RhdGljIHN0cnVjdCBza19idWZmICp2aXJ0bmV0X2J1aWxkX3NrYih2b2lk
ICpidWYsIHVuc2lnbmVkIGludCBidWZsZW4sCj4gPiA+ID4gPiAgICAgICAgIHJldHVybiBza2I7
Cj4gPiA+ID4gPiAgfQo+ID4gPiA+ID4KPiA+ID4gPiA+ICtzdGF0aWMgdm9pZCB2aXJ0bmV0X3B1
dF9wYWdlKHN0cnVjdCByZWNlaXZlX3F1ZXVlICpycSwgc3RydWN0IHBhZ2UgKnBhZ2UpCj4gPiA+
ID4gPiArewo+ID4gPiA+ID4gKyAgICAgICBpZiAocnEtPnBhZ2VfcG9vbCkKPiA+ID4gPiA+ICsg
ICAgICAgICAgICAgICBwYWdlX3Bvb2xfcHV0X2Z1bGxfcGFnZShycS0+cGFnZV9wb29sLCBwYWdl
LCB0cnVlKTsKPiA+ID4gPiA+ICsgICAgICAgZWxzZQo+ID4gPiA+ID4gKyAgICAgICAgICAgICAg
IHB1dF9wYWdlKHBhZ2UpOwo+ID4gPiA+ID4gK30KPiA+ID4gPiA+ICsKPiA+ID4gPiA+ICAvKiBD
YWxsZWQgZnJvbSBib3R0b20gaGFsZiBjb250ZXh0ICovCj4gPiA+ID4gPiAgc3RhdGljIHN0cnVj
dCBza19idWZmICpwYWdlX3RvX3NrYihzdHJ1Y3QgdmlydG5ldF9pbmZvICp2aSwKPiA+ID4gPiA+
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHJlY2VpdmVfcXVldWUg
KnJxLAo+ID4gPiA+ID4gQEAgLTU1NSw3ICs1NjksNyBAQCBzdGF0aWMgc3RydWN0IHNrX2J1ZmYg
KnBhZ2VfdG9fc2tiKHN0cnVjdCB2aXJ0bmV0X2luZm8gKnZpLAo+ID4gPiA+ID4gICAgICAgICBo
ZHIgPSBza2Jfdm5ldF9oZHIoc2tiKTsKPiA+ID4gPiA+ICAgICAgICAgbWVtY3B5KGhkciwgaGRy
X3AsIGhkcl9sZW4pOwo+ID4gPiA+ID4gICAgICAgICBpZiAocGFnZV90b19mcmVlKQo+ID4gPiA+
ID4gLSAgICAgICAgICAgICAgIHB1dF9wYWdlKHBhZ2VfdG9fZnJlZSk7Cj4gPiA+ID4gPiArICAg
ICAgICAgICAgICAgdmlydG5ldF9wdXRfcGFnZShycSwgcGFnZV90b19mcmVlKTsKPiA+ID4gPiA+
Cj4gPiA+ID4gPiAgICAgICAgIHJldHVybiBza2I7Cj4gPiA+ID4gPiAgfQo+ID4gPiA+ID4gQEAg
LTgwMiw3ICs4MTYsNyBAQCBzdGF0aWMgaW50IHZpcnRuZXRfeGRwX3htaXQoc3RydWN0IG5ldF9k
ZXZpY2UgKmRldiwKPiA+ID4gPiA+ICAgICAgICAgcmV0dXJuIHJldDsKPiA+ID4gPiA+ICB9Cj4g
PiA+ID4gPgo+ID4gPiA+ID4gLXN0YXRpYyB2b2lkIHB1dF94ZHBfZnJhZ3Moc3RydWN0IHhkcF9i
dWZmICp4ZHApCj4gPiA+ID4gPiArc3RhdGljIHZvaWQgcHV0X3hkcF9mcmFncyhzdHJ1Y3QgeGRw
X2J1ZmYgKnhkcCwgc3RydWN0IHJlY2VpdmVfcXVldWUgKnJxKQo+ID4gPiA+ID4gIHsKPiA+ID4g
Pgo+ID4gPiA+IHJxIGNvdWxkIGJlIGZldGNoZWQgZnJvbSB4ZHBfcnhxX2luZm8/Cj4gPiA+Cj4g
PiA+IFllYWgsIGl0IGhhcyB0aGUgcXVldWVfaW5kZXggdGhlcmUuCj4gPiA+ID4KPiA+ID4gPiA+
ICAgICAgICAgc3RydWN0IHNrYl9zaGFyZWRfaW5mbyAqc2hpbmZvOwo+ID4gPiA+ID4gICAgICAg
ICBzdHJ1Y3QgcGFnZSAqeGRwX3BhZ2U7Cj4gPiA+ID4gPiBAQCAtODEyLDcgKzgyNiw3IEBAIHN0
YXRpYyB2b2lkIHB1dF94ZHBfZnJhZ3Moc3RydWN0IHhkcF9idWZmICp4ZHApCj4gPiA+ID4gPiAg
ICAgICAgICAgICAgICAgc2hpbmZvID0geGRwX2dldF9zaGFyZWRfaW5mb19mcm9tX2J1ZmYoeGRw
KTsKPiA+ID4gPiA+ICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgc2hpbmZvLT5ucl9m
cmFnczsgaSsrKSB7Cj4gPiA+ID4gPiAgICAgICAgICAgICAgICAgICAgICAgICB4ZHBfcGFnZSA9
IHNrYl9mcmFnX3BhZ2UoJnNoaW5mby0+ZnJhZ3NbaV0pOwo+ID4gPiA+ID4gLSAgICAgICAgICAg
ICAgICAgICAgICAgcHV0X3BhZ2UoeGRwX3BhZ2UpOwo+ID4gPiA+ID4gKyAgICAgICAgICAgICAg
ICAgICAgICAgdmlydG5ldF9wdXRfcGFnZShycSwgeGRwX3BhZ2UpOwo+ID4gPiA+ID4gICAgICAg
ICAgICAgICAgIH0KPiA+ID4gPiA+ICAgICAgICAgfQo+ID4gPiA+ID4gIH0KPiA+ID4gPiA+IEBA
IC05MDMsNyArOTE3LDExIEBAIHN0YXRpYyBzdHJ1Y3QgcGFnZSAqeGRwX2xpbmVhcml6ZV9wYWdl
KHN0cnVjdCByZWNlaXZlX3F1ZXVlICpycSwKPiA+ID4gPiA+ICAgICAgICAgaWYgKHBhZ2Vfb2Zm
ICsgKmxlbiArIHRhaWxyb29tID4gUEFHRV9TSVpFKQo+ID4gPiA+ID4gICAgICAgICAgICAgICAg
IHJldHVybiBOVUxMOwo+ID4gPiA+ID4KPiA+ID4gPiA+IC0gICAgICAgcGFnZSA9IGFsbG9jX3Bh
Z2UoR0ZQX0FUT01JQyk7Cj4gPiA+ID4gPiArICAgICAgIGlmIChycS0+cGFnZV9wb29sKQo+ID4g
PiA+ID4gKyAgICAgICAgICAgICAgIHBhZ2UgPSBwYWdlX3Bvb2xfZGV2X2FsbG9jX3BhZ2VzKHJx
LT5wYWdlX3Bvb2wpOwo+ID4gPiA+ID4gKyAgICAgICBlbHNlCj4gPiA+ID4gPiArICAgICAgICAg
ICAgICAgcGFnZSA9IGFsbG9jX3BhZ2UoR0ZQX0FUT01JQyk7Cj4gPiA+ID4gPiArCj4gPiA+ID4g
PiAgICAgICAgIGlmICghcGFnZSkKPiA+ID4gPiA+ICAgICAgICAgICAgICAgICByZXR1cm4gTlVM
TDsKPiA+ID4gPiA+Cj4gPiA+ID4gPiBAQCAtOTI2LDIxICs5NDQsMjQgQEAgc3RhdGljIHN0cnVj
dCBwYWdlICp4ZHBfbGluZWFyaXplX3BhZ2Uoc3RydWN0IHJlY2VpdmVfcXVldWUgKnJxLAo+ID4g
PiA+ID4gICAgICAgICAgICAgICAgICAqIGlzIHNlbmRpbmcgcGFja2V0IGxhcmdlciB0aGFuIHRo
ZSBNVFUuCj4gPiA+ID4gPiAgICAgICAgICAgICAgICAgICovCj4gPiA+ID4gPiAgICAgICAgICAg
ICAgICAgaWYgKChwYWdlX29mZiArIGJ1ZmxlbiArIHRhaWxyb29tKSA+IFBBR0VfU0laRSkgewo+
ID4gPiA+ID4gLSAgICAgICAgICAgICAgICAgICAgICAgcHV0X3BhZ2UocCk7Cj4gPiA+ID4gPiAr
ICAgICAgICAgICAgICAgICAgICAgICB2aXJ0bmV0X3B1dF9wYWdlKHJxLCBwKTsKPiA+ID4gPiA+
ICAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8gZXJyX2J1ZjsKPiA+ID4gPiA+ICAgICAgICAg
ICAgICAgICB9Cj4gPiA+ID4gPgo+ID4gPiA+ID4gICAgICAgICAgICAgICAgIG1lbWNweShwYWdl
X2FkZHJlc3MocGFnZSkgKyBwYWdlX29mZiwKPiA+ID4gPiA+ICAgICAgICAgICAgICAgICAgICAg
ICAgcGFnZV9hZGRyZXNzKHApICsgb2ZmLCBidWZsZW4pOwo+ID4gPiA+ID4gICAgICAgICAgICAg
ICAgIHBhZ2Vfb2ZmICs9IGJ1ZmxlbjsKPiA+ID4gPiA+IC0gICAgICAgICAgICAgICBwdXRfcGFn
ZShwKTsKPiA+ID4gPiA+ICsgICAgICAgICAgICAgICB2aXJ0bmV0X3B1dF9wYWdlKHJxLCBwKTsK
PiA+ID4gPiA+ICAgICAgICAgfQo+ID4gPiA+ID4KPiA+ID4gPiA+ICAgICAgICAgLyogSGVhZHJv
b20gZG9lcyBub3QgY29udHJpYnV0ZSB0byBwYWNrZXQgbGVuZ3RoICovCj4gPiA+ID4gPiAgICAg
ICAgICpsZW4gPSBwYWdlX29mZiAtIFZJUlRJT19YRFBfSEVBRFJPT007Cj4gPiA+ID4gPiAgICAg
ICAgIHJldHVybiBwYWdlOwo+ID4gPiA+ID4gIGVycl9idWY6Cj4gPiA+ID4gPiAtICAgICAgIF9f
ZnJlZV9wYWdlcyhwYWdlLCAwKTsKPiA+ID4gPiA+ICsgICAgICAgaWYgKHJxLT5wYWdlX3Bvb2wp
Cj4gPiA+ID4gPiArICAgICAgICAgICAgICAgcGFnZV9wb29sX3B1dF9mdWxsX3BhZ2UocnEtPnBh
Z2VfcG9vbCwgcGFnZSwgdHJ1ZSk7Cj4gPiA+ID4gPiArICAgICAgIGVsc2UKPiA+ID4gPiA+ICsg
ICAgICAgICAgICAgICBfX2ZyZWVfcGFnZXMocGFnZSwgMCk7Cj4gPiA+ID4gPiAgICAgICAgIHJl
dHVybiBOVUxMOwo+ID4gPiA+ID4gIH0KPiA+ID4gPiA+Cj4gPiA+ID4gPiBAQCAtMTE0NCw3ICsx
MTY1LDcgQEAgc3RhdGljIHZvaWQgbWVyZ2VhYmxlX2J1Zl9mcmVlKHN0cnVjdCByZWNlaXZlX3F1
ZXVlICpycSwgaW50IG51bV9idWYsCj4gPiA+ID4gPiAgICAgICAgICAgICAgICAgfQo+ID4gPiA+
ID4gICAgICAgICAgICAgICAgIHN0YXRzLT5ieXRlcyArPSBsZW47Cj4gPiA+ID4gPiAgICAgICAg
ICAgICAgICAgcGFnZSA9IHZpcnRfdG9faGVhZF9wYWdlKGJ1Zik7Cj4gPiA+ID4gPiAtICAgICAg
ICAgICAgICAgcHV0X3BhZ2UocGFnZSk7Cj4gPiA+ID4gPiArICAgICAgICAgICAgICAgdmlydG5l
dF9wdXRfcGFnZShycSwgcGFnZSk7Cj4gPiA+ID4gPiAgICAgICAgIH0KPiA+ID4gPiA+ICB9Cj4g
PiA+ID4gPgo+ID4gPiA+ID4gQEAgLTEyNjQsNyArMTI4NSw3IEBAIHN0YXRpYyBpbnQgdmlydG5l
dF9idWlsZF94ZHBfYnVmZl9tcmcoc3RydWN0IG5ldF9kZXZpY2UgKmRldiwKPiA+ID4gPiA+ICAg
ICAgICAgICAgICAgICBjdXJfZnJhZ19zaXplID0gdHJ1ZXNpemU7Cj4gPiA+ID4gPiAgICAgICAg
ICAgICAgICAgeGRwX2ZyYWdzX3RydWVzeiArPSBjdXJfZnJhZ19zaXplOwo+ID4gPiA+ID4gICAg
ICAgICAgICAgICAgIGlmICh1bmxpa2VseShsZW4gPiB0cnVlc2l6ZSAtIHJvb20gfHwgY3VyX2Zy
YWdfc2l6ZSA+IFBBR0VfU0laRSkpIHsKPiA+ID4gPiA+IC0gICAgICAgICAgICAgICAgICAgICAg
IHB1dF9wYWdlKHBhZ2UpOwo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgdmlydG5l
dF9wdXRfcGFnZShycSwgcGFnZSk7Cj4gPiA+ID4gPiAgICAgICAgICAgICAgICAgICAgICAgICBw
cl9kZWJ1ZygiJXM6IHJ4IGVycm9yOiBsZW4gJXUgZXhjZWVkcyB0cnVlc2l6ZSAlbHVcbiIsCj4g
PiA+ID4gPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXYtPm5hbWUsIGxlbiwg
KHVuc2lnbmVkIGxvbmcpKHRydWVzaXplIC0gcm9vbSkpOwo+ID4gPiA+ID4gICAgICAgICAgICAg
ICAgICAgICAgICAgZGV2LT5zdGF0cy5yeF9sZW5ndGhfZXJyb3JzKys7Cj4gPiA+ID4gPiBAQCAt
MTI4Myw3ICsxMzA0LDcgQEAgc3RhdGljIGludCB2aXJ0bmV0X2J1aWxkX3hkcF9idWZmX21yZyhz
dHJ1Y3QgbmV0X2RldmljZSAqZGV2LAo+ID4gPiA+ID4gICAgICAgICByZXR1cm4gMDsKPiA+ID4g
PiA+Cj4gPiA+ID4gPiAgZXJyOgo+ID4gPiA+ID4gLSAgICAgICBwdXRfeGRwX2ZyYWdzKHhkcCk7
Cj4gPiA+ID4gPiArICAgICAgIHB1dF94ZHBfZnJhZ3MoeGRwLCBycSk7Cj4gPiA+ID4gPiAgICAg
ICAgIHJldHVybiAtRUlOVkFMOwo+ID4gPiA+ID4gIH0KPiA+ID4gPiA+Cj4gPiA+ID4gPiBAQCAt
MTM0NCw3ICsxMzY1LDEwIEBAIHN0YXRpYyB2b2lkICptZXJnZWFibGVfeGRwX2dldF9idWYoc3Ry
dWN0IHZpcnRuZXRfaW5mbyAqdmksCj4gPiA+ID4gPiAgICAgICAgICAgICAgICAgaWYgKCpsZW4g
KyB4ZHBfcm9vbSA+IFBBR0VfU0laRSkKPiA+ID4gPiA+ICAgICAgICAgICAgICAgICAgICAgICAg
IHJldHVybiBOVUxMOwo+ID4gPiA+ID4KPiA+ID4gPiA+IC0gICAgICAgICAgICAgICB4ZHBfcGFn
ZSA9IGFsbG9jX3BhZ2UoR0ZQX0FUT01JQyk7Cj4gPiA+ID4gPiArICAgICAgICAgICAgICAgaWYg
KHJxLT5wYWdlX3Bvb2wpCj4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICB4ZHBfcGFn
ZSA9IHBhZ2VfcG9vbF9kZXZfYWxsb2NfcGFnZXMocnEtPnBhZ2VfcG9vbCk7Cj4gPiA+ID4gPiAr
ICAgICAgICAgICAgICAgZWxzZQo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgeGRw
X3BhZ2UgPSBhbGxvY19wYWdlKEdGUF9BVE9NSUMpOwo+ID4gPiA+ID4gICAgICAgICAgICAgICAg
IGlmICgheGRwX3BhZ2UpCj4gPiA+ID4gPiAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4g
TlVMTDsKPiA+ID4gPiA+Cj4gPiA+ID4gPiBAQCAtMTM1NCw3ICsxMzc4LDcgQEAgc3RhdGljIHZv
aWQgKm1lcmdlYWJsZV94ZHBfZ2V0X2J1ZihzdHJ1Y3QgdmlydG5ldF9pbmZvICp2aSwKPiA+ID4g
PiA+Cj4gPiA+ID4gPiAgICAgICAgICpmcmFtZV9zeiA9IFBBR0VfU0laRTsKPiA+ID4gPiA+Cj4g
PiA+ID4gPiAtICAgICAgIHB1dF9wYWdlKCpwYWdlKTsKPiA+ID4gPiA+ICsgICAgICAgdmlydG5l
dF9wdXRfcGFnZShycSwgKnBhZ2UpOwo+ID4gPiA+ID4KPiA+ID4gPiA+ICAgICAgICAgKnBhZ2Ug
PSB4ZHBfcGFnZTsKPiA+ID4gPiA+Cj4gPiA+ID4gPiBAQCAtMTQwMCw2ICsxNDI0LDggQEAgc3Rh
dGljIHN0cnVjdCBza19idWZmICpyZWNlaXZlX21lcmdlYWJsZV94ZHAoc3RydWN0IG5ldF9kZXZp
Y2UgKmRldiwKPiA+ID4gPiA+ICAgICAgICAgICAgICAgICBoZWFkX3NrYiA9IGJ1aWxkX3NrYl9m
cm9tX3hkcF9idWZmKGRldiwgdmksICZ4ZHAsIHhkcF9mcmFnc190cnVlc3opOwo+ID4gPiA+ID4g
ICAgICAgICAgICAgICAgIGlmICh1bmxpa2VseSghaGVhZF9za2IpKQo+ID4gPiA+ID4gICAgICAg
ICAgICAgICAgICAgICAgICAgYnJlYWs7Cj4gPiA+ID4gPiArICAgICAgICAgICAgICAgaWYgKHJx
LT5wYWdlX3Bvb2wpCj4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICBza2JfbWFya19m
b3JfcmVjeWNsZShoZWFkX3NrYik7Cj4gPiA+ID4gPiAgICAgICAgICAgICAgICAgcmV0dXJuIGhl
YWRfc2tiOwo+ID4gPiA+ID4KPiA+ID4gPiA+ICAgICAgICAgY2FzZSBYRFBfVFg6Cj4gPiA+ID4g
PiBAQCAtMTQxMCwxMCArMTQzNiwxMCBAQCBzdGF0aWMgc3RydWN0IHNrX2J1ZmYgKnJlY2VpdmVf
bWVyZ2VhYmxlX3hkcChzdHJ1Y3QgbmV0X2RldmljZSAqZGV2LAo+ID4gPiA+ID4gICAgICAgICAg
ICAgICAgIGJyZWFrOwo+ID4gPiA+ID4gICAgICAgICB9Cj4gPiA+ID4gPgo+ID4gPiA+ID4gLSAg
ICAgICBwdXRfeGRwX2ZyYWdzKCZ4ZHApOwo+ID4gPiA+ID4gKyAgICAgICBwdXRfeGRwX2ZyYWdz
KCZ4ZHAsIHJxKTsKPiA+ID4gPiA+Cj4gPiA+ID4gPiAgZXJyX3hkcDoKPiA+ID4gPiA+IC0gICAg
ICAgcHV0X3BhZ2UocGFnZSk7Cj4gPiA+ID4gPiArICAgICAgIHZpcnRuZXRfcHV0X3BhZ2UocnEs
IHBhZ2UpOwo+ID4gPiA+ID4gICAgICAgICBtZXJnZWFibGVfYnVmX2ZyZWUocnEsIG51bV9idWYs
IGRldiwgc3RhdHMpOwo+ID4gPiA+ID4KPiA+ID4gPiA+ICAgICAgICAgc3RhdHMtPnhkcF9kcm9w
cysrOwo+ID4gPiA+ID4gQEAgLTE0NjcsNiArMTQ5Myw5IEBAIHN0YXRpYyBzdHJ1Y3Qgc2tfYnVm
ZiAqcmVjZWl2ZV9tZXJnZWFibGUoc3RydWN0IG5ldF9kZXZpY2UgKmRldiwKPiA+ID4gPiA+ICAg
ICAgICAgaGVhZF9za2IgPSBwYWdlX3RvX3NrYih2aSwgcnEsIHBhZ2UsIG9mZnNldCwgbGVuLCB0
cnVlc2l6ZSwgaGVhZHJvb20pOwo+ID4gPiA+ID4gICAgICAgICBjdXJyX3NrYiA9IGhlYWRfc2ti
Owo+ID4gPiA+ID4KPiA+ID4gPiA+ICsgICAgICAgaWYgKHJxLT5wYWdlX3Bvb2wpCj4gPiA+ID4g
PiArICAgICAgICAgICAgICAgc2tiX21hcmtfZm9yX3JlY3ljbGUoY3Vycl9za2IpOwo+ID4gPiA+
ID4gKwo+ID4gPiA+ID4gICAgICAgICBpZiAodW5saWtlbHkoIWN1cnJfc2tiKSkKPiA+ID4gPiA+
ICAgICAgICAgICAgICAgICBnb3RvIGVycl9za2I7Cj4gPiA+ID4gPiAgICAgICAgIHdoaWxlICgt
LW51bV9idWYpIHsKPiA+ID4gPiA+IEBAIC0xNTA5LDYgKzE1MzgsOCBAQCBzdGF0aWMgc3RydWN0
IHNrX2J1ZmYgKnJlY2VpdmVfbWVyZ2VhYmxlKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYsCj4gPiA+
ID4gPiAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyX3NrYiA9IG5za2I7Cj4gPiA+ID4gPiAg
ICAgICAgICAgICAgICAgICAgICAgICBoZWFkX3NrYi0+dHJ1ZXNpemUgKz0gbnNrYi0+dHJ1ZXNp
emU7Cj4gPiA+ID4gPiAgICAgICAgICAgICAgICAgICAgICAgICBudW1fc2tiX2ZyYWdzID0gMDsK
PiA+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgIGlmIChycS0+cGFnZV9wb29sKQo+ID4g
PiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBza2JfbWFya19mb3JfcmVjeWNs
ZShjdXJyX3NrYik7Cj4gPiA+ID4gPiAgICAgICAgICAgICAgICAgfQo+ID4gPiA+ID4gICAgICAg
ICAgICAgICAgIGlmIChjdXJyX3NrYiAhPSBoZWFkX3NrYikgewo+ID4gPiA+ID4gICAgICAgICAg
ICAgICAgICAgICAgICAgaGVhZF9za2ItPmRhdGFfbGVuICs9IGxlbjsKPiA+ID4gPiA+IEBAIC0x
NTE3LDcgKzE1NDgsNyBAQCBzdGF0aWMgc3RydWN0IHNrX2J1ZmYgKnJlY2VpdmVfbWVyZ2VhYmxl
KHN0cnVjdCBuZXRfZGV2aWNlICpkZXYsCj4gPiA+ID4gPiAgICAgICAgICAgICAgICAgfQo+ID4g
PiA+ID4gICAgICAgICAgICAgICAgIG9mZnNldCA9IGJ1ZiAtIHBhZ2VfYWRkcmVzcyhwYWdlKTsK
PiA+ID4gPiA+ICAgICAgICAgICAgICAgICBpZiAoc2tiX2Nhbl9jb2FsZXNjZShjdXJyX3NrYiwg
bnVtX3NrYl9mcmFncywgcGFnZSwgb2Zmc2V0KSkgewo+ID4gPiA+ID4gLSAgICAgICAgICAgICAg
ICAgICAgICAgcHV0X3BhZ2UocGFnZSk7Cj4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAg
ICB2aXJ0bmV0X3B1dF9wYWdlKHJxLCBwYWdlKTsKPiA+ID4gPgo+ID4gPiA+IEkgd29uZGVyIHdo
eSBub3Qgd2UgY2FuJ3QgZG8gdGhpcyBkdXJpbmcgYnVmZmVyIGFsbG9jYXRpb24gbGlrZSBvdGhl
ciBkcml2ZXJzPwo+ID4gPiA+Cj4gPiA+Cj4gPiA+IFNvcnJ5LCBJIGRvbid0IHF1aXRlIHVuZGVy
c3RhbmQgdGhlIHBvaW50IGhlcmUuIFdvdWxkIHlvdSBwbGVhc2UKPiA+ID4gZWxhYm9yYXRlIGEg
Yml0IG1vcmU/Cj4gPiA+ID4gPiAgICAgICAgICAgICAgICAgICAgICAgICBza2JfY29hbGVzY2Vf
cnhfZnJhZyhjdXJyX3NrYiwgbnVtX3NrYl9mcmFncyAtIDEsCj4gPiA+ID4gPiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZW4sIHRydWVzaXplKTsKPiA+ID4g
PiA+ICAgICAgICAgICAgICAgICB9IGVsc2Ugewo+ID4gPiA+ID4gQEAgLTE1MzAsNyArMTU2MSw3
IEBAIHN0YXRpYyBzdHJ1Y3Qgc2tfYnVmZiAqcmVjZWl2ZV9tZXJnZWFibGUoc3RydWN0IG5ldF9k
ZXZpY2UgKmRldiwKPiA+ID4gPiA+ICAgICAgICAgcmV0dXJuIGhlYWRfc2tiOwo+ID4gPiA+ID4K
PiA+ID4gPiA+ICBlcnJfc2tiOgo+ID4gPiA+ID4gLSAgICAgICBwdXRfcGFnZShwYWdlKTsKPiA+
ID4gPiA+ICsgICAgICAgdmlydG5ldF9wdXRfcGFnZShycSwgcGFnZSk7Cj4gPiA+ID4gPiAgICAg
ICAgIG1lcmdlYWJsZV9idWZfZnJlZShycSwgbnVtX2J1ZiwgZGV2LCBzdGF0cyk7Cj4gPiA+ID4g
Pgo+ID4gPiA+ID4gIGVycl9idWY6Cj4gPiA+ID4gPiBAQCAtMTczNywzMSArMTc2OCw0MCBAQCBz
dGF0aWMgaW50IGFkZF9yZWN2YnVmX21lcmdlYWJsZShzdHJ1Y3QgdmlydG5ldF9pbmZvICp2aSwK
PiA+ID4gPiA+ICAgICAgICAgICogZGlzYWJsZWQgR1NPIGZvciBYRFAsIGl0IHdvbid0IGJlIGEg
YmlnIGlzc3VlLgo+ID4gPiA+ID4gICAgICAgICAgKi8KPiA+ID4gPiA+ICAgICAgICAgbGVuID0g
Z2V0X21lcmdlYWJsZV9idWZfbGVuKHJxLCAmcnEtPm1yZ19hdmdfcGt0X2xlbiwgcm9vbSk7Cj4g
PiA+ID4gPiAtICAgICAgIGlmICh1bmxpa2VseSghc2tiX3BhZ2VfZnJhZ19yZWZpbGwobGVuICsg
cm9vbSwgYWxsb2NfZnJhZywgZ2ZwKSkpCj4gPiA+ID4gPiAtICAgICAgICAgICAgICAgcmV0dXJu
IC1FTk9NRU07Cj4gPiA+ID4gPiArICAgICAgIGlmIChycS0+cGFnZV9wb29sKSB7Cj4gPiA+ID4g
PiArICAgICAgICAgICAgICAgc3RydWN0IHBhZ2UgKnBhZ2U7Cj4gPiA+ID4gPgo+ID4gPiA+ID4g
LSAgICAgICBidWYgPSAoY2hhciAqKXBhZ2VfYWRkcmVzcyhhbGxvY19mcmFnLT5wYWdlKSArIGFs
bG9jX2ZyYWctPm9mZnNldDsKPiA+ID4gPiA+IC0gICAgICAgYnVmICs9IGhlYWRyb29tOyAvKiBh
ZHZhbmNlIGFkZHJlc3MgbGVhdmluZyBob2xlIGF0IGZyb250IG9mIHBrdCAqLwo+ID4gPiA+ID4g
LSAgICAgICBnZXRfcGFnZShhbGxvY19mcmFnLT5wYWdlKTsKPiA+ID4gPiA+IC0gICAgICAgYWxs
b2NfZnJhZy0+b2Zmc2V0ICs9IGxlbiArIHJvb207Cj4gPiA+ID4gPiAtICAgICAgIGhvbGUgPSBh
bGxvY19mcmFnLT5zaXplIC0gYWxsb2NfZnJhZy0+b2Zmc2V0Owo+ID4gPiA+ID4gLSAgICAgICBp
ZiAoaG9sZSA8IGxlbiArIHJvb20pIHsKPiA+ID4gPiA+IC0gICAgICAgICAgICAgICAvKiBUbyBh
dm9pZCBpbnRlcm5hbCBmcmFnbWVudGF0aW9uLCBpZiB0aGVyZSBpcyB2ZXJ5IGxpa2VseSBub3QK
PiA+ID4gPiA+IC0gICAgICAgICAgICAgICAgKiBlbm91Z2ggc3BhY2UgZm9yIGFub3RoZXIgYnVm
ZmVyLCBhZGQgdGhlIHJlbWFpbmluZyBzcGFjZSB0bwo+ID4gPiA+ID4gLSAgICAgICAgICAgICAg
ICAqIHRoZSBjdXJyZW50IGJ1ZmZlci4KPiA+ID4gPiA+IC0gICAgICAgICAgICAgICAgKiBYRFAg
Y29yZSBhc3N1bWVzIHRoYXQgZnJhbWVfc2l6ZSBvZiB4ZHBfYnVmZiBhbmQgdGhlIGxlbmd0aAo+
ID4gPiA+ID4gLSAgICAgICAgICAgICAgICAqIG9mIHRoZSBmcmFnIGFyZSBQQUdFX1NJWkUsIHNv
IHdlIGRpc2FibGUgdGhlIGhvbGUgbWVjaGFuaXNtLgo+ID4gPiA+ID4gLSAgICAgICAgICAgICAg
ICAqLwo+ID4gPiA+ID4gLSAgICAgICAgICAgICAgIGlmICghaGVhZHJvb20pCj4gPiA+ID4gPiAt
ICAgICAgICAgICAgICAgICAgICAgICBsZW4gKz0gaG9sZTsKPiA+ID4gPiA+IC0gICAgICAgICAg
ICAgICBhbGxvY19mcmFnLT5vZmZzZXQgKz0gaG9sZTsKPiA+ID4gPiA+IC0gICAgICAgfQo+ID4g
PiA+ID4gKyAgICAgICAgICAgICAgIHBhZ2UgPSBwYWdlX3Bvb2xfZGV2X2FsbG9jX3BhZ2VzKHJx
LT5wYWdlX3Bvb2wpOwo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgIGlmICh1bmxpa2VseSghcGFn
ZSkpCj4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLUVOT01FTTsKPiA+
ID4gPiA+ICsgICAgICAgICAgICAgICBidWYgPSAoY2hhciAqKXBhZ2VfYWRkcmVzcyhwYWdlKTsK
PiA+ID4gPiA+ICsgICAgICAgICAgICAgICBidWYgKz0gaGVhZHJvb207IC8qIGFkdmFuY2UgYWRk
cmVzcyBsZWF2aW5nIGhvbGUgYXQgZnJvbnQgb2YgcGt0ICovCj4gPiA+ID4gPiArICAgICAgIH0g
ZWxzZSB7Cj4gPiA+ID4gPiArICAgICAgICAgICAgICAgaWYgKHVubGlrZWx5KCFza2JfcGFnZV9m
cmFnX3JlZmlsbChsZW4gKyByb29tLCBhbGxvY19mcmFnLCBnZnApKSkKPiA+ID4gPgo+ID4gPiA+
IFdoeSBub3Qgc2ltcGx5IHVzZSBhIGhlbHBlciBsaWtlIHZpcnRuZXRfcGFnZV9mcmFnX3JlZmls
bCgpIGFuZCBhZGQKPiA+ID4gPiB0aGUgcGFnZV9wb29sIGFsbG9jYXRpb24gbG9naWMgdGhlcmU/
IEl0IGhlbHBzIHRvIHJlZHVjZSB0aGUKPiA+ID4gPiBjaGFuZ2VzZXQuCj4gPiA+ID4KPiA+ID4K
PiA+ID4gU3VyZS4gV2lsbCBkbyB0aGF0IG9uIHYyLgo+ID4gPiA+ID4gKyAgICAgICAgICAgICAg
ICAgICAgICAgcmV0dXJuIC1FTk9NRU07Cj4gPiA+ID4gPgo+ID4gPiA+ID4gKyAgICAgICAgICAg
ICAgIGJ1ZiA9IChjaGFyICopcGFnZV9hZGRyZXNzKGFsbG9jX2ZyYWctPnBhZ2UpICsgYWxsb2Nf
ZnJhZy0+b2Zmc2V0Owo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgIGJ1ZiArPSBoZWFkcm9vbTsg
LyogYWR2YW5jZSBhZGRyZXNzIGxlYXZpbmcgaG9sZSBhdCBmcm9udCBvZiBwa3QgKi8KPiA+ID4g
PiA+ICsgICAgICAgICAgICAgICBnZXRfcGFnZShhbGxvY19mcmFnLT5wYWdlKTsKPiA+ID4gPiA+
ICsgICAgICAgICAgICAgICBhbGxvY19mcmFnLT5vZmZzZXQgKz0gbGVuICsgcm9vbTsKPiA+ID4g
PiA+ICsgICAgICAgICAgICAgICBob2xlID0gYWxsb2NfZnJhZy0+c2l6ZSAtIGFsbG9jX2ZyYWct
Pm9mZnNldDsKPiA+ID4gPiA+ICsgICAgICAgICAgICAgICBpZiAoaG9sZSA8IGxlbiArIHJvb20p
IHsKPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgIC8qIFRvIGF2b2lkIGludGVybmFs
IGZyYWdtZW50YXRpb24sIGlmIHRoZXJlIGlzIHZlcnkgbGlrZWx5IG5vdAo+ID4gPiA+ID4gKyAg
ICAgICAgICAgICAgICAgICAgICAgICogZW5vdWdoIHNwYWNlIGZvciBhbm90aGVyIGJ1ZmZlciwg
YWRkIHRoZSByZW1haW5pbmcgc3BhY2UgdG8KPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAg
ICAgICAqIHRoZSBjdXJyZW50IGJ1ZmZlci4KPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAg
ICAgICAqIFhEUCBjb3JlIGFzc3VtZXMgdGhhdCBmcmFtZV9zaXplIG9mIHhkcF9idWZmIGFuZCB0
aGUgbGVuZ3RoCj4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgKiBvZiB0aGUgZnJh
ZyBhcmUgUEFHRV9TSVpFLCBzbyB3ZSBkaXNhYmxlIHRoZSBob2xlIG1lY2hhbmlzbS4KPiA+ID4g
PiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAqLwo+ID4gPiA+ID4gKyAgICAgICAgICAgICAg
ICAgICAgICAgaWYgKCFoZWFkcm9vbSkKPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgbGVuICs9IGhvbGU7Cj4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICBh
bGxvY19mcmFnLT5vZmZzZXQgKz0gaG9sZTsKPiA+ID4gPiA+ICsgICAgICAgICAgICAgICB9Cj4g
PiA+ID4gPiArICAgICAgIH0KPiA+ID4gPiA+ICAgICAgICAgc2dfaW5pdF9vbmUocnEtPnNnLCBi
dWYsIGxlbik7Cj4gPiA+ID4gPiAgICAgICAgIGN0eCA9IG1lcmdlYWJsZV9sZW5fdG9fY3R4KGxl
biArIHJvb20sIGhlYWRyb29tKTsKPiA+ID4gPiA+ICAgICAgICAgZXJyID0gdmlydHF1ZXVlX2Fk
ZF9pbmJ1Zl9jdHgocnEtPnZxLCBycS0+c2csIDEsIGJ1ZiwgY3R4LCBnZnApOwo+ID4gPiA+ID4g
ICAgICAgICBpZiAoZXJyIDwgMCkKPiA+ID4gPiA+IC0gICAgICAgICAgICAgICBwdXRfcGFnZSh2
aXJ0X3RvX2hlYWRfcGFnZShidWYpKTsKPiA+ID4gPiA+ICsgICAgICAgICAgICAgICB2aXJ0bmV0
X3B1dF9wYWdlKHJxLCB2aXJ0X3RvX2hlYWRfcGFnZShidWYpKTsKPiA+ID4gPiA+Cj4gPiA+ID4g
PiAgICAgICAgIHJldHVybiBlcnI7Cj4gPiA+ID4gPiAgfQo+ID4gPiA+ID4gQEAgLTE5OTQsOCAr
MjAzNCwxNSBAQCBzdGF0aWMgaW50IHZpcnRuZXRfZW5hYmxlX3F1ZXVlX3BhaXIoc3RydWN0IHZp
cnRuZXRfaW5mbyAqdmksIGludCBxcF9pbmRleCkKPiA+ID4gPiA+ICAgICAgICAgaWYgKGVyciA8
IDApCj4gPiA+ID4gPiAgICAgICAgICAgICAgICAgcmV0dXJuIGVycjsKPiA+ID4gPiA+Cj4gPiA+
ID4gPiAtICAgICAgIGVyciA9IHhkcF9yeHFfaW5mb19yZWdfbWVtX21vZGVsKCZ2aS0+cnFbcXBf
aW5kZXhdLnhkcF9yeHEsCj4gPiA+ID4gPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIE1FTV9UWVBFX1BBR0VfU0hBUkVELCBOVUxMKTsKPiA+ID4gPiA+ICsgICAgICAg
aWYgKHZpLT5ycVtxcF9pbmRleF0ucGFnZV9wb29sKQo+ID4gPiA+ID4gKyAgICAgICAgICAgICAg
IGVyciA9IHhkcF9yeHFfaW5mb19yZWdfbWVtX21vZGVsKCZ2aS0+cnFbcXBfaW5kZXhdLnhkcF9y
eHEsCj4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgTUVNX1RZUEVfUEFHRV9QT09MLAo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpLT5ycVtxcF9pbmRleF0ucGFnZV9wb29sKTsK
PiA+ID4gPiA+ICsgICAgICAgZWxzZQo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgIGVyciA9IHhk
cF9yeHFfaW5mb19yZWdfbWVtX21vZGVsKCZ2aS0+cnFbcXBfaW5kZXhdLnhkcF9yeHEsCj4gPiA+
ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTUVN
X1RZUEVfUEFHRV9TSEFSRUQsCj4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgTlVMTCk7Cj4gPiA+ID4gPiArCj4gPiA+ID4gPiAgICAgICAg
IGlmIChlcnIgPCAwKQo+ID4gPiA+ID4gICAgICAgICAgICAgICAgIGdvdG8gZXJyX3hkcF9yZWdf
bWVtX21vZGVsOwo+ID4gPiA+ID4KPiA+ID4gPiA+IEBAIC0yOTUxLDYgKzI5OTgsNyBAQCBzdGF0
aWMgdm9pZCB2aXJ0bmV0X2dldF9zdHJpbmdzKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYsIHUzMiBz
dHJpbmdzZXQsIHU4ICpkYXRhKQo+ID4gPiA+ID4gICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBldGh0b29sX3NwcmludGYoJnAsICJ0eF9xdWV1ZV8ldV8lcyIsIGksCj4gPiA+ID4gPiAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXJ0bmV0X3Nx
X3N0YXRzX2Rlc2Nbal0uZGVzYyk7Cj4gPiA+ID4gPiAgICAgICAgICAgICAgICAgfQo+ID4gPiA+
ID4gKyAgICAgICAgICAgICAgIHBhZ2VfcG9vbF9ldGh0b29sX3N0YXRzX2dldF9zdHJpbmdzKHAp
Owo+ID4gPiA+ID4gICAgICAgICAgICAgICAgIGJyZWFrOwo+ID4gPiA+ID4gICAgICAgICB9Cj4g
PiA+ID4gPiAgfQo+ID4gPiA+ID4gQEAgLTI5NjIsMTIgKzMwMTAsMzAgQEAgc3RhdGljIGludCB2
aXJ0bmV0X2dldF9zc2V0X2NvdW50KHN0cnVjdCBuZXRfZGV2aWNlICpkZXYsIGludCBzc2V0KQo+
ID4gPiA+ID4gICAgICAgICBzd2l0Y2ggKHNzZXQpIHsKPiA+ID4gPiA+ICAgICAgICAgY2FzZSBF
VEhfU1NfU1RBVFM6Cj4gPiA+ID4gPiAgICAgICAgICAgICAgICAgcmV0dXJuIHZpLT5jdXJyX3F1
ZXVlX3BhaXJzICogKFZJUlRORVRfUlFfU1RBVFNfTEVOICsKPiA+ID4gPiA+IC0gICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVklSVE5FVF9TUV9TVEFUU19MRU4p
Owo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBWSVJUTkVUX1NRX1NUQVRTX0xFTiArCj4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAocGFnZV9wb29sX2VuYWJsZWQgJiYgdmktPm1lcmdl
YWJsZV9yeF9idWZzID8KPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBwYWdlX3Bvb2xfZXRodG9vbF9zdGF0c19nZXRfY291bnQoKSA6IDAp
KTsKPiA+ID4gPiA+ICAgICAgICAgZGVmYXVsdDoKPiA+ID4gPiA+ICAgICAgICAgICAgICAgICBy
ZXR1cm4gLUVPUE5PVFNVUFA7Cj4gPiA+ID4gPiAgICAgICAgIH0KPiA+ID4gPiA+ICB9Cj4gPiA+
ID4gPgo+ID4gPiA+ID4gK3N0YXRpYyB2b2lkIHZpcnRuZXRfZ2V0X3BhZ2VfcG9vbF9zdGF0cyhz
dHJ1Y3QgbmV0X2RldmljZSAqZGV2LCB1NjQgKmRhdGEpCj4gPiA+ID4gPiArewo+ID4gPiA+ID4g
KyNpZmRlZiBDT05GSUdfUEFHRV9QT09MX1NUQVRTCj4gPiA+ID4gPiArICAgICAgIHN0cnVjdCB2
aXJ0bmV0X2luZm8gKnZpID0gbmV0ZGV2X3ByaXYoZGV2KTsKPiA+ID4gPiA+ICsgICAgICAgc3Ry
dWN0IHBhZ2VfcG9vbF9zdGF0cyBwcF9zdGF0cyA9IHt9Owo+ID4gPiA+ID4gKyAgICAgICBpbnQg
aTsKPiA+ID4gPiA+ICsKPiA+ID4gPiA+ICsgICAgICAgZm9yIChpID0gMDsgaSA8IHZpLT5jdXJy
X3F1ZXVlX3BhaXJzOyBpKyspIHsKPiA+ID4gPiA+ICsgICAgICAgICAgICAgICBpZiAoIXZpLT5y
cVtpXS5wYWdlX3Bvb2wpCj4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICBjb250aW51
ZTsKPiA+ID4gPiA+ICsgICAgICAgICAgICAgICBwYWdlX3Bvb2xfZ2V0X3N0YXRzKHZpLT5ycVtp
XS5wYWdlX3Bvb2wsICZwcF9zdGF0cyk7Cj4gPiA+ID4gPiArICAgICAgIH0KPiA+ID4gPiA+ICsg
ICAgICAgcGFnZV9wb29sX2V0aHRvb2xfc3RhdHNfZ2V0KGRhdGEsICZwcF9zdGF0cyk7Cj4gPiA+
ID4gPiArI2VuZGlmIC8qIENPTkZJR19QQUdFX1BPT0xfU1RBVFMgKi8KPiA+ID4gPiA+ICt9Cj4g
PiA+ID4gPiArCj4gPiA+ID4gPiAgc3RhdGljIHZvaWQgdmlydG5ldF9nZXRfZXRodG9vbF9zdGF0
cyhzdHJ1Y3QgbmV0X2RldmljZSAqZGV2LAo+ID4gPiA+ID4gICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBzdHJ1Y3QgZXRodG9vbF9zdGF0cyAqc3RhdHMsIHU2NCAqZGF0YSkK
PiA+ID4gPiA+ICB7Cj4gPiA+ID4gPiBAQCAtMzAwMyw2ICszMDY5LDggQEAgc3RhdGljIHZvaWQg
dmlydG5ldF9nZXRfZXRodG9vbF9zdGF0cyhzdHJ1Y3QgbmV0X2RldmljZSAqZGV2LAo+ID4gPiA+
ID4gICAgICAgICAgICAgICAgIH0gd2hpbGUgKHU2NF9zdGF0c19mZXRjaF9yZXRyeSgmc3EtPnN0
YXRzLnN5bmNwLCBzdGFydCkpOwo+ID4gPiA+ID4gICAgICAgICAgICAgICAgIGlkeCArPSBWSVJU
TkVUX1NRX1NUQVRTX0xFTjsKPiA+ID4gPiA+ICAgICAgICAgfQo+ID4gPiA+ID4gKwo+ID4gPiA+
ID4gKyAgICAgICB2aXJ0bmV0X2dldF9wYWdlX3Bvb2xfc3RhdHMoZGV2LCAmZGF0YVtpZHhdKTsK
PiA+ID4gPiA+ICB9Cj4gPiA+ID4gPgo+ID4gPiA+ID4gIHN0YXRpYyB2b2lkIHZpcnRuZXRfZ2V0
X2NoYW5uZWxzKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYsCj4gPiA+ID4gPiBAQCAtMzYyMyw2ICsz
NjkxLDggQEAgc3RhdGljIHZvaWQgdmlydG5ldF9mcmVlX3F1ZXVlcyhzdHJ1Y3QgdmlydG5ldF9p
bmZvICp2aSkKPiA+ID4gPiA+ICAgICAgICAgZm9yIChpID0gMDsgaSA8IHZpLT5tYXhfcXVldWVf
cGFpcnM7IGkrKykgewo+ID4gPiA+ID4gICAgICAgICAgICAgICAgIF9fbmV0aWZfbmFwaV9kZWwo
JnZpLT5ycVtpXS5uYXBpKTsKPiA+ID4gPiA+ICAgICAgICAgICAgICAgICBfX25ldGlmX25hcGlf
ZGVsKCZ2aS0+c3FbaV0ubmFwaSk7Cj4gPiA+ID4gPiArICAgICAgICAgICAgICAgaWYgKHZpLT5y
cVtpXS5wYWdlX3Bvb2wpCj4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICBwYWdlX3Bv
b2xfZGVzdHJveSh2aS0+cnFbaV0ucGFnZV9wb29sKTsKPiA+ID4gPiA+ICAgICAgICAgfQo+ID4g
PiA+ID4KPiA+ID4gPiA+ICAgICAgICAgLyogV2UgY2FsbGVkIF9fbmV0aWZfbmFwaV9kZWwoKSwK
PiA+ID4gPiA+IEBAIC0zNjc5LDEyICszNzQ5LDE5IEBAIHN0YXRpYyB2b2lkIHZpcnRuZXRfcnFf
ZnJlZV91bnVzZWRfYnVmKHN0cnVjdCB2aXJ0cXVldWUgKnZxLCB2b2lkICpidWYpCj4gPiA+ID4g
PiAgICAgICAgIHN0cnVjdCB2aXJ0bmV0X2luZm8gKnZpID0gdnEtPnZkZXYtPnByaXY7Cj4gPiA+
ID4gPiAgICAgICAgIGludCBpID0gdnEycnhxKHZxKTsKPiA+ID4gPiA+Cj4gPiA+ID4gPiAtICAg
ICAgIGlmICh2aS0+bWVyZ2VhYmxlX3J4X2J1ZnMpCj4gPiA+ID4gPiAtICAgICAgICAgICAgICAg
cHV0X3BhZ2UodmlydF90b19oZWFkX3BhZ2UoYnVmKSk7Cj4gPiA+ID4gPiAtICAgICAgIGVsc2Ug
aWYgKHZpLT5iaWdfcGFja2V0cykKPiA+ID4gPiA+ICsgICAgICAgaWYgKHZpLT5tZXJnZWFibGVf
cnhfYnVmcykgewo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgIGlmICh2aS0+cnFbaV0ucGFnZV9w
b29sKSB7Cj4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICBwYWdlX3Bvb2xfcHV0X2Z1
bGxfcGFnZSh2aS0+cnFbaV0ucGFnZV9wb29sLAo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlydF90b19oZWFkX3BhZ2UoYnVmKSwKPiA+
ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRy
dWUpOwo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgIH0gZWxzZSB7Cj4gPiA+ID4gPiArICAgICAg
ICAgICAgICAgICAgICAgICBwdXRfcGFnZSh2aXJ0X3RvX2hlYWRfcGFnZShidWYpKTsKPiA+ID4g
PiA+ICsgICAgICAgICAgICAgICB9Cj4gPiA+ID4gPiArICAgICAgIH0gZWxzZSBpZiAodmktPmJp
Z19wYWNrZXRzKSB7Cj4gPiA+ID4gPiAgICAgICAgICAgICAgICAgZ2l2ZV9wYWdlcygmdmktPnJx
W2ldLCBidWYpOwo+ID4gPiA+Cj4gPiA+ID4gQW55IHJlYXNvbiBvbmx5IG1lcmdlYWJsZSB3ZXJl
IG1vZGlmaWVkIGJ1dCBub3QgZm9yIHNtYWxsIGFuZCBiaWc/Cj4gPiA+ID4KPiA+ID4gPiBUaGFu
a3MKPiA+ID4gPgo+ID4gPgo+ID4gPiBCaWcgbW9kZSB1c2VzIHRoZSBwYWdlIGNoYWluIHRvIHJl
Y3ljbGUgcGFnZXMsIHRodXMgdGhlIHVzaW5nIG9mCj4gPiA+ICJwcml2YXRlIiBvZiB0aGUgYnVm
ZmVyIHBhZ2UuIEkgd2lsbCB0YWtlIGZ1cnRoZXIgbG9vayBpbnRvIHRoYXQgdG8KPiA+ID4gc2Vl
IGlmIGl0IGlzIGJldHRlciB0byB1c2UgcGFnZSBwb29sIGluIHRoZXNlIGNhc2VzLiBUaGFua3Mh
Cj4gPiA+Cj4gPiA+Cj4gPiA+Cj4gPiA+ID4gPiAtICAgICAgIGVsc2UKPiA+ID4gPiA+ICsgICAg
ICAgfSBlbHNlIHsKPiA+ID4gPiA+ICAgICAgICAgICAgICAgICBwdXRfcGFnZSh2aXJ0X3RvX2hl
YWRfcGFnZShidWYpKTsKPiA+ID4gPiA+ICsgICAgICAgfQo+ID4gPiA+ID4gIH0KPiA+ID4gPiA+
Cj4gPiA+ID4gPiAgc3RhdGljIHZvaWQgZnJlZV91bnVzZWRfYnVmcyhzdHJ1Y3QgdmlydG5ldF9p
bmZvICp2aSkKPiA+ID4gPiA+IEBAIC0zNzE4LDYgKzM3OTUsMjYgQEAgc3RhdGljIHZvaWQgdmly
dG5ldF9kZWxfdnFzKHN0cnVjdCB2aXJ0bmV0X2luZm8gKnZpKQo+ID4gPiA+ID4gICAgICAgICB2
aXJ0bmV0X2ZyZWVfcXVldWVzKHZpKTsKPiA+ID4gPiA+ICB9Cj4gPiA+ID4gPgo+ID4gPiA+ID4g
K3N0YXRpYyB2b2lkIHZpcnRuZXRfYWxsb2NfcGFnZV9wb29sKHN0cnVjdCByZWNlaXZlX3F1ZXVl
ICpycSkKPiA+ID4gPiA+ICt7Cj4gPiA+ID4gPiArICAgICAgIHN0cnVjdCB2aXJ0aW9fZGV2aWNl
ICp2ZGV2ID0gcnEtPnZxLT52ZGV2Owo+ID4gPiA+ID4gKwo+ID4gPiA+ID4gKyAgICAgICBzdHJ1
Y3QgcGFnZV9wb29sX3BhcmFtcyBwcF9wYXJhbXMgPSB7Cj4gPiA+ID4gPiArICAgICAgICAgICAg
ICAgLm9yZGVyID0gMCwKPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAucG9vbF9zaXplID0gcnEt
PnZxLT5udW1fbWF4LAo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgIC5uaWQgPSBkZXZfdG9fbm9k
ZSh2ZGV2LT5kZXYucGFyZW50KSwKPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAuZGV2ID0gdmRl
di0+ZGV2LnBhcmVudCwKPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAub2Zmc2V0ID0gMCwKPiA+
ID4gPiA+ICsgICAgICAgfTsKPiA+ID4gPiA+ICsKPiA+ID4gPiA+ICsgICAgICAgcnEtPnBhZ2Vf
cG9vbCA9IHBhZ2VfcG9vbF9jcmVhdGUoJnBwX3BhcmFtcyk7Cj4gPiA+ID4gPiArICAgICAgIGlm
IChJU19FUlIocnEtPnBhZ2VfcG9vbCkpIHsKPiA+ID4gPiA+ICsgICAgICAgICAgICAgICBkZXZf
d2FybigmdmRldi0+ZGV2LCAicGFnZSBwb29sIGNyZWF0aW9uIGZhaWxlZDogJWxkXG4iLAo+ID4g
PiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgIFBUUl9FUlIocnEtPnBhZ2VfcG9vbCkpOwo+
ID4gPiA+ID4gKyAgICAgICAgICAgICAgIHJxLT5wYWdlX3Bvb2wgPSBOVUxMOwo+ID4gPiA+ID4g
KyAgICAgICB9Cj4gPiA+ID4gPiArfQo+ID4gPiA+ID4gKwo+ID4gPiA+ID4gIC8qIEhvdyBsYXJn
ZSBzaG91bGQgYSBzaW5nbGUgYnVmZmVyIGJlIHNvIGEgcXVldWUgZnVsbCBvZiB0aGVzZSBjYW4g
Zml0IGF0Cj4gPiA+ID4gPiAgICogbGVhc3Qgb25lIGZ1bGwgcGFja2V0Pwo+ID4gPiA+ID4gICAq
IExvZ2ljIGJlbG93IGFzc3VtZXMgdGhlIG1lcmdlYWJsZSBidWZmZXIgaGVhZGVyIGlzIHVzZWQu
Cj4gPiA+ID4gPiBAQCAtMzgwMSw2ICszODk4LDEzIEBAIHN0YXRpYyBpbnQgdmlydG5ldF9maW5k
X3ZxcyhzdHJ1Y3QgdmlydG5ldF9pbmZvICp2aSkKPiA+ID4gPiA+ICAgICAgICAgICAgICAgICB2
aS0+cnFbaV0udnEgPSB2cXNbcnhxMnZxKGkpXTsKPiA+ID4gPiA+ICAgICAgICAgICAgICAgICB2
aS0+cnFbaV0ubWluX2J1Zl9sZW4gPSBtZXJnZWFibGVfbWluX2J1Zl9sZW4odmksIHZpLT5ycVtp
XS52cSk7Cj4gPiA+ID4gPiAgICAgICAgICAgICAgICAgdmktPnNxW2ldLnZxID0gdnFzW3R4cTJ2
cShpKV07Cj4gPiA+ID4gPiArCj4gPiA+ID4gPiArICAgICAgICAgICAgICAgaWYgKHBhZ2VfcG9v
bF9lbmFibGVkICYmIHZpLT5tZXJnZWFibGVfcnhfYnVmcykKPiA+ID4gPiA+ICsgICAgICAgICAg
ICAgICAgICAgICAgIHZpcnRuZXRfYWxsb2NfcGFnZV9wb29sKCZ2aS0+cnFbaV0pOwo+ID4gPiA+
ID4gKyAgICAgICAgICAgICAgIGVsc2UKPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAg
IGRldl93YXJuKCZ2aS0+dmRldi0+ZGV2LAo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgInBhZ2UgcG9vbCBvbmx5IHN1cHBvcnQgbWVyZ2VhYmxlIG1vZGVcbiIpOwo+
ID4gPiA+ID4gKwo+ID4gPiA+ID4gICAgICAgICB9Cj4gPiA+ID4gPgo+ID4gPiA+ID4gICAgICAg
ICAvKiBydW4gaGVyZTogcmV0ID09IDAuICovCj4gPiA+ID4gPiAtLQo+ID4gPiA+ID4gMi4zMS4x
Cj4gPiA+ID4gPgo+ID4gPiA+Cj4gPgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fXwpWaXJ0dWFsaXphdGlvbiBtYWlsaW5nIGxpc3QKVmlydHVhbGl6YXRpb25A
bGlzdHMubGludXgtZm91bmRhdGlvbi5vcmcKaHR0cHM6Ly9saXN0cy5saW51eGZvdW5kYXRpb24u
b3JnL21haWxtYW4vbGlzdGluZm8vdmlydHVhbGl6YXRpb24=
