Return-Path: <virtualization-bounces@lists.linux-foundation.org>
X-Original-To: lists.virtualization@lfdr.de
Delivered-To: lists.virtualization@lfdr.de
Received: from smtp2.osuosl.org (smtp2.osuosl.org [140.211.166.133])
	by mail.lfdr.de (Postfix) with ESMTPS id 392663F146B
	for <lists.virtualization@lfdr.de>; Thu, 19 Aug 2021 09:38:05 +0200 (CEST)
Received: from localhost (localhost [127.0.0.1])
	by smtp2.osuosl.org (Postfix) with ESMTP id B9476400AE;
	Thu, 19 Aug 2021 07:38:03 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp2.osuosl.org ([127.0.0.1])
	by localhost (smtp2.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 9OBf3XaVEqWu; Thu, 19 Aug 2021 07:37:59 +0000 (UTC)
Received: from lists.linuxfoundation.org (lf-lists.osuosl.org [140.211.9.56])
	by smtp2.osuosl.org (Postfix) with ESMTPS id 6DDF1402D3;
	Thu, 19 Aug 2021 07:37:59 +0000 (UTC)
Received: from lf-lists.osuosl.org (localhost [127.0.0.1])
	by lists.linuxfoundation.org (Postfix) with ESMTP id 09DCFC0022;
	Thu, 19 Aug 2021 07:37:59 +0000 (UTC)
X-Original-To: virtualization@lists.linux-foundation.org
Delivered-To: virtualization@lists.linuxfoundation.org
Received: from smtp4.osuosl.org (smtp4.osuosl.org [IPv6:2605:bc80:3010::137])
 by lists.linuxfoundation.org (Postfix) with ESMTP id 22FC8C000E
 for <virtualization@lists.linux-foundation.org>;
 Thu, 19 Aug 2021 07:37:58 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by smtp4.osuosl.org (Postfix) with ESMTP id F29244074C
 for <virtualization@lists.linux-foundation.org>;
 Thu, 19 Aug 2021 07:37:57 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
Authentication-Results: smtp4.osuosl.org (amavisd-new);
 dkim=pass (1024-bit key) header.d=redhat.com
Received: from smtp4.osuosl.org ([127.0.0.1])
 by localhost (smtp4.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id pGuPUXPckEgE
 for <virtualization@lists.linux-foundation.org>;
 Thu, 19 Aug 2021 07:37:56 +0000 (UTC)
X-Greylist: domain auto-whitelisted by SQLgrey-1.8.0
Received: from us-smtp-delivery-124.mimecast.com
 (us-smtp-delivery-124.mimecast.com [170.10.133.124])
 by smtp4.osuosl.org (Postfix) with ESMTPS id 52EDD40247
 for <virtualization@lists.linux-foundation.org>;
 Thu, 19 Aug 2021 07:37:56 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=redhat.com;
 s=mimecast20190719; t=1629358674;
 h=from:from:reply-to:subject:subject:date:date:message-id:message-id:
 to:to:cc:cc:mime-version:mime-version:content-type:content-type:
 content-transfer-encoding:content-transfer-encoding:
 in-reply-to:in-reply-to:references:references;
 bh=wHcCXkc8VHB4+wLQPNyuLzpaqfmfW6CkfXMjKk1da6g=;
 b=fRH7PgYtrR8RCgiZQHI5B6CQnvHHPuwVmv6AYXZtXP3UqD508vGxN6gb7O4EMXFoAutzzq
 6t0dyhbipaVCgDK3kj6p99Nv01f7mM8GV6+js66U+w5jDfNKeLylTBvAOnzwXyST6C+zkt
 97TcVE3szWGl/Arc1ybVVs4vcsGVneY=
Received: from mail-lf1-f70.google.com (mail-lf1-f70.google.com
 [209.85.167.70]) (Using TLS) by relay.mimecast.com with ESMTP id
 us-mta-388-EScPWaF0OqSVXnjLGIeNjg-1; Thu, 19 Aug 2021 03:37:53 -0400
X-MC-Unique: EScPWaF0OqSVXnjLGIeNjg-1
Received: by mail-lf1-f70.google.com with SMTP id
 d21-20020a05651233d500b003cd423f70efso1640910lfg.23
 for <virtualization@lists.linux-foundation.org>;
 Thu, 19 Aug 2021 00:37:53 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=wHcCXkc8VHB4+wLQPNyuLzpaqfmfW6CkfXMjKk1da6g=;
 b=mtYPvkOUI4Dh5zONWAi28cvgjpVuyuYmaEypgFcGGGHorVsqUaTf0W+8ZB+lUmeu68
 MGmynryQjlONjFb9OnixNG8IzrM3HSPaatU81IjNXEB0QdN5ifqa66rY1aVI/LHb5rAh
 n24JmKfpuUhnfeJseQbTQKhXL/gFT7JcAI9GgjaMNcOiGXO6PbxHjZSvSDrVcxad+E6m
 WUKmZzrO9IoN+dRn6WmpQSVwFzHwd3lPRfmpQrlhQRCYIG0AMjv9LuWPkmFV4gggPKu2
 wVk7CKL0qqebgiV71hi73m251QX///ZnFRZZNFDsnt4l34YzeLMXLGvPR60Cr4JbC+uL
 mJyA==
X-Gm-Message-State: AOAM532dNvyHgAr92nYpyw3Bo75Ps99VyuK5CgvSgQm/BOfkF4iaRjwg
 AXAVRMRO9mtMQE3W1xXLwpQ+lnEM1HDaOP8fBjVUT/8mIgJWmr9R0iUFNNAEWCXHvny8aXkfk6m
 a8jnQm2xqE9rPllZTHFMLAjIgf2z2xhWbPJ7j1wfuLFt9nuTUBtgGgcX79g==
X-Received: by 2002:a2e:801a:: with SMTP id j26mr9265204ljg.385.1629358671631; 
 Thu, 19 Aug 2021 00:37:51 -0700 (PDT)
X-Google-Smtp-Source: ABdhPJxWMEf0dtkROafLHrlhZa/PeifCkPKabFlJQSeCO8JJ/NAiuZlBpp3OMWSpKAPzPFlV6rqFOqOF7NFcl+fdi9I=
X-Received: by 2002:a2e:801a:: with SMTP id j26mr9265171ljg.385.1629358671228; 
 Thu, 19 Aug 2021 00:37:51 -0700 (PDT)
MIME-Version: 1.0
References: <20210817060250.188705-1-elic@nvidia.com>
 <20210817060250.188705-6-elic@nvidia.com>
 <92a8b0e6-7eba-8309-0c67-f526046573fc@redhat.com>
 <20210819060641.GA161591@mtl-vdi-166.wap.labs.mlnx>
 <b2aada9a-7cea-93aa-dc22-349968e8b2eb@redhat.com>
 <20210819072145.GA166182@mtl-vdi-166.wap.labs.mlnx>
In-Reply-To: <20210819072145.GA166182@mtl-vdi-166.wap.labs.mlnx>
From: Jason Wang <jasowang@redhat.com>
Date: Thu, 19 Aug 2021 15:37:40 +0800
Message-ID: <CACGkMEsv9GuSiYS6bTffVcVKNyRjjbh2X4kbBr9XB4q2pBe+0Q@mail.gmail.com>
Subject: Re: [PATCH v2 5/6] vdpa/mlx5: Add support for control VQ and MAC
 setting
To: Eli Cohen <elic@nvidia.com>
Authentication-Results: relay.mimecast.com;
 auth=pass smtp.auth=CUSA124A263 smtp.mailfrom=jasowang@redhat.com
X-Mimecast-Spam-Score: 0
X-Mimecast-Originator: redhat.com
Cc: eperezma <eperezma@redhat.com>,
 virtualization <virtualization@lists.linux-foundation.org>,
 mst <mst@redhat.com>
X-BeenThere: virtualization@lists.linux-foundation.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: Linux virtualization <virtualization.lists.linux-foundation.org>
List-Unsubscribe: <https://lists.linuxfoundation.org/mailman/options/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=unsubscribe>
List-Archive: <http://lists.linuxfoundation.org/pipermail/virtualization/>
List-Post: <mailto:virtualization@lists.linux-foundation.org>
List-Help: <mailto:virtualization-request@lists.linux-foundation.org?subject=help>
List-Subscribe: <https://lists.linuxfoundation.org/mailman/listinfo/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: virtualization-bounces@lists.linux-foundation.org
Sender: "Virtualization" <virtualization-bounces@lists.linux-foundation.org>

T24gVGh1LCBBdWcgMTksIDIwMjEgYXQgMzoyMiBQTSBFbGkgQ29oZW4gPGVsaWNAbnZpZGlhLmNv
bT4gd3JvdGU6Cj4KPiBPbiBUaHUsIEF1ZyAxOSwgMjAyMSBhdCAwMzoxMjoxNFBNICswODAwLCBK
YXNvbiBXYW5nIHdyb3RlOgo+ID4KPiA+IOWcqCAyMDIxLzgvMTkg5LiL5Y2IMjowNiwgRWxpIENv
aGVuIOWGmemBkzoKPiA+ID4gT24gVGh1LCBBdWcgMTksIDIwMjEgYXQgMTI6MDQ6MTBQTSArMDgw
MCwgSmFzb24gV2FuZyB3cm90ZToKPiA+ID4gPiDlnKggMjAyMS84LzE3IOS4i+WNiDI6MDIsIEVs
aSBDb2hlbiDlhpnpgZM6Cj4gPiA+ID4gPiBBZGQgc3VwcG9ydCB0byBoYW5kbGUgY29udHJvbCB2
aXJ0cXVldWUgY29uZmlndXJhdGlvbnMgcGVyIHZpcnRpbwo+ID4gPiA+ID4gc3BlY2lmaWNhdGlv
bi4gVGhlIGNvbnRyb2wgdmlydHF1ZXVlIGlzIGltcGxlbWVudGVkIGluIHNvZnR3YXJlIGFuZCBu
bwo+ID4gPiA+ID4gaGFyZHdhcmUgb2ZmbG9hZGluZyBpcyBpbnZvbHZlZC4KPiA+ID4gPiA+Cj4g
PiA+ID4gPiBDb250cm9sIFZRIGNvbmZpZ3VyYXRpb24gbmVlZCB0YXNrIGNvbnRleHQsIHRoZXJl
Zm9yZSBhbGwgY29uZmlndXJhdGlvbnMKPiA+ID4gPiA+IGFyZSBoYW5kbGVkIGluIGEgd29ya3F1
ZXVlIGNyZWF0ZWQgZm9yIHRoZSBwdXJwb3NlLgo+ID4gPiA+Cj4gPiA+ID4gSSB0aGluayBhbGwg
dGhlIGN1cnJlbnQgY2FsbGVycyBhcmUgYWxyZWFkeSBpbiB0aGUgdGhlIHRhc2sgY29udGV4dCAo
dGhlCj4gPiA+ID4gY2FsbGVyIG9mIHZpcnRuZXRfc2VuZF9jb21tYW5kKCkpLgo+ID4gPiA+Cj4g
PiA+ID4gQW55IHJlYXNvbiBmb3IgdXNpbmcgd29ya3F1ZXVlIGhlcmU/Cj4gPiA+ID4KPiA+ID4g
SSBhbSBydW5uaW5nIGNvZGUgdGhhdCBtaWdodCBzbGVlcCBhbmQgdGhlIGNhbGwgaGFzLCBJSVJD
LCBpcnFzIGRpc2FibGVkLiBUaGUKPiA+ID4ga2VybmVsIGNvbXBsYWluZWQgYWJvdXQgdGhpcy4K
PiA+Cj4gPgo+ID4gSSBzZWUuCj4gPgo+ID4KPiA+ID4KPiA+ID4gPiBJJ20gbm90IHN1cmUgaWYg
aXQgY2FuIHdvcmsgd2VsbCBvbiBVUCB3aGVyZSB0aGUgd29ya3F1ZXVlIG1pZ2h0IG5vdCBoYXZl
IGEKPiA+ID4gPiBjaGFuY2UgdG8gYmUgc2NoZWR1bGVkICh3ZSBhcmUgZG9pbmcgYnVzeSB3YWl0
aW5nIGhlcmUpOgo+ID4gPiA+Cj4gPiA+ID4gICAgICAgICAgLyogU3BpbiBmb3IgYSByZXNwb25z
ZSwgdGhlIGtpY2sgY2F1c2VzIGFuIGlvcG9ydCB3cml0ZSwgdHJhcHBpbmcKPiA+ID4gPiAgICAg
ICAgICAgKiBpbnRvIHRoZSBoeXBlcnZpc29yLCBzbyB0aGUgcmVxdWVzdCBzaG91bGQgYmUgaGFu
ZGxlZAo+ID4gPiA+IGltbWVkaWF0ZWx5Lgo+ID4gPiA+ICAgICAgICAgICAqLwo+ID4gPiA+ICAg
ICAgICAgIHdoaWxlICghdmlydHF1ZXVlX2dldF9idWYodmktPmN2cSwgJnRtcCkgJiYKPiA+ID4g
PiAgICAgICAgICAgICAgICAgIXZpcnRxdWV1ZV9pc19icm9rZW4odmktPmN2cSkpCj4gPiA+ID4g
ICAgICAgICAgICAgICAgICBjcHVfcmVsYXgoKTsKPiA+ID4gPgo+ID4gPiBJIHRoaW5rIHdlIGhh
dmUgdHdvIGRpZmZlcmVudCBjYXNlcyBoZXJlOgo+ID4gPiAxLiBXaGVuIHRoZSBuZXQgZGV2aWNl
IGlzIHJ1bm5pbmcgaW4gYSBWTS4gSW4gdGhpcyBjYXNlIHdlIGRvIG5vdCBoYXZlCj4gPiA+IGFu
eSBpc3N1ZSBzaW5jZSB0aGUgbG9vcCBpcyBydW5uaW5nIGF0IHRoZSBndWVzdCBrZXJuZWwgYW5k
IHRoZSB3b3JrIGlzCj4gPiA+IGRvbmUgYXQgdGhlIGhvc3Qga2VybmVsIGFuZCB3b3VsZCBlbmQg
YXQgYSBmaW5pdGUgdGltZS4KPiA+ID4KPiA+ID4gMi4gV2hlbiB3ZSdyZSB1c2luZyB2aXJ0aW9f
dmRwYSBhbmQgdGhlIGRldmljZSBpcyBvbiB0aGUgaG9zdCB3ZSBoYXZlIGFuCj4gPiA+IGlzc3Vl
IGlmIHdlJ3JlIHVzaW5nIFVQIHByb2Nlc3Nvci4gTWF5YmUgd2Ugc2hvdWxkIGF2b2lkIHN1cHBv
cnRpbmcgQ1ZRCj4gPiA+IGluIHRoaXMgY2FzZT8KPiA+Cj4gPgo+ID4gTWF5YmUgd2UgY2FuIHN3
aXRjaCB0byB1c2UgaW50ZXJydXB0IGFuZCBzbGVlcCBoZXJlLCB3aWxsIGhhdmUgYSBsb29rLgo+
ID4KPgo+IFdvbid0IGl0IGh1cnQgbGF0ZW5jeT8KCkknbSBub3Qgc3VyZSwgYnV0IHVzdWFsbHkg
d2UgZG9uJ3QgY2FyZSBhYm91dCB0aGUgcGVyZm9ybWFuY2Ugb2YgY29udHJvbCB2cS4KClRoYW5r
cwoKPgo+ID4KPiA+Cj4gPiA+Cj4gPiA+ID4gPiBNb2RpZmljYXRpb25zIGFyZSBtYWRlIHRvIHRo
ZSBtZW1vcnkgcmVnaXN0cmF0aW9uIGNvZGUgdG8gYWxsb3cgZm9yCj4gPiA+ID4gPiBzYXZpbmcg
YSBjb3B5IG9mIGl0b2xiIHRvIGJlIHVzZWQgYnkgdGhlIGNvbnRyb2wgVlEgdG8gYWNjZXNzIHRo
ZSB2cmluZy4KPiA+ID4gPiA+Cj4gPiA+ID4gPiBUaGUgbWF4IG51bWJlciBvZiBkYXRhIHZpcnRx
dWV1cyBzdXBwb3J0ZWQgYnkgdGhlIGRyaXZlciBoYXMgYmVlbgo+ID4gPiA+ID4gdXBkYXRlZCB0
byAyIHNpbmNlIG11bHRpcXVldWUgaXMgbm90IHN1cHBvcnRlZCBhdCB0aGlzIHN0YWdlIGFuZCB3
ZSBuZWVkCj4gPiA+ID4gPiB0byBlbnN1cmUgY29uc2lzdGVuY3kgb2YgVlEgaW5kaWNlcyBtYXBw
aW5nIHRvIGVpdGhlciBkYXRhIG9yIGNvbnRyb2wKPiA+ID4gPiA+IFZRLgo+ID4gPiA+ID4KPiA+
ID4gPiA+IFNpZ25lZC1vZmYtYnk6IEVsaSBDb2hlbiA8ZWxpY0BudmlkaWEuY29tPgo+ID4gPiA+
ID4gLS0tCj4gPiA+ID4gPiAgICBkcml2ZXJzL3ZkcGEvbWx4NS9jb3JlL21seDVfdmRwYS5oIHwg
IDIzICsrKwo+ID4gPiA+ID4gICAgZHJpdmVycy92ZHBhL21seDUvY29yZS9tci5jICAgICAgICB8
ICA4MSArKysrKysrLS0tCj4gPiA+ID4gPiAgICBkcml2ZXJzL3ZkcGEvbWx4NS9jb3JlL3Jlc291
cmNlcy5jIHwgIDMxICsrKysKPiA+ID4gPiA+ICAgIGRyaXZlcnMvdmRwYS9tbHg1L25ldC9tbHg1
X3ZuZXQuYyAgfCAyMzEgKysrKysrKysrKysrKysrKysrKysrKysrKysrLS0KPiA+ID4gPiA+ICAg
IDQgZmlsZXMgY2hhbmdlZCwgMzM0IGluc2VydGlvbnMoKyksIDMyIGRlbGV0aW9ucygtKQo+ID4g
PiA+ID4KPiA+ID4gPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL3ZkcGEvbWx4NS9jb3JlL21seDVf
dmRwYS5oIGIvZHJpdmVycy92ZHBhL21seDUvY29yZS9tbHg1X3ZkcGEuaAo+ID4gPiA+ID4gaW5k
ZXggNDFiMjA4NTVlZDMxLi42YzQzNDc2YTY5Y2IgMTAwNjQ0Cj4gPiA+ID4gPiAtLS0gYS9kcml2
ZXJzL3ZkcGEvbWx4NS9jb3JlL21seDVfdmRwYS5oCj4gPiA+ID4gPiArKysgYi9kcml2ZXJzL3Zk
cGEvbWx4NS9jb3JlL21seDVfdmRwYS5oCj4gPiA+ID4gPiBAQCAtNSw2ICs1LDcgQEAKPiA+ID4g
PiA+ICAgICNkZWZpbmUgX19NTFg1X1ZEUEFfSF9fCj4gPiA+ID4gPiAgICAjaW5jbHVkZSA8bGlu
dXgvZXRoZXJkZXZpY2UuaD4KPiA+ID4gPiA+ICsjaW5jbHVkZSA8bGludXgvdnJpbmdoLmg+Cj4g
PiA+ID4gPiAgICAjaW5jbHVkZSA8bGludXgvdmRwYS5oPgo+ID4gPiA+ID4gICAgI2luY2x1ZGUg
PGxpbnV4L21seDUvZHJpdmVyLmg+Cj4gPiA+ID4gPiBAQCAtNDcsNiArNDgsMjYgQEAgc3RydWN0
IG1seDVfdmRwYV9yZXNvdXJjZXMgewo+ID4gPiA+ID4gICAgICAgICBib29sIHZhbGlkOwo+ID4g
PiA+ID4gICAgfTsKPiA+ID4gPiA+ICtzdHJ1Y3QgbWx4NV9jb250cm9sX3ZxIHsKPiA+ID4gPiA+
ICsgICAgICAgc3RydWN0IHZob3N0X2lvdGxiICppb3RsYjsKPiA+ID4gPiA+ICsgICAgICAgLyog
c3BpbmxvY2sgdG8gc3luY2hyb25pemUgaW9tbXUgdGFibGUgKi8KPiA+ID4gPiA+ICsgICAgICAg
c3BpbmxvY2tfdCBpb21tdV9sb2NrOwo+ID4gPiA+ID4gKyAgICAgICBzdHJ1Y3QgdnJpbmdoIHZy
aW5nOwo+ID4gPiA+ID4gKyAgICAgICBib29sIHJlYWR5Owo+ID4gPiA+ID4gKyAgICAgICB1NjQg
ZGVzY19hZGRyOwo+ID4gPiA+ID4gKyAgICAgICB1NjQgZGV2aWNlX2FkZHI7Cj4gPiA+ID4gPiAr
ICAgICAgIHU2NCBkcml2ZXJfYWRkcjsKPiA+ID4gPiA+ICsgICAgICAgc3RydWN0IHZkcGFfY2Fs
bGJhY2sgZXZlbnRfY2I7Cj4gPiA+ID4gPiArICAgICAgIHN0cnVjdCB2cmluZ2hfa2lvdiByaW92
Owo+ID4gPiA+ID4gKyAgICAgICBzdHJ1Y3QgdnJpbmdoX2tpb3Ygd2lvdjsKPiA+ID4gPiA+ICsg
ICAgICAgdW5zaWduZWQgc2hvcnQgaGVhZDsKPiA+ID4gPiA+ICt9Owo+ID4gPiA+ID4gKwo+ID4g
PiA+ID4gK3N0cnVjdCBtbHg1X2N0cmxfd3FfZW50IHsKPiA+ID4gPiA+ICsgICAgICAgc3RydWN0
IHdvcmtfc3RydWN0IHdvcms7Cj4gPiA+ID4gPiArICAgICAgIHN0cnVjdCBtbHg1X3ZkcGFfZGV2
ICptdmRldjsKPiA+ID4gPiA+ICt9Owo+ID4gPiA+ID4gKwo+ID4gPiA+ID4gICAgc3RydWN0IG1s
eDVfdmRwYV9kZXYgewo+ID4gPiA+ID4gICAgICAgICBzdHJ1Y3QgdmRwYV9kZXZpY2UgdmRldjsK
PiA+ID4gPiA+ICAgICAgICAgc3RydWN0IG1seDVfY29yZV9kZXYgKm1kZXY7Cj4gPiA+ID4gPiBA
QCAtNjAsNiArODEsOCBAQCBzdHJ1Y3QgbWx4NV92ZHBhX2RldiB7Cj4gPiA+ID4gPiAgICAgICAg
IHUzMiBnZW5lcmF0aW9uOwo+ID4gPiA+ID4gICAgICAgICBzdHJ1Y3QgbWx4NV92ZHBhX21yIG1y
Owo+ID4gPiA+ID4gKyAgICAgICBzdHJ1Y3QgbWx4NV9jb250cm9sX3ZxIGN2cTsKPiA+ID4gPiA+
ICsgICAgICAgc3RydWN0IHdvcmtxdWV1ZV9zdHJ1Y3QgKndxOwo+ID4gPiA+ID4gICAgfTsKPiA+
ID4gPiA+ICAgIGludCBtbHg1X3ZkcGFfYWxsb2NfcGQoc3RydWN0IG1seDVfdmRwYV9kZXYgKmRl
diwgdTMyICpwZG4sIHUxNiB1aWQpOwo+ID4gPiA+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvdmRw
YS9tbHg1L2NvcmUvbXIuYyBiL2RyaXZlcnMvdmRwYS9tbHg1L2NvcmUvbXIuYwo+ID4gPiA+ID4g
aW5kZXggZTU5MTM1ZmE4NjdlLi5kYTAxM2I4MDgyYmMgMTAwNjQ0Cj4gPiA+ID4gPiAtLS0gYS9k
cml2ZXJzL3ZkcGEvbWx4NS9jb3JlL21yLmMKPiA+ID4gPiA+ICsrKyBiL2RyaXZlcnMvdmRwYS9t
bHg1L2NvcmUvbXIuYwo+ID4gPiA+ID4gQEAgLTEsNiArMSw3IEBACj4gPiA+ID4gPiAgICAvLyBT
UERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMCBPUiBMaW51eC1PcGVuSUIKPiA+ID4gPiA+
ICAgIC8qIENvcHlyaWdodCAoYykgMjAyMCBNZWxsYW5veCBUZWNobm9sb2dpZXMgTHRkLiAqLwo+
ID4gPiA+ID4gKyNpbmNsdWRlIDxsaW51eC92aG9zdF90eXBlcy5oPgo+ID4gPiA+ID4gICAgI2lu
Y2x1ZGUgPGxpbnV4L3ZkcGEuaD4KPiA+ID4gPiA+ICAgICNpbmNsdWRlIDxsaW51eC9nY2QuaD4K
PiA+ID4gPiA+ICAgICNpbmNsdWRlIDxsaW51eC9zdHJpbmcuaD4KPiA+ID4gPiA+IEBAIC00NTEs
MzMgKzQ1MiwzMCBAQCBzdGF0aWMgdm9pZCBkZXN0cm95X2RtYV9tcihzdHJ1Y3QgbWx4NV92ZHBh
X2RldiAqbXZkZXYsIHN0cnVjdCBtbHg1X3ZkcGFfbXIgKm1yKQo+ID4gPiA+ID4gICAgICAgICBt
bHg1X3ZkcGFfZGVzdHJveV9ta2V5KG12ZGV2LCAmbXItPm1rZXkpOwo+ID4gPiA+ID4gICAgfQo+
ID4gPiA+ID4gLXN0YXRpYyBpbnQgX21seDVfdmRwYV9jcmVhdGVfbXIoc3RydWN0IG1seDVfdmRw
YV9kZXYgKm12ZGV2LCBzdHJ1Y3Qgdmhvc3RfaW90bGIgKmlvdGxiKQo+ID4gPiA+ID4gK3N0YXRp
YyBpbnQgZHVwX2lvdGxiKHN0cnVjdCBtbHg1X3ZkcGFfZGV2ICptdmRldiwgc3RydWN0IHZob3N0
X2lvdGxiICpzcmMpCj4gPiA+ID4gPiAgICB7Cj4gPiA+ID4gPiAtICAgICAgIHN0cnVjdCBtbHg1
X3ZkcGFfbXIgKm1yID0gJm12ZGV2LT5tcjsKPiA+ID4gPiA+ICsgICAgICAgc3RydWN0IHZob3N0
X2lvdGxiX21hcCAqbWFwOwo+ID4gPiA+ID4gKyAgICAgICB1NjQgc3RhcnQgPSAwVUxMLCBsYXN0
ID0gMFVMTCAtIDE7Cj4gPiA+ID4gPiAgICAgICAgIGludCBlcnI7Cj4gPiA+ID4gPiAtICAgICAg
IGlmIChtci0+aW5pdGlhbGl6ZWQpCj4gPiA+ID4gPiAtICAgICAgICAgICAgICAgcmV0dXJuIDA7
Cj4gPiA+ID4gPiAtCj4gPiA+ID4gPiAtICAgICAgIGlmIChpb3RsYikKPiA+ID4gPiA+IC0gICAg
ICAgICAgICAgICBlcnIgPSBjcmVhdGVfdXNlcl9tcihtdmRldiwgaW90bGIpOwo+ID4gPiA+ID4g
LSAgICAgICBlbHNlCj4gPiA+ID4gPiAtICAgICAgICAgICAgICAgZXJyID0gY3JlYXRlX2RtYV9t
cihtdmRldiwgbXIpOwo+ID4gPiA+ID4gLQo+ID4gPiA+ID4gLSAgICAgICBpZiAoIWVycikKPiA+
ID4gPiA+IC0gICAgICAgICAgICAgICBtci0+aW5pdGlhbGl6ZWQgPSB0cnVlOwo+ID4gPiA+ID4g
KyAgICAgICBpZiAoIXNyYykgewo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgIGVyciA9IHZob3N0
X2lvdGxiX2FkZF9yYW5nZShtdmRldi0+Y3ZxLmlvdGxiLCBzdGFydCwgbGFzdCwgc3RhcnQsIFZI
T1NUX0FDQ0VTU19SVyk7Cj4gPiA+ID4gPiArICAgICAgICAgICAgICAgcmV0dXJuIGVycjsKPiA+
ID4gPiA+ICsgICAgICAgfQo+ID4gPiA+ID4gLSAgICAgICByZXR1cm4gZXJyOwo+ID4gPiA+ID4g
KyAgICAgICBmb3IgKG1hcCA9IHZob3N0X2lvdGxiX2l0cmVlX2ZpcnN0KHNyYywgc3RhcnQsIGxh
c3QpOyBtYXA7Cj4gPiA+ID4gPiArICAgICAgICAgICAgICAgbWFwID0gdmhvc3RfaW90bGJfaXRy
ZWVfbmV4dChtYXAsIHN0YXJ0LCBsYXN0KSkgewo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgIGVy
ciA9IHZob3N0X2lvdGxiX2FkZF9yYW5nZShtdmRldi0+Y3ZxLmlvdGxiLCBtYXAtPnN0YXJ0LCBt
YXAtPmxhc3QsCj4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIG1hcC0+YWRkciwgbWFwLT5wZXJtKTsKPiA+ID4gPiA+ICsgICAgICAgICAgICAgICBp
ZiAoZXJyKQo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycjsKPiA+
ID4gPiA+ICsgICAgICAgfQo+ID4gPiA+ID4gKyAgICAgICByZXR1cm4gMDsKPiA+ID4gPiA+ICAg
IH0KPiA+ID4gPiA+IC1pbnQgbWx4NV92ZHBhX2NyZWF0ZV9tcihzdHJ1Y3QgbWx4NV92ZHBhX2Rl
diAqbXZkZXYsIHN0cnVjdCB2aG9zdF9pb3RsYiAqaW90bGIpCj4gPiA+ID4gPiArc3RhdGljIHZv
aWQgcHJ1bmVfaW90bGIoc3RydWN0IG1seDVfdmRwYV9kZXYgKm12ZGV2KQo+ID4gPiA+ID4gICAg
ewo+ID4gPiA+ID4gLSAgICAgICBpbnQgZXJyOwo+ID4gPiA+ID4gLQo+ID4gPiA+ID4gLSAgICAg
ICBtdXRleF9sb2NrKCZtdmRldi0+bXIubWtleV9tdHgpOwo+ID4gPiA+ID4gLSAgICAgICBlcnIg
PSBfbWx4NV92ZHBhX2NyZWF0ZV9tcihtdmRldiwgaW90bGIpOwo+ID4gPiA+ID4gLSAgICAgICBt
dXRleF91bmxvY2soJm12ZGV2LT5tci5ta2V5X210eCk7Cj4gPiA+ID4gPiAtICAgICAgIHJldHVy
biBlcnI7Cj4gPiA+ID4gPiArICAgICAgIHZob3N0X2lvdGxiX2RlbF9yYW5nZShtdmRldi0+Y3Zx
LmlvdGxiLCAwVUxMLCAwVUxMIC0gMSk7Cj4gPiA+ID4KPiA+ID4gPiBJdCdzIGJldHRlciB0byB1
c2UgVUxMT05HX01BWC4KPiA+ID4gV2lsbCBjaGFuZ2UuCj4gPiA+Cj4gPiA+ID4KPiA+ID4gPiA+
ICAgIH0KPiA+ID4gPiA+ICAgIHN0YXRpYyB2b2lkIGRlc3Ryb3lfdXNlcl9tcihzdHJ1Y3QgbWx4
NV92ZHBhX2RldiAqbXZkZXYsIHN0cnVjdCBtbHg1X3ZkcGFfbXIgKm1yKQo+ID4gPiA+ID4gQEAg
LTUwMSw2ICs0OTksNyBAQCB2b2lkIG1seDVfdmRwYV9kZXN0cm95X21yKHN0cnVjdCBtbHg1X3Zk
cGFfZGV2ICptdmRldikKPiA+ID4gPiA+ICAgICAgICAgaWYgKCFtci0+aW5pdGlhbGl6ZWQpCj4g
PiA+ID4gPiAgICAgICAgICAgICAgICAgZ290byBvdXQ7Cj4gPiA+ID4gPiArICAgICAgIHBydW5l
X2lvdGxiKG12ZGV2KTsKPiA+ID4gPiA+ICAgICAgICAgaWYgKG1yLT51c2VyX21yKQo+ID4gPiA+
ID4gICAgICAgICAgICAgICAgIGRlc3Ryb3lfdXNlcl9tcihtdmRldiwgbXIpOwo+ID4gPiA+ID4g
ICAgICAgICBlbHNlCj4gPiA+ID4gPiBAQCAtNTEyLDYgKzUxMSw0OCBAQCB2b2lkIG1seDVfdmRw
YV9kZXN0cm95X21yKHN0cnVjdCBtbHg1X3ZkcGFfZGV2ICptdmRldikKPiA+ID4gPiA+ICAgICAg
ICAgbXV0ZXhfdW5sb2NrKCZtci0+bWtleV9tdHgpOwo+ID4gPiA+ID4gICAgfQo+ID4gPiA+ID4g
K3N0YXRpYyBpbnQgX21seDVfdmRwYV9jcmVhdGVfbXIoc3RydWN0IG1seDVfdmRwYV9kZXYgKm12
ZGV2LCBzdHJ1Y3Qgdmhvc3RfaW90bGIgKmlvdGxiKQo+ID4gPiA+ID4gK3sKPiA+ID4gPiA+ICsg
ICAgICAgc3RydWN0IG1seDVfdmRwYV9tciAqbXIgPSAmbXZkZXYtPm1yOwo+ID4gPiA+ID4gKyAg
ICAgICBpbnQgZXJyOwo+ID4gPiA+ID4gKwo+ID4gPiA+ID4gKyAgICAgICBpZiAobXItPmluaXRp
YWxpemVkKQo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgIHJldHVybiAwOwo+ID4gPiA+ID4gKwo+
ID4gPiA+ID4gKyAgICAgICBpZiAoaW90bGIpCj4gPiA+ID4gPiArICAgICAgICAgICAgICAgZXJy
ID0gY3JlYXRlX3VzZXJfbXIobXZkZXYsIGlvdGxiKTsKPiA+ID4gPiA+ICsgICAgICAgZWxzZQo+
ID4gPiA+ID4gKyAgICAgICAgICAgICAgIGVyciA9IGNyZWF0ZV9kbWFfbXIobXZkZXYsIG1yKTsK
PiA+ID4gPiA+ICsKPiA+ID4gPiA+ICsgICAgICAgaWYgKGVycikKPiA+ID4gPiA+ICsgICAgICAg
ICAgICAgICByZXR1cm4gZXJyOwo+ID4gPiA+ID4gKwo+ID4gPiA+ID4gKyAgICAgICBlcnIgPSBk
dXBfaW90bGIobXZkZXYsIGlvdGxiKTsKPiA+ID4gPiA+ICsgICAgICAgaWYgKGVycikKPiA+ID4g
PiA+ICsgICAgICAgICAgICAgICBnb3RvIG91dF9lcnI7Cj4gPiA+ID4gPiArCj4gPiA+ID4gPiAr
ICAgICAgIG1yLT5pbml0aWFsaXplZCA9IHRydWU7Cj4gPiA+ID4gPiArICAgICAgIHJldHVybiAw
Owo+ID4gPiA+ID4gKwo+ID4gPiA+ID4gK291dF9lcnI6Cj4gPiA+ID4gPiArICAgICAgIGlmIChp
b3RsYikKPiA+ID4gPiA+ICsgICAgICAgICAgICAgICBkZXN0cm95X3VzZXJfbXIobXZkZXYsIG1y
KTsKPiA+ID4gPiA+ICsgICAgICAgZWxzZQo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgIGRlc3Ry
b3lfZG1hX21yKG12ZGV2LCBtcik7Cj4gPiA+ID4gPiArCj4gPiA+ID4gPiArICAgICAgIHJldHVy
biBlcnI7Cj4gPiA+ID4gPiArfQo+ID4gPiA+ID4gKwo+ID4gPiA+ID4gK2ludCBtbHg1X3ZkcGFf
Y3JlYXRlX21yKHN0cnVjdCBtbHg1X3ZkcGFfZGV2ICptdmRldiwgc3RydWN0IHZob3N0X2lvdGxi
ICppb3RsYikKPiA+ID4gPiA+ICt7Cj4gPiA+ID4gPiArICAgICAgIGludCBlcnI7Cj4gPiA+ID4g
PiArCj4gPiA+ID4gPiArICAgICAgIG11dGV4X2xvY2soJm12ZGV2LT5tci5ta2V5X210eCk7Cj4g
PiA+ID4gPiArICAgICAgIGVyciA9IF9tbHg1X3ZkcGFfY3JlYXRlX21yKG12ZGV2LCBpb3RsYik7
Cj4gPiA+ID4gPiArICAgICAgIG11dGV4X3VubG9jaygmbXZkZXYtPm1yLm1rZXlfbXR4KTsKPiA+
ID4gPiA+ICsgICAgICAgcmV0dXJuIGVycjsKPiA+ID4gPiA+ICt9Cj4gPiA+ID4gPiArCj4gPiA+
ID4gPiAgICBpbnQgbWx4NV92ZHBhX2hhbmRsZV9zZXRfbWFwKHN0cnVjdCBtbHg1X3ZkcGFfZGV2
ICptdmRldiwgc3RydWN0IHZob3N0X2lvdGxiICppb3RsYiwKPiA+ID4gPiA+ICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgYm9vbCAqY2hhbmdlX21hcCkKPiA+ID4gPiA+ICAgIHsKPiA+ID4g
PiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL3ZkcGEvbWx4NS9jb3JlL3Jlc291cmNlcy5jIGIvZHJp
dmVycy92ZHBhL21seDUvY29yZS9yZXNvdXJjZXMuYwo+ID4gPiA+ID4gaW5kZXggZDQ2MDYyMTNm
ODhhLi5kMjRhZTFhODUxNTkgMTAwNjQ0Cj4gPiA+ID4gPiAtLS0gYS9kcml2ZXJzL3ZkcGEvbWx4
NS9jb3JlL3Jlc291cmNlcy5jCj4gPiA+ID4gPiArKysgYi9kcml2ZXJzL3ZkcGEvbWx4NS9jb3Jl
L3Jlc291cmNlcy5jCj4gPiA+ID4gPiBAQCAtMSw2ICsxLDcgQEAKPiA+ID4gPiA+ICAgIC8vIFNQ
RFgtTGljZW5zZS1JZGVudGlmaWVyOiBHUEwtMi4wIE9SIExpbnV4LU9wZW5JQgo+ID4gPiA+ID4g
ICAgLyogQ29weXJpZ2h0IChjKSAyMDIwIE1lbGxhbm94IFRlY2hub2xvZ2llcyBMdGQuICovCj4g
PiA+ID4gPiArI2luY2x1ZGUgPGxpbnV4L2lvdmEuaD4KPiA+ID4gPiA+ICAgICNpbmNsdWRlIDxs
aW51eC9tbHg1L2RyaXZlci5oPgo+ID4gPiA+ID4gICAgI2luY2x1ZGUgIm1seDVfdmRwYS5oIgo+
ID4gPiA+ID4gQEAgLTIyMSw2ICsyMjIsMjggQEAgaW50IG1seDVfdmRwYV9kZXN0cm95X21rZXko
c3RydWN0IG1seDVfdmRwYV9kZXYgKm12ZGV2LCBzdHJ1Y3QgbWx4NV9jb3JlX21rZXkgKm0KPiA+
ID4gPiA+ICAgICAgICAgcmV0dXJuIG1seDVfY21kX2V4ZWNfaW4obXZkZXYtPm1kZXYsIGRlc3Ry
b3lfbWtleSwgaW4pOwo+ID4gPiA+ID4gICAgfQo+ID4gPiA+ID4gK3N0YXRpYyBpbnQgaW5pdF9j
dHJsX3ZxKHN0cnVjdCBtbHg1X3ZkcGFfZGV2ICptdmRldikKPiA+ID4gPiA+ICt7Cj4gPiA+ID4g
PiArICAgICAgIGludCBlcnI7Cj4gPiA+ID4gPiArCj4gPiA+ID4gPiArICAgICAgIG12ZGV2LT5j
dnEuaW90bGIgPSB2aG9zdF9pb3RsYl9hbGxvYygwLCAwKTsKPiA+ID4gPiA+ICsgICAgICAgaWYg
KCFtdmRldi0+Y3ZxLmlvdGxiKQo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgIHJldHVybiAtRU5P
TUVNOwo+ID4gPiA+ID4gKwo+ID4gPiA+ID4gKyAgICAgICB2cmluZ2hfc2V0X2lvdGxiKCZtdmRl
di0+Y3ZxLnZyaW5nLCBtdmRldi0+Y3ZxLmlvdGxiLCAmbXZkZXYtPmN2cS5pb21tdV9sb2NrKTsK
PiA+ID4gPiA+ICsgICAgICAgZXJyID0gaW92YV9jYWNoZV9nZXQoKTsKPiA+ID4gPgo+ID4gPiA+
IEFueSByZWFzb24gZm9yIHVzaW5nIGlvdmEgY2FjaGUgaGVyZT8KPiA+ID4gSXNuJ3QgaXQgcmVx
dWlyZWQ/IEFyZW4ndCB3ZSBhbGxvY2F0aW5nIGJ1ZmZlcnMgZm9yIHRoZSBDVlEgZnJvbQo+ID4g
PiBpb21tdV9pb3ZhIGttZW0gY2FjaGU/Cj4gPgo+ID4KPiA+IEkgbWF5IG1pc3Mgc29tZXRoaW5n
IGhlcmUgYnV0IHdoaWNoIGJ1ZmZlciBkaWQgeW91IHJlZmVyIGhlcmU/Cj4gPgo+Cj4gQXJlbid0
IHRoZSBkYXRhIGJ1ZmZlcnMgZm9yIHRoZSBjb250cm9sIFZRIGFsbG9jYXRlZCBmcm9tIHRoaXMg
Y2FjaGU/Cj4KPiA+Cj4gPiA+Cj4gPiA+ID4KPiA+ID4gPiA+ICsgICAgICAgaWYgKGVycikKPiA+
ID4gPiA+ICsgICAgICAgICAgICAgICB2aG9zdF9pb3RsYl9mcmVlKG12ZGV2LT5jdnEuaW90bGIp
Owo+ID4gPiA+ID4gKwo+ID4gPiA+ID4gKyAgICAgICByZXR1cm4gZXJyOwo+ID4gPiA+ID4gK30K
PiA+ID4gPiA+ICsKPiA+ID4gPiA+ICtzdGF0aWMgdm9pZCBjbGVhbnVwX2N0cmxfdnEoc3RydWN0
IG1seDVfdmRwYV9kZXYgKm12ZGV2KQo+ID4gPiA+ID4gK3sKPiA+ID4gPiA+ICsgICAgICAgaW92
YV9jYWNoZV9wdXQoKTsKPiA+ID4gPiA+ICsgICAgICAgdmhvc3RfaW90bGJfZnJlZShtdmRldi0+
Y3ZxLmlvdGxiKTsKPiA+ID4gPiA+ICt9Cj4gPiA+ID4gPiArCj4gPiA+ID4gPiAgICBpbnQgbWx4
NV92ZHBhX2FsbG9jX3Jlc291cmNlcyhzdHJ1Y3QgbWx4NV92ZHBhX2RldiAqbXZkZXYpCj4gPiA+
ID4gPiAgICB7Cj4gPiA+ID4gPiAgICAgICAgIHU2NCBvZmZzZXQgPSBNTFg1X0NBUDY0X0RFVl9W
RFBBX0VNVUxBVElPTihtdmRldi0+bWRldiwgZG9vcmJlbGxfYmFyX29mZnNldCk7Cj4gPiA+ID4g
PiBAQCAtMjYwLDEwICsyODMsMTcgQEAgaW50IG1seDVfdmRwYV9hbGxvY19yZXNvdXJjZXMoc3Ry
dWN0IG1seDVfdmRwYV9kZXYgKm12ZGV2KQo+ID4gPiA+ID4gICAgICAgICAgICAgICAgIGVyciA9
IC1FTk9NRU07Cj4gPiA+ID4gPiAgICAgICAgICAgICAgICAgZ290byBlcnJfa2V5Owo+ID4gPiA+
ID4gICAgICAgICB9Cj4gPiA+ID4gPiArCj4gPiA+ID4gPiArICAgICAgIGVyciA9IGluaXRfY3Ry
bF92cShtdmRldik7Cj4gPiA+ID4gPiArICAgICAgIGlmIChlcnIpCj4gPiA+ID4gPiArICAgICAg
ICAgICAgICAgZ290byBlcnJfY3RybDsKPiA+ID4gPiA+ICsKPiA+ID4gPiA+ICAgICAgICAgcmVz
LT52YWxpZCA9IHRydWU7Cj4gPiA+ID4gPiAgICAgICAgIHJldHVybiAwOwo+ID4gPiA+ID4gK2Vy
cl9jdHJsOgo+ID4gPiA+ID4gKyAgICAgICBpb3VubWFwKHJlcy0+a2lja19hZGRyKTsKPiA+ID4g
PiA+ICAgIGVycl9rZXk6Cj4gPiA+ID4gPiAgICAgICAgIGRlYWxsb2NfcGQobXZkZXYsIHJlcy0+
cGRuLCByZXMtPnVpZCk7Cj4gPiA+ID4gPiAgICBlcnJfcGQ6Cj4gPiA+ID4gPiBAQCAtMjgyLDYg
KzMxMiw3IEBAIHZvaWQgbWx4NV92ZHBhX2ZyZWVfcmVzb3VyY2VzKHN0cnVjdCBtbHg1X3ZkcGFf
ZGV2ICptdmRldikKPiA+ID4gPiA+ICAgICAgICAgaWYgKCFyZXMtPnZhbGlkKQo+ID4gPiA+ID4g
ICAgICAgICAgICAgICAgIHJldHVybjsKPiA+ID4gPiA+ICsgICAgICAgY2xlYW51cF9jdHJsX3Zx
KG12ZGV2KTsKPiA+ID4gPiA+ICAgICAgICAgaW91bm1hcChyZXMtPmtpY2tfYWRkcik7Cj4gPiA+
ID4gPiAgICAgICAgIHJlcy0+a2lja19hZGRyID0gTlVMTDsKPiA+ID4gPiA+ICAgICAgICAgZGVh
bGxvY19wZChtdmRldiwgcmVzLT5wZG4sIHJlcy0+dWlkKTsKPiA+ID4gPiA+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL3ZkcGEvbWx4NS9uZXQvbWx4NV92bmV0LmMgYi9kcml2ZXJzL3ZkcGEvbWx4NS9u
ZXQvbWx4NV92bmV0LmMKPiA+ID4gPiA+IGluZGV4IDBmZTdjZDM3MGU0Yi4uZTE4NjY1NzgxMTM1
IDEwMDY0NAo+ID4gPiA+ID4gLS0tIGEvZHJpdmVycy92ZHBhL21seDUvbmV0L21seDVfdm5ldC5j
Cj4gPiA+ID4gPiArKysgYi9kcml2ZXJzL3ZkcGEvbWx4NS9uZXQvbWx4NV92bmV0LmMKPiA+ID4g
PiA+IEBAIC0xMzMsNyArMTMzLDcgQEAgc3RydWN0IG1seDVfdmRwYV92aXJ0cXVldWUgewo+ID4g
PiA+ID4gICAgLyogV2Ugd2lsbCByZW1vdmUgdGhpcyBsaW1pdGF0aW9uIG9uY2UgbWx4NV92ZHBh
X2FsbG9jX3Jlc291cmNlcygpCj4gPiA+ID4gPiAgICAgKiBwcm92aWRlcyBmb3IgZHJpdmVyIHNw
YWNlIGFsbG9jYXRpb24KPiA+ID4gPiA+ICAgICAqLwo+ID4gPiA+ID4gLSNkZWZpbmUgTUxYNV9N
QVhfU1VQUE9SVEVEX1ZRUyAxNgo+ID4gPiA+ID4gKyNkZWZpbmUgTUxYNV9NQVhfU1VQUE9SVEVE
X1ZRUyAyCj4gPiA+ID4gPiAgICBzdGF0aWMgYm9vbCBpc19pbmRleF92YWxpZChzdHJ1Y3QgbWx4
NV92ZHBhX2RldiAqbXZkZXYsIHUxNiBpZHgpCj4gPiA+ID4gPiAgICB7Cj4gPiA+ID4gPiBAQCAt
MTYwLDYgKzE2MCw3IEBAIHN0cnVjdCBtbHg1X3ZkcGFfbmV0IHsKPiA+ID4gPiA+ICAgICAgICAg
c3RydWN0IG1seDVfZmxvd19oYW5kbGUgKnJ4X3J1bGU7Cj4gPiA+ID4gPiAgICAgICAgIGJvb2wg
c2V0dXA7Cj4gPiA+ID4gPiAgICAgICAgIHUxNiBtdHU7Cj4gPiA+ID4gPiArICAgICAgIHUzMiBj
dXJfbnVtX3ZxczsKPiA+ID4gPiA+ICAgIH07Cj4gPiA+ID4gPiAgICBzdGF0aWMgdm9pZCBmcmVl
X3Jlc291cmNlcyhzdHJ1Y3QgbWx4NV92ZHBhX25ldCAqbmRldik7Cj4gPiA+ID4gPiBAQCAtMTY5
LDYgKzE3MCw4IEBAIHN0YXRpYyB2b2lkIHRlYXJkb3duX2RyaXZlcihzdHJ1Y3QgbWx4NV92ZHBh
X25ldCAqbmRldik7Cj4gPiA+ID4gPiAgICBzdGF0aWMgYm9vbCBtbHg1X3ZkcGFfZGVidWc7Cj4g
PiA+ID4gPiArI2RlZmluZSBNTFg1X0NWUV9NQVhfRU5UIDE2Cj4gPiA+ID4gPiArCj4gPiA+ID4g
PiAgICAjZGVmaW5lIE1MWDVfTE9HX1ZJT19GTEFHKF9mZWF0dXJlKSAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcCj4gPiA+ID4g
PiAgICAgICAgIGRvIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcCj4gPiA+ID4gPiAg
ICAgICAgICAgICAgICAgaWYgKGZlYXR1cmVzICYgQklUX1VMTChfZmVhdHVyZSkpICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcCj4gPiA+ID4gPiBAQCAt
MTg2LDYgKzE4OSwxNiBAQCBzdGF0aWMgaW5saW5lIHUzMiBtbHg1X3ZkcGFfbWF4X3FwcyhpbnQg
bWF4X3ZxcykKPiA+ID4gPiA+ICAgICAgICAgcmV0dXJuIG1heF92cXMgLyAyOwo+ID4gPiA+ID4g
ICAgfQo+ID4gPiA+ID4gK3N0YXRpYyB1MTYgY3RybF92cV9pZHgoc3RydWN0IG1seDVfdmRwYV9k
ZXYgKm12ZGV2KQo+ID4gPiA+ID4gK3sKPiA+ID4gPiA+ICsgICAgICAgcmV0dXJuIDIgKiBtbHg1
X3ZkcGFfbWF4X3FwcyhtdmRldi0+bWF4X3Zxcyk7Cj4gPiA+ID4gPiArfQo+ID4gPiA+ID4gKwo+
ID4gPiA+ID4gK3N0YXRpYyBib29sIGlzX2N0cmxfdnFfaWR4KHN0cnVjdCBtbHg1X3ZkcGFfZGV2
ICptdmRldiwgdTE2IGlkeCkKPiA+ID4gPiA+ICt7Cj4gPiA+ID4gPiArICAgICAgIHJldHVybiBp
ZHggPT0gY3RybF92cV9pZHgobXZkZXYpOwo+ID4gPiA+ID4gK30KPiA+ID4gPiA+ICsKPiA+ID4g
PiA+ICAgIHN0YXRpYyB2b2lkIHByaW50X3N0YXR1cyhzdHJ1Y3QgbWx4NV92ZHBhX2RldiAqbXZk
ZXYsIHU4IHN0YXR1cywgYm9vbCBzZXQpCj4gPiA+ID4gPiAgICB7Cj4gPiA+ID4gPiAgICAgICAg
IGlmIChzdGF0dXMgJiB+VkFMSURfU1RBVFVTX01BU0spCj4gPiA+ID4gPiBAQCAtMTM1OSwxNSAr
MTM3MiwxMzIgQEAgc3RhdGljIHZvaWQgcmVtb3ZlX2Z3ZF90b190aXIoc3RydWN0IG1seDVfdmRw
YV9uZXQgKm5kZXYpCj4gPiA+ID4gPiAgICAgICAgIG5kZXYtPnJ4X3J1bGUgPSBOVUxMOwo+ID4g
PiA+ID4gICAgfQo+ID4gPiA+ID4gK3ZpcnRpb19uZXRfY3RybF9hY2sgaGFuZGxlX2N0cmxfbWFj
KHN0cnVjdCBtbHg1X3ZkcGFfZGV2ICptdmRldiwgdTggY21kKQo+ID4gPiA+ID4gK3sKPiA+ID4g
PiA+ICsgICAgICAgc3RydWN0IG1seDVfdmRwYV9uZXQgKm5kZXYgPSB0b19tbHg1X3ZkcGFfbmRl
dihtdmRldik7Cj4gPiA+ID4gPiArICAgICAgIHN0cnVjdCBtbHg1X2NvbnRyb2xfdnEgKmN2cSA9
ICZtdmRldi0+Y3ZxOwo+ID4gPiA+ID4gKyAgICAgICB2aXJ0aW9fbmV0X2N0cmxfYWNrIHN0YXR1
cyA9IFZJUlRJT19ORVRfRVJSOwo+ID4gPiA+ID4gKyAgICAgICBzdHJ1Y3QgbWx4NV9jb3JlX2Rl
diAqcGZtZGV2Owo+ID4gPiA+ID4gKyAgICAgICBzaXplX3QgcmVhZDsKPiA+ID4gPiA+ICsgICAg
ICAgdTggbWFjW0VUSF9BTEVOXTsKPiA+ID4gPiA+ICsKPiA+ID4gPiA+ICsgICAgICAgcGZtZGV2
ID0gcGNpX2dldF9kcnZkYXRhKHBjaV9waHlzZm4obXZkZXYtPm1kZXYtPnBkZXYpKTsKPiA+ID4g
PiA+ICsgICAgICAgc3dpdGNoIChjbWQpIHsKPiA+ID4gPiA+ICsgICAgICAgY2FzZSBWSVJUSU9f
TkVUX0NUUkxfTUFDX0FERFJfU0VUOgo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgIHJlYWQgPSB2
cmluZ2hfaW92X3B1bGxfaW90bGIoJmN2cS0+dnJpbmcsICZjdnEtPnJpb3YsICh2b2lkICopbWFj
LCBFVEhfQUxFTik7Cj4gPiA+ID4gPiArICAgICAgICAgICAgICAgaWYgKHJlYWQgIT0gRVRIX0FM
RU4pCj4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKPiA+ID4gPiA+ICsK
PiA+ID4gPiA+ICsgICAgICAgICAgICAgICBpZiAoIW1lbWNtcChuZGV2LT5jb25maWcubWFjLCBt
YWMsIDYpKSB7Cj4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXMgPSBWSVJU
SU9fTkVUX09LOwo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7Cj4gPiA+
ID4gPiArICAgICAgICAgICAgICAgfQo+ID4gPiA+ID4gKwo+ID4gPiA+ID4gKyAgICAgICAgICAg
ICAgIGlmICghaXNfemVyb19ldGhlcl9hZGRyKG5kZXYtPmNvbmZpZy5tYWMpKSB7Cj4gPiA+ID4g
PiArICAgICAgICAgICAgICAgICAgICAgICBpZiAobWx4NV9tcGZzX2RlbF9tYWMocGZtZGV2LCBu
ZGV2LT5jb25maWcubWFjKSkgewo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBtbHg1X3ZkcGFfd2FybihtdmRldiwgImZhaWxlZCB0byBkZWxldGUgb2xkIE1BQyAlcE0g
ZnJvbSBNUEZTIHRhYmxlXG4iLAo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBuZGV2LT5jb25maWcubWFjKTsKPiA+ID4gPiA+ICsgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7Cj4gPiA+ID4gPiArICAgICAgICAgICAgICAg
ICAgICAgICB9Cj4gPiA+ID4gPiArICAgICAgICAgICAgICAgfQo+ID4gPiA+ID4gKwo+ID4gPiA+
ID4gKyAgICAgICAgICAgICAgIGlmIChtbHg1X21wZnNfYWRkX21hYyhwZm1kZXYsIG1hYykpIHsK
PiA+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgIG1seDVfdmRwYV93YXJuKG12ZGV2LCAi
ZmFpbGVkIHRvIGluc2VydCBuZXcgTUFDICVwTSBpbnRvIE1QRlMgdGFibGVcbiIsCj4gPiA+ID4g
PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWMpOwo+ID4gPiA+ID4g
KyAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7Cj4gPiA+ID4gPiArICAgICAgICAgICAgICAg
fQo+ID4gPiA+ID4gKwo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgIG1lbWNweShuZGV2LT5jb25m
aWcubWFjLCBtYWMsIEVUSF9BTEVOKTsKPiA+ID4gPiA+ICsgICAgICAgICAgICAgICBzdGF0dXMg
PSBWSVJUSU9fTkVUX09LOwo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgIGJyZWFrOwo+ID4gPiA+
ID4gKwo+ID4gPiA+ID4gKyAgICAgICBkZWZhdWx0Ogo+ID4gPiA+ID4gKyAgICAgICAgICAgICAg
IGJyZWFrOwo+ID4gPiA+ID4gKyAgICAgICB9Cj4gPiA+ID4gPiArCj4gPiA+ID4gPiArICAgICAg
IHJldHVybiBzdGF0dXM7Cj4gPiA+ID4gPiArfQo+ID4gPiA+ID4gKwo+ID4gPiA+ID4gK3N0YXRp
YyB2b2lkIG1seDVfY3ZxX2tpY2tfaGFuZGxlcihzdHJ1Y3Qgd29ya19zdHJ1Y3QgKndvcmspCj4g
PiA+ID4gPiArewo+ID4gPiA+ID4gKyAgICAgICB2aXJ0aW9fbmV0X2N0cmxfYWNrIHN0YXR1cyA9
IFZJUlRJT19ORVRfRVJSOwo+ID4gPiA+ID4gKyAgICAgICBzdHJ1Y3QgdmlydGlvX25ldF9jdHJs
X2hkciBjdHJsOwo+ID4gPiA+ID4gKyAgICAgICBzdHJ1Y3QgbWx4NV9jdHJsX3dxX2VudCAqd3Fl
bnQ7Cj4gPiA+ID4gPiArICAgICAgIHN0cnVjdCBtbHg1X3ZkcGFfZGV2ICptdmRldjsKPiA+ID4g
PiA+ICsgICAgICAgc3RydWN0IG1seDVfY29udHJvbF92cSAqY3ZxOwo+ID4gPiA+ID4gKyAgICAg
ICBzdHJ1Y3QgbWx4NV92ZHBhX25ldCAqbmRldjsKPiA+ID4gPiA+ICsgICAgICAgc2l6ZV90IHJl
YWQsIHdyaXRlOwo+ID4gPiA+ID4gKyAgICAgICBpbnQgZXJyOwo+ID4gPiA+ID4gKwo+ID4gPiA+
ID4gKyAgICAgICB3cWVudCA9IGNvbnRhaW5lcl9vZih3b3JrLCBzdHJ1Y3QgbWx4NV9jdHJsX3dx
X2VudCwgd29yayk7Cj4gPiA+ID4gPiArICAgICAgIG12ZGV2ID0gd3FlbnQtPm12ZGV2Owo+ID4g
PiA+ID4gKyAgICAgICBuZGV2ID0gdG9fbWx4NV92ZHBhX25kZXYobXZkZXYpOwo+ID4gPiA+ID4g
KyAgICAgICBjdnEgPSAmbXZkZXYtPmN2cTsKPiA+ID4gPiA+ICsgICAgICAgaWYgKCEobmRldi0+
bXZkZXYuYWN0dWFsX2ZlYXR1cmVzICYgQklUX1VMTChWSVJUSU9fTkVUX0ZfQ1RSTF9WUSkpKQo+
ID4gPiA+ID4gKyAgICAgICAgICAgICAgIGdvdG8gb3V0Owo+ID4gPiA+ID4gKwo+ID4gPiA+ID4g
KyAgICAgICBpZiAoIWN2cS0+cmVhZHkpCj4gPiA+ID4gPiArICAgICAgICAgICAgICAgZ290byBv
dXQ7Cj4gPiA+ID4gPiArCj4gPiA+ID4gPiArICAgICAgIHdoaWxlICh0cnVlKSB7Cj4gPiA+ID4g
PiArICAgICAgICAgICAgICAgZXJyID0gdnJpbmdoX2dldGRlc2NfaW90bGIoJmN2cS0+dnJpbmcs
ICZjdnEtPnJpb3YsICZjdnEtPndpb3YsICZjdnEtPmhlYWQsCj4gPiA+ID4gPiArICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR0ZQX0FUT01JQyk7Cj4gPiA+ID4gPiAr
ICAgICAgICAgICAgICAgaWYgKGVyciA8PSAwKQo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAg
ICAgICAgYnJlYWs7Cj4gPiA+ID4gPiArCj4gPiA+ID4gPiArICAgICAgICAgICAgICAgcmVhZCA9
IHZyaW5naF9pb3ZfcHVsbF9pb3RsYigmY3ZxLT52cmluZywgJmN2cS0+cmlvdiwgJmN0cmwsIHNp
emVvZihjdHJsKSk7Cj4gPiA+ID4gPiArICAgICAgICAgICAgICAgaWYgKHJlYWQgIT0gc2l6ZW9m
KGN0cmwpKQo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7Cj4gPiA+ID4g
PiArCj4gPiA+ID4gPiArICAgICAgICAgICAgICAgc3dpdGNoIChjdHJsLmNsYXNzKSB7Cj4gPiA+
ID4gPiArICAgICAgICAgICAgICAgY2FzZSBWSVJUSU9fTkVUX0NUUkxfTUFDOgo+ID4gPiA+ID4g
KyAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzID0gaGFuZGxlX2N0cmxfbWFjKG12ZGV2LCBj
dHJsLmNtZCk7Cj4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKPiA+ID4g
PiA+ICsKPiA+ID4gPiA+ICsgICAgICAgICAgICAgICBkZWZhdWx0Ogo+ID4gPiA+ID4gKyAgICAg
ICAgICAgICAgICAgICAgICAgYnJlYWs7Cj4gPiA+ID4gPiArICAgICAgICAgICAgICAgfQo+ID4g
PiA+ID4gKwo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgIC8qIE1ha2Ugc3VyZSBkYXRhIGlzIHdy
aXR0ZW4gYmVmb3JlIGFkdmFuY2luZyBpbmRleCAqLwo+ID4gPiA+ID4gKyAgICAgICAgICAgICAg
IHNtcF93bWIoKTsKPiA+ID4gPiA+ICsKPiA+ID4gPiA+ICsgICAgICAgICAgICAgICB3cml0ZSA9
IHZyaW5naF9pb3ZfcHVzaF9pb3RsYigmY3ZxLT52cmluZywgJmN2cS0+d2lvdiwgJnN0YXR1cywg
c2l6ZW9mKHN0YXR1cykpOwo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgIHZyaW5naF9jb21wbGV0
ZV9pb3RsYigmY3ZxLT52cmluZywgY3ZxLT5oZWFkLCB3cml0ZSk7Cj4gPiA+ID4gPiArICAgICAg
ICAgICAgICAgdnJpbmdoX2tpb3ZfY2xlYW51cCgmY3ZxLT5yaW92KTsKPiA+ID4gPiA+ICsgICAg
ICAgICAgICAgICB2cmluZ2hfa2lvdl9jbGVhbnVwKCZjdnEtPndpb3YpOwo+ID4gPiA+ID4gKwo+
ID4gPiA+ID4gKyAgICAgICAgICAgICAgIGlmICh2cmluZ2hfbmVlZF9ub3RpZnlfaW90bGIoJmN2
cS0+dnJpbmcpKQo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgdnJpbmdoX25vdGlm
eSgmY3ZxLT52cmluZyk7Cj4gPiA+ID4gPiArICAgICAgIH0KPiA+ID4gPiA+ICtvdXQ6Cj4gPiA+
ID4gPiArICAgICAgIGtmcmVlKHdxZW50KTsKPiA+ID4gPiA+ICt9Cj4gPiA+ID4gPiArCj4gPiA+
ID4gPiAgICBzdGF0aWMgdm9pZCBtbHg1X3ZkcGFfa2lja192cShzdHJ1Y3QgdmRwYV9kZXZpY2Ug
KnZkZXYsIHUxNiBpZHgpCj4gPiA+ID4gPiAgICB7Cj4gPiA+ID4gPiAgICAgICAgIHN0cnVjdCBt
bHg1X3ZkcGFfZGV2ICptdmRldiA9IHRvX212ZGV2KHZkZXYpOwo+ID4gPiA+ID4gICAgICAgICBz
dHJ1Y3QgbWx4NV92ZHBhX25ldCAqbmRldiA9IHRvX21seDVfdmRwYV9uZGV2KG12ZGV2KTsKPiA+
ID4gPiA+IC0gICAgICAgc3RydWN0IG1seDVfdmRwYV92aXJ0cXVldWUgKm12cSA9ICZuZGV2LT52
cXNbaWR4XTsKPiA+ID4gPiA+ICsgICAgICAgc3RydWN0IG1seDVfdmRwYV92aXJ0cXVldWUgKm12
cTsKPiA+ID4gPiA+ICsgICAgICAgc3RydWN0IG1seDVfY3RybF93cV9lbnQgKndxZW50Owo+ID4g
PiA+ID4gICAgICAgICBpZiAoIWlzX2luZGV4X3ZhbGlkKG12ZGV2LCBpZHgpKQo+ID4gPiA+ID4g
ICAgICAgICAgICAgICAgIHJldHVybjsKPiA+ID4gPiA+ICsgICAgICAgaWYgKHVubGlrZWx5KGlz
X2N0cmxfdnFfaWR4KG12ZGV2LCBpZHgpKSkgewo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgIGlm
ICghbXZkZXYtPmN2cS5yZWFkeSkKPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgIHJl
dHVybjsKPiA+ID4gPiA+ICsKPiA+ID4gPiA+ICsgICAgICAgICAgICAgICB3cWVudCA9IGt6YWxs
b2Moc2l6ZW9mKCp3cWVudCksIEdGUF9BVE9NSUMpOwo+ID4gPiA+ID4gKyAgICAgICAgICAgICAg
IGlmICghd3FlbnQpCj4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47Cj4g
PiA+ID4gPiArCj4gPiA+ID4gPiArICAgICAgICAgICAgICAgd3FlbnQtPm12ZGV2ID0gbXZkZXY7
Cj4gPiA+ID4gPiArICAgICAgICAgICAgICAgSU5JVF9XT1JLKCZ3cWVudC0+d29yaywgbWx4NV9j
dnFfa2lja19oYW5kbGVyKTsKPiA+ID4gPiA+ICsgICAgICAgICAgICAgICBxdWV1ZV93b3JrKG12
ZGV2LT53cSwgJndxZW50LT53b3JrKTsKPiA+ID4gPiA+ICsgICAgICAgICAgICAgICByZXR1cm47
Cj4gPiA+ID4gPiArICAgICAgIH0KPiA+ID4gPiA+ICsKPiA+ID4gPiA+ICsgICAgICAgbXZxID0g
Jm5kZXYtPnZxc1tpZHhdOwo+ID4gPiA+ID4gICAgICAgICBpZiAodW5saWtlbHkoIW12cS0+cmVh
ZHkpKQo+ID4gPiA+ID4gICAgICAgICAgICAgICAgIHJldHVybjsKPiA+ID4gPiA+IEBAIC0xMzc5
LDExICsxNTA5LDE5IEBAIHN0YXRpYyBpbnQgbWx4NV92ZHBhX3NldF92cV9hZGRyZXNzKHN0cnVj
dCB2ZHBhX2RldmljZSAqdmRldiwgdTE2IGlkeCwgdTY0IGRlc2NfCj4gPiA+ID4gPiAgICB7Cj4g
PiA+ID4gPiAgICAgICAgIHN0cnVjdCBtbHg1X3ZkcGFfZGV2ICptdmRldiA9IHRvX212ZGV2KHZk
ZXYpOwo+ID4gPiA+ID4gICAgICAgICBzdHJ1Y3QgbWx4NV92ZHBhX25ldCAqbmRldiA9IHRvX21s
eDVfdmRwYV9uZGV2KG12ZGV2KTsKPiA+ID4gPiA+IC0gICAgICAgc3RydWN0IG1seDVfdmRwYV92
aXJ0cXVldWUgKm12cSA9ICZuZGV2LT52cXNbaWR4XTsKPiA+ID4gPiA+ICsgICAgICAgc3RydWN0
IG1seDVfdmRwYV92aXJ0cXVldWUgKm12cTsKPiA+ID4gPiA+ICAgICAgICAgaWYgKCFpc19pbmRl
eF92YWxpZChtdmRldiwgaWR4KSkKPiA+ID4gPiA+ICAgICAgICAgICAgICAgICByZXR1cm4gLUVJ
TlZBTDsKPiA+ID4gPiA+ICsgICAgICAgaWYgKGlzX2N0cmxfdnFfaWR4KG12ZGV2LCBpZHgpKSB7
Cj4gPiA+ID4gPiArICAgICAgICAgICAgICAgbXZkZXYtPmN2cS5kZXNjX2FkZHIgPSBkZXNjX2Fy
ZWE7Cj4gPiA+ID4gPiArICAgICAgICAgICAgICAgbXZkZXYtPmN2cS5kZXZpY2VfYWRkciA9IGRl
dmljZV9hcmVhOwo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgIG12ZGV2LT5jdnEuZHJpdmVyX2Fk
ZHIgPSBkcml2ZXJfYXJlYTsKPiA+ID4gPiA+ICsgICAgICAgICAgICAgICByZXR1cm4gMDsKPiA+
ID4gPiA+ICsgICAgICAgfQo+ID4gPiA+ID4gKwo+ID4gPiA+ID4gKyAgICAgICBtdnEgPSAmbmRl
di0+dnFzW2lkeF07Cj4gPiA+ID4gPiAgICAgICAgIG12cS0+ZGVzY19hZGRyID0gZGVzY19hcmVh
Owo+ID4gPiA+ID4gICAgICAgICBtdnEtPmRldmljZV9hZGRyID0gZGV2aWNlX2FyZWE7Cj4gPiA+
ID4gPiAgICAgICAgIG12cS0+ZHJpdmVyX2FkZHIgPSBkcml2ZXJfYXJlYTsKPiA+ID4gPiA+IEBA
IC0xMzk2LDcgKzE1MzQsNyBAQCBzdGF0aWMgdm9pZCBtbHg1X3ZkcGFfc2V0X3ZxX251bShzdHJ1
Y3QgdmRwYV9kZXZpY2UgKnZkZXYsIHUxNiBpZHgsIHUzMiBudW0pCj4gPiA+ID4gPiAgICAgICAg
IHN0cnVjdCBtbHg1X3ZkcGFfbmV0ICpuZGV2ID0gdG9fbWx4NV92ZHBhX25kZXYobXZkZXYpOwo+
ID4gPiA+ID4gICAgICAgICBzdHJ1Y3QgbWx4NV92ZHBhX3ZpcnRxdWV1ZSAqbXZxOwo+ID4gPiA+
ID4gLSAgICAgICBpZiAoIWlzX2luZGV4X3ZhbGlkKG12ZGV2LCBpZHgpKQo+ID4gPiA+ID4gKyAg
ICAgICBpZiAoIWlzX2luZGV4X3ZhbGlkKG12ZGV2LCBpZHgpIHx8IGlzX2N0cmxfdnFfaWR4KG12
ZGV2LCBpZHgpKQo+ID4gPiA+ID4gICAgICAgICAgICAgICAgIHJldHVybjsKPiA+ID4gPiA+ICAg
ICAgICAgbXZxID0gJm5kZXYtPnZxc1tpZHhdOwo+ID4gPiA+ID4gQEAgLTE0MTEsMTUgKzE1NDks
NDIgQEAgc3RhdGljIHZvaWQgbWx4NV92ZHBhX3NldF92cV9jYihzdHJ1Y3QgdmRwYV9kZXZpY2Ug
KnZkZXYsIHUxNiBpZHgsIHN0cnVjdCB2ZHBhX2MKPiA+ID4gPiA+ICAgICAgICAgbmRldi0+ZXZl
bnRfY2JzW2lkeF0gPSAqY2I7Cj4gPiA+ID4gPiAgICB9Cj4gPiA+ID4gPiArc3RhdGljIHZvaWQg
bWx4NV9jdnFfbm90aWZ5KHN0cnVjdCB2cmluZ2ggKnZyaW5nKQo+ID4gPiA+ID4gK3sKPiA+ID4g
PiA+ICsgICAgICAgc3RydWN0IG1seDVfY29udHJvbF92cSAqY3ZxID0gY29udGFpbmVyX29mKHZy
aW5nLCBzdHJ1Y3QgbWx4NV9jb250cm9sX3ZxLCB2cmluZyk7Cj4gPiA+ID4gPiArCj4gPiA+ID4g
PiArICAgICAgIGlmICghY3ZxLT5ldmVudF9jYi5jYWxsYmFjaykKPiA+ID4gPiA+ICsgICAgICAg
ICAgICAgICByZXR1cm47Cj4gPiA+ID4gPiArCj4gPiA+ID4gPiArICAgICAgIGN2cS0+ZXZlbnRf
Y2IuY2FsbGJhY2soY3ZxLT5ldmVudF9jYi5wcml2YXRlKTsKPiA+ID4gPiA+ICt9Cj4gPiA+ID4g
PiArCj4gPiA+ID4gPiArc3RhdGljIHZvaWQgc2V0X2N2cV9yZWFkeShzdHJ1Y3QgbWx4NV92ZHBh
X2RldiAqbXZkZXYsIGJvb2wgcmVhZHkpCj4gPiA+ID4gPiArewo+ID4gPiA+ID4gKyAgICAgICBz
dHJ1Y3QgbWx4NV9jb250cm9sX3ZxICpjdnEgPSAmbXZkZXYtPmN2cTsKPiA+ID4gPiA+ICsKPiA+
ID4gPiA+ICsgICAgICAgY3ZxLT5yZWFkeSA9IHJlYWR5Owo+ID4gPiA+ID4gKyAgICAgICBpZiAo
IXJlYWR5KQo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgIHJldHVybjsKPiA+ID4gPiA+ICsKPiA+
ID4gPiA+ICsgICAgICAgY3ZxLT52cmluZy5ub3RpZnkgPSBtbHg1X2N2cV9ub3RpZnk7Cj4gPiA+
ID4gPiArfQo+ID4gPiA+ID4gKwo+ID4gPiA+ID4gICAgc3RhdGljIHZvaWQgbWx4NV92ZHBhX3Nl
dF92cV9yZWFkeShzdHJ1Y3QgdmRwYV9kZXZpY2UgKnZkZXYsIHUxNiBpZHgsIGJvb2wgcmVhZHkp
Cj4gPiA+ID4gPiAgICB7Cj4gPiA+ID4gPiAgICAgICAgIHN0cnVjdCBtbHg1X3ZkcGFfZGV2ICpt
dmRldiA9IHRvX212ZGV2KHZkZXYpOwo+ID4gPiA+ID4gICAgICAgICBzdHJ1Y3QgbWx4NV92ZHBh
X25ldCAqbmRldiA9IHRvX21seDVfdmRwYV9uZGV2KG12ZGV2KTsKPiA+ID4gPiA+IC0gICAgICAg
c3RydWN0IG1seDVfdmRwYV92aXJ0cXVldWUgKm12cSA9ICZuZGV2LT52cXNbaWR4XTsKPiA+ID4g
PiA+ICsgICAgICAgc3RydWN0IG1seDVfdmRwYV92aXJ0cXVldWUgKm12cTsKPiA+ID4gPiA+ICAg
ICAgICAgaWYgKCFpc19pbmRleF92YWxpZChtdmRldiwgaWR4KSkKPiA+ID4gPiA+ICAgICAgICAg
ICAgICAgICByZXR1cm47Cj4gPiA+ID4gPiArICAgICAgIGlmIChpc19jdHJsX3ZxX2lkeChtdmRl
diwgaWR4KSkgewo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgIHNldF9jdnFfcmVhZHkobXZkZXYs
IHJlYWR5KTsKPiA+ID4gPiA+ICsgICAgICAgICAgICAgICByZXR1cm47Cj4gPiA+ID4gPiArICAg
ICAgIH0KPiA+ID4gPiA+ICsKPiA+ID4gPiA+ICsgICAgICAgbXZxID0gJm5kZXYtPnZxc1tpZHhd
Owo+ID4gPiA+ID4gICAgICAgICBpZiAoIXJlYWR5KQo+ID4gPiA+ID4gICAgICAgICAgICAgICAg
IHN1c3BlbmRfdnEobmRldiwgbXZxKTsKPiA+ID4gPiA+IEBAIC0xNDMwLDEyICsxNTk1LDE0IEBA
IHN0YXRpYyBib29sIG1seDVfdmRwYV9nZXRfdnFfcmVhZHkoc3RydWN0IHZkcGFfZGV2aWNlICp2
ZGV2LCB1MTYgaWR4KQo+ID4gPiA+ID4gICAgewo+ID4gPiA+ID4gICAgICAgICBzdHJ1Y3QgbWx4
NV92ZHBhX2RldiAqbXZkZXYgPSB0b19tdmRldih2ZGV2KTsKPiA+ID4gPiA+ICAgICAgICAgc3Ry
dWN0IG1seDVfdmRwYV9uZXQgKm5kZXYgPSB0b19tbHg1X3ZkcGFfbmRldihtdmRldik7Cj4gPiA+
ID4gPiAtICAgICAgIHN0cnVjdCBtbHg1X3ZkcGFfdmlydHF1ZXVlICptdnEgPSAmbmRldi0+dnFz
W2lkeF07Cj4gPiA+ID4gPiAgICAgICAgIGlmICghaXNfaW5kZXhfdmFsaWQobXZkZXYsIGlkeCkp
Cj4gPiA+ID4gPiAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwo+ID4gPiA+ID4gLSAgICAg
ICByZXR1cm4gbXZxLT5yZWFkeTsKPiA+ID4gPiA+ICsgICAgICAgaWYgKGlzX2N0cmxfdnFfaWR4
KG12ZGV2LCBpZHgpKQo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgIHJldHVybiBtdmRldi0+Y3Zx
LnJlYWR5Owo+ID4gPiA+ID4gKwo+ID4gPiA+ID4gKyAgICAgICByZXR1cm4gbmRldi0+dnFzW2lk
eF0ucmVhZHk7Cj4gPiA+ID4gPiAgICB9Cj4gPiA+ID4gPiAgICBzdGF0aWMgaW50IG1seDVfdmRw
YV9zZXRfdnFfc3RhdGUoc3RydWN0IHZkcGFfZGV2aWNlICp2ZGV2LCB1MTYgaWR4LAo+ID4gPiA+
ID4gQEAgLTE0NDMsMTEgKzE2MTAsMTcgQEAgc3RhdGljIGludCBtbHg1X3ZkcGFfc2V0X3ZxX3N0
YXRlKHN0cnVjdCB2ZHBhX2RldmljZSAqdmRldiwgdTE2IGlkeCwKPiA+ID4gPiA+ICAgIHsKPiA+
ID4gPiA+ICAgICAgICAgc3RydWN0IG1seDVfdmRwYV9kZXYgKm12ZGV2ID0gdG9fbXZkZXYodmRl
dik7Cj4gPiA+ID4gPiAgICAgICAgIHN0cnVjdCBtbHg1X3ZkcGFfbmV0ICpuZGV2ID0gdG9fbWx4
NV92ZHBhX25kZXYobXZkZXYpOwo+ID4gPiA+ID4gLSAgICAgICBzdHJ1Y3QgbWx4NV92ZHBhX3Zp
cnRxdWV1ZSAqbXZxID0gJm5kZXYtPnZxc1tpZHhdOwo+ID4gPiA+ID4gKyAgICAgICBzdHJ1Y3Qg
bWx4NV92ZHBhX3ZpcnRxdWV1ZSAqbXZxOwo+ID4gPiA+ID4gICAgICAgICBpZiAoIWlzX2luZGV4
X3ZhbGlkKG12ZGV2LCBpZHgpKQo+ID4gPiA+ID4gICAgICAgICAgICAgICAgIHJldHVybiAtRUlO
VkFMOwo+ID4gPiA+ID4gKyAgICAgICBpZiAoaXNfY3RybF92cV9pZHgobXZkZXYsIGlkeCkpIHsK
PiA+ID4gPiA+ICsgICAgICAgICAgICAgICBtdmRldi0+Y3ZxLnZyaW5nLmxhc3RfYXZhaWxfaWR4
ID0gc3RhdGUtPnNwbGl0LmF2YWlsX2luZGV4Owo+ID4gPiA+Cj4gPiA+ID4gUXVlc3Rpb24sIGlz
IHBhY2tlZCB2aXJ0cXVldWUgc3VwcG9ydGVkIGJ5IGN1cnJlbnQgbWx4NWU/Cj4gPiA+ID4KPiA+
ID4gPiBJZiBubywgdGhpcyBpcyBmaW5lLgo+ID4gPiBXZSBkb24ndC4gVGhlIGhhcmR3YXJlIG1p
Z2h0IHN1cHBvcnQgYnV0IHRoZSBkZXZpY2UgZHJpdmVyIGRvZXMgbm90Cj4gPiA+IGFkdmVydGlz
ZSBwYWNrZWQgdmlydHF1ZXVlIHN1cHBvcnQuCj4gPgo+ID4KPiA+IEdvb2QgdG8ga25vdyB0aGlz
LiBTbyB3ZSdyZSBmaW5lLgo+ID4KPiA+IFRoYW5rcwo+ID4KPiA+Cj4gPiA+Cj4gPiA+ID4gSWYg
eWVzLCB3ZSBzaG91bGQgZGlzYWJsZSBwYWNrZWQgYW5kIHJlLWVuYWJsZSBpdCBhZnRlciB2cmlu
Z2ggc3VwcG9ydHMKPiA+ID4gPiBwYWNrZWQgdmlydHF1ZXVlLgo+ID4gPiA+Cj4gPiA+ID4gT3Ro
ZXIgbG9va3MgZ29vZC4KPiA+ID4gPgo+ID4gPiA+IFRoYW5rcwo+ID4gPiA+Cj4gPiA+ID4KPiA+
ID4gPiA+ICsgICAgICAgICAgICAgICByZXR1cm4gMDsKPiA+ID4gPiA+ICsgICAgICAgfQo+ID4g
PiA+ID4gKwo+ID4gPiA+ID4gKyAgICAgICBtdnEgPSAmbmRldi0+dnFzW2lkeF07Cj4gPiA+ID4g
PiAgICAgICAgIGlmIChtdnEtPmZ3X3N0YXRlID09IE1MWDVfVklSVElPX05FVF9RX09CSkVDVF9T
VEFURV9SRFkpIHsKPiA+ID4gPiA+ICAgICAgICAgICAgICAgICBtbHg1X3ZkcGFfd2FybihtdmRl
diwgImNhbid0IG1vZGlmeSBhdmFpbGFibGUgaW5kZXhcbiIpOwo+ID4gPiA+ID4gICAgICAgICAg
ICAgICAgIHJldHVybiAtRUlOVkFMOwo+ID4gPiA+ID4gQEAgLTE0NjIsMTMgKzE2MzUsMTkgQEAg
c3RhdGljIGludCBtbHg1X3ZkcGFfZ2V0X3ZxX3N0YXRlKHN0cnVjdCB2ZHBhX2RldmljZSAqdmRl
diwgdTE2IGlkeCwgc3RydWN0IHZkcGEKPiA+ID4gPiA+ICAgIHsKPiA+ID4gPiA+ICAgICAgICAg
c3RydWN0IG1seDVfdmRwYV9kZXYgKm12ZGV2ID0gdG9fbXZkZXYodmRldik7Cj4gPiA+ID4gPiAg
ICAgICAgIHN0cnVjdCBtbHg1X3ZkcGFfbmV0ICpuZGV2ID0gdG9fbWx4NV92ZHBhX25kZXYobXZk
ZXYpOwo+ID4gPiA+ID4gLSAgICAgICBzdHJ1Y3QgbWx4NV92ZHBhX3ZpcnRxdWV1ZSAqbXZxID0g
Jm5kZXYtPnZxc1tpZHhdOwo+ID4gPiA+ID4gKyAgICAgICBzdHJ1Y3QgbWx4NV92ZHBhX3ZpcnRx
dWV1ZSAqbXZxOwo+ID4gPiA+ID4gICAgICAgICBzdHJ1Y3QgbWx4NV92aXJ0cV9hdHRyIGF0dHI7
Cj4gPiA+ID4gPiAgICAgICAgIGludCBlcnI7Cj4gPiA+ID4gPiAgICAgICAgIGlmICghaXNfaW5k
ZXhfdmFsaWQobXZkZXYsIGlkeCkpCj4gPiA+ID4gPiAgICAgICAgICAgICAgICAgcmV0dXJuIC1F
SU5WQUw7Cj4gPiA+ID4gPiArICAgICAgIGlmIChpc19jdHJsX3ZxX2lkeChtdmRldiwgaWR4KSkg
ewo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgIHN0YXRlLT5zcGxpdC5hdmFpbF9pbmRleCA9IG12
ZGV2LT5jdnEudnJpbmcubGFzdF9hdmFpbF9pZHg7Cj4gPiA+ID4gPiArICAgICAgICAgICAgICAg
cmV0dXJuIDA7Cj4gPiA+ID4gPiArICAgICAgIH0KPiA+ID4gPiA+ICsKPiA+ID4gPiA+ICsgICAg
ICAgbXZxID0gJm5kZXYtPnZxc1tpZHhdOwo+ID4gPiA+ID4gICAgICAgICAvKiBJZiB0aGUgdmly
dHEgb2JqZWN0IHdhcyBkZXN0cm95ZWQsIHVzZSB0aGUgdmFsdWUgc2F2ZWQgYXQKPiA+ID4gPiA+
ICAgICAgICAgICogdGhlIGxhc3QgbWludXRlIG9mIHN1c3BlbmRfdnEuIFRoaXMgY2F0ZXJzIGZv
ciB1c2Vyc3BhY2UKPiA+ID4gPiA+ICAgICAgICAgICogdGhhdCBjYXJlcyBhYm91dCBlbXVsYXRp
bmcgdGhlIGluZGV4IGFmdGVyIHZxIGlzIHN0b3BwZWQuCj4gPiA+ID4gPiBAQCAtMTUyNSwxMCAr
MTcwNCwxMyBAQCBzdGF0aWMgdTY0IG1seDVfdmRwYV9nZXRfZmVhdHVyZXMoc3RydWN0IHZkcGFf
ZGV2aWNlICp2ZGV2KQo+ID4gPiA+ID4gICAgICAgICB1MTYgZGV2X2ZlYXR1cmVzOwo+ID4gPiA+
ID4gICAgICAgICBkZXZfZmVhdHVyZXMgPSBNTFg1X0NBUF9ERVZfVkRQQV9FTVVMQVRJT04obXZk
ZXYtPm1kZXYsIGRldmljZV9mZWF0dXJlc19iaXRzX21hc2spOwo+ID4gPiA+ID4gLSAgICAgICBu
ZGV2LT5tdmRldi5tbHhfZmVhdHVyZXMgPSBtbHhfdG9fdnJpdGlvX2ZlYXR1cmVzKGRldl9mZWF0
dXJlcyk7Cj4gPiA+ID4gPiArICAgICAgIG5kZXYtPm12ZGV2Lm1seF9mZWF0dXJlcyB8PSBtbHhf
dG9fdnJpdGlvX2ZlYXR1cmVzKGRldl9mZWF0dXJlcyk7Cj4gPiA+ID4gPiAgICAgICAgIGlmIChN
TFg1X0NBUF9ERVZfVkRQQV9FTVVMQVRJT04obXZkZXYtPm1kZXYsIHZpcnRpb192ZXJzaW9uXzFf
MCkpCj4gPiA+ID4gPiAgICAgICAgICAgICAgICAgbmRldi0+bXZkZXYubWx4X2ZlYXR1cmVzIHw9
IEJJVF9VTEwoVklSVElPX0ZfVkVSU0lPTl8xKTsKPiA+ID4gPiA+ICAgICAgICAgbmRldi0+bXZk
ZXYubWx4X2ZlYXR1cmVzIHw9IEJJVF9VTEwoVklSVElPX0ZfQUNDRVNTX1BMQVRGT1JNKTsKPiA+
ID4gPiA+ICsgICAgICAgbmRldi0+bXZkZXYubWx4X2ZlYXR1cmVzIHw9IEJJVF9VTEwoVklSVElP
X05FVF9GX0NUUkxfVlEpOwo+ID4gPiA+ID4gKyAgICAgICBuZGV2LT5tdmRldi5tbHhfZmVhdHVy
ZXMgfD0gQklUX1VMTChWSVJUSU9fTkVUX0ZfQ1RSTF9NQUNfQUREUik7Cj4gPiA+ID4gPiArCj4g
PiA+ID4gPiAgICAgICAgIHByaW50X2ZlYXR1cmVzKG12ZGV2LCBuZGV2LT5tdmRldi5tbHhfZmVh
dHVyZXMsIGZhbHNlKTsKPiA+ID4gPiA+ICAgICAgICAgcmV0dXJuIG5kZXYtPm12ZGV2Lm1seF9m
ZWF0dXJlczsKPiA+ID4gPiA+ICAgIH0KPiA+ID4gPiA+IEBAIC0xNTQ0LDYgKzE3MjYsNyBAQCBz
dGF0aWMgaW50IHZlcmlmeV9taW5fZmVhdHVyZXMoc3RydWN0IG1seDVfdmRwYV9kZXYgKm12ZGV2
LCB1NjQgZmVhdHVyZXMpCj4gPiA+ID4gPiAgICBzdGF0aWMgaW50IHNldHVwX3ZpcnRxdWV1ZXMo
c3RydWN0IG1seDVfdmRwYV9kZXYgKm12ZGV2KQo+ID4gPiA+ID4gICAgewo+ID4gPiA+ID4gICAg
ICAgICBzdHJ1Y3QgbWx4NV92ZHBhX25ldCAqbmRldiA9IHRvX21seDVfdmRwYV9uZGV2KG12ZGV2
KTsKPiA+ID4gPiA+ICsgICAgICAgc3RydWN0IG1seDVfY29udHJvbF92cSAqY3ZxID0gJm12ZGV2
LT5jdnE7Cj4gPiA+ID4gPiAgICAgICAgIGludCBlcnI7Cj4gPiA+ID4gPiAgICAgICAgIGludCBp
Owo+ID4gPiA+ID4gQEAgLTE1NTMsNiArMTczNiwxNiBAQCBzdGF0aWMgaW50IHNldHVwX3ZpcnRx
dWV1ZXMoc3RydWN0IG1seDVfdmRwYV9kZXYgKm12ZGV2KQo+ID4gPiA+ID4gICAgICAgICAgICAg
ICAgICAgICAgICAgZ290byBlcnJfdnE7Cj4gPiA+ID4gPiAgICAgICAgIH0KPiA+ID4gPiA+ICsg
ICAgICAgaWYgKG12ZGV2LT5hY3R1YWxfZmVhdHVyZXMgJiBCSVRfVUxMKFZJUlRJT19ORVRfRl9D
VFJMX1ZRKSkgewo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgIGVyciA9IHZyaW5naF9pbml0X2lv
dGxiKCZjdnEtPnZyaW5nLCBtdmRldi0+YWN0dWFsX2ZlYXR1cmVzLAo+ID4gPiA+ID4gKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1MWDVfQ1ZRX01BWF9FTlQsIGZhbHNl
LAo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzdHJ1
Y3QgdnJpbmdfZGVzYyAqKSh1aW50cHRyX3QpY3ZxLT5kZXNjX2FkZHIsCj4gPiA+ID4gPiArICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHN0cnVjdCB2cmluZ19hdmFpbCAq
KSh1aW50cHRyX3QpY3ZxLT5kcml2ZXJfYWRkciwKPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAoc3RydWN0IHZyaW5nX3VzZWQgKikodWludHB0cl90KWN2
cS0+ZGV2aWNlX2FkZHIpOwo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgIGlmIChlcnIpCj4gPiA+
ID4gPiArICAgICAgICAgICAgICAgICAgICAgICBnb3RvIGVycl92cTsKPiA+ID4gPiA+ICsgICAg
ICAgfQo+ID4gPiA+ID4gKwo+ID4gPiA+ID4gICAgICAgICByZXR1cm4gMDsKPiA+ID4gPiA+ICAg
IGVycl92cToKPiA+ID4gPiA+IEBAIC0xOTM3LDcgKzIxMzAsNyBAQCBzdGF0aWMgc3RydWN0IHZk
cGFfbm90aWZpY2F0aW9uX2FyZWEgbWx4NV9nZXRfdnFfbm90aWZpY2F0aW9uKHN0cnVjdCB2ZHBh
X2RldmljZQo+ID4gPiA+ID4gICAgICAgICBzdHJ1Y3QgbWx4NV92ZHBhX25ldCAqbmRldjsKPiA+
ID4gPiA+ICAgICAgICAgcGh5c19hZGRyX3QgYWRkcjsKPiA+ID4gPiA+IC0gICAgICAgaWYgKCFp
c19pbmRleF92YWxpZChtdmRldiwgaWR4KSkKPiA+ID4gPiA+ICsgICAgICAgaWYgKCFpc19pbmRl
eF92YWxpZChtdmRldiwgaWR4KSB8fCBpc19jdHJsX3ZxX2lkeChtdmRldiwgaWR4KSkKPiA+ID4g
PiA+ICAgICAgICAgICAgICAgICByZXR1cm4gcmV0Owo+ID4gPiA+ID4gICAgICAgICAvKiBJZiBT
RiBCQVIgc2l6ZSBpcyBzbWFsbGVyIHRoYW4gUEFHRV9TSVpFLCBkbyBub3QgdXNlIGRpcmVjdAo+
ID4gPiA+ID4gQEAgLTIxMTQsOCArMjMwNywxMSBAQCBzdGF0aWMgaW50IG1seDVfdmRwYV9kZXZf
YWRkKHN0cnVjdCB2ZHBhX21nbXRfZGV2ICp2X21kZXYsIGNvbnN0IGNoYXIgKm5hbWUpCj4gPiA+
ID4gPiAgICAgICAgICAgICAgICAgZXJyID0gbWx4NV9tcGZzX2FkZF9tYWMocGZtZGV2LCBjb25m
aWctPm1hYyk7Cj4gPiA+ID4gPiAgICAgICAgICAgICAgICAgaWYgKGVycikKPiA+ID4gPiA+ICAg
ICAgICAgICAgICAgICAgICAgICAgIGdvdG8gZXJyX210dTsKPiA+ID4gPiA+ICsKPiA+ID4gPiA+
ICsgICAgICAgICAgICAgICBuZGV2LT5tdmRldi5tbHhfZmVhdHVyZXMgfD0gQklUX1VMTChWSVJU
SU9fTkVUX0ZfTUFDKTsKPiA+ID4gPiA+ICAgICAgICAgfQo+ID4gPiA+ID4gKyAgICAgICBjb25m
aWctPm1heF92aXJ0cXVldWVfcGFpcnMgPSBjcHVfdG9fbWx4NXZkcGExNihtdmRldiwgbWx4NV92
ZHBhX21heF9xcHMobWF4X3ZxcykpOwo+ID4gPiA+ID4gICAgICAgICBtdmRldi0+dmRldi5kbWFf
ZGV2ID0gJm1kZXYtPnBkZXYtPmRldjsKPiA+ID4gPiA+ICAgICAgICAgZXJyID0gbWx4NV92ZHBh
X2FsbG9jX3Jlc291cmNlcygmbmRldi0+bXZkZXYpOwo+ID4gPiA+ID4gICAgICAgICBpZiAoZXJy
KQo+ID4gPiA+ID4gQEAgLTIxMzEsOCArMjMyNywxNSBAQCBzdGF0aWMgaW50IG1seDVfdmRwYV9k
ZXZfYWRkKHN0cnVjdCB2ZHBhX21nbXRfZGV2ICp2X21kZXYsIGNvbnN0IGNoYXIgKm5hbWUpCj4g
PiA+ID4gPiAgICAgICAgIGlmIChlcnIpCj4gPiA+ID4gPiAgICAgICAgICAgICAgICAgZ290byBl
cnJfbXI7Cj4gPiA+ID4gPiArICAgICAgIG12ZGV2LT53cSA9IGNyZWF0ZV9zaW5nbGV0aHJlYWRf
d29ya3F1ZXVlKCJtbHg1X3ZkcGFfY3RybF93cSIpOwo+ID4gPiA+ID4gKyAgICAgICBpZiAoIW12
ZGV2LT53cSkgewo+ID4gPiA+ID4gKyAgICAgICAgICAgICAgIGVyciA9IC1FTk9NRU07Cj4gPiA+
ID4gPiArICAgICAgICAgICAgICAgZ290byBlcnJfcmVzMjsKPiA+ID4gPiA+ICsgICAgICAgfQo+
ID4gPiA+ID4gKwo+ID4gPiA+ID4gKyAgICAgICBuZGV2LT5jdXJfbnVtX3ZxcyA9IDIgKiBtbHg1
X3ZkcGFfbWF4X3FwcyhtYXhfdnFzKTsKPiA+ID4gPiA+ICAgICAgICAgbXZkZXYtPnZkZXYubWRl
diA9ICZtZ3RkZXYtPm1ndGRldjsKPiA+ID4gPiA+IC0gICAgICAgZXJyID0gX3ZkcGFfcmVnaXN0
ZXJfZGV2aWNlKCZtdmRldi0+dmRldiwgMiAqIG1seDVfdmRwYV9tYXhfcXBzKG1heF92cXMpKTsK
PiA+ID4gPiA+ICsgICAgICAgZXJyID0gX3ZkcGFfcmVnaXN0ZXJfZGV2aWNlKCZtdmRldi0+dmRl
diwgbmRldi0+Y3VyX251bV92cXMgKyAxKTsKPiA+ID4gPiA+ICAgICAgICAgaWYgKGVycikKPiA+
ID4gPiA+ICAgICAgICAgICAgICAgICBnb3RvIGVycl9yZWc7Cj4gPiA+ID4gPiBAQCAtMjE0MCw2
ICsyMzQzLDggQEAgc3RhdGljIGludCBtbHg1X3ZkcGFfZGV2X2FkZChzdHJ1Y3QgdmRwYV9tZ210
X2RldiAqdl9tZGV2LCBjb25zdCBjaGFyICpuYW1lKQo+ID4gPiA+ID4gICAgICAgICByZXR1cm4g
MDsKPiA+ID4gPiA+ICAgIGVycl9yZWc6Cj4gPiA+ID4gPiArICAgICAgIGRlc3Ryb3lfd29ya3F1
ZXVlKG12ZGV2LT53cSk7Cj4gPiA+ID4gPiArZXJyX3JlczI6Cj4gPiA+ID4gPiAgICAgICAgIGZy
ZWVfcmVzb3VyY2VzKG5kZXYpOwo+ID4gPiA+ID4gICAgZXJyX21yOgo+ID4gPiA+ID4gICAgICAg
ICBtbHg1X3ZkcGFfZGVzdHJveV9tcihtdmRldik7Cj4gPiA+ID4gPiBAQCAtMjE1Nyw3ICsyMzYy
LDkgQEAgc3RhdGljIGludCBtbHg1X3ZkcGFfZGV2X2FkZChzdHJ1Y3QgdmRwYV9tZ210X2RldiAq
dl9tZGV2LCBjb25zdCBjaGFyICpuYW1lKQo+ID4gPiA+ID4gICAgc3RhdGljIHZvaWQgbWx4NV92
ZHBhX2Rldl9kZWwoc3RydWN0IHZkcGFfbWdtdF9kZXYgKnZfbWRldiwgc3RydWN0IHZkcGFfZGV2
aWNlICpkZXYpCj4gPiA+ID4gPiAgICB7Cj4gPiA+ID4gPiAgICAgICAgIHN0cnVjdCBtbHg1X3Zk
cGFfbWdtdGRldiAqbWd0ZGV2ID0gY29udGFpbmVyX29mKHZfbWRldiwgc3RydWN0IG1seDVfdmRw
YV9tZ210ZGV2LCBtZ3RkZXYpOwo+ID4gPiA+ID4gKyAgICAgICBzdHJ1Y3QgbWx4NV92ZHBhX2Rl
diAqbXZkZXYgPSB0b19tdmRldihkZXYpOwo+ID4gPiA+ID4gKyAgICAgICBkZXN0cm95X3dvcmtx
dWV1ZShtdmRldi0+d3EpOwo+ID4gPiA+ID4gICAgICAgICBfdmRwYV91bnJlZ2lzdGVyX2Rldmlj
ZShkZXYpOwo+ID4gPiA+ID4gICAgICAgICBtZ3RkZXYtPm5kZXYgPSBOVUxMOwo+ID4gPiA+ID4g
ICAgfQo+ID4KPgoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X18KVmlydHVhbGl6YXRpb24gbWFpbGluZyBsaXN0ClZpcnR1YWxpemF0aW9uQGxpc3RzLmxpbnV4
LWZvdW5kYXRpb24ub3JnCmh0dHBzOi8vbGlzdHMubGludXhmb3VuZGF0aW9uLm9yZy9tYWlsbWFu
L2xpc3RpbmZvL3ZpcnR1YWxpemF0aW9u

