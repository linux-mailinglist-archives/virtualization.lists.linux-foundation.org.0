Return-Path: <virtualization-bounces@lists.linux-foundation.org>
X-Original-To: lists.virtualization@lfdr.de
Delivered-To: lists.virtualization@lfdr.de
Received: from mail.linuxfoundation.org (mail.linuxfoundation.org [140.211.169.12])
	by mail.lfdr.de (Postfix) with ESMTPS id CD5848811F
	for <lists.virtualization@lfdr.de>; Fri,  9 Aug 2019 19:25:14 +0200 (CEST)
Received: from mail.linux-foundation.org (localhost [127.0.0.1])
	by mail.linuxfoundation.org (Postfix) with ESMTP id A8BAECA5;
	Fri,  9 Aug 2019 17:24:56 +0000 (UTC)
X-Original-To: virtualization@lists.linux-foundation.org
Delivered-To: virtualization@mail.linuxfoundation.org
Received: from smtp1.linuxfoundation.org (smtp1.linux-foundation.org
	[172.17.192.35])
	by mail.linuxfoundation.org (Postfix) with ESMTPS id BABD8BE4
	for <virtualization@lists.linux-foundation.org>;
	Fri,  9 Aug 2019 17:24:55 +0000 (UTC)
X-Greylist: from auto-whitelisted by SQLgrey-1.7.6
Received: from mx01.bbu.dsd.mx.bitdefender.com
	(mx01.bbu.dsd.mx.bitdefender.com [91.199.104.161])
	by smtp1.linuxfoundation.org (Postfix) with ESMTPS id E850B89D
	for <virtualization@lists.linux-foundation.org>;
	Fri,  9 Aug 2019 17:24:54 +0000 (UTC)
Received: from smtp.bitdefender.com (smtp02.buh.bitdefender.net [10.17.80.76])
	by mx01.bbu.dsd.mx.bitdefender.com (Postfix) with ESMTPS id
	3017E3031EBD; Fri,  9 Aug 2019 19:01:25 +0300 (EEST)
Received: from localhost.localdomain (unknown [89.136.169.210])
	by smtp.bitdefender.com (Postfix) with ESMTPSA id C3273305B7A0;
	Fri,  9 Aug 2019 19:01:24 +0300 (EEST)
From: =?UTF-8?q?Adalbert=20Laz=C4=83r?= <alazar@bitdefender.com>
To: kvm@vger.kernel.org
Subject: [RFC PATCH v6 58/92] kvm: introspection: add KVMI_GET_MTRR_TYPE
Date: Fri,  9 Aug 2019 19:00:13 +0300
Message-Id: <20190809160047.8319-59-alazar@bitdefender.com>
In-Reply-To: <20190809160047.8319-1-alazar@bitdefender.com>
References: <20190809160047.8319-1-alazar@bitdefender.com>
MIME-Version: 1.0
X-Spam-Status: No, score=-4.2 required=5.0 tests=BAYES_00,RCVD_IN_DNSWL_MED
	autolearn=ham version=3.3.1
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on
	smtp1.linux-foundation.org
Cc: Tamas K Lengyel <tamas@tklengyel.com>,
	Weijiang Yang <weijiang.yang@intel.com>, Yu C <yu.c.zhang@intel.com>,
	=?UTF-8?q?Radim=20Kr=C4=8Dm=C3=A1=C5=99?= <rkrcmar@redhat.com>,
	Jan Kiszka <jan.kiszka@siemens.com>,
	=?UTF-8?q?Samuel=20Laur=C3=A9n?= <samuel.lauren@iki.fi>,
	Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
	virtualization@lists.linux-foundation.org,
	=?UTF-8?q?Adalbert=20Laz=C4=83r?= <alazar@bitdefender.com>,
	linux-mm@kvack.org, Patrick Colp <patrick.colp@oracle.com>,
	=?UTF-8?q?Nicu=C8=99or=20C=C3=AE=C8=9Bu?= <ncitu@bitdefender.com>,
	Mathieu Tarral <mathieu.tarral@protonmail.com>,
	Stefan Hajnoczi <stefanha@redhat.com>,
	Paolo Bonzini <pbonzini@redhat.com>, Zhang@mail.linuxfoundation.org,
	=?UTF-8?q?Mihai=20Don=C8=9Bu?= <mdontu@bitdefender.com>
X-BeenThere: virtualization@lists.linux-foundation.org
X-Mailman-Version: 2.1.12
Precedence: list
List-Id: Linux virtualization <virtualization.lists.linux-foundation.org>
List-Unsubscribe: <https://lists.linuxfoundation.org/mailman/options/virtualization>,
	<mailto:virtualization-request@lists.linux-foundation.org?subject=unsubscribe>
List-Archive: <http://lists.linuxfoundation.org/pipermail/virtualization/>
List-Post: <mailto:virtualization@lists.linux-foundation.org>
List-Help: <mailto:virtualization-request@lists.linux-foundation.org?subject=help>
List-Subscribe: <https://lists.linuxfoundation.org/mailman/listinfo/virtualization>,
	<mailto:virtualization-request@lists.linux-foundation.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Sender: virtualization-bounces@lists.linux-foundation.org
Errors-To: virtualization-bounces@lists.linux-foundation.org

RnJvbTogTWloYWkgRG9uyJt1IDxtZG9udHVAYml0ZGVmZW5kZXIuY29tPgoKVGhpcyBjb21tYW5k
IHJldHVybnMgdGhlIG1lbW9yeSB0eXBlIGZvciBhIGd1ZXN0IHBoeXNpY2FsIGFkZHJlc3MuCgpT
aWduZWQtb2ZmLWJ5OiBNaWhhaSBEb27Im3UgPG1kb250dUBiaXRkZWZlbmRlci5jb20+CkNvLWRl
dmVsb3BlZC1ieTogTmljdciZb3IgQ8OuyJt1IDxuY2l0dUBiaXRkZWZlbmRlci5jb20+ClNpZ25l
ZC1vZmYtYnk6IE5pY3XImW9yIEPDrsibdSA8bmNpdHVAYml0ZGVmZW5kZXIuY29tPgpTaWduZWQt
b2ZmLWJ5OiBBZGFsYmVydCBMYXrEg3IgPGFsYXphckBiaXRkZWZlbmRlci5jb20+Ci0tLQogRG9j
dW1lbnRhdGlvbi92aXJ0dWFsL2t2bS9rdm1pLnJzdCB8IDMyICsrKysrKysrKysrKysrKysrKysr
KysrKysrKysrKwogYXJjaC94ODYvaW5jbHVkZS91YXBpL2FzbS9rdm1pLmggICB8ICA5ICsrKysr
KysrKwogYXJjaC94ODYva3ZtL2t2bWkuYyAgICAgICAgICAgICAgICB8ICA3ICsrKysrKysKIHZp
cnQva3ZtL2t2bWlfaW50LmggICAgICAgICAgICAgICAgfCAgMSArCiB2aXJ0L2t2bS9rdm1pX21z
Zy5jICAgICAgICAgICAgICAgIHwgMTcgKysrKysrKysrKysrKysrKwogNSBmaWxlcyBjaGFuZ2Vk
LCA2NiBpbnNlcnRpb25zKCspCgpkaWZmIC0tZ2l0IGEvRG9jdW1lbnRhdGlvbi92aXJ0dWFsL2t2
bS9rdm1pLnJzdCBiL0RvY3VtZW50YXRpb24vdmlydHVhbC9rdm0va3ZtaS5yc3QKaW5kZXggYzQz
ZWExYjMzYTUxLi5lNThmMGUyMmYxODggMTAwNjQ0Ci0tLSBhL0RvY3VtZW50YXRpb24vdmlydHVh
bC9rdm0va3ZtaS5yc3QKKysrIGIvRG9jdW1lbnRhdGlvbi92aXJ0dWFsL2t2bS9rdm1pLnJzdApA
QCAtMTExMiw2ICsxMTEyLDM4IEBAIHRoZSBidWZmZXIgc2l6ZSBmcm9tIHRoZSBtZXNzYWdlIHNp
emUuCiAqIC1LVk1fRUFHQUlOIC0gdGhlIHNlbGVjdGVkIHZDUFUgY2FuJ3QgYmUgaW50cm9zcGVj
dGVkIHlldAogKiAtS1ZNX0VOT01FTSAtIG5vdCBlbm91Z2ggbWVtb3J5IHRvIGFsbG9jYXRlIHRo
ZSByZXBseQogCisyNC4gS1ZNSV9HRVRfTVRSUl9UWVBFCistLS0tLS0tLS0tLS0tLS0tLS0tLS0t
CisKKzpBcmNoaXRlY3R1cmU6IHg4NgorOlZlcnNpb25zOiA+PSAxCis6UGFyYW1ldGVyczoKKwor
OjoKKworCXN0cnVjdCBrdm1pX3ZjcHVfaGRyOworCXN0cnVjdCBrdm1pX2dldF9tdHJyX3R5cGUg
eworCQlfX3U2NCBncGE7CisJfTsKKworOlJldHVybnM6CisKKzo6CisKKwlzdHJ1Y3Qga3ZtaV9l
cnJvcl9jb2RlOworCXN0cnVjdCBrdm1pX2dldF9tdHJyX3R5cGVfcmVwbHkgeworCQlfX3U4IHR5
cGU7CisJCV9fdTggcGFkZGluZ1s3XTsKKwl9OworCitSZXR1cm5zIHRoZSBndWVzdCBtZW1vcnkg
dHlwZSBmb3IgYSBzcGVjaWZpYyBwaHlzaWNhbCBhZGRyZXNzLgorCis6RXJyb3JzOgorCisqIC1L
Vk1fRUlOVkFMIC0gdGhlIHNlbGVjdGVkIHZDUFUgaXMgaW52YWxpZAorKiAtS1ZNX0VJTlZBTCAt
IHBhZGRpbmcgaXMgbm90IHplcm8KKyogLUtWTV9FQUdBSU4gLSB0aGUgc2VsZWN0ZWQgdkNQVSBj
YW4ndCBiZSBpbnRyb3NwZWN0ZWQgeWV0CisKIEV2ZW50cwogPT09PT09CiAKZGlmZiAtLWdpdCBh
L2FyY2gveDg2L2luY2x1ZGUvdWFwaS9hc20va3ZtaS5oIGIvYXJjaC94ODYvaW5jbHVkZS91YXBp
L2FzbS9rdm1pLmgKaW5kZXggYTNmY2IxZWY4NDA0Li5jM2M5NmU2ZTJhMjYgMTAwNjQ0Ci0tLSBh
L2FyY2gveDg2L2luY2x1ZGUvdWFwaS9hc20va3ZtaS5oCisrKyBiL2FyY2gveDg2L2luY2x1ZGUv
dWFwaS9hc20va3ZtaS5oCkBAIC0xMDEsNCArMTAxLDEzIEBAIHN0cnVjdCBrdm1pX2dldF94c2F2
ZV9yZXBseSB7CiAJX191MzIgcmVnaW9uWzBdOwogfTsKIAorc3RydWN0IGt2bWlfZ2V0X210cnJf
dHlwZSB7CisJX191NjQgZ3BhOworfTsKKworc3RydWN0IGt2bWlfZ2V0X210cnJfdHlwZV9yZXBs
eSB7CisJX191OCB0eXBlOworCV9fdTggcGFkZGluZ1s3XTsKK307CisKICNlbmRpZiAvKiBfVUFQ
SV9BU01fWDg2X0tWTUlfSCAqLwpkaWZmIC0tZ2l0IGEvYXJjaC94ODYva3ZtL2t2bWkuYyBiL2Fy
Y2gveDg2L2t2bS9rdm1pLmMKaW5kZXggMDc4ZDcxNGI1OWQ1Li4wMTE0ZWQ2NmY0ZjMgMTAwNjQ0
Ci0tLSBhL2FyY2gveDg2L2t2bS9rdm1pLmMKKysrIGIvYXJjaC94ODYva3ZtL2t2bWkuYwpAQCAt
ODExLDMgKzgxMSwxMCBAQCBpbnQga3ZtaV9hcmNoX2NtZF9nZXRfeHNhdmUoc3RydWN0IGt2bV92
Y3B1ICp2Y3B1LAogCiAJcmV0dXJuIDA7CiB9CisKK2ludCBrdm1pX2FyY2hfY21kX2dldF9tdHJy
X3R5cGUoc3RydWN0IGt2bV92Y3B1ICp2Y3B1LCB1NjQgZ3BhLCB1OCAqdHlwZSkKK3sKKwkqdHlw
ZSA9IGt2bV9tdHJyX2dldF9ndWVzdF9tZW1vcnlfdHlwZSh2Y3B1LCBncGFfdG9fZ2ZuKGdwYSkp
OworCisJcmV0dXJuIDA7Cit9CmRpZmYgLS1naXQgYS92aXJ0L2t2bS9rdm1pX2ludC5oIGIvdmly
dC9rdm0va3ZtaV9pbnQuaAppbmRleCAxYTcwNWNiYTQ3NzYuLmFjMmUxMzc4N2YwMSAxMDA2NDQK
LS0tIGEvdmlydC9rdm0va3ZtaV9pbnQuaAorKysgYi92aXJ0L2t2bS9rdm1pX2ludC5oCkBAIC0y
NjcsNSArMjY3LDYgQEAgaW50IGt2bWlfYXJjaF9jbWRfY29udHJvbF9jcihzdHJ1Y3Qga3ZtX3Zj
cHUgKnZjcHUsCiAJCQkgICAgIGNvbnN0IHN0cnVjdCBrdm1pX2NvbnRyb2xfY3IgKnJlcSk7CiBp
bnQga3ZtaV9hcmNoX2NtZF9jb250cm9sX21zcihzdHJ1Y3Qga3ZtX3ZjcHUgKnZjcHUsCiAJCQkg
ICAgICBjb25zdCBzdHJ1Y3Qga3ZtaV9jb250cm9sX21zciAqcmVxKTsKK2ludCBrdm1pX2FyY2hf
Y21kX2dldF9tdHJyX3R5cGUoc3RydWN0IGt2bV92Y3B1ICp2Y3B1LCB1NjQgZ3BhLCB1OCAqdHlw
ZSk7CiAKICNlbmRpZgpkaWZmIC0tZ2l0IGEvdmlydC9rdm0va3ZtaV9tc2cuYyBiL3ZpcnQva3Zt
L2t2bWlfbXNnLmMKaW5kZXggNmJjMThiNzk3M2NmLi5lZTU0ZDkyYjA3ZWMgMTAwNjQ0Ci0tLSBh
L3ZpcnQva3ZtL2t2bWlfbXNnLmMKKysrIGIvdmlydC9rdm0va3ZtaV9tc2cuYwpAQCAtMzMsNiAr
MzMsNyBAQCBzdGF0aWMgY29uc3QgY2hhciAqY29uc3QgbXNnX0lEc1tdID0gewogCVtLVk1JX0VW
RU5UX1JFUExZXSAgICAgICAgICAgPSAiS1ZNSV9FVkVOVF9SRVBMWSIsCiAJW0tWTUlfR0VUX0NQ
VUlEXSAgICAgICAgICAgICA9ICJLVk1JX0dFVF9DUFVJRCIsCiAJW0tWTUlfR0VUX0dVRVNUX0lO
Rk9dICAgICAgICA9ICJLVk1JX0dFVF9HVUVTVF9JTkZPIiwKKwlbS1ZNSV9HRVRfTVRSUl9UWVBF
XSAgICAgICAgID0gIktWTUlfR0VUX01UUlJfVFlQRSIsCiAJW0tWTUlfR0VUX1BBR0VfQUNDRVNT
XSAgICAgICA9ICJLVk1JX0dFVF9QQUdFX0FDQ0VTUyIsCiAJW0tWTUlfR0VUX1BBR0VfV1JJVEVf
QklUTUFQXSA9ICJLVk1JX0dFVF9QQUdFX1dSSVRFX0JJVE1BUCIsCiAJW0tWTUlfR0VUX1JFR0lT
VEVSU10gICAgICAgICA9ICJLVk1JX0dFVF9SRUdJU1RFUlMiLApAQCAtNzAxLDYgKzcwMiwyMSBA
QCBzdGF0aWMgaW50IGhhbmRsZV9nZXRfY3B1aWQoc3RydWN0IGt2bV92Y3B1ICp2Y3B1LAogCXJl
dHVybiByZXBseV9jYih2Y3B1LCBtc2csIGVjLCAmcnBsLCBzaXplb2YocnBsKSk7CiB9CiAKK3N0
YXRpYyBpbnQgaGFuZGxlX2dldF9tdHJyX3R5cGUoc3RydWN0IGt2bV92Y3B1ICp2Y3B1LAorCQkJ
CWNvbnN0IHN0cnVjdCBrdm1pX21zZ19oZHIgKm1zZywKKwkJCQljb25zdCB2b2lkICpfcmVxLCB2
Y3B1X3JlcGx5X2ZjdCByZXBseV9jYikKK3sKKwljb25zdCBzdHJ1Y3Qga3ZtaV9nZXRfbXRycl90
eXBlICpyZXEgPSBfcmVxOworCXN0cnVjdCBrdm1pX2dldF9tdHJyX3R5cGVfcmVwbHkgcnBsOwor
CWludCBlYzsKKworCW1lbXNldCgmcnBsLCAwLCBzaXplb2YocnBsKSk7CisKKwllYyA9IGt2bWlf
YXJjaF9jbWRfZ2V0X210cnJfdHlwZSh2Y3B1LCByZXEtPmdwYSwgJnJwbC50eXBlKTsKKworCXJl
dHVybiByZXBseV9jYih2Y3B1LCBtc2csIGVjLCAmcnBsLCBzaXplb2YocnBsKSk7Cit9CisKIHN0
YXRpYyBpbnQgaGFuZGxlX2dldF94c2F2ZShzdHJ1Y3Qga3ZtX3ZjcHUgKnZjcHUsCiAJCQkgICAg
Y29uc3Qgc3RydWN0IGt2bWlfbXNnX2hkciAqbXNnLCBjb25zdCB2b2lkICpyZXEsCiAJCQkgICAg
dmNwdV9yZXBseV9mY3QgcmVwbHlfY2IpCkBAIC03MzAsNiArNzQ2LDcgQEAgc3RhdGljIGludCgq
Y29uc3QgbXNnX3ZjcHVbXSkoc3RydWN0IGt2bV92Y3B1ICosCiAJW0tWTUlfQ09OVFJPTF9NU1Jd
ICAgICAgPSBoYW5kbGVfY29udHJvbF9tc3IsCiAJW0tWTUlfRVZFTlRfUkVQTFldICAgICAgPSBo
YW5kbGVfZXZlbnRfcmVwbHksCiAJW0tWTUlfR0VUX0NQVUlEXSAgICAgICAgPSBoYW5kbGVfZ2V0
X2NwdWlkLAorCVtLVk1JX0dFVF9NVFJSX1RZUEVdICAgID0gaGFuZGxlX2dldF9tdHJyX3R5cGUs
CiAJW0tWTUlfR0VUX1JFR0lTVEVSU10gICAgPSBoYW5kbGVfZ2V0X3JlZ2lzdGVycywKIAlbS1ZN
SV9HRVRfVkNQVV9JTkZPXSAgICA9IGhhbmRsZV9nZXRfdmNwdV9pbmZvLAogCVtLVk1JX0dFVF9Y
U0FWRV0gICAgICAgID0gaGFuZGxlX2dldF94c2F2ZSwKX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX18KVmlydHVhbGl6YXRpb24gbWFpbGluZyBsaXN0ClZpcnR1
YWxpemF0aW9uQGxpc3RzLmxpbnV4LWZvdW5kYXRpb24ub3JnCmh0dHBzOi8vbGlzdHMubGludXhm
b3VuZGF0aW9uLm9yZy9tYWlsbWFuL2xpc3RpbmZvL3ZpcnR1YWxpemF0aW9u
