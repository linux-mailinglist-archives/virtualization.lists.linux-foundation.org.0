Return-Path: <virtualization-bounces@lists.linux-foundation.org>
X-Original-To: lists.virtualization@lfdr.de
Delivered-To: lists.virtualization@lfdr.de
Received: from smtp3.osuosl.org (smtp3.osuosl.org [140.211.166.136])
	by mail.lfdr.de (Postfix) with ESMTPS id 465817275EA
	for <lists.virtualization@lfdr.de>; Thu,  8 Jun 2023 05:55:18 +0200 (CEST)
Received: from localhost (localhost [127.0.0.1])
	by smtp3.osuosl.org (Postfix) with ESMTP id D3B3560F1D;
	Thu,  8 Jun 2023 03:55:15 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp3.osuosl.org D3B3560F1D
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp3.osuosl.org ([127.0.0.1])
	by localhost (smtp3.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 2MhXKbR6dF8q; Thu,  8 Jun 2023 03:55:14 +0000 (UTC)
Received: from lists.linuxfoundation.org (lf-lists.osuosl.org [IPv6:2605:bc80:3010:104::8cd3:938])
	by smtp3.osuosl.org (Postfix) with ESMTPS id 842BA60E48;
	Thu,  8 Jun 2023 03:55:13 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp3.osuosl.org 842BA60E48
Received: from lf-lists.osuosl.org (localhost [127.0.0.1])
	by lists.linuxfoundation.org (Postfix) with ESMTP id B5FC2C0089;
	Thu,  8 Jun 2023 03:55:12 +0000 (UTC)
X-Original-To: virtualization@lists.linux-foundation.org
Delivered-To: virtualization@lists.linuxfoundation.org
Received: from smtp1.osuosl.org (smtp1.osuosl.org [IPv6:2605:bc80:3010::138])
 by lists.linuxfoundation.org (Postfix) with ESMTP id 729CFC0029
 for <virtualization@lists.linux-foundation.org>;
 Thu,  8 Jun 2023 03:55:11 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by smtp1.osuosl.org (Postfix) with ESMTP id 4A2FD8208A
 for <virtualization@lists.linux-foundation.org>;
 Thu,  8 Jun 2023 03:55:11 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp1.osuosl.org 4A2FD8208A
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp1.osuosl.org ([127.0.0.1])
 by localhost (smtp1.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 0goGN1bg1ETE
 for <virtualization@lists.linux-foundation.org>;
 Thu,  8 Jun 2023 03:55:08 +0000 (UTC)
X-Greylist: domain auto-whitelisted by SQLgrey-1.8.0
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp1.osuosl.org 86A9F81F85
Received: from out30-98.freemail.mail.aliyun.com
 (out30-98.freemail.mail.aliyun.com [115.124.30.98])
 by smtp1.osuosl.org (Postfix) with ESMTPS id 86A9F81F85
 for <virtualization@lists.linux-foundation.org>;
 Thu,  8 Jun 2023 03:55:06 +0000 (UTC)
X-Alimail-AntiSpam: AC=PASS; BC=-1|-1; BR=01201311R411e4; CH=green; DM=||false|;
 DS=||; FP=0|-1|-1|-1|0|-1|-1|-1; HT=ay29a033018046049;
 MF=xuanzhuo@linux.alibaba.com; NM=1; PH=DS; RN=11; SR=0;
 TI=SMTPD_---0Vkcl2fW_1686196500; 
Received: from localhost(mailfrom:xuanzhuo@linux.alibaba.com
 fp:SMTPD_---0Vkcl2fW_1686196500) by smtp.aliyun-inc.com;
 Thu, 08 Jun 2023 11:55:01 +0800
Message-ID: <1686196480.9332092-1-xuanzhuo@linux.alibaba.com>
Subject: Re: [PATCH net-next 2/5] virtio_net: Add page_pool support to improve
 performance
Date: Thu, 8 Jun 2023 11:54:40 +0800
From: Xuan Zhuo <xuanzhuo@linux.alibaba.com>
To: Jason Wang <jasowang@redhat.com>
References: <20230526054621.18371-1-liangchen.linux@gmail.com>
 <20230526054621.18371-2-liangchen.linux@gmail.com>
 <20230528021708-mutt-send-email-mst@kernel.org>
 <CAKhg4tKzW6akbKLvg1UFpey+Lkiic3hBWh87jyg-a8ASchPvMA@mail.gmail.com>
 <20230529055439-mutt-send-email-mst@kernel.org>
 <CAKhg4t+64E5oisgwpJvt5zwcAzKpLoNhN-cMutRuiC9D-Z7C5A@mail.gmail.com>
 <CAKhg4tKpBFgGaEq743dvYJxZFavDSyOdqbvc7mE4+_sqeSpgQQ@mail.gmail.com>
 <20230607161724-mutt-send-email-mst@kernel.org>
 <CACGkMEsTuHShqiruqTA9DOHvSg41s1OyqAhpP+uOwTTq61mzTw@mail.gmail.com>
In-Reply-To: <CACGkMEsTuHShqiruqTA9DOHvSg41s1OyqAhpP+uOwTTq61mzTw@mail.gmail.com>
Cc: "Michael S. Tsirkin" <mst@redhat.com>, linux-kernel@vger.kernel.org,
 alexander.duyck@gmail.com, virtualization@lists.linux-foundation.org,
 edumazet@google.com, netdev@vger.kernel.org, kuba@kernel.org,
 pabeni@redhat.com, davem@davemloft.net
X-BeenThere: virtualization@lists.linux-foundation.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: Linux virtualization <virtualization.lists.linux-foundation.org>
List-Unsubscribe: <https://lists.linuxfoundation.org/mailman/options/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=unsubscribe>
List-Archive: <http://lists.linuxfoundation.org/pipermail/virtualization/>
List-Post: <mailto:virtualization@lists.linux-foundation.org>
List-Help: <mailto:virtualization-request@lists.linux-foundation.org?subject=help>
List-Subscribe: <https://lists.linuxfoundation.org/mailman/listinfo/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: virtualization-bounces@lists.linux-foundation.org
Sender: "Virtualization" <virtualization-bounces@lists.linux-foundation.org>

T24gVGh1LCA4IEp1biAyMDIzIDA4OjM4OjE0ICswODAwLCBKYXNvbiBXYW5nIDxqYXNvd2FuZ0By
ZWRoYXQuY29tPiB3cm90ZToKPiBPbiBUaHUsIEp1biA4LCAyMDIzIGF0IDQ6MTfigK9BTSBNaWNo
YWVsIFMuIFRzaXJraW4gPG1zdEByZWRoYXQuY29tPiB3cm90ZToKPiA+Cj4gPiBPbiBXZWQsIEp1
biAwNywgMjAyMyBhdCAwNTowODo1OVBNICswODAwLCBMaWFuZyBDaGVuIHdyb3RlOgo+ID4gPiBP
biBUdWUsIE1heSAzMCwgMjAyMyBhdCA5OjE54oCvQU0gTGlhbmcgQ2hlbiA8bGlhbmdjaGVuLmxp
bnV4QGdtYWlsLmNvbT4gd3JvdGU6Cj4gPiA+ID4KPiA+ID4gPiBPbiBNb24sIE1heSAyOSwgMjAy
MyBhdCA1OjU14oCvUE0gTWljaGFlbCBTLiBUc2lya2luIDxtc3RAcmVkaGF0LmNvbT4gd3JvdGU6
Cj4gPiA+ID4gPgo+ID4gPiA+ID4gT24gTW9uLCBNYXkgMjksIDIwMjMgYXQgMDM6Mjc6NTZQTSAr
MDgwMCwgTGlhbmcgQ2hlbiB3cm90ZToKPiA+ID4gPiA+ID4gT24gU3VuLCBNYXkgMjgsIDIwMjMg
YXQgMjoyMOKAr1BNIE1pY2hhZWwgUy4gVHNpcmtpbiA8bXN0QHJlZGhhdC5jb20+IHdyb3RlOgo+
ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gT24gRnJpLCBNYXkgMjYsIDIwMjMgYXQgMDE6NDY6
MThQTSArMDgwMCwgTGlhbmcgQ2hlbiB3cm90ZToKPiA+ID4gPiA+ID4gPiA+IFRoZSBpbXBsZW1l
bnRhdGlvbiBhdCB0aGUgbW9tZW50IHVzZXMgb25lIHBhZ2UgcGVyIHBhY2tldCBpbiBib3RoIHRo
ZQo+ID4gPiA+ID4gPiA+ID4gbm9ybWFsIGFuZCBYRFAgcGF0aC4gSW4gYWRkaXRpb24sIGludHJv
ZHVjaW5nIGEgbW9kdWxlIHBhcmFtZXRlciB0byBlbmFibGUKPiA+ID4gPiA+ID4gPiA+IG9yIGRp
c2FibGUgdGhlIHVzYWdlIG9mIHBhZ2UgcG9vbCAoZGlzYWJsZWQgYnkgZGVmYXVsdCkuCj4gPiA+
ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gSW4gc2luZ2xlLWNvcmUgdm0gdGVzdGluZyBlbnZp
cm9ubWVudHMsIGl0IGdpdmVzIGEgbW9kZXN0IHBlcmZvcm1hbmNlIGdhaW4KPiA+ID4gPiA+ID4g
PiA+IGluIHRoZSBub3JtYWwgcGF0aC4KPiA+ID4gPiA+ID4gPiA+ICAgVXBzdHJlYW0gY29kZWJh
c2U6IDQ3LjUgR2JpdHMvc2VjCj4gPiA+ID4gPiA+ID4gPiAgIFVwc3RyZWFtIGNvZGViYXNlICsg
cGFnZV9wb29sIHN1cHBvcnQ6IDUwLjIgR2JpdHMvc2VjCj4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+
ID4gPiA+ID4gSW4gbXVsdGktY29yZSB2bSB0ZXN0aW5nIGVudmlyb25tZW50cywgVGhlIG1vc3Qg
c2lnbmlmaWNhbnQgcGVyZm9ybWFuY2UKPiA+ID4gPiA+ID4gPiA+IGdhaW4gaXMgb2JzZXJ2ZWQg
aW4gWERQIGNwdW1hcDoKPiA+ID4gPiA+ID4gPiA+ICAgVXBzdHJlYW0gY29kZWJhc2U6IDEuMzgg
R2JpdHMvc2VjCj4gPiA+ID4gPiA+ID4gPiAgIFVwc3RyZWFtIGNvZGViYXNlICsgcGFnZV9wb29s
IHN1cHBvcnQ6IDkuNzQgR2JpdHMvc2VjCj4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4g
V2l0aCB0aGlzIGZvdW5kYXRpb24sIHdlIGNhbiBmdXJ0aGVyIGludGVncmF0ZSBwYWdlIHBvb2wg
ZnJhZ21lbnRhdGlvbiBhbmQKPiA+ID4gPiA+ID4gPiA+IERNQSBtYXAvdW5tYXAgc3VwcG9ydC4K
PiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiBTaWduZWQtb2ZmLWJ5OiBMaWFuZyBDaGVu
IDxsaWFuZ2NoZW4ubGludXhAZ21haWwuY29tPgo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4g
V2h5IG9mZiBieSBkZWZhdWx0Pwo+ID4gPiA+ID4gPiA+IEkgYW0gZ3Vlc3NpbmcgaXQgc29tZXRp
bWVzIGhhcyBwZXJmb3JtYW5jZSBjb3N0cyB0b28/Cj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4g
Pgo+ID4gPiA+ID4gPiA+IFdoYXQgaGFwcGVucyBpZiB3ZSB1c2UgcGFnZSBwb29sIGZvciBiaWcg
bW9kZSB0b28/Cj4gPiA+ID4gPiA+ID4gVGhlIGxlc3MgbW9kZXMgd2UgaGF2ZSB0aGUgYmV0dGVy
Li4uCj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiBT
dXJlLCBub3cgSSBiZWxpZXZlIGl0IG1ha2VzIHNlbnNlIHRvIGVuYWJsZSBpdCBieSBkZWZhdWx0
LiBXaGVuIHRoZQo+ID4gPiA+ID4gPiBwYWNrZXQgc2l6ZSBpcyB2ZXJ5IHNtYWxsLCBpdCByZWR1
Y2VzIHRoZSBsaWtlbGlob29kIG9mIHNrYgo+ID4gPiA+ID4gPiBjb2FsZXNjaW5nLiBCdXQgc3Vj
aCBjYXNlcyBhcmUgcmFyZS4KPiA+ID4gPiA+Cj4gPiA+ID4gPiBzbWFsbCBwYWNrZXRzIGFyZSBy
YXJlPyBUaGVzZSB3b3JrbG9hZHMgYXJlIGVhc3kgdG8gY3JlYXRlIGFjdHVhbGx5Lgo+ID4gPiA+
ID4gUGxzIHRyeSBhbmQgaW5jbHVkZSBiZW5jaG1hcmsgd2l0aCBzbWFsbCBwYWNrZXQgc2l6ZS4K
PiA+ID4gPiA+Cj4gPiA+ID4KPiA+ID4gPiBTdXJlLCBUaGFua3MhCj4gPiA+Cj4gPiA+IEJlZm9y
ZSBnb2luZyBhaGVhZCBhbmQgcG9zdGluZyB2MiBwYXRjaCwgSSB3b3VsZCBsaWtlIHRvIGhlYXIg
bW9yZQo+ID4gPiBhZHZpY2UgZm9yIHRoZSBjYXNlcyBvZiBzbWFsbCBwYWNrZXRzLiBJIGhhdmUg
ZG9uZSBtb3JlIHBlcmZvcm1hbmNlCj4gPiA+IGJlbmNobWFyayB3aXRoIHNtYWxsIHBhY2tldHMg
c2luY2UgdGhlbi4gSGVyZSBpcyBhIGxpc3Qgb2YgaXBlcmYKPiA+ID4gb3V0cHV0LAo+ID4gPgo+
ID4gPiBXaXRoIFBQIGFuZCBQUCBmcmFnbWVudGluZzoKPiA+ID4gMjU2SzogICBbICA1XSA1MDUu
MDAtNTEwLjAwIHNlYyAgMS4zNCBHQnl0ZXMgIDIuMzEgR2JpdHMvc2VjICAgIDAgICAgMTQ0IEtC
eXRlcwo+ID4gPiAxSzogICAgICAgWyAgNV0gIDMwLjAwLTM1LjAwICBzZWMgIDQuNjMgR0J5dGVz
ICA3Ljk1IEdiaXRzL3NlYyAgICAwCj4gPiA+IDIyMyBLQnl0ZXMKPiA+ID4gMks6ICAgICAgIFsg
IDVdICA2NS4wMC03MC4wMCAgc2VjICA4LjMzIEdCeXRlcyAgMTQuMyBHYml0cy9zZWMgICAgMAo+
ID4gPiAzMjQgS0J5dGVzCj4gPiA+IDRLOiAgICAgICBbICA1XSAgMzAuMDAtMzUuMDAgIHNlYyAg
MTMuMyBHQnl0ZXMgIDIyLjggR2JpdHMvc2VjICAgIDAKPiA+ID4gMS4wOCBNQnl0ZXMKPiA+ID4g
OEs6ICAgICAgIFsgIDVdICA1MC4wMC01NS4wMCAgc2VjICAxOC45IEdCeXRlcyAgMzIuNCBHYml0
cy9zZWMgICAgMAo+ID4gPiA3NDQgS0J5dGVzCj4gPiA+IDE2SzogICAgIFsgIDVdICAyNS4wMC0z
MC4wMCAgc2VjICAyNC42IEdCeXRlcyAgNDIuMyBHYml0cy9zZWMgICAgMCAgICA5NjMgS0J5dGVz
Cj4gPiA+IDMySzogICAgIFsgIDVdICA0NS4wMC01MC4wMCAgc2VjICAyOS44IEdCeXRlcyAgNTEu
MiBHYml0cy9zZWMgICAgMCAgIDEuMjUgTUJ5dGVzCj4gPiA+IDY0SzogICAgIFsgIDVdICAzNS4w
MC00MC4wMCAgc2VjICAzNC4wIEdCeXRlcyAgNTguNCBHYml0cy9zZWMgICAgMCAgIDEuNzAgTUJ5
dGVzCj4gPiA+IDEyOEs6ICAgWyAgNV0gIDQ1LjAwLTUwLjAwICBzZWMgIDM2LjcgR0J5dGVzICA2
My4xIEdiaXRzL3NlYyAgICAwICAgNC4yNiBNQnl0ZXMKPiA+ID4gMjU2SzogICBbICA1XSAgMzAu
MDAtMzUuMDAgIHNlYyAgNDAuMCBHQnl0ZXMgIDY4LjggR2JpdHMvc2VjICAgIDAgICAzLjIwIE1C
eXRlcwo+Cj4gTm90ZSB0aGF0IHZpcnRpby1uZXQgZHJpdmVyIGlzIGxhY2tpbmcgdGhpbmdzIGxp
a2UgQlFMIGFuZCBvdGhlcnMsIHNvCj4gaXQgbWlnaHQgc3VmZmVyIGZyb20gYnVmZmVyIGJsb2F0
IGZvciBUQ1AgcGVyZm9ybWFuY2UuIFdvdWxkIHlvdSBtaW5kCj4gdG8gbWVhc3VyZSB3aXRoIGUu
ZyB1c2luZyB0ZXN0cG1kIG9uIHRoZSB2aG9zdCB0byBzZWUgdGhlIHJ4IFBQUz8KPgo+ID4gPgo+
ID4gPiBXaXRob3V0IFBQOgo+ID4gPiAyNTY6ICAgICBbICA1XSA2ODAuMDAtNjg1LjAwIHNlYyAg
MS41NyBHQnl0ZXMgIDIuNjkgR2JpdHMvc2VjICAgIDAgICAgMzU5IEtCeXRlcwo+ID4gPiAxSzog
ICAgICBbICA1XSAgNzUuMDAtODAuMDAgIHNlYyAgNS40NyBHQnl0ZXMgIDkuNDAgR2JpdHMvc2Vj
ICAgIDAgICAgNzMwIEtCeXRlcwo+ID4gPiAySzogICAgICBbICA1XSAgNjUuMDAtNzAuMDAgIHNl
YyAgOS40NiBHQnl0ZXMgIDE2LjIgR2JpdHMvc2VjICAgIDAgICAxLjk5IE1CeXRlcwo+ID4gPiA0
SzogICAgICBbICA1XSAgMzAuMDAtMzUuMDAgIHNlYyAgMTQuNSBHQnl0ZXMgIDI1LjAgR2JpdHMv
c2VjICAgIDAgICAxLjIwIE1CeXRlcwo+ID4gPiA4SzogICAgICBbICA1XSAgNDUuMDAtNTAuMDAg
IHNlYyAgMTkuOSBHQnl0ZXMgIDM0LjEgR2JpdHMvc2VjICAgIDAgICAxLjcyIE1CeXRlcwo+ID4g
PiAxNks6ICAgIFsgIDVdICAgNS4wMC0xMC4wMCAgc2VjICAyMy44IEdCeXRlcyAgNDAuOSBHYml0
cy9zZWMgICAgMCAgIDIuOTAgTUJ5dGVzCj4gPiA+IDMySzogICAgWyAgNV0gIDE1LjAwLTIwLjAw
ICBzZWMgIDI4LjAgR0J5dGVzICA0OC4xIEdiaXRzL3NlYyAgICAwICAgMy4wMyBNQnl0ZXMKPiA+
ID4gNjRLOiAgICBbICA1XSAgNjAuMDAtNjUuMDAgIHNlYyAgMzEuOCBHQnl0ZXMgIDU0LjYgR2Jp
dHMvc2VjICAgIDAgICAzLjA1IE1CeXRlcwo+ID4gPiAxMjhLOiAgWyAgNV0gIDQ1LjAwLTUwLjAw
ICBzZWMgIDMzLjAgR0J5dGVzICA1Ni42IEdiaXRzL3NlYyAgICAxICAgMy4wMyBNQnl0ZXMKPiA+
ID4gMjU2SzogIFsgIDVdICAyNS4wMC0zMC4wMCAgc2VjICAzNC43IEdCeXRlcyAgNTkuNiBHYml0
cy9zZWMgICAgMCAgIDMuMTEgTUJ5dGVzCj4gPiA+Cj4gPiA+Cj4gPiA+IFRoZSBtYWpvciBmYWN0
b3IgY29udHJpYnV0aW5nIHRvIHRoZSBwZXJmb3JtYW5jZSBkcm9wIGlzIHRoZSByZWR1Y3Rpb24K
PiA+ID4gb2Ygc2tiIGNvYWxlc2NpbmcuIEFkZGl0aW9uYWxseSwgd2l0aG91dCB0aGUgcGFnZSBw
b29sLCBzbWFsbCBwYWNrZXRzCj4gPiA+IGNhbiBzdGlsbCBiZW5lZml0IGZyb20gdGhlIGFsbG9j
YXRpb24gb2YgOCBjb250aW51b3VzIHBhZ2VzIGJ5Cj4gPiA+IGJyZWFraW5nIHRoZW0gZG93biBp
bnRvIHNtYWxsZXIgcGllY2VzLiBUaGlzIGVmZmVjdGl2ZWx5IHJlZHVjZXMgdGhlCj4gPiA+IGZy
ZXF1ZW5jeSBvZiBwYWdlIGFsbG9jYXRpb24gZnJvbSB0aGUgYnVkZHkgc3lzdGVtLiBGb3IgaW5z
dGFuY2UsIHRoZQo+ID4gPiBhcnJpdmFsIG9mIDMyIDFLIHBhY2tldHMgb25seSB0cmlnZ2VycyBv
bmUgYWxsb2NfcGFnZSBjYWxsLiBUaGVyZWZvcmUsCj4gPiA+IHRoZSBiZW5lZml0cyBvZiB1c2lu
ZyBhIHBhZ2UgcG9vbCBhcmUgbGltaXRlZCBpbiBzdWNoIGNhc2VzLgo+Cj4gSSB3b25kZXIgaWYg
d2UgY2FuIGltcHJvdmUgcGFnZSBwb29sIGluIHRoaXMgY2FzZSBhbnlob3cuCj4KPiA+IEluIGZh
Y3QsCj4gPiA+IHdpdGhvdXQgcGFnZSBwb29sIGZyYWdtZW50aW5nIGVuYWJsZWQsIGl0IGNhbiBl
dmVuIGhpbmRlciBwZXJmb3JtYW5jZQo+ID4gPiBmcm9tIHRoaXMgcGVyc3BlY3RpdmUuCj4gPiA+
Cj4gPiA+IFVwb24gZnVydGhlciBjb25zaWRlcmF0aW9uLCBJIHRlbmQgdG8gYmVsaWV2ZSBtYWtp
bmcgcGFnZSBwb29sIHRoZQo+ID4gPiBkZWZhdWx0IG9wdGlvbiBtYXkgbm90IGJlIGFwcHJvcHJp
YXRlLiBBcyB5b3UgcG9pbnRlZCBvdXQsIHdlIGNhbm5vdAo+ID4gPiBzaW1wbHkgaWdub3JlIHRo
ZSBwZXJmb3JtYW5jZSBpbXBhY3Qgb24gc21hbGwgcGFja2V0cy4gQW55IGNvbW1lbnRzIG9uCj4g
PiA+IHRoaXMgd2lsbCBiZSBtdWNoIGFwcHJlY2lhdGVkLgo+ID4gPgo+ID4gPgo+ID4gPiBUaGFu
a3MsCj4gPiA+IExpYW5nCj4gPgo+ID4KPiA+IFNvLCBsZXQncyBvbmx5IHVzZSBwYWdlIHBvb2wg
Zm9yIFhEUCB0aGVuPwo+Cj4gKzEKCisxCgpUaGFua3MuCgo+Cj4gV2UgY2FuIHN0YXJ0IGZyb20g
dGhpcy4KPgo+IFRoYW5rcwo+Cj4gPgo+ID4gPgo+ID4gPiA+ID4gPiBUaGUgdXNhZ2Ugb2YgcGFn
ZSBwb29sIGZvciBiaWcgbW9kZSBpcyBiZWluZyBldmFsdWF0ZWQgbm93LiBUaGFua3MhCj4gPiA+
ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiAtLS0KPiA+ID4gPiA+ID4gPiA+ICBkcml2ZXJzL25ldC92
aXJ0aW9fbmV0LmMgfCAxODggKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrLS0tLS0tLS0t
Cj4gPiA+ID4gPiA+ID4gPiAgMSBmaWxlIGNoYW5nZWQsIDE0NiBpbnNlcnRpb25zKCspLCA0MiBk
ZWxldGlvbnMoLSkKPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9uZXQvdmlydGlvX25ldC5jIGIvZHJpdmVycy9uZXQvdmlydGlvX25ldC5jCj4gPiA+
ID4gPiA+ID4gPiBpbmRleCBjNWRjYTBkOTJlNjQuLjk5YzBjYTBjMTc4MSAxMDA2NDQKPiA+ID4g
PiA+ID4gPiA+IC0tLSBhL2RyaXZlcnMvbmV0L3ZpcnRpb19uZXQuYwo+ID4gPiA+ID4gPiA+ID4g
KysrIGIvZHJpdmVycy9uZXQvdmlydGlvX25ldC5jCj4gPiA+ID4gPiA+ID4gPiBAQCAtMzEsNiAr
MzEsOSBAQCBtb2R1bGVfcGFyYW0oY3N1bSwgYm9vbCwgMDQ0NCk7Cj4gPiA+ID4gPiA+ID4gPiAg
bW9kdWxlX3BhcmFtKGdzbywgYm9vbCwgMDQ0NCk7Cj4gPiA+ID4gPiA+ID4gPiAgbW9kdWxlX3Bh
cmFtKG5hcGlfdHgsIGJvb2wsIDA2NDQpOwo+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+
ICtzdGF0aWMgYm9vbCBwYWdlX3Bvb2xfZW5hYmxlZDsKPiA+ID4gPiA+ID4gPiA+ICttb2R1bGVf
cGFyYW0ocGFnZV9wb29sX2VuYWJsZWQsIGJvb2wsIDA0MDApOwo+ID4gPiA+ID4gPiA+ID4gKwo+
ID4gPiA+ID4gPiA+ID4gIC8qIEZJWE1FOiBNVFUgaW4gY29uZmlnLiAqLwo+ID4gPiA+ID4gPiA+
ID4gICNkZWZpbmUgR09PRF9QQUNLRVRfTEVOIChFVEhfSExFTiArIFZMQU5fSExFTiArIEVUSF9E
QVRBX0xFTikKPiA+ID4gPiA+ID4gPiA+ICAjZGVmaW5lIEdPT0RfQ09QWV9MRU4gICAgICAgIDEy
OAo+ID4gPiA+ID4gPiA+ID4gQEAgLTE1OSw2ICsxNjIsOSBAQCBzdHJ1Y3QgcmVjZWl2ZV9xdWV1
ZSB7Cj4gPiA+ID4gPiA+ID4gPiAgICAgICAvKiBDaGFpbiBwYWdlcyBieSB0aGUgcHJpdmF0ZSBw
dHIuICovCj4gPiA+ID4gPiA+ID4gPiAgICAgICBzdHJ1Y3QgcGFnZSAqcGFnZXM7Cj4gPiA+ID4g
PiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gKyAgICAgLyogUGFnZSBwb29sICovCj4gPiA+ID4gPiA+
ID4gPiArICAgICBzdHJ1Y3QgcGFnZV9wb29sICpwYWdlX3Bvb2w7Cj4gPiA+ID4gPiA+ID4gPiAr
Cj4gPiA+ID4gPiA+ID4gPiAgICAgICAvKiBBdmVyYWdlIHBhY2tldCBsZW5ndGggZm9yIG1lcmdl
YWJsZSByZWNlaXZlIGJ1ZmZlcnMuICovCj4gPiA+ID4gPiA+ID4gPiAgICAgICBzdHJ1Y3QgZXdt
YV9wa3RfbGVuIG1yZ19hdmdfcGt0X2xlbjsKPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4g
PiBAQCAtNDU5LDYgKzQ2NSwxNCBAQCBzdGF0aWMgc3RydWN0IHNrX2J1ZmYgKnZpcnRuZXRfYnVp
bGRfc2tiKHZvaWQgKmJ1ZiwgdW5zaWduZWQgaW50IGJ1ZmxlbiwKPiA+ID4gPiA+ID4gPiA+ICAg
ICAgIHJldHVybiBza2I7Cj4gPiA+ID4gPiA+ID4gPiAgfQo+ID4gPiA+ID4gPiA+ID4KPiA+ID4g
PiA+ID4gPiA+ICtzdGF0aWMgdm9pZCB2aXJ0bmV0X3B1dF9wYWdlKHN0cnVjdCByZWNlaXZlX3F1
ZXVlICpycSwgc3RydWN0IHBhZ2UgKnBhZ2UpCj4gPiA+ID4gPiA+ID4gPiArewo+ID4gPiA+ID4g
PiA+ID4gKyAgICAgaWYgKHJxLT5wYWdlX3Bvb2wpCj4gPiA+ID4gPiA+ID4gPiArICAgICAgICAg
ICAgIHBhZ2VfcG9vbF9wdXRfZnVsbF9wYWdlKHJxLT5wYWdlX3Bvb2wsIHBhZ2UsIHRydWUpOwo+
ID4gPiA+ID4gPiA+ID4gKyAgICAgZWxzZQo+ID4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICBw
dXRfcGFnZShwYWdlKTsKPiA+ID4gPiA+ID4gPiA+ICt9Cj4gPiA+ID4gPiA+ID4gPiArCj4gPiA+
ID4gPiA+ID4gPiAgLyogQ2FsbGVkIGZyb20gYm90dG9tIGhhbGYgY29udGV4dCAqLwo+ID4gPiA+
ID4gPiA+ID4gIHN0YXRpYyBzdHJ1Y3Qgc2tfYnVmZiAqcGFnZV90b19za2Ioc3RydWN0IHZpcnRu
ZXRfaW5mbyAqdmksCj4gPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBzdHJ1Y3QgcmVjZWl2ZV9xdWV1ZSAqcnEsCj4gPiA+ID4gPiA+ID4gPiBAQCAtNTU1LDcg
KzU2OSw3IEBAIHN0YXRpYyBzdHJ1Y3Qgc2tfYnVmZiAqcGFnZV90b19za2Ioc3RydWN0IHZpcnRu
ZXRfaW5mbyAqdmksCj4gPiA+ID4gPiA+ID4gPiAgICAgICBoZHIgPSBza2Jfdm5ldF9oZHIoc2ti
KTsKPiA+ID4gPiA+ID4gPiA+ICAgICAgIG1lbWNweShoZHIsIGhkcl9wLCBoZHJfbGVuKTsKPiA+
ID4gPiA+ID4gPiA+ICAgICAgIGlmIChwYWdlX3RvX2ZyZWUpCj4gPiA+ID4gPiA+ID4gPiAtICAg
ICAgICAgICAgIHB1dF9wYWdlKHBhZ2VfdG9fZnJlZSk7Cj4gPiA+ID4gPiA+ID4gPiArICAgICAg
ICAgICAgIHZpcnRuZXRfcHV0X3BhZ2UocnEsIHBhZ2VfdG9fZnJlZSk7Cj4gPiA+ID4gPiA+ID4g
Pgo+ID4gPiA+ID4gPiA+ID4gICAgICAgcmV0dXJuIHNrYjsKPiA+ID4gPiA+ID4gPiA+ICB9Cj4g
PiA+ID4gPiA+ID4gPiBAQCAtODAyLDcgKzgxNiw3IEBAIHN0YXRpYyBpbnQgdmlydG5ldF94ZHBf
eG1pdChzdHJ1Y3QgbmV0X2RldmljZSAqZGV2LAo+ID4gPiA+ID4gPiA+ID4gICAgICAgcmV0dXJu
IHJldDsKPiA+ID4gPiA+ID4gPiA+ICB9Cj4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4g
LXN0YXRpYyB2b2lkIHB1dF94ZHBfZnJhZ3Moc3RydWN0IHhkcF9idWZmICp4ZHApCj4gPiA+ID4g
PiA+ID4gPiArc3RhdGljIHZvaWQgcHV0X3hkcF9mcmFncyhzdHJ1Y3QgeGRwX2J1ZmYgKnhkcCwg
c3RydWN0IHJlY2VpdmVfcXVldWUgKnJxKQo+ID4gPiA+ID4gPiA+ID4gIHsKPiA+ID4gPiA+ID4g
PiA+ICAgICAgIHN0cnVjdCBza2Jfc2hhcmVkX2luZm8gKnNoaW5mbzsKPiA+ID4gPiA+ID4gPiA+
ICAgICAgIHN0cnVjdCBwYWdlICp4ZHBfcGFnZTsKPiA+ID4gPiA+ID4gPiA+IEBAIC04MTIsNyAr
ODI2LDcgQEAgc3RhdGljIHZvaWQgcHV0X3hkcF9mcmFncyhzdHJ1Y3QgeGRwX2J1ZmYgKnhkcCkK
PiA+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgc2hpbmZvID0geGRwX2dldF9zaGFyZWRfaW5m
b19mcm9tX2J1ZmYoeGRwKTsKPiA+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgZm9yIChpID0g
MDsgaSA8IHNoaW5mby0+bnJfZnJhZ3M7IGkrKykgewo+ID4gPiA+ID4gPiA+ID4gICAgICAgICAg
ICAgICAgICAgICAgIHhkcF9wYWdlID0gc2tiX2ZyYWdfcGFnZSgmc2hpbmZvLT5mcmFnc1tpXSk7
Cj4gPiA+ID4gPiA+ID4gPiAtICAgICAgICAgICAgICAgICAgICAgcHV0X3BhZ2UoeGRwX3BhZ2Up
Owo+ID4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgIHZpcnRuZXRfcHV0X3BhZ2Uo
cnEsIHhkcF9wYWdlKTsKPiA+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgfQo+ID4gPiA+ID4g
PiA+ID4gICAgICAgfQo+ID4gPiA+ID4gPiA+ID4gIH0KPiA+ID4gPiA+ID4gPiA+IEBAIC05MDMs
NyArOTE3LDExIEBAIHN0YXRpYyBzdHJ1Y3QgcGFnZSAqeGRwX2xpbmVhcml6ZV9wYWdlKHN0cnVj
dCByZWNlaXZlX3F1ZXVlICpycSwKPiA+ID4gPiA+ID4gPiA+ICAgICAgIGlmIChwYWdlX29mZiAr
ICpsZW4gKyB0YWlscm9vbSA+IFBBR0VfU0laRSkKPiA+ID4gPiA+ID4gPiA+ICAgICAgICAgICAg
ICAgcmV0dXJuIE5VTEw7Cj4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gLSAgICAgcGFn
ZSA9IGFsbG9jX3BhZ2UoR0ZQX0FUT01JQyk7Cj4gPiA+ID4gPiA+ID4gPiArICAgICBpZiAocnEt
PnBhZ2VfcG9vbCkKPiA+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgcGFnZSA9IHBhZ2VfcG9v
bF9kZXZfYWxsb2NfcGFnZXMocnEtPnBhZ2VfcG9vbCk7Cj4gPiA+ID4gPiA+ID4gPiArICAgICBl
bHNlCj4gPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgIHBhZ2UgPSBhbGxvY19wYWdlKEdGUF9B
VE9NSUMpOwo+ID4gPiA+ID4gPiA+ID4gKwo+ID4gPiA+ID4gPiA+ID4gICAgICAgaWYgKCFwYWdl
KQo+ID4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICByZXR1cm4gTlVMTDsKPiA+ID4gPiA+ID4g
PiA+Cj4gPiA+ID4gPiA+ID4gPiBAQCAtOTI2LDIxICs5NDQsMjQgQEAgc3RhdGljIHN0cnVjdCBw
YWdlICp4ZHBfbGluZWFyaXplX3BhZ2Uoc3RydWN0IHJlY2VpdmVfcXVldWUgKnJxLAo+ID4gPiA+
ID4gPiA+ID4gICAgICAgICAgICAgICAgKiBpcyBzZW5kaW5nIHBhY2tldCBsYXJnZXIgdGhhbiB0
aGUgTVRVLgo+ID4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICAgKi8KPiA+ID4gPiA+ID4gPiA+
ICAgICAgICAgICAgICAgaWYgKChwYWdlX29mZiArIGJ1ZmxlbiArIHRhaWxyb29tKSA+IFBBR0Vf
U0laRSkgewo+ID4gPiA+ID4gPiA+ID4gLSAgICAgICAgICAgICAgICAgICAgIHB1dF9wYWdlKHAp
Owo+ID4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgIHZpcnRuZXRfcHV0X3BhZ2Uo
cnEsIHApOwo+ID4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICAgICAgICAgIGdvdG8gZXJyX2J1
ZjsKPiA+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgfQo+ID4gPiA+ID4gPiA+ID4KPiA+ID4g
PiA+ID4gPiA+ICAgICAgICAgICAgICAgbWVtY3B5KHBhZ2VfYWRkcmVzcyhwYWdlKSArIHBhZ2Vf
b2ZmLAo+ID4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICAgICAgICAgcGFnZV9hZGRyZXNzKHAp
ICsgb2ZmLCBidWZsZW4pOwo+ID4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICBwYWdlX29mZiAr
PSBidWZsZW47Cj4gPiA+ID4gPiA+ID4gPiAtICAgICAgICAgICAgIHB1dF9wYWdlKHApOwo+ID4g
PiA+ID4gPiA+ID4gKyAgICAgICAgICAgICB2aXJ0bmV0X3B1dF9wYWdlKHJxLCBwKTsKPiA+ID4g
PiA+ID4gPiA+ICAgICAgIH0KPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiAgICAgICAv
KiBIZWFkcm9vbSBkb2VzIG5vdCBjb250cmlidXRlIHRvIHBhY2tldCBsZW5ndGggKi8KPiA+ID4g
PiA+ID4gPiA+ICAgICAgICpsZW4gPSBwYWdlX29mZiAtIFZJUlRJT19YRFBfSEVBRFJPT007Cj4g
PiA+ID4gPiA+ID4gPiAgICAgICByZXR1cm4gcGFnZTsKPiA+ID4gPiA+ID4gPiA+ICBlcnJfYnVm
Ogo+ID4gPiA+ID4gPiA+ID4gLSAgICAgX19mcmVlX3BhZ2VzKHBhZ2UsIDApOwo+ID4gPiA+ID4g
PiA+ID4gKyAgICAgaWYgKHJxLT5wYWdlX3Bvb2wpCj4gPiA+ID4gPiA+ID4gPiArICAgICAgICAg
ICAgIHBhZ2VfcG9vbF9wdXRfZnVsbF9wYWdlKHJxLT5wYWdlX3Bvb2wsIHBhZ2UsIHRydWUpOwo+
ID4gPiA+ID4gPiA+ID4gKyAgICAgZWxzZQo+ID4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICBf
X2ZyZWVfcGFnZXMocGFnZSwgMCk7Cj4gPiA+ID4gPiA+ID4gPiAgICAgICByZXR1cm4gTlVMTDsK
PiA+ID4gPiA+ID4gPiA+ICB9Cj4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gQEAgLTEx
NDQsNyArMTE2NSw3IEBAIHN0YXRpYyB2b2lkIG1lcmdlYWJsZV9idWZfZnJlZShzdHJ1Y3QgcmVj
ZWl2ZV9xdWV1ZSAqcnEsIGludCBudW1fYnVmLAo+ID4gPiA+ID4gPiA+ID4gICAgICAgICAgICAg
ICB9Cj4gPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgIHN0YXRzLT5ieXRlcyArPSBsZW47Cj4g
PiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgIHBhZ2UgPSB2aXJ0X3RvX2hlYWRfcGFnZShidWYp
Owo+ID4gPiA+ID4gPiA+ID4gLSAgICAgICAgICAgICBwdXRfcGFnZShwYWdlKTsKPiA+ID4gPiA+
ID4gPiA+ICsgICAgICAgICAgICAgdmlydG5ldF9wdXRfcGFnZShycSwgcGFnZSk7Cj4gPiA+ID4g
PiA+ID4gPiAgICAgICB9Cj4gPiA+ID4gPiA+ID4gPiAgfQo+ID4gPiA+ID4gPiA+ID4KPiA+ID4g
PiA+ID4gPiA+IEBAIC0xMjY0LDcgKzEyODUsNyBAQCBzdGF0aWMgaW50IHZpcnRuZXRfYnVpbGRf
eGRwX2J1ZmZfbXJnKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYsCj4gPiA+ID4gPiA+ID4gPiAgICAg
ICAgICAgICAgIGN1cl9mcmFnX3NpemUgPSB0cnVlc2l6ZTsKPiA+ID4gPiA+ID4gPiA+ICAgICAg
ICAgICAgICAgeGRwX2ZyYWdzX3RydWVzeiArPSBjdXJfZnJhZ19zaXplOwo+ID4gPiA+ID4gPiA+
ID4gICAgICAgICAgICAgICBpZiAodW5saWtlbHkobGVuID4gdHJ1ZXNpemUgLSByb29tIHx8IGN1
cl9mcmFnX3NpemUgPiBQQUdFX1NJWkUpKSB7Cj4gPiA+ID4gPiA+ID4gPiAtICAgICAgICAgICAg
ICAgICAgICAgcHV0X3BhZ2UocGFnZSk7Cj4gPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAg
ICAgICAgdmlydG5ldF9wdXRfcGFnZShycSwgcGFnZSk7Cj4gPiA+ID4gPiA+ID4gPiAgICAgICAg
ICAgICAgICAgICAgICAgcHJfZGVidWcoIiVzOiByeCBlcnJvcjogbGVuICV1IGV4Y2VlZHMgdHJ1
ZXNpemUgJWx1XG4iLAo+ID4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIGRldi0+bmFtZSwgbGVuLCAodW5zaWduZWQgbG9uZykodHJ1ZXNpemUgLSByb29tKSk7Cj4g
PiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgICAgICAgICAgZGV2LT5zdGF0cy5yeF9sZW5ndGhf
ZXJyb3JzKys7Cj4gPiA+ID4gPiA+ID4gPiBAQCAtMTI4Myw3ICsxMzA0LDcgQEAgc3RhdGljIGlu
dCB2aXJ0bmV0X2J1aWxkX3hkcF9idWZmX21yZyhzdHJ1Y3QgbmV0X2RldmljZSAqZGV2LAo+ID4g
PiA+ID4gPiA+ID4gICAgICAgcmV0dXJuIDA7Cj4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+
ID4gIGVycjoKPiA+ID4gPiA+ID4gPiA+IC0gICAgIHB1dF94ZHBfZnJhZ3MoeGRwKTsKPiA+ID4g
PiA+ID4gPiA+ICsgICAgIHB1dF94ZHBfZnJhZ3MoeGRwLCBycSk7Cj4gPiA+ID4gPiA+ID4gPiAg
ICAgICByZXR1cm4gLUVJTlZBTDsKPiA+ID4gPiA+ID4gPiA+ICB9Cj4gPiA+ID4gPiA+ID4gPgo+
ID4gPiA+ID4gPiA+ID4gQEAgLTEzNDQsNyArMTM2NSwxMCBAQCBzdGF0aWMgdm9pZCAqbWVyZ2Vh
YmxlX3hkcF9nZXRfYnVmKHN0cnVjdCB2aXJ0bmV0X2luZm8gKnZpLAo+ID4gPiA+ID4gPiA+ID4g
ICAgICAgICAgICAgICBpZiAoKmxlbiArIHhkcF9yb29tID4gUEFHRV9TSVpFKQo+ID4gPiA+ID4g
PiA+ID4gICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBOVUxMOwo+ID4gPiA+ID4gPiA+ID4K
PiA+ID4gPiA+ID4gPiA+IC0gICAgICAgICAgICAgeGRwX3BhZ2UgPSBhbGxvY19wYWdlKEdGUF9B
VE9NSUMpOwo+ID4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICBpZiAocnEtPnBhZ2VfcG9vbCkK
PiA+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICB4ZHBfcGFnZSA9IHBhZ2VfcG9v
bF9kZXZfYWxsb2NfcGFnZXMocnEtPnBhZ2VfcG9vbCk7Cj4gPiA+ID4gPiA+ID4gPiArICAgICAg
ICAgICAgIGVsc2UKPiA+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICB4ZHBfcGFn
ZSA9IGFsbG9jX3BhZ2UoR0ZQX0FUT01JQyk7Cj4gPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAg
IGlmICgheGRwX3BhZ2UpCj4gPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgICAgICAgICAgcmV0
dXJuIE5VTEw7Cj4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gQEAgLTEzNTQsNyArMTM3
OCw3IEBAIHN0YXRpYyB2b2lkICptZXJnZWFibGVfeGRwX2dldF9idWYoc3RydWN0IHZpcnRuZXRf
aW5mbyAqdmksCj4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gICAgICAgKmZyYW1lX3N6
ID0gUEFHRV9TSVpFOwo+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+IC0gICAgIHB1dF9w
YWdlKCpwYWdlKTsKPiA+ID4gPiA+ID4gPiA+ICsgICAgIHZpcnRuZXRfcHV0X3BhZ2UocnEsICpw
YWdlKTsKPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiAgICAgICAqcGFnZSA9IHhkcF9w
YWdlOwo+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+IEBAIC0xNDAwLDYgKzE0MjQsOCBA
QCBzdGF0aWMgc3RydWN0IHNrX2J1ZmYgKnJlY2VpdmVfbWVyZ2VhYmxlX3hkcChzdHJ1Y3QgbmV0
X2RldmljZSAqZGV2LAo+ID4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICBoZWFkX3NrYiA9IGJ1
aWxkX3NrYl9mcm9tX3hkcF9idWZmKGRldiwgdmksICZ4ZHAsIHhkcF9mcmFnc190cnVlc3opOwo+
ID4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICBpZiAodW5saWtlbHkoIWhlYWRfc2tiKSkKPiA+
ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKPiA+ID4gPiA+ID4gPiA+
ICsgICAgICAgICAgICAgaWYgKHJxLT5wYWdlX3Bvb2wpCj4gPiA+ID4gPiA+ID4gPiArICAgICAg
ICAgICAgICAgICAgICAgc2tiX21hcmtfZm9yX3JlY3ljbGUoaGVhZF9za2IpOwo+ID4gPiA+ID4g
PiA+ID4gICAgICAgICAgICAgICByZXR1cm4gaGVhZF9za2I7Cj4gPiA+ID4gPiA+ID4gPgo+ID4g
PiA+ID4gPiA+ID4gICAgICAgY2FzZSBYRFBfVFg6Cj4gPiA+ID4gPiA+ID4gPiBAQCAtMTQxMCwx
MCArMTQzNiwxMCBAQCBzdGF0aWMgc3RydWN0IHNrX2J1ZmYgKnJlY2VpdmVfbWVyZ2VhYmxlX3hk
cChzdHJ1Y3QgbmV0X2RldmljZSAqZGV2LAo+ID4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICBi
cmVhazsKPiA+ID4gPiA+ID4gPiA+ICAgICAgIH0KPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+
ID4gPiAtICAgICBwdXRfeGRwX2ZyYWdzKCZ4ZHApOwo+ID4gPiA+ID4gPiA+ID4gKyAgICAgcHV0
X3hkcF9mcmFncygmeGRwLCBycSk7Cj4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gIGVy
cl94ZHA6Cj4gPiA+ID4gPiA+ID4gPiAtICAgICBwdXRfcGFnZShwYWdlKTsKPiA+ID4gPiA+ID4g
PiA+ICsgICAgIHZpcnRuZXRfcHV0X3BhZ2UocnEsIHBhZ2UpOwo+ID4gPiA+ID4gPiA+ID4gICAg
ICAgbWVyZ2VhYmxlX2J1Zl9mcmVlKHJxLCBudW1fYnVmLCBkZXYsIHN0YXRzKTsKPiA+ID4gPiA+
ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiAgICAgICBzdGF0cy0+eGRwX2Ryb3BzKys7Cj4gPiA+ID4g
PiA+ID4gPiBAQCAtMTQ2Nyw2ICsxNDkzLDkgQEAgc3RhdGljIHN0cnVjdCBza19idWZmICpyZWNl
aXZlX21lcmdlYWJsZShzdHJ1Y3QgbmV0X2RldmljZSAqZGV2LAo+ID4gPiA+ID4gPiA+ID4gICAg
ICAgaGVhZF9za2IgPSBwYWdlX3RvX3NrYih2aSwgcnEsIHBhZ2UsIG9mZnNldCwgbGVuLCB0cnVl
c2l6ZSwgaGVhZHJvb20pOwo+ID4gPiA+ID4gPiA+ID4gICAgICAgY3Vycl9za2IgPSBoZWFkX3Nr
YjsKPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiArICAgICBpZiAocnEtPnBhZ2VfcG9v
bCkKPiA+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgc2tiX21hcmtfZm9yX3JlY3ljbGUoY3Vy
cl9za2IpOwo+ID4gPiA+ID4gPiA+ID4gKwo+ID4gPiA+ID4gPiA+ID4gICAgICAgaWYgKHVubGlr
ZWx5KCFjdXJyX3NrYikpCj4gPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgIGdvdG8gZXJyX3Nr
YjsKPiA+ID4gPiA+ID4gPiA+ICAgICAgIHdoaWxlICgtLW51bV9idWYpIHsKPiA+ID4gPiA+ID4g
PiA+IEBAIC0xNTA5LDYgKzE1MzgsOCBAQCBzdGF0aWMgc3RydWN0IHNrX2J1ZmYgKnJlY2VpdmVf
bWVyZ2VhYmxlKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYsCj4gPiA+ID4gPiA+ID4gPiAgICAgICAg
ICAgICAgICAgICAgICAgY3Vycl9za2IgPSBuc2tiOwo+ID4gPiA+ID4gPiA+ID4gICAgICAgICAg
ICAgICAgICAgICAgIGhlYWRfc2tiLT50cnVlc2l6ZSArPSBuc2tiLT50cnVlc2l6ZTsKPiA+ID4g
PiA+ID4gPiA+ICAgICAgICAgICAgICAgICAgICAgICBudW1fc2tiX2ZyYWdzID0gMDsKPiA+ID4g
PiA+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICBpZiAocnEtPnBhZ2VfcG9vbCkKPiA+ID4g
PiA+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNrYl9tYXJrX2Zvcl9yZWN5
Y2xlKGN1cnJfc2tiKTsKPiA+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgfQo+ID4gPiA+ID4g
PiA+ID4gICAgICAgICAgICAgICBpZiAoY3Vycl9za2IgIT0gaGVhZF9za2IpIHsKPiA+ID4gPiA+
ID4gPiA+ICAgICAgICAgICAgICAgICAgICAgICBoZWFkX3NrYi0+ZGF0YV9sZW4gKz0gbGVuOwo+
ID4gPiA+ID4gPiA+ID4gQEAgLTE1MTcsNyArMTU0OCw3IEBAIHN0YXRpYyBzdHJ1Y3Qgc2tfYnVm
ZiAqcmVjZWl2ZV9tZXJnZWFibGUoc3RydWN0IG5ldF9kZXZpY2UgKmRldiwKPiA+ID4gPiA+ID4g
PiA+ICAgICAgICAgICAgICAgfQo+ID4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICBvZmZzZXQg
PSBidWYgLSBwYWdlX2FkZHJlc3MocGFnZSk7Cj4gPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAg
IGlmIChza2JfY2FuX2NvYWxlc2NlKGN1cnJfc2tiLCBudW1fc2tiX2ZyYWdzLCBwYWdlLCBvZmZz
ZXQpKSB7Cj4gPiA+ID4gPiA+ID4gPiAtICAgICAgICAgICAgICAgICAgICAgcHV0X3BhZ2UocGFn
ZSk7Cj4gPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgdmlydG5ldF9wdXRfcGFn
ZShycSwgcGFnZSk7Cj4gPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgICAgICAgICAgc2tiX2Nv
YWxlc2NlX3J4X2ZyYWcoY3Vycl9za2IsIG51bV9za2JfZnJhZ3MgLSAxLAo+ID4gPiA+ID4gPiA+
ID4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlbiwgdHJ1ZXNp
emUpOwo+ID4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICB9IGVsc2Ugewo+ID4gPiA+ID4gPiA+
ID4gQEAgLTE1MzAsNyArMTU2MSw3IEBAIHN0YXRpYyBzdHJ1Y3Qgc2tfYnVmZiAqcmVjZWl2ZV9t
ZXJnZWFibGUoc3RydWN0IG5ldF9kZXZpY2UgKmRldiwKPiA+ID4gPiA+ID4gPiA+ICAgICAgIHJl
dHVybiBoZWFkX3NrYjsKPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiAgZXJyX3NrYjoK
PiA+ID4gPiA+ID4gPiA+IC0gICAgIHB1dF9wYWdlKHBhZ2UpOwo+ID4gPiA+ID4gPiA+ID4gKyAg
ICAgdmlydG5ldF9wdXRfcGFnZShycSwgcGFnZSk7Cj4gPiA+ID4gPiA+ID4gPiAgICAgICBtZXJn
ZWFibGVfYnVmX2ZyZWUocnEsIG51bV9idWYsIGRldiwgc3RhdHMpOwo+ID4gPiA+ID4gPiA+ID4K
PiA+ID4gPiA+ID4gPiA+ICBlcnJfYnVmOgo+ID4gPiA+ID4gPiA+ID4gQEAgLTE3MzcsMzEgKzE3
NjgsNDAgQEAgc3RhdGljIGludCBhZGRfcmVjdmJ1Zl9tZXJnZWFibGUoc3RydWN0IHZpcnRuZXRf
aW5mbyAqdmksCj4gPiA+ID4gPiA+ID4gPiAgICAgICAgKiBkaXNhYmxlZCBHU08gZm9yIFhEUCwg
aXQgd29uJ3QgYmUgYSBiaWcgaXNzdWUuCj4gPiA+ID4gPiA+ID4gPiAgICAgICAgKi8KPiA+ID4g
PiA+ID4gPiA+ICAgICAgIGxlbiA9IGdldF9tZXJnZWFibGVfYnVmX2xlbihycSwgJnJxLT5tcmdf
YXZnX3BrdF9sZW4sIHJvb20pOwo+ID4gPiA+ID4gPiA+ID4gLSAgICAgaWYgKHVubGlrZWx5KCFz
a2JfcGFnZV9mcmFnX3JlZmlsbChsZW4gKyByb29tLCBhbGxvY19mcmFnLCBnZnApKSkKPiA+ID4g
PiA+ID4gPiA+IC0gICAgICAgICAgICAgcmV0dXJuIC1FTk9NRU07Cj4gPiA+ID4gPiA+ID4gPiAr
ICAgICBpZiAocnEtPnBhZ2VfcG9vbCkgewo+ID4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICBz
dHJ1Y3QgcGFnZSAqcGFnZTsKPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiAtICAgICBi
dWYgPSAoY2hhciAqKXBhZ2VfYWRkcmVzcyhhbGxvY19mcmFnLT5wYWdlKSArIGFsbG9jX2ZyYWct
Pm9mZnNldDsKPiA+ID4gPiA+ID4gPiA+IC0gICAgIGJ1ZiArPSBoZWFkcm9vbTsgLyogYWR2YW5j
ZSBhZGRyZXNzIGxlYXZpbmcgaG9sZSBhdCBmcm9udCBvZiBwa3QgKi8KPiA+ID4gPiA+ID4gPiA+
IC0gICAgIGdldF9wYWdlKGFsbG9jX2ZyYWctPnBhZ2UpOwo+ID4gPiA+ID4gPiA+ID4gLSAgICAg
YWxsb2NfZnJhZy0+b2Zmc2V0ICs9IGxlbiArIHJvb207Cj4gPiA+ID4gPiA+ID4gPiAtICAgICBo
b2xlID0gYWxsb2NfZnJhZy0+c2l6ZSAtIGFsbG9jX2ZyYWctPm9mZnNldDsKPiA+ID4gPiA+ID4g
PiA+IC0gICAgIGlmIChob2xlIDwgbGVuICsgcm9vbSkgewo+ID4gPiA+ID4gPiA+ID4gLSAgICAg
ICAgICAgICAvKiBUbyBhdm9pZCBpbnRlcm5hbCBmcmFnbWVudGF0aW9uLCBpZiB0aGVyZSBpcyB2
ZXJ5IGxpa2VseSBub3QKPiA+ID4gPiA+ID4gPiA+IC0gICAgICAgICAgICAgICogZW5vdWdoIHNw
YWNlIGZvciBhbm90aGVyIGJ1ZmZlciwgYWRkIHRoZSByZW1haW5pbmcgc3BhY2UgdG8KPiA+ID4g
PiA+ID4gPiA+IC0gICAgICAgICAgICAgICogdGhlIGN1cnJlbnQgYnVmZmVyLgo+ID4gPiA+ID4g
PiA+ID4gLSAgICAgICAgICAgICAgKiBYRFAgY29yZSBhc3N1bWVzIHRoYXQgZnJhbWVfc2l6ZSBv
ZiB4ZHBfYnVmZiBhbmQgdGhlIGxlbmd0aAo+ID4gPiA+ID4gPiA+ID4gLSAgICAgICAgICAgICAg
KiBvZiB0aGUgZnJhZyBhcmUgUEFHRV9TSVpFLCBzbyB3ZSBkaXNhYmxlIHRoZSBob2xlIG1lY2hh
bmlzbS4KPiA+ID4gPiA+ID4gPiA+IC0gICAgICAgICAgICAgICovCj4gPiA+ID4gPiA+ID4gPiAt
ICAgICAgICAgICAgIGlmICghaGVhZHJvb20pCj4gPiA+ID4gPiA+ID4gPiAtICAgICAgICAgICAg
ICAgICAgICAgbGVuICs9IGhvbGU7Cj4gPiA+ID4gPiA+ID4gPiAtICAgICAgICAgICAgIGFsbG9j
X2ZyYWctPm9mZnNldCArPSBob2xlOwo+ID4gPiA+ID4gPiA+ID4gLSAgICAgfQo+ID4gPiA+ID4g
PiA+ID4gKyAgICAgICAgICAgICBwYWdlID0gcGFnZV9wb29sX2Rldl9hbGxvY19wYWdlcyhycS0+
cGFnZV9wb29sKTsKPiA+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgaWYgKHVubGlrZWx5KCFw
YWdlKSkKPiA+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLUVOT01F
TTsKPiA+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgYnVmID0gKGNoYXIgKilwYWdlX2FkZHJl
c3MocGFnZSk7Cj4gPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgIGJ1ZiArPSBoZWFkcm9vbTsg
LyogYWR2YW5jZSBhZGRyZXNzIGxlYXZpbmcgaG9sZSBhdCBmcm9udCBvZiBwa3QgKi8KPiA+ID4g
PiA+ID4gPiA+ICsgICAgIH0gZWxzZSB7Cj4gPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgIGlm
ICh1bmxpa2VseSghc2tiX3BhZ2VfZnJhZ19yZWZpbGwobGVuICsgcm9vbSwgYWxsb2NfZnJhZywg
Z2ZwKSkpCj4gPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC1FTk9N
RU07Cj4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICBidWYgPSAo
Y2hhciAqKXBhZ2VfYWRkcmVzcyhhbGxvY19mcmFnLT5wYWdlKSArIGFsbG9jX2ZyYWctPm9mZnNl
dDsKPiA+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgYnVmICs9IGhlYWRyb29tOyAvKiBhZHZh
bmNlIGFkZHJlc3MgbGVhdmluZyBob2xlIGF0IGZyb250IG9mIHBrdCAqLwo+ID4gPiA+ID4gPiA+
ID4gKyAgICAgICAgICAgICBnZXRfcGFnZShhbGxvY19mcmFnLT5wYWdlKTsKPiA+ID4gPiA+ID4g
PiA+ICsgICAgICAgICAgICAgYWxsb2NfZnJhZy0+b2Zmc2V0ICs9IGxlbiArIHJvb207Cj4gPiA+
ID4gPiA+ID4gPiArICAgICAgICAgICAgIGhvbGUgPSBhbGxvY19mcmFnLT5zaXplIC0gYWxsb2Nf
ZnJhZy0+b2Zmc2V0Owo+ID4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICBpZiAoaG9sZSA8IGxl
biArIHJvb20pIHsKPiA+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAvKiBUbyBh
dm9pZCBpbnRlcm5hbCBmcmFnbWVudGF0aW9uLCBpZiB0aGVyZSBpcyB2ZXJ5IGxpa2VseSBub3QK
PiA+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgKiBlbm91Z2ggc3BhY2UgZm9y
IGFub3RoZXIgYnVmZmVyLCBhZGQgdGhlIHJlbWFpbmluZyBzcGFjZSB0bwo+ID4gPiA+ID4gPiA+
ID4gKyAgICAgICAgICAgICAgICAgICAgICAqIHRoZSBjdXJyZW50IGJ1ZmZlci4KPiA+ID4gPiA+
ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgKiBYRFAgY29yZSBhc3N1bWVzIHRoYXQgZnJh
bWVfc2l6ZSBvZiB4ZHBfYnVmZiBhbmQgdGhlIGxlbmd0aAo+ID4gPiA+ID4gPiA+ID4gKyAgICAg
ICAgICAgICAgICAgICAgICAqIG9mIHRoZSBmcmFnIGFyZSBQQUdFX1NJWkUsIHNvIHdlIGRpc2Fi
bGUgdGhlIGhvbGUgbWVjaGFuaXNtLgo+ID4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAg
ICAgICAqLwo+ID4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgIGlmICghaGVhZHJv
b20pCj4gPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZW4gKz0g
aG9sZTsKPiA+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICBhbGxvY19mcmFnLT5v
ZmZzZXQgKz0gaG9sZTsKPiA+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgfQo+ID4gPiA+ID4g
PiA+ID4gKyAgICAgfQo+ID4gPiA+ID4gPiA+ID4gICAgICAgc2dfaW5pdF9vbmUocnEtPnNnLCBi
dWYsIGxlbik7Cj4gPiA+ID4gPiA+ID4gPiAgICAgICBjdHggPSBtZXJnZWFibGVfbGVuX3RvX2N0
eChsZW4gKyByb29tLCBoZWFkcm9vbSk7Cj4gPiA+ID4gPiA+ID4gPiAgICAgICBlcnIgPSB2aXJ0
cXVldWVfYWRkX2luYnVmX2N0eChycS0+dnEsIHJxLT5zZywgMSwgYnVmLCBjdHgsIGdmcCk7Cj4g
PiA+ID4gPiA+ID4gPiAgICAgICBpZiAoZXJyIDwgMCkKPiA+ID4gPiA+ID4gPiA+IC0gICAgICAg
ICAgICAgcHV0X3BhZ2UodmlydF90b19oZWFkX3BhZ2UoYnVmKSk7Cj4gPiA+ID4gPiA+ID4gPiAr
ICAgICAgICAgICAgIHZpcnRuZXRfcHV0X3BhZ2UocnEsIHZpcnRfdG9faGVhZF9wYWdlKGJ1Zikp
Owo+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+ICAgICAgIHJldHVybiBlcnI7Cj4gPiA+
ID4gPiA+ID4gPiAgfQo+ID4gPiA+ID4gPiA+ID4gQEAgLTE5OTQsOCArMjAzNCwxNSBAQCBzdGF0
aWMgaW50IHZpcnRuZXRfZW5hYmxlX3F1ZXVlX3BhaXIoc3RydWN0IHZpcnRuZXRfaW5mbyAqdmks
IGludCBxcF9pbmRleCkKPiA+ID4gPiA+ID4gPiA+ICAgICAgIGlmIChlcnIgPCAwKQo+ID4gPiA+
ID4gPiA+ID4gICAgICAgICAgICAgICByZXR1cm4gZXJyOwo+ID4gPiA+ID4gPiA+ID4KPiA+ID4g
PiA+ID4gPiA+IC0gICAgIGVyciA9IHhkcF9yeHFfaW5mb19yZWdfbWVtX21vZGVsKCZ2aS0+cnFb
cXBfaW5kZXhdLnhkcF9yeHEsCj4gPiA+ID4gPiA+ID4gPiAtICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBNRU1fVFlQRV9QQUdFX1NIQVJFRCwgTlVMTCk7Cj4gPiA+ID4gPiA+
ID4gPiArICAgICBpZiAodmktPnJxW3FwX2luZGV4XS5wYWdlX3Bvb2wpCj4gPiA+ID4gPiA+ID4g
PiArICAgICAgICAgICAgIGVyciA9IHhkcF9yeHFfaW5mb19yZWdfbWVtX21vZGVsKCZ2aS0+cnFb
cXBfaW5kZXhdLnhkcF9yeHEsCj4gPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIE1FTV9UWVBFX1BBR0VfUE9PTCwKPiA+ID4gPiA+ID4g
PiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmktPnJx
W3FwX2luZGV4XS5wYWdlX3Bvb2wpOwo+ID4gPiA+ID4gPiA+ID4gKyAgICAgZWxzZQo+ID4gPiA+
ID4gPiA+ID4gKyAgICAgICAgICAgICBlcnIgPSB4ZHBfcnhxX2luZm9fcmVnX21lbV9tb2RlbCgm
dmktPnJxW3FwX2luZGV4XS54ZHBfcnhxLAo+ID4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNRU1fVFlQRV9QQUdFX1NIQVJFRCwKPiA+
ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgTlVMTCk7Cj4gPiA+ID4gPiA+ID4gPiArCj4gPiA+ID4gPiA+ID4gPiAgICAgICBpZiAoZXJy
IDwgMCkKPiA+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgZ290byBlcnJfeGRwX3JlZ19tZW1f
bW9kZWw7Cj4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ID4gQEAgLTI5NTEsNiArMjk5OCw3
IEBAIHN0YXRpYyB2b2lkIHZpcnRuZXRfZ2V0X3N0cmluZ3Moc3RydWN0IG5ldF9kZXZpY2UgKmRl
diwgdTMyIHN0cmluZ3NldCwgdTggKmRhdGEpCj4gPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBldGh0b29sX3NwcmludGYoJnAsICJ0eF9xdWV1ZV8ldV8lcyIsIGks
Cj4gPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgdmlydG5ldF9zcV9zdGF0c19kZXNjW2pdLmRlc2MpOwo+ID4gPiA+ID4gPiA+ID4gICAg
ICAgICAgICAgICB9Cj4gPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgIHBhZ2VfcG9vbF9ldGh0
b29sX3N0YXRzX2dldF9zdHJpbmdzKHApOwo+ID4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICBi
cmVhazsKPiA+ID4gPiA+ID4gPiA+ICAgICAgIH0KPiA+ID4gPiA+ID4gPiA+ICB9Cj4gPiA+ID4g
PiA+ID4gPiBAQCAtMjk2MiwxMiArMzAxMCwzMCBAQCBzdGF0aWMgaW50IHZpcnRuZXRfZ2V0X3Nz
ZXRfY291bnQoc3RydWN0IG5ldF9kZXZpY2UgKmRldiwgaW50IHNzZXQpCj4gPiA+ID4gPiA+ID4g
PiAgICAgICBzd2l0Y2ggKHNzZXQpIHsKPiA+ID4gPiA+ID4gPiA+ICAgICAgIGNhc2UgRVRIX1NT
X1NUQVRTOgo+ID4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICByZXR1cm4gdmktPmN1cnJfcXVl
dWVfcGFpcnMgKiAoVklSVE5FVF9SUV9TVEFUU19MRU4gKwo+ID4gPiA+ID4gPiA+ID4gLSAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVklSVE5FVF9TUV9TVEFUU19M
RU4pOwo+ID4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgVklSVE5FVF9TUV9TVEFUU19MRU4gKwo+ID4gPiA+ID4gPiA+ID4gKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwYWdlX3Bvb2xfZW5hYmxlZCAm
JiB2aS0+bWVyZ2VhYmxlX3J4X2J1ZnMgPwo+ID4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlX3Bvb2xfZXRodG9vbF9zdGF0c19n
ZXRfY291bnQoKSA6IDApKTsKPiA+ID4gPiA+ID4gPiA+ICAgICAgIGRlZmF1bHQ6Cj4gPiA+ID4g
PiA+ID4gPiAgICAgICAgICAgICAgIHJldHVybiAtRU9QTk9UU1VQUDsKPiA+ID4gPiA+ID4gPiA+
ICAgICAgIH0KPiA+ID4gPiA+ID4gPiA+ICB9Cj4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+
ID4gK3N0YXRpYyB2b2lkIHZpcnRuZXRfZ2V0X3BhZ2VfcG9vbF9zdGF0cyhzdHJ1Y3QgbmV0X2Rl
dmljZSAqZGV2LCB1NjQgKmRhdGEpCj4gPiA+ID4gPiA+ID4gPiArewo+ID4gPiA+ID4gPiA+ID4g
KyNpZmRlZiBDT05GSUdfUEFHRV9QT09MX1NUQVRTCj4gPiA+ID4gPiA+ID4gPiArICAgICBzdHJ1
Y3QgdmlydG5ldF9pbmZvICp2aSA9IG5ldGRldl9wcml2KGRldik7Cj4gPiA+ID4gPiA+ID4gPiAr
ICAgICBzdHJ1Y3QgcGFnZV9wb29sX3N0YXRzIHBwX3N0YXRzID0ge307Cj4gPiA+ID4gPiA+ID4g
PiArICAgICBpbnQgaTsKPiA+ID4gPiA+ID4gPiA+ICsKPiA+ID4gPiA+ID4gPiA+ICsgICAgIGZv
ciAoaSA9IDA7IGkgPCB2aS0+Y3Vycl9xdWV1ZV9wYWlyczsgaSsrKSB7Cj4gPiA+ID4gPiA+ID4g
PiArICAgICAgICAgICAgIGlmICghdmktPnJxW2ldLnBhZ2VfcG9vbCkKPiA+ID4gPiA+ID4gPiA+
ICsgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKPiA+ID4gPiA+ID4gPiA+ICsgICAgICAg
ICAgICAgcGFnZV9wb29sX2dldF9zdGF0cyh2aS0+cnFbaV0ucGFnZV9wb29sLCAmcHBfc3RhdHMp
Owo+ID4gPiA+ID4gPiA+ID4gKyAgICAgfQo+ID4gPiA+ID4gPiA+ID4gKyAgICAgcGFnZV9wb29s
X2V0aHRvb2xfc3RhdHNfZ2V0KGRhdGEsICZwcF9zdGF0cyk7Cj4gPiA+ID4gPiA+ID4gPiArI2Vu
ZGlmIC8qIENPTkZJR19QQUdFX1BPT0xfU1RBVFMgKi8KPiA+ID4gPiA+ID4gPiA+ICt9Cj4gPiA+
ID4gPiA+ID4gPiArCj4gPiA+ID4gPiA+ID4gPiAgc3RhdGljIHZvaWQgdmlydG5ldF9nZXRfZXRo
dG9vbF9zdGF0cyhzdHJ1Y3QgbmV0X2RldmljZSAqZGV2LAo+ID4gPiA+ID4gPiA+ID4gICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGV0aHRvb2xfc3RhdHMgKnN0YXRz
LCB1NjQgKmRhdGEpCj4gPiA+ID4gPiA+ID4gPiAgewo+ID4gPiA+ID4gPiA+ID4gQEAgLTMwMDMs
NiArMzA2OSw4IEBAIHN0YXRpYyB2b2lkIHZpcnRuZXRfZ2V0X2V0aHRvb2xfc3RhdHMoc3RydWN0
IG5ldF9kZXZpY2UgKmRldiwKPiA+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgfSB3aGlsZSAo
dTY0X3N0YXRzX2ZldGNoX3JldHJ5KCZzcS0+c3RhdHMuc3luY3AsIHN0YXJ0KSk7Cj4gPiA+ID4g
PiA+ID4gPiAgICAgICAgICAgICAgIGlkeCArPSBWSVJUTkVUX1NRX1NUQVRTX0xFTjsKPiA+ID4g
PiA+ID4gPiA+ICAgICAgIH0KPiA+ID4gPiA+ID4gPiA+ICsKPiA+ID4gPiA+ID4gPiA+ICsgICAg
IHZpcnRuZXRfZ2V0X3BhZ2VfcG9vbF9zdGF0cyhkZXYsICZkYXRhW2lkeF0pOwo+ID4gPiA+ID4g
PiA+ID4gIH0KPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiAgc3RhdGljIHZvaWQgdmly
dG5ldF9nZXRfY2hhbm5lbHMoc3RydWN0IG5ldF9kZXZpY2UgKmRldiwKPiA+ID4gPiA+ID4gPiA+
IEBAIC0zNjIzLDYgKzM2OTEsOCBAQCBzdGF0aWMgdm9pZCB2aXJ0bmV0X2ZyZWVfcXVldWVzKHN0
cnVjdCB2aXJ0bmV0X2luZm8gKnZpKQo+ID4gPiA+ID4gPiA+ID4gICAgICAgZm9yIChpID0gMDsg
aSA8IHZpLT5tYXhfcXVldWVfcGFpcnM7IGkrKykgewo+ID4gPiA+ID4gPiA+ID4gICAgICAgICAg
ICAgICBfX25ldGlmX25hcGlfZGVsKCZ2aS0+cnFbaV0ubmFwaSk7Cj4gPiA+ID4gPiA+ID4gPiAg
ICAgICAgICAgICAgIF9fbmV0aWZfbmFwaV9kZWwoJnZpLT5zcVtpXS5uYXBpKTsKPiA+ID4gPiA+
ID4gPiA+ICsgICAgICAgICAgICAgaWYgKHZpLT5ycVtpXS5wYWdlX3Bvb2wpCj4gPiA+ID4gPiA+
ID4gPiArICAgICAgICAgICAgICAgICAgICAgcGFnZV9wb29sX2Rlc3Ryb3kodmktPnJxW2ldLnBh
Z2VfcG9vbCk7Cj4gPiA+ID4gPiA+ID4gPiAgICAgICB9Cj4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+
ID4gPiA+ID4gICAgICAgLyogV2UgY2FsbGVkIF9fbmV0aWZfbmFwaV9kZWwoKSwKPiA+ID4gPiA+
ID4gPiA+IEBAIC0zNjc5LDEyICszNzQ5LDE5IEBAIHN0YXRpYyB2b2lkIHZpcnRuZXRfcnFfZnJl
ZV91bnVzZWRfYnVmKHN0cnVjdCB2aXJ0cXVldWUgKnZxLCB2b2lkICpidWYpCj4gPiA+ID4gPiA+
ID4gPiAgICAgICBzdHJ1Y3QgdmlydG5ldF9pbmZvICp2aSA9IHZxLT52ZGV2LT5wcml2Owo+ID4g
PiA+ID4gPiA+ID4gICAgICAgaW50IGkgPSB2cTJyeHEodnEpOwo+ID4gPiA+ID4gPiA+ID4KPiA+
ID4gPiA+ID4gPiA+IC0gICAgIGlmICh2aS0+bWVyZ2VhYmxlX3J4X2J1ZnMpCj4gPiA+ID4gPiA+
ID4gPiAtICAgICAgICAgICAgIHB1dF9wYWdlKHZpcnRfdG9faGVhZF9wYWdlKGJ1ZikpOwo+ID4g
PiA+ID4gPiA+ID4gLSAgICAgZWxzZSBpZiAodmktPmJpZ19wYWNrZXRzKQo+ID4gPiA+ID4gPiA+
ID4gKyAgICAgaWYgKHZpLT5tZXJnZWFibGVfcnhfYnVmcykgewo+ID4gPiA+ID4gPiA+ID4gKyAg
ICAgICAgICAgICBpZiAodmktPnJxW2ldLnBhZ2VfcG9vbCkgewo+ID4gPiA+ID4gPiA+ID4gKyAg
ICAgICAgICAgICAgICAgICAgIHBhZ2VfcG9vbF9wdXRfZnVsbF9wYWdlKHZpLT5ycVtpXS5wYWdl
X3Bvb2wsCj4gPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgdmlydF90b19oZWFkX3BhZ2UoYnVmKSwKPiA+ID4gPiA+ID4gPiA+ICsgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlKTsKPiA+ID4gPiA+
ID4gPiA+ICsgICAgICAgICAgICAgfSBlbHNlIHsKPiA+ID4gPiA+ID4gPiA+ICsgICAgICAgICAg
ICAgICAgICAgICBwdXRfcGFnZSh2aXJ0X3RvX2hlYWRfcGFnZShidWYpKTsKPiA+ID4gPiA+ID4g
PiA+ICsgICAgICAgICAgICAgfQo+ID4gPiA+ID4gPiA+ID4gKyAgICAgfSBlbHNlIGlmICh2aS0+
YmlnX3BhY2tldHMpIHsKPiA+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgZ2l2ZV9wYWdlcygm
dmktPnJxW2ldLCBidWYpOwo+ID4gPiA+ID4gPiA+ID4gLSAgICAgZWxzZQo+ID4gPiA+ID4gPiA+
ID4gKyAgICAgfSBlbHNlIHsKPiA+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgcHV0X3BhZ2Uo
dmlydF90b19oZWFkX3BhZ2UoYnVmKSk7Cj4gPiA+ID4gPiA+ID4gPiArICAgICB9Cj4gPiA+ID4g
PiA+ID4gPiAgfQo+ID4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiA+ICBzdGF0aWMgdm9pZCBm
cmVlX3VudXNlZF9idWZzKHN0cnVjdCB2aXJ0bmV0X2luZm8gKnZpKQo+ID4gPiA+ID4gPiA+ID4g
QEAgLTM3MTgsNiArMzc5NSwyNiBAQCBzdGF0aWMgdm9pZCB2aXJ0bmV0X2RlbF92cXMoc3RydWN0
IHZpcnRuZXRfaW5mbyAqdmkpCj4gPiA+ID4gPiA+ID4gPiAgICAgICB2aXJ0bmV0X2ZyZWVfcXVl
dWVzKHZpKTsKPiA+ID4gPiA+ID4gPiA+ICB9Cj4gPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+
ID4gK3N0YXRpYyB2b2lkIHZpcnRuZXRfYWxsb2NfcGFnZV9wb29sKHN0cnVjdCByZWNlaXZlX3F1
ZXVlICpycSkKPiA+ID4gPiA+ID4gPiA+ICt7Cj4gPiA+ID4gPiA+ID4gPiArICAgICBzdHJ1Y3Qg
dmlydGlvX2RldmljZSAqdmRldiA9IHJxLT52cS0+dmRldjsKPiA+ID4gPiA+ID4gPiA+ICsKPiA+
ID4gPiA+ID4gPiA+ICsgICAgIHN0cnVjdCBwYWdlX3Bvb2xfcGFyYW1zIHBwX3BhcmFtcyA9IHsK
PiA+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgLm9yZGVyID0gMCwKPiA+ID4gPiA+ID4gPiA+
ICsgICAgICAgICAgICAgLnBvb2xfc2l6ZSA9IHJxLT52cS0+bnVtX21heCwKPiA+ID4gPiA+ID4g
PiA+ICsgICAgICAgICAgICAgLm5pZCA9IGRldl90b19ub2RlKHZkZXYtPmRldi5wYXJlbnQpLAo+
ID4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAuZGV2ID0gdmRldi0+ZGV2LnBhcmVudCwKPiA+
ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgLm9mZnNldCA9IDAsCj4gPiA+ID4gPiA+ID4gPiAr
ICAgICB9Owo+ID4gPiA+ID4gPiA+ID4gKwo+ID4gPiA+ID4gPiA+ID4gKyAgICAgcnEtPnBhZ2Vf
cG9vbCA9IHBhZ2VfcG9vbF9jcmVhdGUoJnBwX3BhcmFtcyk7Cj4gPiA+ID4gPiA+ID4gPiArICAg
ICBpZiAoSVNfRVJSKHJxLT5wYWdlX3Bvb2wpKSB7Cj4gPiA+ID4gPiA+ID4gPiArICAgICAgICAg
ICAgIGRldl93YXJuKCZ2ZGV2LT5kZXYsICJwYWdlIHBvb2wgY3JlYXRpb24gZmFpbGVkOiAlbGRc
biIsCj4gPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgIFBUUl9FUlIocnEtPnBh
Z2VfcG9vbCkpOwo+ID4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICBycS0+cGFnZV9wb29sID0g
TlVMTDsKPiA+ID4gPiA+ID4gPiA+ICsgICAgIH0KPiA+ID4gPiA+ID4gPiA+ICt9Cj4gPiA+ID4g
PiA+ID4gPiArCj4gPiA+ID4gPiA+ID4gPiAgLyogSG93IGxhcmdlIHNob3VsZCBhIHNpbmdsZSBi
dWZmZXIgYmUgc28gYSBxdWV1ZSBmdWxsIG9mIHRoZXNlIGNhbiBmaXQgYXQKPiA+ID4gPiA+ID4g
PiA+ICAgKiBsZWFzdCBvbmUgZnVsbCBwYWNrZXQ/Cj4gPiA+ID4gPiA+ID4gPiAgICogTG9naWMg
YmVsb3cgYXNzdW1lcyB0aGUgbWVyZ2VhYmxlIGJ1ZmZlciBoZWFkZXIgaXMgdXNlZC4KPiA+ID4g
PiA+ID4gPiA+IEBAIC0zODAxLDYgKzM4OTgsMTMgQEAgc3RhdGljIGludCB2aXJ0bmV0X2ZpbmRf
dnFzKHN0cnVjdCB2aXJ0bmV0X2luZm8gKnZpKQo+ID4gPiA+ID4gPiA+ID4gICAgICAgICAgICAg
ICB2aS0+cnFbaV0udnEgPSB2cXNbcnhxMnZxKGkpXTsKPiA+ID4gPiA+ID4gPiA+ICAgICAgICAg
ICAgICAgdmktPnJxW2ldLm1pbl9idWZfbGVuID0gbWVyZ2VhYmxlX21pbl9idWZfbGVuKHZpLCB2
aS0+cnFbaV0udnEpOwo+ID4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICB2aS0+c3FbaV0udnEg
PSB2cXNbdHhxMnZxKGkpXTsKPiA+ID4gPiA+ID4gPiA+ICsKPiA+ID4gPiA+ID4gPiA+ICsgICAg
ICAgICAgICAgaWYgKHBhZ2VfcG9vbF9lbmFibGVkICYmIHZpLT5tZXJnZWFibGVfcnhfYnVmcykK
PiA+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICB2aXJ0bmV0X2FsbG9jX3BhZ2Vf
cG9vbCgmdmktPnJxW2ldKTsKPiA+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgZWxzZQo+ID4g
PiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgIGRldl93YXJuKCZ2aS0+dmRldi0+ZGV2
LAo+ID4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJwYWdlIHBv
b2wgb25seSBzdXBwb3J0IG1lcmdlYWJsZSBtb2RlXG4iKTsKPiA+ID4gPiA+ID4gPiA+ICsKPiA+
ID4gPiA+ID4gPiA+ICAgICAgIH0KPiA+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gPiAgICAg
ICAvKiBydW4gaGVyZTogcmV0ID09IDAuICovCj4gPiA+ID4gPiA+ID4gPiAtLQo+ID4gPiA+ID4g
PiA+ID4gMi4zMS4xCj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+Cj4gPgo+Cl9fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClZpcnR1YWxpemF0aW9uIG1haWxpbmcg
bGlzdApWaXJ0dWFsaXphdGlvbkBsaXN0cy5saW51eC1mb3VuZGF0aW9uLm9yZwpodHRwczovL2xp
c3RzLmxpbnV4Zm91bmRhdGlvbi5vcmcvbWFpbG1hbi9saXN0aW5mby92aXJ0dWFsaXphdGlvbg==

