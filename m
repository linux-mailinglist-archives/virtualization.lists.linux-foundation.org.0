Return-Path: <virtualization-bounces@lists.linux-foundation.org>
X-Original-To: lists.virtualization@lfdr.de
Delivered-To: lists.virtualization@lfdr.de
Received: from smtp3.osuosl.org (smtp3.osuosl.org [IPv6:2605:bc80:3010::136])
	by mail.lfdr.de (Postfix) with ESMTPS id 2289A728E36
	for <lists.virtualization@lfdr.de>; Fri,  9 Jun 2023 04:57:42 +0200 (CEST)
Received: from localhost (localhost [127.0.0.1])
	by smtp3.osuosl.org (Postfix) with ESMTP id C4C53611E4;
	Fri,  9 Jun 2023 02:57:39 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp3.osuosl.org C4C53611E4
Authentication-Results: smtp3.osuosl.org;
	dkim=fail reason="signature verification failed" (2048-bit key) header.d=gmail.com header.i=@gmail.com header.a=rsa-sha256 header.s=20221208 header.b=i1G9Eo9Q
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp3.osuosl.org ([127.0.0.1])
	by localhost (smtp3.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id df83Sdwpplwi; Fri,  9 Jun 2023 02:57:38 +0000 (UTC)
Received: from lists.linuxfoundation.org (lf-lists.osuosl.org [140.211.9.56])
	by smtp3.osuosl.org (Postfix) with ESMTPS id 8497F6112B;
	Fri,  9 Jun 2023 02:57:37 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp3.osuosl.org 8497F6112B
Received: from lf-lists.osuosl.org (localhost [127.0.0.1])
	by lists.linuxfoundation.org (Postfix) with ESMTP id 8F8AAC0089;
	Fri,  9 Jun 2023 02:57:36 +0000 (UTC)
X-Original-To: virtualization@lists.linux-foundation.org
Delivered-To: virtualization@lists.linuxfoundation.org
Received: from smtp2.osuosl.org (smtp2.osuosl.org [140.211.166.133])
 by lists.linuxfoundation.org (Postfix) with ESMTP id 831EAC0029
 for <virtualization@lists.linux-foundation.org>;
 Fri,  9 Jun 2023 02:57:34 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by smtp2.osuosl.org (Postfix) with ESMTP id 57A40405EB
 for <virtualization@lists.linux-foundation.org>;
 Fri,  9 Jun 2023 02:57:34 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp2.osuosl.org 57A40405EB
Authentication-Results: smtp2.osuosl.org;
 dkim=pass (2048-bit key) header.d=gmail.com header.i=@gmail.com
 header.a=rsa-sha256 header.s=20221208 header.b=i1G9Eo9Q
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp2.osuosl.org ([127.0.0.1])
 by localhost (smtp2.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 6VNrU0F0bb9F
 for <virtualization@lists.linux-foundation.org>;
 Fri,  9 Jun 2023 02:57:32 +0000 (UTC)
X-Greylist: whitelisted by SQLgrey-1.8.0
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp2.osuosl.org 3A104404C2
Received: from mail-lf1-x12b.google.com (mail-lf1-x12b.google.com
 [IPv6:2a00:1450:4864:20::12b])
 by smtp2.osuosl.org (Postfix) with ESMTPS id 3A104404C2
 for <virtualization@lists.linux-foundation.org>;
 Fri,  9 Jun 2023 02:57:32 +0000 (UTC)
Received: by mail-lf1-x12b.google.com with SMTP id
 2adb3069b0e04-4effb818c37so1598435e87.3
 for <virtualization@lists.linux-foundation.org>;
 Thu, 08 Jun 2023 19:57:32 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20221208; t=1686279450; x=1688871450;
 h=content-transfer-encoding:cc:to:subject:message-id:date:from
 :in-reply-to:references:mime-version:from:to:cc:subject:date
 :message-id:reply-to;
 bh=JlOgNAgCosan9djqDRRerXj95eaNYMToslq2sf0BV5Q=;
 b=i1G9Eo9QQi8t4vtKvVgXpe7PrQSRC8u8erUfkbplB6YbGlODeK+UiANi8y3tt+WXr8
 l4h+TDuLqzaxCFce3cyBggBZNkypTAMYXn4CgDJB1729pcOvljx/RDT50gDl1mEfVcQa
 P3kTNn9wOYvk7Q0QhWK6jxkCEmP4t2y1XksyO6Z6nIdztMuAuRex6t9fdfuNVVbIvFXK
 Y3S/7nsalEeJGRGyWNjiQ9NWMTwRgs/YUsHzAGWu+2rQqTvGlB/yVKw+J6XIivvUvJ3q
 Wz9wDcJbkjvHAqYnlkkeRrP8pJnoy5aEvMS+JCatnKQMDDnmbSG7DiD7aMgQ55a0wfhE
 STfQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20221208; t=1686279450; x=1688871450;
 h=content-transfer-encoding:cc:to:subject:message-id:date:from
 :in-reply-to:references:mime-version:x-gm-message-state:from:to:cc
 :subject:date:message-id:reply-to;
 bh=JlOgNAgCosan9djqDRRerXj95eaNYMToslq2sf0BV5Q=;
 b=ayjwjJJoAGjs+XaNdLIvx6WBH2f1VyHCQylTEl41vUoEspktmZ3fWsVeRenh8P93F1
 cSz1G8HYn3nP+oPbeY0XknGtPwSiSai4gz7Lwa1H6zcc0sjfzV4vhu+4uiPn9AbXv6a5
 12lZEsJ5c78RBJipEYHubn/VHzDNkmAlQK6ay1kTw8qPKP6yz3Os7QyJ6a7ew/pUuEAf
 EtO3zBFEYdsxKIkv4oqHQvnYM7Ukx5976ikvjh0IL6At+MVO2Lb3hgdquZlU3G6ta1WE
 GUVwnRyVtRWPAKQNFABtr2Wnie5zhzf/wNNEVfOgqxIwTcnNVgc5WkYtIIWzthb6Ak29
 Qpkw==
X-Gm-Message-State: AC+VfDzHtCSvM/UJWRHhUCiEnJzS3kw0HQTlAymMMFKql2qIHcyzkWRW
 +q/Aj6jQQ4TPfGcOX4sQhonrNmQYr3DxRzwQFII=
X-Google-Smtp-Source: ACHHUZ5NGJh4jdVBEPJtXILQ7aLbZ49VXAleXNWmd/UjhQHOhHxA8N1d3jD914uUTHhV48M+dr4S4VAwYFc8kysWZqo=
X-Received: by 2002:a2e:9207:0:b0:2b1:fdcc:3c5d with SMTP id
 k7-20020a2e9207000000b002b1fdcc3c5dmr239115ljg.48.1686279449476; Thu, 08 Jun
 2023 19:57:29 -0700 (PDT)
MIME-Version: 1.0
References: <20230526054621.18371-1-liangchen.linux@gmail.com>
 <20230526054621.18371-2-liangchen.linux@gmail.com>
 <20230528021708-mutt-send-email-mst@kernel.org>
 <CAKhg4tKzW6akbKLvg1UFpey+Lkiic3hBWh87jyg-a8ASchPvMA@mail.gmail.com>
 <20230529055439-mutt-send-email-mst@kernel.org>
 <CAKhg4t+64E5oisgwpJvt5zwcAzKpLoNhN-cMutRuiC9D-Z7C5A@mail.gmail.com>
 <CAKhg4tKpBFgGaEq743dvYJxZFavDSyOdqbvc7mE4+_sqeSpgQQ@mail.gmail.com>
 <20230607161724-mutt-send-email-mst@kernel.org>
In-Reply-To: <20230607161724-mutt-send-email-mst@kernel.org>
From: Liang Chen <liangchen.linux@gmail.com>
Date: Fri, 9 Jun 2023 10:57:16 +0800
Message-ID: <CAKhg4tJD5omoThYU8_kOkSDyPV3G9JcM-z35Mu99ew05B_bZ+g@mail.gmail.com>
Subject: Re: [PATCH net-next 2/5] virtio_net: Add page_pool support to improve
 performance
To: "Michael S. Tsirkin" <mst@redhat.com>
Cc: xuanzhuo@linux.alibaba.com, netdev@vger.kernel.org,
 linux-kernel@vger.kernel.org, alexander.duyck@gmail.com,
 virtualization@lists.linux-foundation.org, edumazet@google.com,
 kuba@kernel.org, pabeni@redhat.com, davem@davemloft.net
X-BeenThere: virtualization@lists.linux-foundation.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: Linux virtualization <virtualization.lists.linux-foundation.org>
List-Unsubscribe: <https://lists.linuxfoundation.org/mailman/options/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=unsubscribe>
List-Archive: <http://lists.linuxfoundation.org/pipermail/virtualization/>
List-Post: <mailto:virtualization@lists.linux-foundation.org>
List-Help: <mailto:virtualization-request@lists.linux-foundation.org?subject=help>
List-Subscribe: <https://lists.linuxfoundation.org/mailman/listinfo/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: virtualization-bounces@lists.linux-foundation.org
Sender: "Virtualization" <virtualization-bounces@lists.linux-foundation.org>

T24gVGh1LCBKdW4gOCwgMjAyMyBhdCA0OjE34oCvQU0gTWljaGFlbCBTLiBUc2lya2luIDxtc3RA
cmVkaGF0LmNvbT4gd3JvdGU6Cj4KPiBPbiBXZWQsIEp1biAwNywgMjAyMyBhdCAwNTowODo1OVBN
ICswODAwLCBMaWFuZyBDaGVuIHdyb3RlOgo+ID4gT24gVHVlLCBNYXkgMzAsIDIwMjMgYXQgOTox
OeKAr0FNIExpYW5nIENoZW4gPGxpYW5nY2hlbi5saW51eEBnbWFpbC5jb20+IHdyb3RlOgo+ID4g
Pgo+ID4gPiBPbiBNb24sIE1heSAyOSwgMjAyMyBhdCA1OjU14oCvUE0gTWljaGFlbCBTLiBUc2ly
a2luIDxtc3RAcmVkaGF0LmNvbT4gd3JvdGU6Cj4gPiA+ID4KPiA+ID4gPiBPbiBNb24sIE1heSAy
OSwgMjAyMyBhdCAwMzoyNzo1NlBNICswODAwLCBMaWFuZyBDaGVuIHdyb3RlOgo+ID4gPiA+ID4g
T24gU3VuLCBNYXkgMjgsIDIwMjMgYXQgMjoyMOKAr1BNIE1pY2hhZWwgUy4gVHNpcmtpbiA8bXN0
QHJlZGhhdC5jb20+IHdyb3RlOgo+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiBPbiBGcmksIE1heSAy
NiwgMjAyMyBhdCAwMTo0NjoxOFBNICswODAwLCBMaWFuZyBDaGVuIHdyb3RlOgo+ID4gPiA+ID4g
PiA+IFRoZSBpbXBsZW1lbnRhdGlvbiBhdCB0aGUgbW9tZW50IHVzZXMgb25lIHBhZ2UgcGVyIHBh
Y2tldCBpbiBib3RoIHRoZQo+ID4gPiA+ID4gPiA+IG5vcm1hbCBhbmQgWERQIHBhdGguIEluIGFk
ZGl0aW9uLCBpbnRyb2R1Y2luZyBhIG1vZHVsZSBwYXJhbWV0ZXIgdG8gZW5hYmxlCj4gPiA+ID4g
PiA+ID4gb3IgZGlzYWJsZSB0aGUgdXNhZ2Ugb2YgcGFnZSBwb29sIChkaXNhYmxlZCBieSBkZWZh
dWx0KS4KPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+IEluIHNpbmdsZS1jb3JlIHZtIHRlc3Rp
bmcgZW52aXJvbm1lbnRzLCBpdCBnaXZlcyBhIG1vZGVzdCBwZXJmb3JtYW5jZSBnYWluCj4gPiA+
ID4gPiA+ID4gaW4gdGhlIG5vcm1hbCBwYXRoLgo+ID4gPiA+ID4gPiA+ICAgVXBzdHJlYW0gY29k
ZWJhc2U6IDQ3LjUgR2JpdHMvc2VjCj4gPiA+ID4gPiA+ID4gICBVcHN0cmVhbSBjb2RlYmFzZSAr
IHBhZ2VfcG9vbCBzdXBwb3J0OiA1MC4yIEdiaXRzL3NlYwo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4g
PiA+ID4gSW4gbXVsdGktY29yZSB2bSB0ZXN0aW5nIGVudmlyb25tZW50cywgVGhlIG1vc3Qgc2ln
bmlmaWNhbnQgcGVyZm9ybWFuY2UKPiA+ID4gPiA+ID4gPiBnYWluIGlzIG9ic2VydmVkIGluIFhE
UCBjcHVtYXA6Cj4gPiA+ID4gPiA+ID4gICBVcHN0cmVhbSBjb2RlYmFzZTogMS4zOCBHYml0cy9z
ZWMKPiA+ID4gPiA+ID4gPiAgIFVwc3RyZWFtIGNvZGViYXNlICsgcGFnZV9wb29sIHN1cHBvcnQ6
IDkuNzQgR2JpdHMvc2VjCj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiBXaXRoIHRoaXMgZm91
bmRhdGlvbiwgd2UgY2FuIGZ1cnRoZXIgaW50ZWdyYXRlIHBhZ2UgcG9vbCBmcmFnbWVudGF0aW9u
IGFuZAo+ID4gPiA+ID4gPiA+IERNQSBtYXAvdW5tYXAgc3VwcG9ydC4KPiA+ID4gPiA+ID4gPgo+
ID4gPiA+ID4gPiA+IFNpZ25lZC1vZmYtYnk6IExpYW5nIENoZW4gPGxpYW5nY2hlbi5saW51eEBn
bWFpbC5jb20+Cj4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+IFdoeSBvZmYgYnkgZGVmYXVsdD8KPiA+
ID4gPiA+ID4gSSBhbSBndWVzc2luZyBpdCBzb21ldGltZXMgaGFzIHBlcmZvcm1hbmNlIGNvc3Rz
IHRvbz8KPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gV2hhdCBoYXBwZW5zIGlm
IHdlIHVzZSBwYWdlIHBvb2wgZm9yIGJpZyBtb2RlIHRvbz8KPiA+ID4gPiA+ID4gVGhlIGxlc3Mg
bW9kZXMgd2UgaGF2ZSB0aGUgYmV0dGVyLi4uCj4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+Cj4gPiA+
ID4gPgo+ID4gPiA+ID4gU3VyZSwgbm93IEkgYmVsaWV2ZSBpdCBtYWtlcyBzZW5zZSB0byBlbmFi
bGUgaXQgYnkgZGVmYXVsdC4gV2hlbiB0aGUKPiA+ID4gPiA+IHBhY2tldCBzaXplIGlzIHZlcnkg
c21hbGwsIGl0IHJlZHVjZXMgdGhlIGxpa2VsaWhvb2Qgb2Ygc2tiCj4gPiA+ID4gPiBjb2FsZXNj
aW5nLiBCdXQgc3VjaCBjYXNlcyBhcmUgcmFyZS4KPiA+ID4gPgo+ID4gPiA+IHNtYWxsIHBhY2tl
dHMgYXJlIHJhcmU/IFRoZXNlIHdvcmtsb2FkcyBhcmUgZWFzeSB0byBjcmVhdGUgYWN0dWFsbHku
Cj4gPiA+ID4gUGxzIHRyeSBhbmQgaW5jbHVkZSBiZW5jaG1hcmsgd2l0aCBzbWFsbCBwYWNrZXQg
c2l6ZS4KPiA+ID4gPgo+ID4gPgo+ID4gPiBTdXJlLCBUaGFua3MhCj4gPgo+ID4gQmVmb3JlIGdv
aW5nIGFoZWFkIGFuZCBwb3N0aW5nIHYyIHBhdGNoLCBJIHdvdWxkIGxpa2UgdG8gaGVhciBtb3Jl
Cj4gPiBhZHZpY2UgZm9yIHRoZSBjYXNlcyBvZiBzbWFsbCBwYWNrZXRzLiBJIGhhdmUgZG9uZSBt
b3JlIHBlcmZvcm1hbmNlCj4gPiBiZW5jaG1hcmsgd2l0aCBzbWFsbCBwYWNrZXRzIHNpbmNlIHRo
ZW4uIEhlcmUgaXMgYSBsaXN0IG9mIGlwZXJmCj4gPiBvdXRwdXQsCj4gPgo+ID4gV2l0aCBQUCBh
bmQgUFAgZnJhZ21lbnRpbmc6Cj4gPiAyNTZLOiAgIFsgIDVdIDUwNS4wMC01MTAuMDAgc2VjICAx
LjM0IEdCeXRlcyAgMi4zMSBHYml0cy9zZWMgICAgMCAgICAxNDQgS0J5dGVzCj4gPiAxSzogICAg
ICAgWyAgNV0gIDMwLjAwLTM1LjAwICBzZWMgIDQuNjMgR0J5dGVzICA3Ljk1IEdiaXRzL3NlYyAg
ICAwCj4gPiAyMjMgS0J5dGVzCj4gPiAySzogICAgICAgWyAgNV0gIDY1LjAwLTcwLjAwICBzZWMg
IDguMzMgR0J5dGVzICAxNC4zIEdiaXRzL3NlYyAgICAwCj4gPiAzMjQgS0J5dGVzCj4gPiA0Szog
ICAgICAgWyAgNV0gIDMwLjAwLTM1LjAwICBzZWMgIDEzLjMgR0J5dGVzICAyMi44IEdiaXRzL3Nl
YyAgICAwCj4gPiAxLjA4IE1CeXRlcwo+ID4gOEs6ICAgICAgIFsgIDVdICA1MC4wMC01NS4wMCAg
c2VjICAxOC45IEdCeXRlcyAgMzIuNCBHYml0cy9zZWMgICAgMAo+ID4gNzQ0IEtCeXRlcwo+ID4g
MTZLOiAgICAgWyAgNV0gIDI1LjAwLTMwLjAwICBzZWMgIDI0LjYgR0J5dGVzICA0Mi4zIEdiaXRz
L3NlYyAgICAwICAgIDk2MyBLQnl0ZXMKPiA+IDMySzogICAgIFsgIDVdICA0NS4wMC01MC4wMCAg
c2VjICAyOS44IEdCeXRlcyAgNTEuMiBHYml0cy9zZWMgICAgMCAgIDEuMjUgTUJ5dGVzCj4gPiA2
NEs6ICAgICBbICA1XSAgMzUuMDAtNDAuMDAgIHNlYyAgMzQuMCBHQnl0ZXMgIDU4LjQgR2JpdHMv
c2VjICAgIDAgICAxLjcwIE1CeXRlcwo+ID4gMTI4SzogICBbICA1XSAgNDUuMDAtNTAuMDAgIHNl
YyAgMzYuNyBHQnl0ZXMgIDYzLjEgR2JpdHMvc2VjICAgIDAgICA0LjI2IE1CeXRlcwo+ID4gMjU2
SzogICBbICA1XSAgMzAuMDAtMzUuMDAgIHNlYyAgNDAuMCBHQnl0ZXMgIDY4LjggR2JpdHMvc2Vj
ICAgIDAgICAzLjIwIE1CeXRlcwo+ID4KPiA+IFdpdGhvdXQgUFA6Cj4gPiAyNTY6ICAgICBbICA1
XSA2ODAuMDAtNjg1LjAwIHNlYyAgMS41NyBHQnl0ZXMgIDIuNjkgR2JpdHMvc2VjICAgIDAgICAg
MzU5IEtCeXRlcwo+ID4gMUs6ICAgICAgWyAgNV0gIDc1LjAwLTgwLjAwICBzZWMgIDUuNDcgR0J5
dGVzICA5LjQwIEdiaXRzL3NlYyAgICAwICAgIDczMCBLQnl0ZXMKPiA+IDJLOiAgICAgIFsgIDVd
ICA2NS4wMC03MC4wMCAgc2VjICA5LjQ2IEdCeXRlcyAgMTYuMiBHYml0cy9zZWMgICAgMCAgIDEu
OTkgTUJ5dGVzCj4gPiA0SzogICAgICBbICA1XSAgMzAuMDAtMzUuMDAgIHNlYyAgMTQuNSBHQnl0
ZXMgIDI1LjAgR2JpdHMvc2VjICAgIDAgICAxLjIwIE1CeXRlcwo+ID4gOEs6ICAgICAgWyAgNV0g
IDQ1LjAwLTUwLjAwICBzZWMgIDE5LjkgR0J5dGVzICAzNC4xIEdiaXRzL3NlYyAgICAwICAgMS43
MiBNQnl0ZXMKPiA+IDE2SzogICAgWyAgNV0gICA1LjAwLTEwLjAwICBzZWMgIDIzLjggR0J5dGVz
ICA0MC45IEdiaXRzL3NlYyAgICAwICAgMi45MCBNQnl0ZXMKPiA+IDMySzogICAgWyAgNV0gIDE1
LjAwLTIwLjAwICBzZWMgIDI4LjAgR0J5dGVzICA0OC4xIEdiaXRzL3NlYyAgICAwICAgMy4wMyBN
Qnl0ZXMKPiA+IDY0SzogICAgWyAgNV0gIDYwLjAwLTY1LjAwICBzZWMgIDMxLjggR0J5dGVzICA1
NC42IEdiaXRzL3NlYyAgICAwICAgMy4wNSBNQnl0ZXMKPiA+IDEyOEs6ICBbICA1XSAgNDUuMDAt
NTAuMDAgIHNlYyAgMzMuMCBHQnl0ZXMgIDU2LjYgR2JpdHMvc2VjICAgIDEgICAzLjAzIE1CeXRl
cwo+ID4gMjU2SzogIFsgIDVdICAyNS4wMC0zMC4wMCAgc2VjICAzNC43IEdCeXRlcyAgNTkuNiBH
Yml0cy9zZWMgICAgMCAgIDMuMTEgTUJ5dGVzCj4gPgo+ID4KPiA+IFRoZSBtYWpvciBmYWN0b3Ig
Y29udHJpYnV0aW5nIHRvIHRoZSBwZXJmb3JtYW5jZSBkcm9wIGlzIHRoZSByZWR1Y3Rpb24KPiA+
IG9mIHNrYiBjb2FsZXNjaW5nLiBBZGRpdGlvbmFsbHksIHdpdGhvdXQgdGhlIHBhZ2UgcG9vbCwg
c21hbGwgcGFja2V0cwo+ID4gY2FuIHN0aWxsIGJlbmVmaXQgZnJvbSB0aGUgYWxsb2NhdGlvbiBv
ZiA4IGNvbnRpbnVvdXMgcGFnZXMgYnkKPiA+IGJyZWFraW5nIHRoZW0gZG93biBpbnRvIHNtYWxs
ZXIgcGllY2VzLiBUaGlzIGVmZmVjdGl2ZWx5IHJlZHVjZXMgdGhlCj4gPiBmcmVxdWVuY3kgb2Yg
cGFnZSBhbGxvY2F0aW9uIGZyb20gdGhlIGJ1ZGR5IHN5c3RlbS4gRm9yIGluc3RhbmNlLCB0aGUK
PiA+IGFycml2YWwgb2YgMzIgMUsgcGFja2V0cyBvbmx5IHRyaWdnZXJzIG9uZSBhbGxvY19wYWdl
IGNhbGwuIFRoZXJlZm9yZSwKPiA+IHRoZSBiZW5lZml0cyBvZiB1c2luZyBhIHBhZ2UgcG9vbCBh
cmUgbGltaXRlZCBpbiBzdWNoIGNhc2VzLiBJbiBmYWN0LAo+ID4gd2l0aG91dCBwYWdlIHBvb2wg
ZnJhZ21lbnRpbmcgZW5hYmxlZCwgaXQgY2FuIGV2ZW4gaGluZGVyIHBlcmZvcm1hbmNlCj4gPiBm
cm9tIHRoaXMgcGVyc3BlY3RpdmUuCj4gPgo+ID4gVXBvbiBmdXJ0aGVyIGNvbnNpZGVyYXRpb24s
IEkgdGVuZCB0byBiZWxpZXZlIG1ha2luZyBwYWdlIHBvb2wgdGhlCj4gPiBkZWZhdWx0IG9wdGlv
biBtYXkgbm90IGJlIGFwcHJvcHJpYXRlLiBBcyB5b3UgcG9pbnRlZCBvdXQsIHdlIGNhbm5vdAo+
ID4gc2ltcGx5IGlnbm9yZSB0aGUgcGVyZm9ybWFuY2UgaW1wYWN0IG9uIHNtYWxsIHBhY2tldHMu
IEFueSBjb21tZW50cyBvbgo+ID4gdGhpcyB3aWxsIGJlIG11Y2ggYXBwcmVjaWF0ZWQuCj4gPgo+
ID4KPiA+IFRoYW5rcywKPiA+IExpYW5nCj4KPgo+IFNvLCBsZXQncyBvbmx5IHVzZSBwYWdlIHBv
b2wgZm9yIFhEUCB0aGVuPwo+CgpTdXJlLiBXZSB3aWxsIHByZXBhcmUgdjIgZm9yIHhkcCBvbmx5
LCBhbmQgY29tZSBiYWNrIGxhdGVyIGZvciB0aGUKbm9ybWFsIHBhdGggd2hlbiBza2IgY29hbGVj
c2luZyB3b3JrcyBiZXR0ZXIgd2l0aCBwYWdlIHBvb2wuCgoKPiA+Cj4gPiA+ID4gPiBUaGUgdXNh
Z2Ugb2YgcGFnZSBwb29sIGZvciBiaWcgbW9kZSBpcyBiZWluZyBldmFsdWF0ZWQgbm93LiBUaGFu
a3MhCj4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+IC0tLQo+ID4gPiA+ID4gPiA+ICBkcml2ZXJzL25l
dC92aXJ0aW9fbmV0LmMgfCAxODggKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrLS0tLS0t
LS0tCj4gPiA+ID4gPiA+ID4gIDEgZmlsZSBjaGFuZ2VkLCAxNDYgaW5zZXJ0aW9ucygrKSwgNDIg
ZGVsZXRpb25zKC0pCj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9uZXQvdmlydGlvX25ldC5jIGIvZHJpdmVycy9uZXQvdmlydGlvX25ldC5jCj4gPiA+ID4g
PiA+ID4gaW5kZXggYzVkY2EwZDkyZTY0Li45OWMwY2EwYzE3ODEgMTAwNjQ0Cj4gPiA+ID4gPiA+
ID4gLS0tIGEvZHJpdmVycy9uZXQvdmlydGlvX25ldC5jCj4gPiA+ID4gPiA+ID4gKysrIGIvZHJp
dmVycy9uZXQvdmlydGlvX25ldC5jCj4gPiA+ID4gPiA+ID4gQEAgLTMxLDYgKzMxLDkgQEAgbW9k
dWxlX3BhcmFtKGNzdW0sIGJvb2wsIDA0NDQpOwo+ID4gPiA+ID4gPiA+ICBtb2R1bGVfcGFyYW0o
Z3NvLCBib29sLCAwNDQ0KTsKPiA+ID4gPiA+ID4gPiAgbW9kdWxlX3BhcmFtKG5hcGlfdHgsIGJv
b2wsIDA2NDQpOwo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gK3N0YXRpYyBib29sIHBhZ2Vf
cG9vbF9lbmFibGVkOwo+ID4gPiA+ID4gPiA+ICttb2R1bGVfcGFyYW0ocGFnZV9wb29sX2VuYWJs
ZWQsIGJvb2wsIDA0MDApOwo+ID4gPiA+ID4gPiA+ICsKPiA+ID4gPiA+ID4gPiAgLyogRklYTUU6
IE1UVSBpbiBjb25maWcuICovCj4gPiA+ID4gPiA+ID4gICNkZWZpbmUgR09PRF9QQUNLRVRfTEVO
IChFVEhfSExFTiArIFZMQU5fSExFTiArIEVUSF9EQVRBX0xFTikKPiA+ID4gPiA+ID4gPiAgI2Rl
ZmluZSBHT09EX0NPUFlfTEVOICAgICAgICAxMjgKPiA+ID4gPiA+ID4gPiBAQCAtMTU5LDYgKzE2
Miw5IEBAIHN0cnVjdCByZWNlaXZlX3F1ZXVlIHsKPiA+ID4gPiA+ID4gPiAgICAgICAvKiBDaGFp
biBwYWdlcyBieSB0aGUgcHJpdmF0ZSBwdHIuICovCj4gPiA+ID4gPiA+ID4gICAgICAgc3RydWN0
IHBhZ2UgKnBhZ2VzOwo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gKyAgICAgLyogUGFnZSBw
b29sICovCj4gPiA+ID4gPiA+ID4gKyAgICAgc3RydWN0IHBhZ2VfcG9vbCAqcGFnZV9wb29sOwo+
ID4gPiA+ID4gPiA+ICsKPiA+ID4gPiA+ID4gPiAgICAgICAvKiBBdmVyYWdlIHBhY2tldCBsZW5n
dGggZm9yIG1lcmdlYWJsZSByZWNlaXZlIGJ1ZmZlcnMuICovCj4gPiA+ID4gPiA+ID4gICAgICAg
c3RydWN0IGV3bWFfcGt0X2xlbiBtcmdfYXZnX3BrdF9sZW47Cj4gPiA+ID4gPiA+ID4KPiA+ID4g
PiA+ID4gPiBAQCAtNDU5LDYgKzQ2NSwxNCBAQCBzdGF0aWMgc3RydWN0IHNrX2J1ZmYgKnZpcnRu
ZXRfYnVpbGRfc2tiKHZvaWQgKmJ1ZiwgdW5zaWduZWQgaW50IGJ1ZmxlbiwKPiA+ID4gPiA+ID4g
PiAgICAgICByZXR1cm4gc2tiOwo+ID4gPiA+ID4gPiA+ICB9Cj4gPiA+ID4gPiA+ID4KPiA+ID4g
PiA+ID4gPiArc3RhdGljIHZvaWQgdmlydG5ldF9wdXRfcGFnZShzdHJ1Y3QgcmVjZWl2ZV9xdWV1
ZSAqcnEsIHN0cnVjdCBwYWdlICpwYWdlKQo+ID4gPiA+ID4gPiA+ICt7Cj4gPiA+ID4gPiA+ID4g
KyAgICAgaWYgKHJxLT5wYWdlX3Bvb2wpCj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICBwYWdl
X3Bvb2xfcHV0X2Z1bGxfcGFnZShycS0+cGFnZV9wb29sLCBwYWdlLCB0cnVlKTsKPiA+ID4gPiA+
ID4gPiArICAgICBlbHNlCj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICBwdXRfcGFnZShwYWdl
KTsKPiA+ID4gPiA+ID4gPiArfQo+ID4gPiA+ID4gPiA+ICsKPiA+ID4gPiA+ID4gPiAgLyogQ2Fs
bGVkIGZyb20gYm90dG9tIGhhbGYgY29udGV4dCAqLwo+ID4gPiA+ID4gPiA+ICBzdGF0aWMgc3Ry
dWN0IHNrX2J1ZmYgKnBhZ2VfdG9fc2tiKHN0cnVjdCB2aXJ0bmV0X2luZm8gKnZpLAo+ID4gPiA+
ID4gPiA+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCByZWNlaXZlX3F1
ZXVlICpycSwKPiA+ID4gPiA+ID4gPiBAQCAtNTU1LDcgKzU2OSw3IEBAIHN0YXRpYyBzdHJ1Y3Qg
c2tfYnVmZiAqcGFnZV90b19za2Ioc3RydWN0IHZpcnRuZXRfaW5mbyAqdmksCj4gPiA+ID4gPiA+
ID4gICAgICAgaGRyID0gc2tiX3ZuZXRfaGRyKHNrYik7Cj4gPiA+ID4gPiA+ID4gICAgICAgbWVt
Y3B5KGhkciwgaGRyX3AsIGhkcl9sZW4pOwo+ID4gPiA+ID4gPiA+ICAgICAgIGlmIChwYWdlX3Rv
X2ZyZWUpCj4gPiA+ID4gPiA+ID4gLSAgICAgICAgICAgICBwdXRfcGFnZShwYWdlX3RvX2ZyZWUp
Owo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgdmlydG5ldF9wdXRfcGFnZShycSwgcGFnZV90
b19mcmVlKTsKPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ICAgICAgIHJldHVybiBza2I7Cj4g
PiA+ID4gPiA+ID4gIH0KPiA+ID4gPiA+ID4gPiBAQCAtODAyLDcgKzgxNiw3IEBAIHN0YXRpYyBp
bnQgdmlydG5ldF94ZHBfeG1pdChzdHJ1Y3QgbmV0X2RldmljZSAqZGV2LAo+ID4gPiA+ID4gPiA+
ICAgICAgIHJldHVybiByZXQ7Cj4gPiA+ID4gPiA+ID4gIH0KPiA+ID4gPiA+ID4gPgo+ID4gPiA+
ID4gPiA+IC1zdGF0aWMgdm9pZCBwdXRfeGRwX2ZyYWdzKHN0cnVjdCB4ZHBfYnVmZiAqeGRwKQo+
ID4gPiA+ID4gPiA+ICtzdGF0aWMgdm9pZCBwdXRfeGRwX2ZyYWdzKHN0cnVjdCB4ZHBfYnVmZiAq
eGRwLCBzdHJ1Y3QgcmVjZWl2ZV9xdWV1ZSAqcnEpCj4gPiA+ID4gPiA+ID4gIHsKPiA+ID4gPiA+
ID4gPiAgICAgICBzdHJ1Y3Qgc2tiX3NoYXJlZF9pbmZvICpzaGluZm87Cj4gPiA+ID4gPiA+ID4g
ICAgICAgc3RydWN0IHBhZ2UgKnhkcF9wYWdlOwo+ID4gPiA+ID4gPiA+IEBAIC04MTIsNyArODI2
LDcgQEAgc3RhdGljIHZvaWQgcHV0X3hkcF9mcmFncyhzdHJ1Y3QgeGRwX2J1ZmYgKnhkcCkKPiA+
ID4gPiA+ID4gPiAgICAgICAgICAgICAgIHNoaW5mbyA9IHhkcF9nZXRfc2hhcmVkX2luZm9fZnJv
bV9idWZmKHhkcCk7Cj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwg
c2hpbmZvLT5ucl9mcmFnczsgaSsrKSB7Cj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICAgICAg
ICAgIHhkcF9wYWdlID0gc2tiX2ZyYWdfcGFnZSgmc2hpbmZvLT5mcmFnc1tpXSk7Cj4gPiA+ID4g
PiA+ID4gLSAgICAgICAgICAgICAgICAgICAgIHB1dF9wYWdlKHhkcF9wYWdlKTsKPiA+ID4gPiA+
ID4gPiArICAgICAgICAgICAgICAgICAgICAgdmlydG5ldF9wdXRfcGFnZShycSwgeGRwX3BhZ2Up
Owo+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgfQo+ID4gPiA+ID4gPiA+ICAgICAgIH0KPiA+
ID4gPiA+ID4gPiAgfQo+ID4gPiA+ID4gPiA+IEBAIC05MDMsNyArOTE3LDExIEBAIHN0YXRpYyBz
dHJ1Y3QgcGFnZSAqeGRwX2xpbmVhcml6ZV9wYWdlKHN0cnVjdCByZWNlaXZlX3F1ZXVlICpycSwK
PiA+ID4gPiA+ID4gPiAgICAgICBpZiAocGFnZV9vZmYgKyAqbGVuICsgdGFpbHJvb20gPiBQQUdF
X1NJWkUpCj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICByZXR1cm4gTlVMTDsKPiA+ID4gPiA+
ID4gPgo+ID4gPiA+ID4gPiA+IC0gICAgIHBhZ2UgPSBhbGxvY19wYWdlKEdGUF9BVE9NSUMpOwo+
ID4gPiA+ID4gPiA+ICsgICAgIGlmIChycS0+cGFnZV9wb29sKQo+ID4gPiA+ID4gPiA+ICsgICAg
ICAgICAgICAgcGFnZSA9IHBhZ2VfcG9vbF9kZXZfYWxsb2NfcGFnZXMocnEtPnBhZ2VfcG9vbCk7
Cj4gPiA+ID4gPiA+ID4gKyAgICAgZWxzZQo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgcGFn
ZSA9IGFsbG9jX3BhZ2UoR0ZQX0FUT01JQyk7Cj4gPiA+ID4gPiA+ID4gKwo+ID4gPiA+ID4gPiA+
ICAgICAgIGlmICghcGFnZSkKPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgIHJldHVybiBOVUxM
Owo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gQEAgLTkyNiwyMSArOTQ0LDI0IEBAIHN0YXRp
YyBzdHJ1Y3QgcGFnZSAqeGRwX2xpbmVhcml6ZV9wYWdlKHN0cnVjdCByZWNlaXZlX3F1ZXVlICpy
cSwKPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgICAqIGlzIHNlbmRpbmcgcGFja2V0IGxhcmdl
ciB0aGFuIHRoZSBNVFUuCj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICAgKi8KPiA+ID4gPiA+
ID4gPiAgICAgICAgICAgICAgIGlmICgocGFnZV9vZmYgKyBidWZsZW4gKyB0YWlscm9vbSkgPiBQ
QUdFX1NJWkUpIHsKPiA+ID4gPiA+ID4gPiAtICAgICAgICAgICAgICAgICAgICAgcHV0X3BhZ2Uo
cCk7Cj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgIHZpcnRuZXRfcHV0X3BhZ2Uo
cnEsIHApOwo+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgICAgICAgICBnb3RvIGVycl9idWY7
Cj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICB9Cj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4g
PiAgICAgICAgICAgICAgIG1lbWNweShwYWdlX2FkZHJlc3MocGFnZSkgKyBwYWdlX29mZiwKPiA+
ID4gPiA+ID4gPiAgICAgICAgICAgICAgICAgICAgICBwYWdlX2FkZHJlc3MocCkgKyBvZmYsIGJ1
Zmxlbik7Cj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICBwYWdlX29mZiArPSBidWZsZW47Cj4g
PiA+ID4gPiA+ID4gLSAgICAgICAgICAgICBwdXRfcGFnZShwKTsKPiA+ID4gPiA+ID4gPiArICAg
ICAgICAgICAgIHZpcnRuZXRfcHV0X3BhZ2UocnEsIHApOwo+ID4gPiA+ID4gPiA+ICAgICAgIH0K
PiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ICAgICAgIC8qIEhlYWRyb29tIGRvZXMgbm90IGNv
bnRyaWJ1dGUgdG8gcGFja2V0IGxlbmd0aCAqLwo+ID4gPiA+ID4gPiA+ICAgICAgICpsZW4gPSBw
YWdlX29mZiAtIFZJUlRJT19YRFBfSEVBRFJPT007Cj4gPiA+ID4gPiA+ID4gICAgICAgcmV0dXJu
IHBhZ2U7Cj4gPiA+ID4gPiA+ID4gIGVycl9idWY6Cj4gPiA+ID4gPiA+ID4gLSAgICAgX19mcmVl
X3BhZ2VzKHBhZ2UsIDApOwo+ID4gPiA+ID4gPiA+ICsgICAgIGlmIChycS0+cGFnZV9wb29sKQo+
ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgcGFnZV9wb29sX3B1dF9mdWxsX3BhZ2UocnEtPnBh
Z2VfcG9vbCwgcGFnZSwgdHJ1ZSk7Cj4gPiA+ID4gPiA+ID4gKyAgICAgZWxzZQo+ID4gPiA+ID4g
PiA+ICsgICAgICAgICAgICAgX19mcmVlX3BhZ2VzKHBhZ2UsIDApOwo+ID4gPiA+ID4gPiA+ICAg
ICAgIHJldHVybiBOVUxMOwo+ID4gPiA+ID4gPiA+ICB9Cj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+
ID4gPiBAQCAtMTE0NCw3ICsxMTY1LDcgQEAgc3RhdGljIHZvaWQgbWVyZ2VhYmxlX2J1Zl9mcmVl
KHN0cnVjdCByZWNlaXZlX3F1ZXVlICpycSwgaW50IG51bV9idWYsCj4gPiA+ID4gPiA+ID4gICAg
ICAgICAgICAgICB9Cj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICBzdGF0cy0+Ynl0ZXMgKz0g
bGVuOwo+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgcGFnZSA9IHZpcnRfdG9faGVhZF9wYWdl
KGJ1Zik7Cj4gPiA+ID4gPiA+ID4gLSAgICAgICAgICAgICBwdXRfcGFnZShwYWdlKTsKPiA+ID4g
PiA+ID4gPiArICAgICAgICAgICAgIHZpcnRuZXRfcHV0X3BhZ2UocnEsIHBhZ2UpOwo+ID4gPiA+
ID4gPiA+ICAgICAgIH0KPiA+ID4gPiA+ID4gPiAgfQo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+
ID4gQEAgLTEyNjQsNyArMTI4NSw3IEBAIHN0YXRpYyBpbnQgdmlydG5ldF9idWlsZF94ZHBfYnVm
Zl9tcmcoc3RydWN0IG5ldF9kZXZpY2UgKmRldiwKPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAg
IGN1cl9mcmFnX3NpemUgPSB0cnVlc2l6ZTsKPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgIHhk
cF9mcmFnc190cnVlc3ogKz0gY3VyX2ZyYWdfc2l6ZTsKPiA+ID4gPiA+ID4gPiAgICAgICAgICAg
ICAgIGlmICh1bmxpa2VseShsZW4gPiB0cnVlc2l6ZSAtIHJvb20gfHwgY3VyX2ZyYWdfc2l6ZSA+
IFBBR0VfU0laRSkpIHsKPiA+ID4gPiA+ID4gPiAtICAgICAgICAgICAgICAgICAgICAgcHV0X3Bh
Z2UocGFnZSk7Cj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgIHZpcnRuZXRfcHV0
X3BhZ2UocnEsIHBhZ2UpOwo+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgICAgICAgICBwcl9k
ZWJ1ZygiJXM6IHJ4IGVycm9yOiBsZW4gJXUgZXhjZWVkcyB0cnVlc2l6ZSAlbHVcbiIsCj4gPiA+
ID4gPiA+ID4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldi0+bmFtZSwgbGVuLCAo
dW5zaWduZWQgbG9uZykodHJ1ZXNpemUgLSByb29tKSk7Cj4gPiA+ID4gPiA+ID4gICAgICAgICAg
ICAgICAgICAgICAgIGRldi0+c3RhdHMucnhfbGVuZ3RoX2Vycm9ycysrOwo+ID4gPiA+ID4gPiA+
IEBAIC0xMjgzLDcgKzEzMDQsNyBAQCBzdGF0aWMgaW50IHZpcnRuZXRfYnVpbGRfeGRwX2J1ZmZf
bXJnKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYsCj4gPiA+ID4gPiA+ID4gICAgICAgcmV0dXJuIDA7
Cj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiAgZXJyOgo+ID4gPiA+ID4gPiA+IC0gICAgIHB1
dF94ZHBfZnJhZ3MoeGRwKTsKPiA+ID4gPiA+ID4gPiArICAgICBwdXRfeGRwX2ZyYWdzKHhkcCwg
cnEpOwo+ID4gPiA+ID4gPiA+ICAgICAgIHJldHVybiAtRUlOVkFMOwo+ID4gPiA+ID4gPiA+ICB9
Cj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiBAQCAtMTM0NCw3ICsxMzY1LDEwIEBAIHN0YXRp
YyB2b2lkICptZXJnZWFibGVfeGRwX2dldF9idWYoc3RydWN0IHZpcnRuZXRfaW5mbyAqdmksCj4g
PiA+ID4gPiA+ID4gICAgICAgICAgICAgICBpZiAoKmxlbiArIHhkcF9yb29tID4gUEFHRV9TSVpF
KQo+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTlVMTDsKPiA+ID4g
PiA+ID4gPgo+ID4gPiA+ID4gPiA+IC0gICAgICAgICAgICAgeGRwX3BhZ2UgPSBhbGxvY19wYWdl
KEdGUF9BVE9NSUMpOwo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgaWYgKHJxLT5wYWdlX3Bv
b2wpCj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgIHhkcF9wYWdlID0gcGFnZV9w
b29sX2Rldl9hbGxvY19wYWdlcyhycS0+cGFnZV9wb29sKTsKPiA+ID4gPiA+ID4gPiArICAgICAg
ICAgICAgIGVsc2UKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgeGRwX3BhZ2Ug
PSBhbGxvY19wYWdlKEdGUF9BVE9NSUMpOwo+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgaWYg
KCF4ZHBfcGFnZSkKPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE5V
TEw7Cj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiBAQCAtMTM1NCw3ICsxMzc4LDcgQEAgc3Rh
dGljIHZvaWQgKm1lcmdlYWJsZV94ZHBfZ2V0X2J1ZihzdHJ1Y3QgdmlydG5ldF9pbmZvICp2aSwK
PiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ICAgICAgICpmcmFtZV9zeiA9IFBBR0VfU0laRTsK
PiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+IC0gICAgIHB1dF9wYWdlKCpwYWdlKTsKPiA+ID4g
PiA+ID4gPiArICAgICB2aXJ0bmV0X3B1dF9wYWdlKHJxLCAqcGFnZSk7Cj4gPiA+ID4gPiA+ID4K
PiA+ID4gPiA+ID4gPiAgICAgICAqcGFnZSA9IHhkcF9wYWdlOwo+ID4gPiA+ID4gPiA+Cj4gPiA+
ID4gPiA+ID4gQEAgLTE0MDAsNiArMTQyNCw4IEBAIHN0YXRpYyBzdHJ1Y3Qgc2tfYnVmZiAqcmVj
ZWl2ZV9tZXJnZWFibGVfeGRwKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYsCj4gPiA+ID4gPiA+ID4g
ICAgICAgICAgICAgICBoZWFkX3NrYiA9IGJ1aWxkX3NrYl9mcm9tX3hkcF9idWZmKGRldiwgdmks
ICZ4ZHAsIHhkcF9mcmFnc190cnVlc3opOwo+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgaWYg
KHVubGlrZWx5KCFoZWFkX3NrYikpCj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICAgICAgICAg
IGJyZWFrOwo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgaWYgKHJxLT5wYWdlX3Bvb2wpCj4g
PiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgIHNrYl9tYXJrX2Zvcl9yZWN5Y2xlKGhl
YWRfc2tiKTsKPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgIHJldHVybiBoZWFkX3NrYjsKPiA+
ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ICAgICAgIGNhc2UgWERQX1RYOgo+ID4gPiA+ID4gPiA+
IEBAIC0xNDEwLDEwICsxNDM2LDEwIEBAIHN0YXRpYyBzdHJ1Y3Qgc2tfYnVmZiAqcmVjZWl2ZV9t
ZXJnZWFibGVfeGRwKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYsCj4gPiA+ID4gPiA+ID4gICAgICAg
ICAgICAgICBicmVhazsKPiA+ID4gPiA+ID4gPiAgICAgICB9Cj4gPiA+ID4gPiA+ID4KPiA+ID4g
PiA+ID4gPiAtICAgICBwdXRfeGRwX2ZyYWdzKCZ4ZHApOwo+ID4gPiA+ID4gPiA+ICsgICAgIHB1
dF94ZHBfZnJhZ3MoJnhkcCwgcnEpOwo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gIGVycl94
ZHA6Cj4gPiA+ID4gPiA+ID4gLSAgICAgcHV0X3BhZ2UocGFnZSk7Cj4gPiA+ID4gPiA+ID4gKyAg
ICAgdmlydG5ldF9wdXRfcGFnZShycSwgcGFnZSk7Cj4gPiA+ID4gPiA+ID4gICAgICAgbWVyZ2Vh
YmxlX2J1Zl9mcmVlKHJxLCBudW1fYnVmLCBkZXYsIHN0YXRzKTsKPiA+ID4gPiA+ID4gPgo+ID4g
PiA+ID4gPiA+ICAgICAgIHN0YXRzLT54ZHBfZHJvcHMrKzsKPiA+ID4gPiA+ID4gPiBAQCAtMTQ2
Nyw2ICsxNDkzLDkgQEAgc3RhdGljIHN0cnVjdCBza19idWZmICpyZWNlaXZlX21lcmdlYWJsZShz
dHJ1Y3QgbmV0X2RldmljZSAqZGV2LAo+ID4gPiA+ID4gPiA+ICAgICAgIGhlYWRfc2tiID0gcGFn
ZV90b19za2IodmksIHJxLCBwYWdlLCBvZmZzZXQsIGxlbiwgdHJ1ZXNpemUsIGhlYWRyb29tKTsK
PiA+ID4gPiA+ID4gPiAgICAgICBjdXJyX3NrYiA9IGhlYWRfc2tiOwo+ID4gPiA+ID4gPiA+Cj4g
PiA+ID4gPiA+ID4gKyAgICAgaWYgKHJxLT5wYWdlX3Bvb2wpCj4gPiA+ID4gPiA+ID4gKyAgICAg
ICAgICAgICBza2JfbWFya19mb3JfcmVjeWNsZShjdXJyX3NrYik7Cj4gPiA+ID4gPiA+ID4gKwo+
ID4gPiA+ID4gPiA+ICAgICAgIGlmICh1bmxpa2VseSghY3Vycl9za2IpKQo+ID4gPiA+ID4gPiA+
ICAgICAgICAgICAgICAgZ290byBlcnJfc2tiOwo+ID4gPiA+ID4gPiA+ICAgICAgIHdoaWxlICgt
LW51bV9idWYpIHsKPiA+ID4gPiA+ID4gPiBAQCAtMTUwOSw2ICsxNTM4LDggQEAgc3RhdGljIHN0
cnVjdCBza19idWZmICpyZWNlaXZlX21lcmdlYWJsZShzdHJ1Y3QgbmV0X2RldmljZSAqZGV2LAo+
ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgICAgICAgICBjdXJyX3NrYiA9IG5za2I7Cj4gPiA+
ID4gPiA+ID4gICAgICAgICAgICAgICAgICAgICAgIGhlYWRfc2tiLT50cnVlc2l6ZSArPSBuc2ti
LT50cnVlc2l6ZTsKPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgICAgICAgICAgbnVtX3NrYl9m
cmFncyA9IDA7Cj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgIGlmIChycS0+cGFn
ZV9wb29sKQo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNrYl9t
YXJrX2Zvcl9yZWN5Y2xlKGN1cnJfc2tiKTsKPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgIH0K
PiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgIGlmIChjdXJyX3NrYiAhPSBoZWFkX3NrYikgewo+
ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgICAgICAgICBoZWFkX3NrYi0+ZGF0YV9sZW4gKz0g
bGVuOwo+ID4gPiA+ID4gPiA+IEBAIC0xNTE3LDcgKzE1NDgsNyBAQCBzdGF0aWMgc3RydWN0IHNr
X2J1ZmYgKnJlY2VpdmVfbWVyZ2VhYmxlKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYsCj4gPiA+ID4g
PiA+ID4gICAgICAgICAgICAgICB9Cj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICBvZmZzZXQg
PSBidWYgLSBwYWdlX2FkZHJlc3MocGFnZSk7Cj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICBp
ZiAoc2tiX2Nhbl9jb2FsZXNjZShjdXJyX3NrYiwgbnVtX3NrYl9mcmFncywgcGFnZSwgb2Zmc2V0
KSkgewo+ID4gPiA+ID4gPiA+IC0gICAgICAgICAgICAgICAgICAgICBwdXRfcGFnZShwYWdlKTsK
PiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgdmlydG5ldF9wdXRfcGFnZShycSwg
cGFnZSk7Cj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICAgICAgICAgIHNrYl9jb2FsZXNjZV9y
eF9mcmFnKGN1cnJfc2tiLCBudW1fc2tiX2ZyYWdzIC0gMSwKPiA+ID4gPiA+ID4gPiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVuLCB0cnVlc2l6ZSk7Cj4gPiA+
ID4gPiA+ID4gICAgICAgICAgICAgICB9IGVsc2Ugewo+ID4gPiA+ID4gPiA+IEBAIC0xNTMwLDcg
KzE1NjEsNyBAQCBzdGF0aWMgc3RydWN0IHNrX2J1ZmYgKnJlY2VpdmVfbWVyZ2VhYmxlKHN0cnVj
dCBuZXRfZGV2aWNlICpkZXYsCj4gPiA+ID4gPiA+ID4gICAgICAgcmV0dXJuIGhlYWRfc2tiOwo+
ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gIGVycl9za2I6Cj4gPiA+ID4gPiA+ID4gLSAgICAg
cHV0X3BhZ2UocGFnZSk7Cj4gPiA+ID4gPiA+ID4gKyAgICAgdmlydG5ldF9wdXRfcGFnZShycSwg
cGFnZSk7Cj4gPiA+ID4gPiA+ID4gICAgICAgbWVyZ2VhYmxlX2J1Zl9mcmVlKHJxLCBudW1fYnVm
LCBkZXYsIHN0YXRzKTsKPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ICBlcnJfYnVmOgo+ID4g
PiA+ID4gPiA+IEBAIC0xNzM3LDMxICsxNzY4LDQwIEBAIHN0YXRpYyBpbnQgYWRkX3JlY3ZidWZf
bWVyZ2VhYmxlKHN0cnVjdCB2aXJ0bmV0X2luZm8gKnZpLAo+ID4gPiA+ID4gPiA+ICAgICAgICAq
IGRpc2FibGVkIEdTTyBmb3IgWERQLCBpdCB3b24ndCBiZSBhIGJpZyBpc3N1ZS4KPiA+ID4gPiA+
ID4gPiAgICAgICAgKi8KPiA+ID4gPiA+ID4gPiAgICAgICBsZW4gPSBnZXRfbWVyZ2VhYmxlX2J1
Zl9sZW4ocnEsICZycS0+bXJnX2F2Z19wa3RfbGVuLCByb29tKTsKPiA+ID4gPiA+ID4gPiAtICAg
ICBpZiAodW5saWtlbHkoIXNrYl9wYWdlX2ZyYWdfcmVmaWxsKGxlbiArIHJvb20sIGFsbG9jX2Zy
YWcsIGdmcCkpKQo+ID4gPiA+ID4gPiA+IC0gICAgICAgICAgICAgcmV0dXJuIC1FTk9NRU07Cj4g
PiA+ID4gPiA+ID4gKyAgICAgaWYgKHJxLT5wYWdlX3Bvb2wpIHsKPiA+ID4gPiA+ID4gPiArICAg
ICAgICAgICAgIHN0cnVjdCBwYWdlICpwYWdlOwo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4g
LSAgICAgYnVmID0gKGNoYXIgKilwYWdlX2FkZHJlc3MoYWxsb2NfZnJhZy0+cGFnZSkgKyBhbGxv
Y19mcmFnLT5vZmZzZXQ7Cj4gPiA+ID4gPiA+ID4gLSAgICAgYnVmICs9IGhlYWRyb29tOyAvKiBh
ZHZhbmNlIGFkZHJlc3MgbGVhdmluZyBob2xlIGF0IGZyb250IG9mIHBrdCAqLwo+ID4gPiA+ID4g
PiA+IC0gICAgIGdldF9wYWdlKGFsbG9jX2ZyYWctPnBhZ2UpOwo+ID4gPiA+ID4gPiA+IC0gICAg
IGFsbG9jX2ZyYWctPm9mZnNldCArPSBsZW4gKyByb29tOwo+ID4gPiA+ID4gPiA+IC0gICAgIGhv
bGUgPSBhbGxvY19mcmFnLT5zaXplIC0gYWxsb2NfZnJhZy0+b2Zmc2V0Owo+ID4gPiA+ID4gPiA+
IC0gICAgIGlmIChob2xlIDwgbGVuICsgcm9vbSkgewo+ID4gPiA+ID4gPiA+IC0gICAgICAgICAg
ICAgLyogVG8gYXZvaWQgaW50ZXJuYWwgZnJhZ21lbnRhdGlvbiwgaWYgdGhlcmUgaXMgdmVyeSBs
aWtlbHkgbm90Cj4gPiA+ID4gPiA+ID4gLSAgICAgICAgICAgICAgKiBlbm91Z2ggc3BhY2UgZm9y
IGFub3RoZXIgYnVmZmVyLCBhZGQgdGhlIHJlbWFpbmluZyBzcGFjZSB0bwo+ID4gPiA+ID4gPiA+
IC0gICAgICAgICAgICAgICogdGhlIGN1cnJlbnQgYnVmZmVyLgo+ID4gPiA+ID4gPiA+IC0gICAg
ICAgICAgICAgICogWERQIGNvcmUgYXNzdW1lcyB0aGF0IGZyYW1lX3NpemUgb2YgeGRwX2J1ZmYg
YW5kIHRoZSBsZW5ndGgKPiA+ID4gPiA+ID4gPiAtICAgICAgICAgICAgICAqIG9mIHRoZSBmcmFn
IGFyZSBQQUdFX1NJWkUsIHNvIHdlIGRpc2FibGUgdGhlIGhvbGUgbWVjaGFuaXNtLgo+ID4gPiA+
ID4gPiA+IC0gICAgICAgICAgICAgICovCj4gPiA+ID4gPiA+ID4gLSAgICAgICAgICAgICBpZiAo
IWhlYWRyb29tKQo+ID4gPiA+ID4gPiA+IC0gICAgICAgICAgICAgICAgICAgICBsZW4gKz0gaG9s
ZTsKPiA+ID4gPiA+ID4gPiAtICAgICAgICAgICAgIGFsbG9jX2ZyYWctPm9mZnNldCArPSBob2xl
Owo+ID4gPiA+ID4gPiA+IC0gICAgIH0KPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgIHBhZ2Ug
PSBwYWdlX3Bvb2xfZGV2X2FsbG9jX3BhZ2VzKHJxLT5wYWdlX3Bvb2wpOwo+ID4gPiA+ID4gPiA+
ICsgICAgICAgICAgICAgaWYgKHVubGlrZWx5KCFwYWdlKSkKPiA+ID4gPiA+ID4gPiArICAgICAg
ICAgICAgICAgICAgICAgcmV0dXJuIC1FTk9NRU07Cj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAg
ICBidWYgPSAoY2hhciAqKXBhZ2VfYWRkcmVzcyhwYWdlKTsKPiA+ID4gPiA+ID4gPiArICAgICAg
ICAgICAgIGJ1ZiArPSBoZWFkcm9vbTsgLyogYWR2YW5jZSBhZGRyZXNzIGxlYXZpbmcgaG9sZSBh
dCBmcm9udCBvZiBwa3QgKi8KPiA+ID4gPiA+ID4gPiArICAgICB9IGVsc2Ugewo+ID4gPiA+ID4g
PiA+ICsgICAgICAgICAgICAgaWYgKHVubGlrZWx5KCFza2JfcGFnZV9mcmFnX3JlZmlsbChsZW4g
KyByb29tLCBhbGxvY19mcmFnLCBnZnApKSkKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAg
ICAgICAgcmV0dXJuIC1FTk9NRU07Cj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiArICAgICAg
ICAgICAgIGJ1ZiA9IChjaGFyICopcGFnZV9hZGRyZXNzKGFsbG9jX2ZyYWctPnBhZ2UpICsgYWxs
b2NfZnJhZy0+b2Zmc2V0Owo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgYnVmICs9IGhlYWRy
b29tOyAvKiBhZHZhbmNlIGFkZHJlc3MgbGVhdmluZyBob2xlIGF0IGZyb250IG9mIHBrdCAqLwo+
ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgZ2V0X3BhZ2UoYWxsb2NfZnJhZy0+cGFnZSk7Cj4g
PiA+ID4gPiA+ID4gKyAgICAgICAgICAgICBhbGxvY19mcmFnLT5vZmZzZXQgKz0gbGVuICsgcm9v
bTsKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgIGhvbGUgPSBhbGxvY19mcmFnLT5zaXplIC0g
YWxsb2NfZnJhZy0+b2Zmc2V0Owo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgaWYgKGhvbGUg
PCBsZW4gKyByb29tKSB7Cj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgIC8qIFRv
IGF2b2lkIGludGVybmFsIGZyYWdtZW50YXRpb24sIGlmIHRoZXJlIGlzIHZlcnkgbGlrZWx5IG5v
dAo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgKiBlbm91Z2ggc3BhY2UgZm9y
IGFub3RoZXIgYnVmZmVyLCBhZGQgdGhlIHJlbWFpbmluZyBzcGFjZSB0bwo+ID4gPiA+ID4gPiA+
ICsgICAgICAgICAgICAgICAgICAgICAgKiB0aGUgY3VycmVudCBidWZmZXIuCj4gPiA+ID4gPiA+
ID4gKyAgICAgICAgICAgICAgICAgICAgICAqIFhEUCBjb3JlIGFzc3VtZXMgdGhhdCBmcmFtZV9z
aXplIG9mIHhkcF9idWZmIGFuZCB0aGUgbGVuZ3RoCj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAg
ICAgICAgICAgICAqIG9mIHRoZSBmcmFnIGFyZSBQQUdFX1NJWkUsIHNvIHdlIGRpc2FibGUgdGhl
IGhvbGUgbWVjaGFuaXNtLgo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgKi8K
PiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgaWYgKCFoZWFkcm9vbSkKPiA+ID4g
PiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZW4gKz0gaG9sZTsKPiA+ID4g
PiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgYWxsb2NfZnJhZy0+b2Zmc2V0ICs9IGhvbGU7
Cj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICB9Cj4gPiA+ID4gPiA+ID4gKyAgICAgfQo+ID4g
PiA+ID4gPiA+ICAgICAgIHNnX2luaXRfb25lKHJxLT5zZywgYnVmLCBsZW4pOwo+ID4gPiA+ID4g
PiA+ICAgICAgIGN0eCA9IG1lcmdlYWJsZV9sZW5fdG9fY3R4KGxlbiArIHJvb20sIGhlYWRyb29t
KTsKPiA+ID4gPiA+ID4gPiAgICAgICBlcnIgPSB2aXJ0cXVldWVfYWRkX2luYnVmX2N0eChycS0+
dnEsIHJxLT5zZywgMSwgYnVmLCBjdHgsIGdmcCk7Cj4gPiA+ID4gPiA+ID4gICAgICAgaWYgKGVy
ciA8IDApCj4gPiA+ID4gPiA+ID4gLSAgICAgICAgICAgICBwdXRfcGFnZSh2aXJ0X3RvX2hlYWRf
cGFnZShidWYpKTsKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgIHZpcnRuZXRfcHV0X3BhZ2Uo
cnEsIHZpcnRfdG9faGVhZF9wYWdlKGJ1ZikpOwo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4g
ICAgICAgcmV0dXJuIGVycjsKPiA+ID4gPiA+ID4gPiAgfQo+ID4gPiA+ID4gPiA+IEBAIC0xOTk0
LDggKzIwMzQsMTUgQEAgc3RhdGljIGludCB2aXJ0bmV0X2VuYWJsZV9xdWV1ZV9wYWlyKHN0cnVj
dCB2aXJ0bmV0X2luZm8gKnZpLCBpbnQgcXBfaW5kZXgpCj4gPiA+ID4gPiA+ID4gICAgICAgaWYg
KGVyciA8IDApCj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICByZXR1cm4gZXJyOwo+ID4gPiA+
ID4gPiA+Cj4gPiA+ID4gPiA+ID4gLSAgICAgZXJyID0geGRwX3J4cV9pbmZvX3JlZ19tZW1fbW9k
ZWwoJnZpLT5ycVtxcF9pbmRleF0ueGRwX3J4cSwKPiA+ID4gPiA+ID4gPiAtICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBNRU1fVFlQRV9QQUdFX1NIQVJFRCwgTlVMTCk7Cj4g
PiA+ID4gPiA+ID4gKyAgICAgaWYgKHZpLT5ycVtxcF9pbmRleF0ucGFnZV9wb29sKQo+ID4gPiA+
ID4gPiA+ICsgICAgICAgICAgICAgZXJyID0geGRwX3J4cV9pbmZvX3JlZ19tZW1fbW9kZWwoJnZp
LT5ycVtxcF9pbmRleF0ueGRwX3J4cSwKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1FTV9UWVBFX1BBR0VfUE9PTCwKPiA+ID4gPiA+
ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpLT5y
cVtxcF9pbmRleF0ucGFnZV9wb29sKTsKPiA+ID4gPiA+ID4gPiArICAgICBlbHNlCj4gPiA+ID4g
PiA+ID4gKyAgICAgICAgICAgICBlcnIgPSB4ZHBfcnhxX2luZm9fcmVnX21lbV9tb2RlbCgmdmkt
PnJxW3FwX2luZGV4XS54ZHBfcnhxLAo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgTUVNX1RZUEVfUEFHRV9TSEFSRUQsCj4gPiA+ID4g
PiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOVUxM
KTsKPiA+ID4gPiA+ID4gPiArCj4gPiA+ID4gPiA+ID4gICAgICAgaWYgKGVyciA8IDApCj4gPiA+
ID4gPiA+ID4gICAgICAgICAgICAgICBnb3RvIGVycl94ZHBfcmVnX21lbV9tb2RlbDsKPiA+ID4g
PiA+ID4gPgo+ID4gPiA+ID4gPiA+IEBAIC0yOTUxLDYgKzI5OTgsNyBAQCBzdGF0aWMgdm9pZCB2
aXJ0bmV0X2dldF9zdHJpbmdzKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYsIHUzMiBzdHJpbmdzZXQs
IHU4ICpkYXRhKQo+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV0
aHRvb2xfc3ByaW50ZigmcCwgInR4X3F1ZXVlXyV1XyVzIiwgaSwKPiA+ID4gPiA+ID4gPiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlydG5ldF9zcV9zdGF0
c19kZXNjW2pdLmRlc2MpOwo+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgfQo+ID4gPiA+ID4g
PiA+ICsgICAgICAgICAgICAgcGFnZV9wb29sX2V0aHRvb2xfc3RhdHNfZ2V0X3N0cmluZ3MocCk7
Cj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICBicmVhazsKPiA+ID4gPiA+ID4gPiAgICAgICB9
Cj4gPiA+ID4gPiA+ID4gIH0KPiA+ID4gPiA+ID4gPiBAQCAtMjk2MiwxMiArMzAxMCwzMCBAQCBz
dGF0aWMgaW50IHZpcnRuZXRfZ2V0X3NzZXRfY291bnQoc3RydWN0IG5ldF9kZXZpY2UgKmRldiwg
aW50IHNzZXQpCj4gPiA+ID4gPiA+ID4gICAgICAgc3dpdGNoIChzc2V0KSB7Cj4gPiA+ID4gPiA+
ID4gICAgICAgY2FzZSBFVEhfU1NfU1RBVFM6Cj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICBy
ZXR1cm4gdmktPmN1cnJfcXVldWVfcGFpcnMgKiAoVklSVE5FVF9SUV9TVEFUU19MRU4gKwo+ID4g
PiA+ID4gPiA+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZJ
UlRORVRfU1FfU1RBVFNfTEVOKTsKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBWSVJUTkVUX1NRX1NUQVRTX0xFTiArCj4gPiA+ID4gPiA+
ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwYWdlX3Bv
b2xfZW5hYmxlZCAmJiB2aS0+bWVyZ2VhYmxlX3J4X2J1ZnMgPwo+ID4gPiA+ID4gPiA+ICsgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZV9wb29sX2V0aHRv
b2xfc3RhdHNfZ2V0X2NvdW50KCkgOiAwKSk7Cj4gPiA+ID4gPiA+ID4gICAgICAgZGVmYXVsdDoK
PiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgIHJldHVybiAtRU9QTk9UU1VQUDsKPiA+ID4gPiA+
ID4gPiAgICAgICB9Cj4gPiA+ID4gPiA+ID4gIH0KPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+
ICtzdGF0aWMgdm9pZCB2aXJ0bmV0X2dldF9wYWdlX3Bvb2xfc3RhdHMoc3RydWN0IG5ldF9kZXZp
Y2UgKmRldiwgdTY0ICpkYXRhKQo+ID4gPiA+ID4gPiA+ICt7Cj4gPiA+ID4gPiA+ID4gKyNpZmRl
ZiBDT05GSUdfUEFHRV9QT09MX1NUQVRTCj4gPiA+ID4gPiA+ID4gKyAgICAgc3RydWN0IHZpcnRu
ZXRfaW5mbyAqdmkgPSBuZXRkZXZfcHJpdihkZXYpOwo+ID4gPiA+ID4gPiA+ICsgICAgIHN0cnVj
dCBwYWdlX3Bvb2xfc3RhdHMgcHBfc3RhdHMgPSB7fTsKPiA+ID4gPiA+ID4gPiArICAgICBpbnQg
aTsKPiA+ID4gPiA+ID4gPiArCj4gPiA+ID4gPiA+ID4gKyAgICAgZm9yIChpID0gMDsgaSA8IHZp
LT5jdXJyX3F1ZXVlX3BhaXJzOyBpKyspIHsKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgIGlm
ICghdmktPnJxW2ldLnBhZ2VfcG9vbCkKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAg
ICAgY29udGludWU7Cj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICBwYWdlX3Bvb2xfZ2V0X3N0
YXRzKHZpLT5ycVtpXS5wYWdlX3Bvb2wsICZwcF9zdGF0cyk7Cj4gPiA+ID4gPiA+ID4gKyAgICAg
fQo+ID4gPiA+ID4gPiA+ICsgICAgIHBhZ2VfcG9vbF9ldGh0b29sX3N0YXRzX2dldChkYXRhLCAm
cHBfc3RhdHMpOwo+ID4gPiA+ID4gPiA+ICsjZW5kaWYgLyogQ09ORklHX1BBR0VfUE9PTF9TVEFU
UyAqLwo+ID4gPiA+ID4gPiA+ICt9Cj4gPiA+ID4gPiA+ID4gKwo+ID4gPiA+ID4gPiA+ICBzdGF0
aWMgdm9pZCB2aXJ0bmV0X2dldF9ldGh0b29sX3N0YXRzKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYs
Cj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0
IGV0aHRvb2xfc3RhdHMgKnN0YXRzLCB1NjQgKmRhdGEpCj4gPiA+ID4gPiA+ID4gIHsKPiA+ID4g
PiA+ID4gPiBAQCAtMzAwMyw2ICszMDY5LDggQEAgc3RhdGljIHZvaWQgdmlydG5ldF9nZXRfZXRo
dG9vbF9zdGF0cyhzdHJ1Y3QgbmV0X2RldmljZSAqZGV2LAo+ID4gPiA+ID4gPiA+ICAgICAgICAg
ICAgICAgfSB3aGlsZSAodTY0X3N0YXRzX2ZldGNoX3JldHJ5KCZzcS0+c3RhdHMuc3luY3AsIHN0
YXJ0KSk7Cj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICBpZHggKz0gVklSVE5FVF9TUV9TVEFU
U19MRU47Cj4gPiA+ID4gPiA+ID4gICAgICAgfQo+ID4gPiA+ID4gPiA+ICsKPiA+ID4gPiA+ID4g
PiArICAgICB2aXJ0bmV0X2dldF9wYWdlX3Bvb2xfc3RhdHMoZGV2LCAmZGF0YVtpZHhdKTsKPiA+
ID4gPiA+ID4gPiAgfQo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gIHN0YXRpYyB2b2lkIHZp
cnRuZXRfZ2V0X2NoYW5uZWxzKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYsCj4gPiA+ID4gPiA+ID4g
QEAgLTM2MjMsNiArMzY5MSw4IEBAIHN0YXRpYyB2b2lkIHZpcnRuZXRfZnJlZV9xdWV1ZXMoc3Ry
dWN0IHZpcnRuZXRfaW5mbyAqdmkpCj4gPiA+ID4gPiA+ID4gICAgICAgZm9yIChpID0gMDsgaSA8
IHZpLT5tYXhfcXVldWVfcGFpcnM7IGkrKykgewo+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAg
X19uZXRpZl9uYXBpX2RlbCgmdmktPnJxW2ldLm5hcGkpOwo+ID4gPiA+ID4gPiA+ICAgICAgICAg
ICAgICAgX19uZXRpZl9uYXBpX2RlbCgmdmktPnNxW2ldLm5hcGkpOwo+ID4gPiA+ID4gPiA+ICsg
ICAgICAgICAgICAgaWYgKHZpLT5ycVtpXS5wYWdlX3Bvb2wpCj4gPiA+ID4gPiA+ID4gKyAgICAg
ICAgICAgICAgICAgICAgIHBhZ2VfcG9vbF9kZXN0cm95KHZpLT5ycVtpXS5wYWdlX3Bvb2wpOwo+
ID4gPiA+ID4gPiA+ICAgICAgIH0KPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+ICAgICAgIC8q
IFdlIGNhbGxlZCBfX25ldGlmX25hcGlfZGVsKCksCj4gPiA+ID4gPiA+ID4gQEAgLTM2NzksMTIg
KzM3NDksMTkgQEAgc3RhdGljIHZvaWQgdmlydG5ldF9ycV9mcmVlX3VudXNlZF9idWYoc3RydWN0
IHZpcnRxdWV1ZSAqdnEsIHZvaWQgKmJ1ZikKPiA+ID4gPiA+ID4gPiAgICAgICBzdHJ1Y3Qgdmly
dG5ldF9pbmZvICp2aSA9IHZxLT52ZGV2LT5wcml2Owo+ID4gPiA+ID4gPiA+ICAgICAgIGludCBp
ID0gdnEycnhxKHZxKTsKPiA+ID4gPiA+ID4gPgo+ID4gPiA+ID4gPiA+IC0gICAgIGlmICh2aS0+
bWVyZ2VhYmxlX3J4X2J1ZnMpCj4gPiA+ID4gPiA+ID4gLSAgICAgICAgICAgICBwdXRfcGFnZSh2
aXJ0X3RvX2hlYWRfcGFnZShidWYpKTsKPiA+ID4gPiA+ID4gPiAtICAgICBlbHNlIGlmICh2aS0+
YmlnX3BhY2tldHMpCj4gPiA+ID4gPiA+ID4gKyAgICAgaWYgKHZpLT5tZXJnZWFibGVfcnhfYnVm
cykgewo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgaWYgKHZpLT5ycVtpXS5wYWdlX3Bvb2wp
IHsKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgcGFnZV9wb29sX3B1dF9mdWxs
X3BhZ2UodmktPnJxW2ldLnBhZ2VfcG9vbCwKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlydF90b19oZWFkX3BhZ2UoYnVmKSwKPiA+
ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
dHJ1ZSk7Cj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAgICB9IGVsc2Ugewo+ID4gPiA+ID4gPiA+
ICsgICAgICAgICAgICAgICAgICAgICBwdXRfcGFnZSh2aXJ0X3RvX2hlYWRfcGFnZShidWYpKTsK
PiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgIH0KPiA+ID4gPiA+ID4gPiArICAgICB9IGVsc2Ug
aWYgKHZpLT5iaWdfcGFja2V0cykgewo+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgZ2l2ZV9w
YWdlcygmdmktPnJxW2ldLCBidWYpOwo+ID4gPiA+ID4gPiA+IC0gICAgIGVsc2UKPiA+ID4gPiA+
ID4gPiArICAgICB9IGVsc2Ugewo+ID4gPiA+ID4gPiA+ICAgICAgICAgICAgICAgcHV0X3BhZ2Uo
dmlydF90b19oZWFkX3BhZ2UoYnVmKSk7Cj4gPiA+ID4gPiA+ID4gKyAgICAgfQo+ID4gPiA+ID4g
PiA+ICB9Cj4gPiA+ID4gPiA+ID4KPiA+ID4gPiA+ID4gPiAgc3RhdGljIHZvaWQgZnJlZV91bnVz
ZWRfYnVmcyhzdHJ1Y3QgdmlydG5ldF9pbmZvICp2aSkKPiA+ID4gPiA+ID4gPiBAQCAtMzcxOCw2
ICszNzk1LDI2IEBAIHN0YXRpYyB2b2lkIHZpcnRuZXRfZGVsX3ZxcyhzdHJ1Y3QgdmlydG5ldF9p
bmZvICp2aSkKPiA+ID4gPiA+ID4gPiAgICAgICB2aXJ0bmV0X2ZyZWVfcXVldWVzKHZpKTsKPiA+
ID4gPiA+ID4gPiAgfQo+ID4gPiA+ID4gPiA+Cj4gPiA+ID4gPiA+ID4gK3N0YXRpYyB2b2lkIHZp
cnRuZXRfYWxsb2NfcGFnZV9wb29sKHN0cnVjdCByZWNlaXZlX3F1ZXVlICpycSkKPiA+ID4gPiA+
ID4gPiArewo+ID4gPiA+ID4gPiA+ICsgICAgIHN0cnVjdCB2aXJ0aW9fZGV2aWNlICp2ZGV2ID0g
cnEtPnZxLT52ZGV2Owo+ID4gPiA+ID4gPiA+ICsKPiA+ID4gPiA+ID4gPiArICAgICBzdHJ1Y3Qg
cGFnZV9wb29sX3BhcmFtcyBwcF9wYXJhbXMgPSB7Cj4gPiA+ID4gPiA+ID4gKyAgICAgICAgICAg
ICAub3JkZXIgPSAwLAo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgLnBvb2xfc2l6ZSA9IHJx
LT52cS0+bnVtX21heCwKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgIC5uaWQgPSBkZXZfdG9f
bm9kZSh2ZGV2LT5kZXYucGFyZW50KSwKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgIC5kZXYg
PSB2ZGV2LT5kZXYucGFyZW50LAo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgLm9mZnNldCA9
IDAsCj4gPiA+ID4gPiA+ID4gKyAgICAgfTsKPiA+ID4gPiA+ID4gPiArCj4gPiA+ID4gPiA+ID4g
KyAgICAgcnEtPnBhZ2VfcG9vbCA9IHBhZ2VfcG9vbF9jcmVhdGUoJnBwX3BhcmFtcyk7Cj4gPiA+
ID4gPiA+ID4gKyAgICAgaWYgKElTX0VSUihycS0+cGFnZV9wb29sKSkgewo+ID4gPiA+ID4gPiA+
ICsgICAgICAgICAgICAgZGV2X3dhcm4oJnZkZXYtPmRldiwgInBhZ2UgcG9vbCBjcmVhdGlvbiBm
YWlsZWQ6ICVsZFxuIiwKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgIFBUUl9F
UlIocnEtPnBhZ2VfcG9vbCkpOwo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgcnEtPnBhZ2Vf
cG9vbCA9IE5VTEw7Cj4gPiA+ID4gPiA+ID4gKyAgICAgfQo+ID4gPiA+ID4gPiA+ICt9Cj4gPiA+
ID4gPiA+ID4gKwo+ID4gPiA+ID4gPiA+ICAvKiBIb3cgbGFyZ2Ugc2hvdWxkIGEgc2luZ2xlIGJ1
ZmZlciBiZSBzbyBhIHF1ZXVlIGZ1bGwgb2YgdGhlc2UgY2FuIGZpdCBhdAo+ID4gPiA+ID4gPiA+
ICAgKiBsZWFzdCBvbmUgZnVsbCBwYWNrZXQ/Cj4gPiA+ID4gPiA+ID4gICAqIExvZ2ljIGJlbG93
IGFzc3VtZXMgdGhlIG1lcmdlYWJsZSBidWZmZXIgaGVhZGVyIGlzIHVzZWQuCj4gPiA+ID4gPiA+
ID4gQEAgLTM4MDEsNiArMzg5OCwxMyBAQCBzdGF0aWMgaW50IHZpcnRuZXRfZmluZF92cXMoc3Ry
dWN0IHZpcnRuZXRfaW5mbyAqdmkpCj4gPiA+ID4gPiA+ID4gICAgICAgICAgICAgICB2aS0+cnFb
aV0udnEgPSB2cXNbcnhxMnZxKGkpXTsKPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgIHZpLT5y
cVtpXS5taW5fYnVmX2xlbiA9IG1lcmdlYWJsZV9taW5fYnVmX2xlbih2aSwgdmktPnJxW2ldLnZx
KTsKPiA+ID4gPiA+ID4gPiAgICAgICAgICAgICAgIHZpLT5zcVtpXS52cSA9IHZxc1t0eHEydnEo
aSldOwo+ID4gPiA+ID4gPiA+ICsKPiA+ID4gPiA+ID4gPiArICAgICAgICAgICAgIGlmIChwYWdl
X3Bvb2xfZW5hYmxlZCAmJiB2aS0+bWVyZ2VhYmxlX3J4X2J1ZnMpCj4gPiA+ID4gPiA+ID4gKyAg
ICAgICAgICAgICAgICAgICAgIHZpcnRuZXRfYWxsb2NfcGFnZV9wb29sKCZ2aS0+cnFbaV0pOwo+
ID4gPiA+ID4gPiA+ICsgICAgICAgICAgICAgZWxzZQo+ID4gPiA+ID4gPiA+ICsgICAgICAgICAg
ICAgICAgICAgICBkZXZfd2FybigmdmktPnZkZXYtPmRldiwKPiA+ID4gPiA+ID4gPiArICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgInBhZ2UgcG9vbCBvbmx5IHN1cHBvcnQgbWVyZ2VhYmxl
IG1vZGVcbiIpOwo+ID4gPiA+ID4gPiA+ICsKPiA+ID4gPiA+ID4gPiAgICAgICB9Cj4gPiA+ID4g
PiA+ID4KPiA+ID4gPiA+ID4gPiAgICAgICAvKiBydW4gaGVyZTogcmV0ID09IDAuICovCj4gPiA+
ID4gPiA+ID4gLS0KPiA+ID4gPiA+ID4gPiAyLjMxLjEKPiA+ID4gPiA+ID4KPiA+ID4gPgo+Cl9f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClZpcnR1YWxpemF0
aW9uIG1haWxpbmcgbGlzdApWaXJ0dWFsaXphdGlvbkBsaXN0cy5saW51eC1mb3VuZGF0aW9uLm9y
ZwpodHRwczovL2xpc3RzLmxpbnV4Zm91bmRhdGlvbi5vcmcvbWFpbG1hbi9saXN0aW5mby92aXJ0
dWFsaXphdGlvbg==

