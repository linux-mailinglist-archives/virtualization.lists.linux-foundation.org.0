Return-Path: <virtualization-bounces@lists.linux-foundation.org>
X-Original-To: lists.virtualization@lfdr.de
Delivered-To: lists.virtualization@lfdr.de
Received: from smtp4.osuosl.org (smtp4.osuosl.org [IPv6:2605:bc80:3010::137])
	by mail.lfdr.de (Postfix) with ESMTPS id 911E36C5D4D
	for <lists.virtualization@lfdr.de>; Thu, 23 Mar 2023 04:36:54 +0100 (CET)
Received: from localhost (localhost [127.0.0.1])
	by smtp4.osuosl.org (Postfix) with ESMTP id 173D74060F;
	Thu, 23 Mar 2023 03:36:53 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp4.osuosl.org 173D74060F
Authentication-Results: smtp4.osuosl.org;
	dkim=fail reason="signature verification failed" (1024-bit key) header.d=redhat.com header.i=@redhat.com header.a=rsa-sha256 header.s=mimecast20190719 header.b=aDo8t37I
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp4.osuosl.org ([127.0.0.1])
	by localhost (smtp4.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id accEg4eEdYcC; Thu, 23 Mar 2023 03:36:51 +0000 (UTC)
Received: from lists.linuxfoundation.org (lf-lists.osuosl.org [IPv6:2605:bc80:3010:104::8cd3:938])
	by smtp4.osuosl.org (Postfix) with ESMTPS id BEC8D40590;
	Thu, 23 Mar 2023 03:36:50 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp4.osuosl.org BEC8D40590
Received: from lf-lists.osuosl.org (localhost [127.0.0.1])
	by lists.linuxfoundation.org (Postfix) with ESMTP id F100EC007E;
	Thu, 23 Mar 2023 03:36:49 +0000 (UTC)
X-Original-To: virtualization@lists.linux-foundation.org
Delivered-To: virtualization@lists.linuxfoundation.org
Received: from smtp3.osuosl.org (smtp3.osuosl.org [IPv6:2605:bc80:3010::136])
 by lists.linuxfoundation.org (Postfix) with ESMTP id 8A13CC0032
 for <virtualization@lists.linux-foundation.org>;
 Thu, 23 Mar 2023 03:36:47 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by smtp3.osuosl.org (Postfix) with ESMTP id 50AB76143B
 for <virtualization@lists.linux-foundation.org>;
 Thu, 23 Mar 2023 03:36:47 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp3.osuosl.org 50AB76143B
Authentication-Results: smtp3.osuosl.org;
 dkim=pass (1024-bit key) header.d=redhat.com header.i=@redhat.com
 header.a=rsa-sha256 header.s=mimecast20190719 header.b=aDo8t37I
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp3.osuosl.org ([127.0.0.1])
 by localhost (smtp3.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 85rZFUnvIO56
 for <virtualization@lists.linux-foundation.org>;
 Thu, 23 Mar 2023 03:36:45 +0000 (UTC)
X-Greylist: domain auto-whitelisted by SQLgrey-1.8.0
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp3.osuosl.org 8F07B60E1B
Received: from us-smtp-delivery-124.mimecast.com
 (us-smtp-delivery-124.mimecast.com [170.10.129.124])
 by smtp3.osuosl.org (Postfix) with ESMTPS id 8F07B60E1B
 for <virtualization@lists.linux-foundation.org>;
 Thu, 23 Mar 2023 03:36:44 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=redhat.com;
 s=mimecast20190719; t=1679542603;
 h=from:from:reply-to:subject:subject:date:date:message-id:message-id:
 to:to:cc:cc:mime-version:mime-version:content-type:content-type:
 content-transfer-encoding:content-transfer-encoding:
 in-reply-to:in-reply-to:references:references;
 bh=DYWL/gT2cHjHsxDtXChuzSZbhQ4WI0HpSX8QiGBjdWk=;
 b=aDo8t37I5aTw/9aQhMu6+i7CCnErMmYyVTF0XUcQa2xrIQ+VHYKA+72V9HBCOVAK9lFSfx
 ZDy6oQ8i9SttJUTWiOpb1KY6Co5vTWqIznDB7QxBYMbUfZ2KKTkr08OQRnrcgI9o903FwK
 4o1UoYtC9ZnkrPbnWfTyWPTO854cweI=
Received: from mail-oa1-f71.google.com (mail-oa1-f71.google.com
 [209.85.160.71]) by relay.mimecast.com with ESMTP with STARTTLS
 (version=TLSv1.3, cipher=TLS_AES_256_GCM_SHA384) id
 us-mta-673-I2NYJW8sOPGaf6lN8xBQdw-1; Wed, 22 Mar 2023 23:36:42 -0400
X-MC-Unique: I2NYJW8sOPGaf6lN8xBQdw-1
Received: by mail-oa1-f71.google.com with SMTP id
 586e51a60fabf-17270774b8fso10821698fac.3
 for <virtualization@lists.linux-foundation.org>;
 Wed, 22 Mar 2023 20:36:42 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20210112; t=1679542600;
 h=content-transfer-encoding:cc:to:subject:message-id:date:from
 :in-reply-to:references:mime-version:x-gm-message-state:from:to:cc
 :subject:date:message-id:reply-to;
 bh=DYWL/gT2cHjHsxDtXChuzSZbhQ4WI0HpSX8QiGBjdWk=;
 b=JfzjcyRtdhKE0sEL/Ry7FQm3ELpTseWenRPV03A2XfqbI93QpYhbvGNhOZkFEEsDou
 ZQ9+pjEPH4+4nncAf6DXl8JfX9ja8CzGvQw5Zvxg9cdAg2/6KhqiaGFbKGRKX0+rGK4a
 Gdm8XddMh/A8DLr/CjQ9MkptJbw7du5NI9MmN4+TO+onSkpTILA1gSBCYKny8RfWd7d7
 L6hbgsVahJv+b6tpJBON2iVuOO5h/nbIXuUJXCgvJWwfTOmZgUm7tceYpKYd5+7VqU22
 OxLcIZmbL3OBkWaWUjcxwQgJjro9e5CP32wmgEDIB7k9m9r51+7NDFmA7Tds5xipMfWE
 eClA==
X-Gm-Message-State: AAQBX9eTCCvj4KRfQz17z2r3msr+VauWkv45KksI1g0GZhapT97GEpTd
 tlMBXDD1VdTSEgjw0X+XyePsDOYlyQ+uhivs6yFrraUUkLcQ/93dGphGZmMhLolA0Fq6CTc5VIe
 NJzajCqJwN0Swv/TyTy/JIjfh3NuchBTvms660BIlGIvPG0a7WXKwIxwl1A==
X-Received: by 2002:a05:6871:6c97:b0:17e:7674:8df0 with SMTP id
 zj23-20020a0568716c9700b0017e76748df0mr651034oab.9.1679542600548; 
 Wed, 22 Mar 2023 20:36:40 -0700 (PDT)
X-Google-Smtp-Source: AK7set9aTQ5oDLn0xB1QcdTM8TBhuwxleMPdT5m0AWpwVQHYGY0hcMC2Ce9UPuXDZHCAuSVkI4e12QEot/hncqsMqGU=
X-Received: by 2002:a05:6871:6c97:b0:17e:7674:8df0 with SMTP id
 zj23-20020a0568716c9700b0017e76748df0mr651023oab.9.1679542600062; Wed, 22 Mar
 2023 20:36:40 -0700 (PDT)
MIME-Version: 1.0
References: <20230321154228.182769-1-sgarzare@redhat.com>
 <20230321154228.182769-5-sgarzare@redhat.com>
In-Reply-To: <20230321154228.182769-5-sgarzare@redhat.com>
From: Jason Wang <jasowang@redhat.com>
Date: Thu, 23 Mar 2023 11:36:28 +0800
Message-ID: <CACGkMEs3G+O3Jo7yNPSOZ9wiEbq_nudU9HrVNzhqtkGoRVesYA@mail.gmail.com>
Subject: Re: [PATCH v3 4/8] vringh: support VA with iotlb
To: Stefano Garzarella <sgarzare@redhat.com>
X-Mimecast-Spam-Score: 0
X-Mimecast-Originator: redhat.com
Cc: Andrey Zhadchenko <andrey.zhadchenko@virtuozzo.com>, kvm@vger.kernel.org,
 "Michael S. Tsirkin" <mst@redhat.com>, netdev@vger.kernel.org,
 linux-kernel@vger.kernel.org, virtualization@lists.linux-foundation.org,
 eperezma@redhat.com, stefanha@redhat.com
X-BeenThere: virtualization@lists.linux-foundation.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: Linux virtualization <virtualization.lists.linux-foundation.org>
List-Unsubscribe: <https://lists.linuxfoundation.org/mailman/options/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=unsubscribe>
List-Archive: <http://lists.linuxfoundation.org/pipermail/virtualization/>
List-Post: <mailto:virtualization@lists.linux-foundation.org>
List-Help: <mailto:virtualization-request@lists.linux-foundation.org?subject=help>
List-Subscribe: <https://lists.linuxfoundation.org/mailman/listinfo/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: virtualization-bounces@lists.linux-foundation.org
Sender: "Virtualization" <virtualization-bounces@lists.linux-foundation.org>

T24gVHVlLCBNYXIgMjEsIDIwMjMgYXQgMTE6NDPigK9QTSBTdGVmYW5vIEdhcnphcmVsbGEgPHNn
YXJ6YXJlQHJlZGhhdC5jb20+IHdyb3RlOgo+Cj4gdkRQQSBzdXBwb3J0cyB0aGUgcG9zc2liaWxp
dHkgdG8gdXNlIHVzZXIgVkEgaW4gdGhlIGlvdGxiIG1lc3NhZ2VzLgo+IFNvLCBsZXQncyBhZGQg
c3VwcG9ydCBmb3IgdXNlciBWQSBpbiB2cmluZ2ggdG8gdXNlIGl0IGluIHRoZSB2RFBBCj4gc2lt
dWxhdG9ycy4KPgo+IFNpZ25lZC1vZmYtYnk6IFN0ZWZhbm8gR2FyemFyZWxsYSA8c2dhcnphcmVA
cmVkaGF0LmNvbT4KPiAtLS0KPgo+IE5vdGVzOgo+ICAgICB2MzoKPiAgICAgLSByZWZhY3RvcmVk
IGF2b2lkaW5nIGNvZGUgZHVwbGljYXRpb24gW0V1Z2VuaW9dCj4gICAgIHYyOgo+ICAgICAtIHJl
cGxhY2Uga21hcF9hdG9taWMoKSB3aXRoIGttYXBfbG9jYWxfcGFnZSgpIFtzZWUgcHJldmlvdXMg
cGF0Y2hdCj4gICAgIC0gZml4IGNhc3Qgd2FybmluZ3Mgd2hlbiBidWlsZCB3aXRoIFc9MSBDPTEK
Pgo+ICBpbmNsdWRlL2xpbnV4L3ZyaW5naC5oICAgICAgICAgICAgfCAgIDUgKy0KPiAgZHJpdmVy
cy92ZHBhL21seDUvbmV0L21seDVfdm5ldC5jIHwgICAyICstCj4gIGRyaXZlcnMvdmRwYS92ZHBh
X3NpbS92ZHBhX3NpbS5jICB8ICAgNCArLQo+ICBkcml2ZXJzL3Zob3N0L3ZyaW5naC5jICAgICAg
ICAgICAgfCAxNTMgKysrKysrKysrKysrKysrKysrKysrKystLS0tLS0tCj4gIDQgZmlsZXMgY2hh
bmdlZCwgMTI3IGluc2VydGlvbnMoKyksIDM3IGRlbGV0aW9ucygtKQo+Cj4gZGlmZiAtLWdpdCBh
L2luY2x1ZGUvbGludXgvdnJpbmdoLmggYi9pbmNsdWRlL2xpbnV4L3ZyaW5naC5oCj4gaW5kZXgg
MTk5MWEwMmM2NDMxLi5kMzliOWYyZGNiYTAgMTAwNjQ0Cj4gLS0tIGEvaW5jbHVkZS9saW51eC92
cmluZ2guaAo+ICsrKyBiL2luY2x1ZGUvbGludXgvdnJpbmdoLmgKPiBAQCAtMzIsNiArMzIsOSBA
QCBzdHJ1Y3QgdnJpbmdoIHsKPiAgICAgICAgIC8qIENhbiB3ZSBnZXQgYXdheSB3aXRoIHdlYWsg
YmFycmllcnM/ICovCj4gICAgICAgICBib29sIHdlYWtfYmFycmllcnM7Cj4KPiArICAgICAgIC8q
IFVzZSB1c2VyJ3MgVkEgKi8KPiArICAgICAgIGJvb2wgdXNlX3ZhOwo+ICsKPiAgICAgICAgIC8q
IExhc3QgYXZhaWxhYmxlIGluZGV4IHdlIHNhdyAoaWUuIHdoZXJlIHdlJ3JlIHVwIHRvKS4gKi8K
PiAgICAgICAgIHUxNiBsYXN0X2F2YWlsX2lkeDsKPgo+IEBAIC0yNzksNyArMjgyLDcgQEAgdm9p
ZCB2cmluZ2hfc2V0X2lvdGxiKHN0cnVjdCB2cmluZ2ggKnZyaCwgc3RydWN0IHZob3N0X2lvdGxi
ICppb3RsYiwKPiAgICAgICAgICAgICAgICAgICAgICAgc3BpbmxvY2tfdCAqaW90bGJfbG9jayk7
Cj4KPiAgaW50IHZyaW5naF9pbml0X2lvdGxiKHN0cnVjdCB2cmluZ2ggKnZyaCwgdTY0IGZlYXR1
cmVzLAo+IC0gICAgICAgICAgICAgICAgICAgICB1bnNpZ25lZCBpbnQgbnVtLCBib29sIHdlYWtf
YmFycmllcnMsCj4gKyAgICAgICAgICAgICAgICAgICAgIHVuc2lnbmVkIGludCBudW0sIGJvb2wg
d2Vha19iYXJyaWVycywgYm9vbCB1c2VfdmEsCj4gICAgICAgICAgICAgICAgICAgICAgIHN0cnVj
dCB2cmluZ19kZXNjICpkZXNjLAo+ICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdnJpbmdf
YXZhaWwgKmF2YWlsLAo+ICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgdnJpbmdfdXNlZCAq
dXNlZCk7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvdmRwYS9tbHg1L25ldC9tbHg1X3ZuZXQuYyBi
L2RyaXZlcnMvdmRwYS9tbHg1L25ldC9tbHg1X3ZuZXQuYwo+IGluZGV4IDUyMDY0NmFlN2ZhMC4u
ZGZkMGUwMDAyMTdiIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvdmRwYS9tbHg1L25ldC9tbHg1X3Zu
ZXQuYwo+ICsrKyBiL2RyaXZlcnMvdmRwYS9tbHg1L25ldC9tbHg1X3ZuZXQuYwo+IEBAIC0yNTM3
LDcgKzI1MzcsNyBAQCBzdGF0aWMgaW50IHNldHVwX2N2cV92cmluZyhzdHJ1Y3QgbWx4NV92ZHBh
X2RldiAqbXZkZXYpCj4KPiAgICAgICAgIGlmIChtdmRldi0+YWN0dWFsX2ZlYXR1cmVzICYgQklU
X1VMTChWSVJUSU9fTkVUX0ZfQ1RSTF9WUSkpCj4gICAgICAgICAgICAgICAgIGVyciA9IHZyaW5n
aF9pbml0X2lvdGxiKCZjdnEtPnZyaW5nLCBtdmRldi0+YWN0dWFsX2ZlYXR1cmVzLAo+IC0gICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNTFg1X0NWUV9NQVhfRU5ULCBmYWxz
ZSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTUxYNV9DVlFfTUFY
X0VOVCwgZmFsc2UsIGZhbHNlLAoKVG8gYXZvaWQgdGhvc2UgY2hhbmdlcywgd291bGQgaXQgYmUg
YmV0dGVyIHRvIGludHJvZHVjZQp2cmluZ2hfaW5pdF9pb3RsYl92YSgpIHNvIHZyaW5naF9pbml0
X2lvdGxiKCkgY2FuIHN0aWNrIHRvIHBhLgoKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgKHN0cnVjdCB2cmluZ19kZXNjICopKHVpbnRwdHJfdCljdnEtPmRlc2NfYWRk
ciwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHN0cnVjdCB2cmlu
Z19hdmFpbCAqKSh1aW50cHRyX3QpY3ZxLT5kcml2ZXJfYWRkciwKPiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgKHN0cnVjdCB2cmluZ191c2VkICopKHVpbnRwdHJfdClj
dnEtPmRldmljZV9hZGRyKTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy92ZHBhL3ZkcGFfc2ltL3Zk
cGFfc2ltLmMgYi9kcml2ZXJzL3ZkcGEvdmRwYV9zaW0vdmRwYV9zaW0uYwo+IGluZGV4IGVlYTIz
YzYzMGY3Yy4uNDdjZGYyYTFmNWI4IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvdmRwYS92ZHBhX3Np
bS92ZHBhX3NpbS5jCj4gKysrIGIvZHJpdmVycy92ZHBhL3ZkcGFfc2ltL3ZkcGFfc2ltLmMKPiBA
QCAtNjAsNyArNjAsNyBAQCBzdGF0aWMgdm9pZCB2ZHBhc2ltX3F1ZXVlX3JlYWR5KHN0cnVjdCB2
ZHBhc2ltICp2ZHBhc2ltLCB1bnNpZ25lZCBpbnQgaWR4KQo+ICAgICAgICAgc3RydWN0IHZkcGFz
aW1fdmlydHF1ZXVlICp2cSA9ICZ2ZHBhc2ltLT52cXNbaWR4XTsKPiAgICAgICAgIHVpbnQxNl90
IGxhc3RfYXZhaWxfaWR4ID0gdnEtPnZyaW5nLmxhc3RfYXZhaWxfaWR4Owo+Cj4gLSAgICAgICB2
cmluZ2hfaW5pdF9pb3RsYigmdnEtPnZyaW5nLCB2ZHBhc2ltLT5mZWF0dXJlcywgdnEtPm51bSwg
dHJ1ZSwKPiArICAgICAgIHZyaW5naF9pbml0X2lvdGxiKCZ2cS0+dnJpbmcsIHZkcGFzaW0tPmZl
YXR1cmVzLCB2cS0+bnVtLCB0cnVlLCBmYWxzZSwKPiAgICAgICAgICAgICAgICAgICAgICAgICAg
IChzdHJ1Y3QgdnJpbmdfZGVzYyAqKSh1aW50cHRyX3QpdnEtPmRlc2NfYWRkciwKPiAgICAgICAg
ICAgICAgICAgICAgICAgICAgIChzdHJ1Y3QgdnJpbmdfYXZhaWwgKikKPiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICh1aW50cHRyX3QpdnEtPmRyaXZlcl9hZGRyLAo+IEBAIC05Miw3ICs5Miw3
IEBAIHN0YXRpYyB2b2lkIHZkcGFzaW1fdnFfcmVzZXQoc3RydWN0IHZkcGFzaW0gKnZkcGFzaW0s
Cj4gICAgICAgICB2cS0+Y2IgPSBOVUxMOwo+ICAgICAgICAgdnEtPnByaXZhdGUgPSBOVUxMOwo+
ICAgICAgICAgdnJpbmdoX2luaXRfaW90bGIoJnZxLT52cmluZywgdmRwYXNpbS0+ZGV2X2F0dHIu
c3VwcG9ydGVkX2ZlYXR1cmVzLAo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgVkRQQVNJTV9R
VUVVRV9NQVgsIGZhbHNlLCBOVUxMLCBOVUxMLCBOVUxMKTsKPiArICAgICAgICAgICAgICAgICAg
ICAgICAgIFZEUEFTSU1fUVVFVUVfTUFYLCBmYWxzZSwgZmFsc2UsIE5VTEwsIE5VTEwsIE5VTEwp
Owo+Cj4gICAgICAgICB2cS0+dnJpbmcubm90aWZ5ID0gTlVMTDsKPiAgfQo+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL3Zob3N0L3ZyaW5naC5jIGIvZHJpdmVycy92aG9zdC92cmluZ2guYwo+IGluZGV4
IDBiYTNlZjgwOWU0OC4uNzJjODg1MTkzMjlhIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvdmhvc3Qv
dnJpbmdoLmMKPiArKysgYi9kcml2ZXJzL3Zob3N0L3ZyaW5naC5jCj4gQEAgLTEwOTQsMTAgKzEw
OTQsMTggQEAgRVhQT1JUX1NZTUJPTCh2cmluZ2hfbmVlZF9ub3RpZnlfa2Vybik7Cj4KPiAgI2lm
IElTX1JFQUNIQUJMRShDT05GSUdfVkhPU1RfSU9UTEIpCj4KPiArc3RydWN0IGlvdGxiX3ZlYyB7
Cj4gKyAgICAgICB1bmlvbiB7Cj4gKyAgICAgICAgICAgICAgIHN0cnVjdCBpb3ZlYyAqaW92ZWM7
Cj4gKyAgICAgICAgICAgICAgIHN0cnVjdCBiaW9fdmVjICpidmVjOwo+ICsgICAgICAgfSBpb3Y7
Cj4gKyAgICAgICBzaXplX3QgY291bnQ7Cj4gKyAgICAgICBib29sIGlzX2lvdmVjOwoKSSB3b25k
ZXIgaWYgdGhpcyBpcyBuZWVkZWQgKGlmIHZyaW5naCBpcyBwYXNzZWQgdG8gZXZlcnkgaW90bGJf
dmVjIGhlbHBlcikuCgo+ICt9Owo+ICsKPiAgc3RhdGljIGludCBpb3RsYl90cmFuc2xhdGUoY29u
c3Qgc3RydWN0IHZyaW5naCAqdnJoLAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHU2NCBh
ZGRyLCB1NjQgbGVuLCB1NjQgKnRyYW5zbGF0ZWQsCj4gLSAgICAgICAgICAgICAgICAgICAgICAg
ICAgc3RydWN0IGJpb192ZWMgaW92W10sCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgaW50
IGlvdl9zaXplLCB1MzIgcGVybSkKPiArICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3Qg
aW90bGJfdmVjICppdmVjLCB1MzIgcGVybSkKPiAgewo+ICAgICAgICAgc3RydWN0IHZob3N0X2lv
dGxiX21hcCAqbWFwOwo+ICAgICAgICAgc3RydWN0IHZob3N0X2lvdGxiICppb3RsYiA9IHZyaC0+
aW90bGI7Cj4gQEAgLTExMDcsOSArMTExNSw5IEBAIHN0YXRpYyBpbnQgaW90bGJfdHJhbnNsYXRl
KGNvbnN0IHN0cnVjdCB2cmluZ2ggKnZyaCwKPiAgICAgICAgIHNwaW5fbG9jayh2cmgtPmlvdGxi
X2xvY2spOwo+Cj4gICAgICAgICB3aGlsZSAobGVuID4gcykgewo+IC0gICAgICAgICAgICAgICB1
NjQgc2l6ZSwgcGEsIHBmbjsKPiArICAgICAgICAgICAgICAgdTY0IHNpemU7Cj4KPiAtICAgICAg
ICAgICAgICAgaWYgKHVubGlrZWx5KHJldCA+PSBpb3Zfc2l6ZSkpIHsKPiArICAgICAgICAgICAg
ICAgaWYgKHVubGlrZWx5KHJldCA+PSBpdmVjLT5jb3VudCkpIHsKPiAgICAgICAgICAgICAgICAg
ICAgICAgICByZXQgPSAtRU5PQlVGUzsKPiAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsK
PiAgICAgICAgICAgICAgICAgfQo+IEBAIC0xMTI0LDEwICsxMTMyLDIyIEBAIHN0YXRpYyBpbnQg
aW90bGJfdHJhbnNsYXRlKGNvbnN0IHN0cnVjdCB2cmluZ2ggKnZyaCwKPiAgICAgICAgICAgICAg
ICAgfQo+Cj4gICAgICAgICAgICAgICAgIHNpemUgPSBtYXAtPnNpemUgLSBhZGRyICsgbWFwLT5z
dGFydDsKPiAtICAgICAgICAgICAgICAgcGEgPSBtYXAtPmFkZHIgKyBhZGRyIC0gbWFwLT5zdGFy
dDsKPiAtICAgICAgICAgICAgICAgcGZuID0gcGEgPj4gUEFHRV9TSElGVDsKPiAtICAgICAgICAg
ICAgICAgYnZlY19zZXRfcGFnZSgmaW92W3JldF0sIHBmbl90b19wYWdlKHBmbiksIG1pbihsZW4g
LSBzLCBzaXplKSwKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYSAmIChQQUdFX1NJ
WkUgLSAxKSk7Cj4gKyAgICAgICAgICAgICAgIGlmIChpdmVjLT5pc19pb3ZlYykgewo+ICsgICAg
ICAgICAgICAgICAgICAgICAgIHN0cnVjdCBpb3ZlYyAqaW92ZWMgPSBpdmVjLT5pb3YuaW92ZWM7
Cj4gKwo+ICsgICAgICAgICAgICAgICAgICAgICAgIGlvdmVjW3JldF0uaW92X2xlbiA9IG1pbihs
ZW4gLSBzLCBzaXplKTsKPiArICAgICAgICAgICAgICAgICAgICAgICBpb3ZlY1tyZXRdLmlvdl9i
YXNlID0gKHZvaWQgX191c2VyICopKHVuc2lnbmVkIGxvbmcpCj4gKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIChtYXAtPmFkZHIgKyBhZGRyIC0gbWFwLT5zdGFy
dCk7CgptYXAtPmFkZHIgLSBtYXAtPnN0YXJ0IHRvIGF2b2lkIG92ZXJmbG93PwoKPiArICAgICAg
ICAgICAgICAgfSBlbHNlIHsKPiArICAgICAgICAgICAgICAgICAgICAgICB1NjQgcGEgPSBtYXAt
PmFkZHIgKyBhZGRyIC0gbWFwLT5zdGFydDsKPiArICAgICAgICAgICAgICAgICAgICAgICB1NjQg
cGZuID0gcGEgPj4gUEFHRV9TSElGVDsKPiArICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3Qg
YmlvX3ZlYyAqYnZlYyA9IGl2ZWMtPmlvdi5idmVjOwo+ICsKPiArICAgICAgICAgICAgICAgICAg
ICAgICBidmVjX3NldF9wYWdlKCZidmVjW3JldF0sIHBmbl90b19wYWdlKHBmbiksCj4gKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW4obGVuIC0gcywgc2l6ZSksCj4gKyAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYSAmIChQQUdFX1NJWkUgLSAxKSk7
Cj4gKyAgICAgICAgICAgICAgIH0KPiArCj4gICAgICAgICAgICAgICAgIHMgKz0gc2l6ZTsKPiAg
ICAgICAgICAgICAgICAgYWRkciArPSBzaXplOwo+ICAgICAgICAgICAgICAgICArK3JldDsKPiBA
QCAtMTE0MSwyNiArMTE2MSw0MiBAQCBzdGF0aWMgaW50IGlvdGxiX3RyYW5zbGF0ZShjb25zdCBz
dHJ1Y3QgdnJpbmdoICp2cmgsCj4gICAgICAgICByZXR1cm4gcmV0Owo+ICB9Cj4KPiArI2RlZmlu
ZSBJT1RMQl9JT1ZfU0laRSAxNgo+ICsKPiAgc3RhdGljIGlubGluZSBpbnQgY29weV9mcm9tX2lv
dGxiKGNvbnN0IHN0cnVjdCB2cmluZ2ggKnZyaCwgdm9pZCAqZHN0LAo+ICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICB2b2lkICpzcmMsIHNpemVfdCBsZW4pCj4gIHsKPiArICAgICAg
IHN0cnVjdCBpb3RsYl92ZWMgaXZlYzsKPiArICAgICAgIHVuaW9uIHsKPiArICAgICAgICAgICAg
ICAgc3RydWN0IGlvdmVjIGlvdmVjW0lPVExCX0lPVl9TSVpFXTsKPiArICAgICAgICAgICAgICAg
c3RydWN0IGJpb192ZWMgYnZlY1tJT1RMQl9JT1ZfU0laRV07Cj4gKyAgICAgICB9IGlvdjsKPiAg
ICAgICAgIHU2NCB0b3RhbF90cmFuc2xhdGVkID0gMDsKPgo+ICsgICAgICAgaXZlYy5pb3YuaW92
ZWMgPSBpb3YuaW92ZWM7CgppdmMuaW92ID0gaW92ID8KCk90aGVycyBsb29rIGdvb2QuCgpUaGFu
a3MKCj4gKyAgICAgICBpdmVjLmNvdW50ID0gSU9UTEJfSU9WX1NJWkU7Cj4gKyAgICAgICBpdmVj
LmlzX2lvdmVjID0gdnJoLT51c2VfdmE7Cj4gKwo+ICAgICAgICAgd2hpbGUgKHRvdGFsX3RyYW5z
bGF0ZWQgPCBsZW4pIHsKPiAtICAgICAgICAgICAgICAgc3RydWN0IGJpb192ZWMgaW92WzE2XTsK
PiAgICAgICAgICAgICAgICAgc3RydWN0IGlvdl9pdGVyIGl0ZXI7Cj4gICAgICAgICAgICAgICAg
IHU2NCB0cmFuc2xhdGVkOwo+ICAgICAgICAgICAgICAgICBpbnQgcmV0Owo+Cj4gICAgICAgICAg
ICAgICAgIHJldCA9IGlvdGxiX3RyYW5zbGF0ZSh2cmgsICh1NjQpKHVpbnRwdHJfdClzcmMsCj4g
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZW4gLSB0b3RhbF90cmFuc2xh
dGVkLCAmdHJhbnNsYXRlZCwKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IGlvdiwgQVJSQVlfU0laRShpb3YpLCBWSE9TVF9NQVBfUk8pOwo+ICsgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgJml2ZWMsIFZIT1NUX01BUF9STyk7Cj4gICAgICAgICAgICAg
ICAgIGlmIChyZXQgPT0gLUVOT0JVRlMpCj4gLSAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0g
QVJSQVlfU0laRShpb3YpOwo+ICsgICAgICAgICAgICAgICAgICAgICAgIHJldCA9IElPVExCX0lP
Vl9TSVpFOwo+ICAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXQgPCAwKQo+ICAgICAgICAgICAg
ICAgICAgICAgICAgIHJldHVybiByZXQ7Cj4KPiAtICAgICAgICAgICAgICAgaW92X2l0ZXJfYnZl
YygmaXRlciwgSVRFUl9TT1VSQ0UsIGlvdiwgcmV0LCB0cmFuc2xhdGVkKTsKPiArICAgICAgICAg
ICAgICAgaWYgKGl2ZWMuaXNfaW92ZWMpIHsKPiArICAgICAgICAgICAgICAgICAgICAgICBpb3Zf
aXRlcl9pbml0KCZpdGVyLCBJVEVSX1NPVVJDRSwgaXZlYy5pb3YuaW92ZWMsIHJldCwKPiArICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZWQpOwo+ICsgICAgICAg
ICAgICAgICB9IGVsc2Ugewo+ICsgICAgICAgICAgICAgICAgICAgICAgIGlvdl9pdGVyX2J2ZWMo
Jml0ZXIsIElURVJfU09VUkNFLCBpdmVjLmlvdi5idmVjLCByZXQsCj4gKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGVkKTsKPiArICAgICAgICAgICAgICAgfQo+
Cj4gICAgICAgICAgICAgICAgIHJldCA9IGNvcHlfZnJvbV9pdGVyKGRzdCwgdHJhbnNsYXRlZCwg
Jml0ZXIpOwo+ICAgICAgICAgICAgICAgICBpZiAocmV0IDwgMCkKPiBAQCAtMTE3NywyMyArMTIx
MywzNyBAQCBzdGF0aWMgaW5saW5lIGludCBjb3B5X2Zyb21faW90bGIoY29uc3Qgc3RydWN0IHZy
aW5naCAqdnJoLCB2b2lkICpkc3QsCj4gIHN0YXRpYyBpbmxpbmUgaW50IGNvcHlfdG9faW90bGIo
Y29uc3Qgc3RydWN0IHZyaW5naCAqdnJoLCB2b2lkICpkc3QsCj4gICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICB2b2lkICpzcmMsIHNpemVfdCBsZW4pCj4gIHsKPiArICAgICAgIHN0cnVj
dCBpb3RsYl92ZWMgaXZlYzsKPiArICAgICAgIHVuaW9uIHsKPiArICAgICAgICAgICAgICAgc3Ry
dWN0IGlvdmVjIGlvdmVjW0lPVExCX0lPVl9TSVpFXTsKPiArICAgICAgICAgICAgICAgc3RydWN0
IGJpb192ZWMgYnZlY1tJT1RMQl9JT1ZfU0laRV07Cj4gKyAgICAgICB9IGlvdjsKPiAgICAgICAg
IHU2NCB0b3RhbF90cmFuc2xhdGVkID0gMDsKPgo+ICsgICAgICAgaXZlYy5pb3YuaW92ZWMgPSBp
b3YuaW92ZWM7Cj4gKyAgICAgICBpdmVjLmNvdW50ID0gSU9UTEJfSU9WX1NJWkU7Cj4gKyAgICAg
ICBpdmVjLmlzX2lvdmVjID0gdnJoLT51c2VfdmE7Cj4gKwo+ICAgICAgICAgd2hpbGUgKHRvdGFs
X3RyYW5zbGF0ZWQgPCBsZW4pIHsKPiAtICAgICAgICAgICAgICAgc3RydWN0IGJpb192ZWMgaW92
WzE2XTsKPiAgICAgICAgICAgICAgICAgc3RydWN0IGlvdl9pdGVyIGl0ZXI7Cj4gICAgICAgICAg
ICAgICAgIHU2NCB0cmFuc2xhdGVkOwo+ICAgICAgICAgICAgICAgICBpbnQgcmV0Owo+Cj4gICAg
ICAgICAgICAgICAgIHJldCA9IGlvdGxiX3RyYW5zbGF0ZSh2cmgsICh1NjQpKHVpbnRwdHJfdClk
c3QsCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZW4gLSB0b3RhbF90
cmFuc2xhdGVkLCAmdHJhbnNsYXRlZCwKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIGlvdiwgQVJSQVlfU0laRShpb3YpLCBWSE9TVF9NQVBfV08pOwo+ICsgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgJml2ZWMsIFZIT1NUX01BUF9XTyk7Cj4gICAgICAg
ICAgICAgICAgIGlmIChyZXQgPT0gLUVOT0JVRlMpCj4gLSAgICAgICAgICAgICAgICAgICAgICAg
cmV0ID0gQVJSQVlfU0laRShpb3YpOwo+ICsgICAgICAgICAgICAgICAgICAgICAgIHJldCA9IElP
VExCX0lPVl9TSVpFOwo+ICAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXQgPCAwKQo+ICAgICAg
ICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7Cj4KPiAtICAgICAgICAgICAgICAgaW92X2l0
ZXJfYnZlYygmaXRlciwgSVRFUl9ERVNULCBpb3YsIHJldCwgdHJhbnNsYXRlZCk7Cj4gKyAgICAg
ICAgICAgICAgIGlmIChpdmVjLmlzX2lvdmVjKSB7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAg
aW92X2l0ZXJfaW5pdCgmaXRlciwgSVRFUl9ERVNULCBpdmVjLmlvdi5pb3ZlYywgcmV0LAo+ICsg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlZCk7Cj4gKyAgICAg
ICAgICAgICAgIH0gZWxzZSB7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgaW92X2l0ZXJfYnZl
YygmaXRlciwgSVRFUl9ERVNULCBpdmVjLmlvdi5idmVjLCByZXQsCj4gKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGVkKTsKPiArICAgICAgICAgICAgICAgfQo+
Cj4gICAgICAgICAgICAgICAgIHJldCA9IGNvcHlfdG9faXRlcihzcmMsIHRyYW5zbGF0ZWQsICZp
dGVyKTsKPiAgICAgICAgICAgICAgICAgaWYgKHJldCA8IDApCj4gQEAgLTEyMTAsMjAgKzEyNjAs
MzcgQEAgc3RhdGljIGlubGluZSBpbnQgY29weV90b19pb3RsYihjb25zdCBzdHJ1Y3QgdnJpbmdo
ICp2cmgsIHZvaWQgKmRzdCwKPiAgc3RhdGljIGlubGluZSBpbnQgZ2V0dTE2X2lvdGxiKGNvbnN0
IHN0cnVjdCB2cmluZ2ggKnZyaCwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdTE2
ICp2YWwsIGNvbnN0IF9fdmlydGlvMTYgKnApCj4gIHsKPiAtICAgICAgIHN0cnVjdCBiaW9fdmVj
IGlvdjsKPiAtICAgICAgIHZvaWQgKmthZGRyLCAqZnJvbTsKPiArICAgICAgIHN0cnVjdCBpb3Rs
Yl92ZWMgaXZlYzsKPiArICAgICAgIHVuaW9uIHsKPiArICAgICAgICAgICAgICAgc3RydWN0IGlv
dmVjIGlvdmVjWzFdOwo+ICsgICAgICAgICAgICAgICBzdHJ1Y3QgYmlvX3ZlYyBidmVjWzFdOwo+
ICsgICAgICAgfSBpb3Y7Cj4gKyAgICAgICBfX3ZpcnRpbzE2IHRtcDsKPiAgICAgICAgIGludCBy
ZXQ7Cj4KPiArICAgICAgIGl2ZWMuaW92LmlvdmVjID0gaW92LmlvdmVjOwo+ICsgICAgICAgaXZl
Yy5jb3VudCA9IDE7Cj4gKyAgICAgICBpdmVjLmlzX2lvdmVjID0gdnJoLT51c2VfdmE7Cj4gKwo+
ICAgICAgICAgLyogQXRvbWljIHJlYWQgaXMgbmVlZGVkIGZvciBnZXR1MTYgKi8KPiAtICAgICAg
IHJldCA9IGlvdGxiX3RyYW5zbGF0ZSh2cmgsICh1NjQpKHVpbnRwdHJfdClwLCBzaXplb2YoKnAp
LCBOVUxMLAo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICZpb3YsIDEsIFZIT1NUX01B
UF9STyk7Cj4gKyAgICAgICByZXQgPSBpb3RsYl90cmFuc2xhdGUodnJoLCAodTY0KSh1aW50cHRy
X3QpcCwgc2l6ZW9mKCpwKSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOVUxMLCAm
aXZlYywgVkhPU1RfTUFQX1JPKTsKPiAgICAgICAgIGlmIChyZXQgPCAwKQo+ICAgICAgICAgICAg
ICAgICByZXR1cm4gcmV0Owo+Cj4gLSAgICAgICBrYWRkciA9IGttYXBfbG9jYWxfcGFnZShpb3Yu
YnZfcGFnZSk7Cj4gLSAgICAgICBmcm9tID0ga2FkZHIgKyBpb3YuYnZfb2Zmc2V0Owo+IC0gICAg
ICAgKnZhbCA9IHZyaW5naDE2X3RvX2NwdSh2cmgsIFJFQURfT05DRSgqKF9fdmlydGlvMTYgKilm
cm9tKSk7Cj4gLSAgICAgICBrdW5tYXBfbG9jYWwoa2FkZHIpOwo+ICsgICAgICAgaWYgKGl2ZWMu
aXNfaW92ZWMpIHsKPiArICAgICAgICAgICAgICAgcmV0ID0gX19nZXRfdXNlcih0bXAsIChfX3Zp
cnRpbzE2IF9fdXNlciAqKWl2ZWMuaW92LmlvdmVjWzBdLmlvdl9iYXNlKTsKPiArICAgICAgICAg
ICAgICAgaWYgKHJldCkKPiArICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0Owo+ICsg
ICAgICAgfSBlbHNlIHsKPiArICAgICAgICAgICAgICAgdm9pZCAqa2FkZHIgPSBrbWFwX2xvY2Fs
X3BhZ2UoaXZlYy5pb3YuYnZlY1swXS5idl9wYWdlKTsKPiArICAgICAgICAgICAgICAgdm9pZCAq
ZnJvbSA9IGthZGRyICsgaXZlYy5pb3YuYnZlY1swXS5idl9vZmZzZXQ7Cj4gKwo+ICsgICAgICAg
ICAgICAgICB0bXAgPSBSRUFEX09OQ0UoKihfX3ZpcnRpbzE2ICopZnJvbSk7Cj4gKyAgICAgICAg
ICAgICAgIGt1bm1hcF9sb2NhbChrYWRkcik7Cj4gKyAgICAgICB9Cj4gKwo+ICsgICAgICAgKnZh
bCA9IHZyaW5naDE2X3RvX2NwdSh2cmgsIHRtcCk7Cj4KPiAgICAgICAgIHJldHVybiAwOwo+ICB9
Cj4gQEAgLTEyMzEsMjAgKzEyOTgsMzcgQEAgc3RhdGljIGlubGluZSBpbnQgZ2V0dTE2X2lvdGxi
KGNvbnN0IHN0cnVjdCB2cmluZ2ggKnZyaCwKPiAgc3RhdGljIGlubGluZSBpbnQgcHV0dTE2X2lv
dGxiKGNvbnN0IHN0cnVjdCB2cmluZ2ggKnZyaCwKPiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgX192aXJ0aW8xNiAqcCwgdTE2IHZhbCkKPiAgewo+IC0gICAgICAgc3RydWN0IGJpb192
ZWMgaW92Owo+IC0gICAgICAgdm9pZCAqa2FkZHIsICp0bzsKPiArICAgICAgIHN0cnVjdCBpb3Rs
Yl92ZWMgaXZlYzsKPiArICAgICAgIHVuaW9uIHsKPiArICAgICAgICAgICAgICAgc3RydWN0IGlv
dmVjIGlvdmVjOwo+ICsgICAgICAgICAgICAgICBzdHJ1Y3QgYmlvX3ZlYyBidmVjOwo+ICsgICAg
ICAgfSBpb3Y7Cj4gKyAgICAgICBfX3ZpcnRpbzE2IHRtcDsKPiAgICAgICAgIGludCByZXQ7Cj4K
PiArICAgICAgIGl2ZWMuaW92LmlvdmVjID0gJmlvdi5pb3ZlYzsKPiArICAgICAgIGl2ZWMuY291
bnQgPSAxOwo+ICsgICAgICAgaXZlYy5pc19pb3ZlYyA9IHZyaC0+dXNlX3ZhOwo+ICsKPiAgICAg
ICAgIC8qIEF0b21pYyB3cml0ZSBpcyBuZWVkZWQgZm9yIHB1dHUxNiAqLwo+IC0gICAgICAgcmV0
ID0gaW90bGJfdHJhbnNsYXRlKHZyaCwgKHU2NCkodWludHB0cl90KXAsIHNpemVvZigqcCksIE5V
TEwsCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJmlvdiwgMSwgVkhPU1RfTUFQX1dP
KTsKPiArICAgICAgIHJldCA9IGlvdGxiX3RyYW5zbGF0ZSh2cmgsICh1NjQpKHVpbnRwdHJfdClw
LCBzaXplb2YoKnApLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5VTEwsICZpdmVj
LCBWSE9TVF9NQVBfUk8pOwo+ICAgICAgICAgaWYgKHJldCA8IDApCj4gICAgICAgICAgICAgICAg
IHJldHVybiByZXQ7Cj4KPiAtICAgICAgIGthZGRyID0ga21hcF9sb2NhbF9wYWdlKGlvdi5idl9w
YWdlKTsKPiAtICAgICAgIHRvID0ga2FkZHIgKyBpb3YuYnZfb2Zmc2V0Owo+IC0gICAgICAgV1JJ
VEVfT05DRSgqKF9fdmlydGlvMTYgKil0bywgY3B1X3RvX3ZyaW5naDE2KHZyaCwgdmFsKSk7Cj4g
LSAgICAgICBrdW5tYXBfbG9jYWwoa2FkZHIpOwo+ICsgICAgICAgdG1wID0gY3B1X3RvX3ZyaW5n
aDE2KHZyaCwgdmFsKTsKPiArCj4gKyAgICAgICBpZiAoaXZlYy5pc19pb3ZlYykgewo+ICsgICAg
ICAgICAgICAgICByZXQgPSBfX3B1dF91c2VyKHRtcCwgKF9fdmlydGlvMTYgX191c2VyICopaXZl
Yy5pb3YuaW92ZWNbMF0uaW92X2Jhc2UpOwo+ICsgICAgICAgICAgICAgICBpZiAocmV0KQo+ICsg
ICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7Cj4gKyAgICAgICB9IGVsc2Ugewo+ICsg
ICAgICAgICAgICAgICB2b2lkICprYWRkciA9IGttYXBfbG9jYWxfcGFnZShpdmVjLmlvdi5idmVj
WzBdLmJ2X3BhZ2UpOwo+ICsgICAgICAgICAgICAgICB2b2lkICp0byA9IGthZGRyICsgaXZlYy5p
b3YuYnZlY1swXS5idl9vZmZzZXQ7Cj4gKwo+ICsgICAgICAgICAgICAgICBXUklURV9PTkNFKCoo
X192aXJ0aW8xNiAqKXRvLCB0bXApOwo+ICsgICAgICAgICAgICAgICBrdW5tYXBfbG9jYWwoa2Fk
ZHIpOwo+ICsgICAgICAgfQo+Cj4gICAgICAgICByZXR1cm4gMDsKPiAgfQo+IEBAIC0xMzA2LDYg
KzEzOTAsNyBAQCBzdGF0aWMgaW5saW5lIGludCBwdXR1c2VkX2lvdGxiKGNvbnN0IHN0cnVjdCB2
cmluZ2ggKnZyaCwKPiAgICogQGZlYXR1cmVzOiB0aGUgZmVhdHVyZSBiaXRzIGZvciB0aGlzIHJp
bmcuCj4gICAqIEBudW06IHRoZSBudW1iZXIgb2YgZWxlbWVudHMuCj4gICAqIEB3ZWFrX2JhcnJp
ZXJzOiB0cnVlIGlmIHdlIG9ubHkgbmVlZCBtZW1vcnkgYmFycmllcnMsIG5vdCBJL08uCj4gKyAq
IEB1c2VfdmE6IHRydWUgaWYgSU9UTEIgY29udGFpbnMgdXNlciBWQQo+ICAgKiBAZGVzYzogdGhl
IHVzZXJwYWNlIGRlc2NyaXB0b3IgcG9pbnRlci4KPiAgICogQGF2YWlsOiB0aGUgdXNlcnBhY2Ug
YXZhaWwgcG9pbnRlci4KPiAgICogQHVzZWQ6IHRoZSB1c2VycGFjZSB1c2VkIHBvaW50ZXIuCj4g
QEAgLTEzMTMsMTEgKzEzOTgsMTMgQEAgc3RhdGljIGlubGluZSBpbnQgcHV0dXNlZF9pb3RsYihj
b25zdCBzdHJ1Y3QgdnJpbmdoICp2cmgsCj4gICAqIFJldHVybnMgYW4gZXJyb3IgaWYgbnVtIGlz
IGludmFsaWQuCj4gICAqLwo+ICBpbnQgdnJpbmdoX2luaXRfaW90bGIoc3RydWN0IHZyaW5naCAq
dnJoLCB1NjQgZmVhdHVyZXMsCj4gLSAgICAgICAgICAgICAgICAgICAgIHVuc2lnbmVkIGludCBu
dW0sIGJvb2wgd2Vha19iYXJyaWVycywKPiArICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQg
aW50IG51bSwgYm9vbCB3ZWFrX2JhcnJpZXJzLCBib29sIHVzZV92YSwKPiAgICAgICAgICAgICAg
ICAgICAgICAgc3RydWN0IHZyaW5nX2Rlc2MgKmRlc2MsCj4gICAgICAgICAgICAgICAgICAgICAg
IHN0cnVjdCB2cmluZ19hdmFpbCAqYXZhaWwsCj4gICAgICAgICAgICAgICAgICAgICAgIHN0cnVj
dCB2cmluZ191c2VkICp1c2VkKQo+ICB7Cj4gKyAgICAgICB2cmgtPnVzZV92YSA9IHVzZV92YTsK
PiArCj4gICAgICAgICByZXR1cm4gdnJpbmdoX2luaXRfa2Vybih2cmgsIGZlYXR1cmVzLCBudW0s
IHdlYWtfYmFycmllcnMsCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjLCBh
dmFpbCwgdXNlZCk7Cj4gIH0KPiAtLQo+IDIuMzkuMgo+CgpfX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fXwpWaXJ0dWFsaXphdGlvbiBtYWlsaW5nIGxpc3QKVmly
dHVhbGl6YXRpb25AbGlzdHMubGludXgtZm91bmRhdGlvbi5vcmcKaHR0cHM6Ly9saXN0cy5saW51
eGZvdW5kYXRpb24ub3JnL21haWxtYW4vbGlzdGluZm8vdmlydHVhbGl6YXRpb24=
