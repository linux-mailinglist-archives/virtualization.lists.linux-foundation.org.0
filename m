Return-Path: <virtualization-bounces@lists.linux-foundation.org>
X-Original-To: lists.virtualization@lfdr.de
Delivered-To: lists.virtualization@lfdr.de
Received: from smtp2.osuosl.org (smtp2.osuosl.org [IPv6:2605:bc80:3010::133])
	by mail.lfdr.de (Postfix) with ESMTPS id 8BF293AE5BE
	for <lists.virtualization@lfdr.de>; Mon, 21 Jun 2021 11:14:51 +0200 (CEST)
Received: from localhost (localhost [127.0.0.1])
	by smtp2.osuosl.org (Postfix) with ESMTP id 14CC6400EB;
	Mon, 21 Jun 2021 09:14:50 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp2.osuosl.org ([127.0.0.1])
	by localhost (smtp2.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id gxO_AKox2CGd; Mon, 21 Jun 2021 09:14:47 +0000 (UTC)
Received: from lists.linuxfoundation.org (lf-lists.osuosl.org [IPv6:2605:bc80:3010:104::8cd3:938])
	by smtp2.osuosl.org (Postfix) with ESMTPS id 7C4974015D;
	Mon, 21 Jun 2021 09:14:47 +0000 (UTC)
Received: from lf-lists.osuosl.org (localhost [127.0.0.1])
	by lists.linuxfoundation.org (Postfix) with ESMTP id DE31AC000C;
	Mon, 21 Jun 2021 09:14:46 +0000 (UTC)
X-Original-To: virtualization@lists.linux-foundation.org
Delivered-To: virtualization@lists.linuxfoundation.org
Received: from smtp2.osuosl.org (smtp2.osuosl.org [140.211.166.133])
 by lists.linuxfoundation.org (Postfix) with ESMTP id 7284CC000C
 for <virtualization@lists.linux-foundation.org>;
 Mon, 21 Jun 2021 09:14:45 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by smtp2.osuosl.org (Postfix) with ESMTP id 52B5D400A9
 for <virtualization@lists.linux-foundation.org>;
 Mon, 21 Jun 2021 09:14:45 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp2.osuosl.org ([127.0.0.1])
 by localhost (smtp2.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 5UvbyTnWN0P0
 for <virtualization@lists.linux-foundation.org>;
 Mon, 21 Jun 2021 09:14:43 +0000 (UTC)
X-Greylist: domain auto-whitelisted by SQLgrey-1.8.0
Received: from us-smtp-delivery-124.mimecast.com
 (us-smtp-delivery-124.mimecast.com [170.10.133.124])
 by smtp2.osuosl.org (Postfix) with ESMTPS id CB42040022
 for <virtualization@lists.linux-foundation.org>;
 Mon, 21 Jun 2021 09:14:42 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=redhat.com;
 s=mimecast20190719; t=1624266881;
 h=from:from:reply-to:subject:subject:date:date:message-id:message-id:
 to:to:cc:cc:mime-version:mime-version:content-type:content-type:
 content-transfer-encoding:content-transfer-encoding:
 in-reply-to:in-reply-to:references:references;
 bh=Tt7yo2RvlMhoUkpaMWxyjOZFsanqqyuVLb80GWGQKSo=;
 b=JZi+ORnfbO1W2/T3nW7w4U88Ty0S+eccMEfsgfDl0ov3Y2ctn1Zmbakt4ouCSUPtFqCO0P
 MeAFWmdDweD5kbWyQx6FK1Cu1ffTuSxQx74K2x0ONNveb1SYlmwr6ss3T54of4uTvUa0k8
 vsd98PbBTyA7ytcFXuv6+tYsYGFNtWY=
Received: from mail-pj1-f70.google.com (mail-pj1-f70.google.com
 [209.85.216.70]) (Using TLS) by relay.mimecast.com with ESMTP id
 us-mta-122-sGhHUyrMNDS7AzsS-YsPag-1; Mon, 21 Jun 2021 05:14:09 -0400
X-MC-Unique: sGhHUyrMNDS7AzsS-YsPag-1
Received: by mail-pj1-f70.google.com with SMTP id
 om12-20020a17090b3a8cb029016a4ee7d56fso9304884pjb.7
 for <virtualization@lists.linux-foundation.org>;
 Mon, 21 Jun 2021 02:14:09 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:subject:to:cc:references:from:message-id:date
 :user-agent:mime-version:in-reply-to:content-transfer-encoding
 :content-language;
 bh=Tt7yo2RvlMhoUkpaMWxyjOZFsanqqyuVLb80GWGQKSo=;
 b=P1CADd4LZ/ke+0audoGi0twcc50LHjh+L5oFppzbIv2+V3lqTQ29XkvzevnN952KkB
 wS+Jp1OR+aDF/3FxLP/u+MXOrypNYLWevKUQA+XUA6CVuXk64PaiDe2+Oao0iRbAp17y
 o8gu7ML85GTK+3liDvD5Z8nyTLrFkU7iWb6ndhwlncgIppYvC580xNDYeDM75eIsYl1N
 G4JB+As2jw5vkMtKsJ72iy4fKavZrgMljS1AbbkIAPvEXUj9mpXWEA2a812aqQ/jymCF
 a3HibYvotoAGwhMulCbMrDCKDUEt+CZdYLduFjCEemlDpw+8YEaqIUqLfoyq0UjgUKEM
 p2zA==
X-Gm-Message-State: AOAM531GLv1Pc2xNJlssWFeQwnjqAkzxd7/SCV5sAVPaiJF9jRUp8XHd
 m1whP1om0nNAuHjzXgxS//LZ6ezxSHG9I1s2ghCTP0roJDwOIwEuYyge36A6AlGxr6561CZVVRA
 bC8BS7O+yTHB/NZndBLfR5+7CNQdyhfJosLN1yqTJMw==
X-Received: by 2002:a17:90a:e606:: with SMTP id
 j6mr20491676pjy.230.1624266848484; 
 Mon, 21 Jun 2021 02:14:08 -0700 (PDT)
X-Google-Smtp-Source: ABdhPJx760A/hTM9EzlHk6g1tGJ/qdpSIJzoPD2qafIY56u0RfGUdMjcnsBf7nOS0VHd+bGYuxc98w==
X-Received: by 2002:a17:90a:e606:: with SMTP id
 j6mr20491630pjy.230.1624266847951; 
 Mon, 21 Jun 2021 02:14:07 -0700 (PDT)
Received: from wangxiaodeMacBook-Air.local ([209.132.188.80])
 by smtp.gmail.com with ESMTPSA id n12sm5354590pfu.5.2021.06.21.02.14.00
 (version=TLS1_3 cipher=TLS_AES_128_GCM_SHA256 bits=128/128);
 Mon, 21 Jun 2021 02:14:07 -0700 (PDT)
Subject: Re: [PATCH v8 09/10] vduse: Introduce VDUSE - vDPA Device in Userspace
To: Xie Yongji <xieyongji@bytedance.com>, mst@redhat.com,
 stefanha@redhat.com, sgarzare@redhat.com, parav@nvidia.com,
 hch@infradead.org, christian.brauner@canonical.com, rdunlap@infradead.org,
 willy@infradead.org, viro@zeniv.linux.org.uk, axboe@kernel.dk,
 bcrl@kvack.org, corbet@lwn.net, mika.penttila@nextfour.com,
 dan.carpenter@oracle.com, joro@8bytes.org, gregkh@linuxfoundation.org
References: <20210615141331.407-1-xieyongji@bytedance.com>
 <20210615141331.407-10-xieyongji@bytedance.com>
From: Jason Wang <jasowang@redhat.com>
Message-ID: <adfb2be9-9ed9-ca37-ac37-4cd00bdff349@redhat.com>
Date: Mon, 21 Jun 2021 17:13:55 +0800
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:78.0)
 Gecko/20100101 Thunderbird/78.11.0
MIME-Version: 1.0
In-Reply-To: <20210615141331.407-10-xieyongji@bytedance.com>
Authentication-Results: relay.mimecast.com;
 auth=pass smtp.auth=CUSA124A263 smtp.mailfrom=jasowang@redhat.com
X-Mimecast-Spam-Score: 0
X-Mimecast-Originator: redhat.com
Content-Language: en-US
Cc: kvm@vger.kernel.org, netdev@vger.kernel.org, linux-kernel@vger.kernel.org,
 virtualization@lists.linux-foundation.org, iommu@lists.linux-foundation.org,
 songmuchun@bytedance.com, linux-fsdevel@vger.kernel.org
X-BeenThere: virtualization@lists.linux-foundation.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: Linux virtualization <virtualization.lists.linux-foundation.org>
List-Unsubscribe: <https://lists.linuxfoundation.org/mailman/options/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=unsubscribe>
List-Archive: <http://lists.linuxfoundation.org/pipermail/virtualization/>
List-Post: <mailto:virtualization@lists.linux-foundation.org>
List-Help: <mailto:virtualization-request@lists.linux-foundation.org?subject=help>
List-Subscribe: <https://lists.linuxfoundation.org/mailman/listinfo/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="gbk"; Format="flowed"
Errors-To: virtualization-bounces@lists.linux-foundation.org
Sender: "Virtualization" <virtualization-bounces@lists.linux-foundation.org>

CtTaIDIwMjEvNi8xNSDPws7nMTA6MTMsIFhpZSBZb25namkg0LS1wDoKPiBUaGlzIFZEVVNFIGRy
aXZlciBlbmFibGVzIGltcGxlbWVudGluZyB2RFBBIGRldmljZXMgaW4gdXNlcnNwYWNlLgo+IFRo
ZSB2RFBBIGRldmljZSdzIGNvbnRyb2wgcGF0aCBpcyBoYW5kbGVkIGluIGtlcm5lbCBhbmQgdGhl
IGRhdGEKPiBwYXRoIGlzIGhhbmRsZWQgaW4gdXNlcnNwYWNlLgo+Cj4gQSBtZXNzYWdlIG1lY2hu
aXNtIGlzIHVzZWQgYnkgVkRVU0UgZHJpdmVyIHRvIGZvcndhcmQgc29tZSBjb250cm9sCj4gbWVz
c2FnZXMgc3VjaCBhcyBzdGFydGluZy9zdG9wcGluZyBkYXRhcGF0aCB0byB1c2Vyc3BhY2UuIFVz
ZXJzcGFjZQo+IGNhbiB1c2UgcmVhZCgpL3dyaXRlKCkgdG8gcmVjZWl2ZS9yZXBseSB0aG9zZSBj
b250cm9sIG1lc3NhZ2VzLgo+Cj4gQW5kIHNvbWUgaW9jdGxzIGFyZSBpbnRyb2R1Y2VkIHRvIGhl
bHAgdXNlcnNwYWNlIHRvIGltcGxlbWVudCB0aGUKPiBkYXRhIHBhdGguIFZEVVNFX0lPVExCX0dF
VF9GRCBpb2N0bCBjYW4gYmUgdXNlZCB0byBnZXQgdGhlIGZpbGUKPiBkZXNjcmlwdG9ycyByZWZl
cnJpbmcgdG8gdkRQQSBkZXZpY2UncyBpb3ZhIHJlZ2lvbnMuIFRoZW4gdXNlcnNwYWNlCj4gY2Fu
IHVzZSBtbWFwKCkgdG8gYWNjZXNzIHRob3NlIGlvdmEgcmVnaW9ucy4gVkRVU0VfREVWX0dFVF9G
RUFUVVJFUwo+IGFuZCBWRFVTRV9WUV9HRVRfSU5GTyBpb2N0bHMgYXJlIHVzZWQgdG8gZ2V0IHRo
ZSBuZWdvdGlhdGVkIGZlYXR1cmVzCj4gYW5kIG1ldGFkYXRhIG9mIHZpcnRxdWV1ZXMuIFZEVVNF
X0lOSkVDVF9WUV9JUlEgYW5kIFZEVVNFX1ZRX1NFVFVQX0tJQ0tGRAo+IGlvY3RscyBjYW4gYmUg
dXNlZCB0byBpbmplY3QgaW50ZXJydXB0IGFuZCBzZXR1cCB0aGUga2lja2ZkIGZvcgo+IHZpcnRx
dWV1ZXMuIFZEVVNFX0RFVl9VUERBVEVfQ09ORklHIGlvY3RsIGlzIHVzZWQgdG8gdXBkYXRlIHRo
ZQo+IGNvbmZpZ3VyYXRpb24gc3BhY2UgYW5kIGluamVjdCBhIGNvbmZpZyBpbnRlcnJ1cHQuCj4K
PiBTaWduZWQtb2ZmLWJ5OiBYaWUgWW9uZ2ppIDx4aWV5b25namlAYnl0ZWRhbmNlLmNvbT4KPiAt
LS0KPiAgIERvY3VtZW50YXRpb24vdXNlcnNwYWNlLWFwaS9pb2N0bC9pb2N0bC1udW1iZXIucnN0
IHwgICAgMSArCj4gICBkcml2ZXJzL3ZkcGEvS2NvbmZpZyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICB8ICAgMTAgKwo+ICAgZHJpdmVycy92ZHBhL01ha2VmaWxlICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgfCAgICAxICsKPiAgIGRyaXZlcnMvdmRwYS92ZHBhX3VzZXIvTWFrZWZp
bGUgICAgICAgICAgICAgICAgICAgIHwgICAgNSArCj4gICBkcml2ZXJzL3ZkcGEvdmRwYV91c2Vy
L3ZkdXNlX2Rldi5jICAgICAgICAgICAgICAgICB8IDE0NTMgKysrKysrKysrKysrKysrKysrKysK
PiAgIGluY2x1ZGUvdWFwaS9saW51eC92ZHVzZS5oICAgICAgICAgICAgICAgICAgICAgICAgIHwg
IDE0MyArKwo+ICAgNiBmaWxlcyBjaGFuZ2VkLCAxNjEzIGluc2VydGlvbnMoKykKPiAgIGNyZWF0
ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL3ZkcGEvdmRwYV91c2VyL01ha2VmaWxlCj4gICBjcmVhdGUg
bW9kZSAxMDA2NDQgZHJpdmVycy92ZHBhL3ZkcGFfdXNlci92ZHVzZV9kZXYuYwo+ICAgY3JlYXRl
IG1vZGUgMTAwNjQ0IGluY2x1ZGUvdWFwaS9saW51eC92ZHVzZS5oCj4KPiBkaWZmIC0tZ2l0IGEv
RG9jdW1lbnRhdGlvbi91c2Vyc3BhY2UtYXBpL2lvY3RsL2lvY3RsLW51bWJlci5yc3QgYi9Eb2N1
bWVudGF0aW9uL3VzZXJzcGFjZS1hcGkvaW9jdGwvaW9jdGwtbnVtYmVyLnJzdAo+IGluZGV4IDli
ZmMyYjUxMGM2NC4uYWNkOTVlOWRjZmU3IDEwMDY0NAo+IC0tLSBhL0RvY3VtZW50YXRpb24vdXNl
cnNwYWNlLWFwaS9pb2N0bC9pb2N0bC1udW1iZXIucnN0Cj4gKysrIGIvRG9jdW1lbnRhdGlvbi91
c2Vyc3BhY2UtYXBpL2lvY3RsL2lvY3RsLW51bWJlci5yc3QKPiBAQCAtMzAwLDYgKzMwMCw3IEBA
IENvZGUgIFNlcSMgICAgSW5jbHVkZSBGaWxlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIENvbW1lbnRzCj4gICAneicgICAxMC00RiAgZHJpdmVycy9zMzkwL2NyeXB0
by96Y3J5cHRfYXBpLmggICAgICAgICAgICAgICAgICAgICAgICBjb25mbGljdCEKPiAgICd8JyAg
IDAwLTdGICBsaW51eC9tZWRpYS5oCj4gICAweDgwICAwMC0xRiAgbGludXgvZmIuaAo+ICsweDgx
ICAwMC0xRiAgbGludXgvdmR1c2UuaAo+ICAgMHg4OSAgMDAtMDYgIGFyY2gveDg2L2luY2x1ZGUv
YXNtL3NvY2tpb3MuaAo+ICAgMHg4OSAgMEItREYgIGxpbnV4L3NvY2tpb3MuaAo+ICAgMHg4OSAg
RTAtRUYgIGxpbnV4L3NvY2tpb3MuaCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgU0lPQ1BST1RPUFJJVkFURSByYW5nZQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL3ZkcGEv
S2NvbmZpZyBiL2RyaXZlcnMvdmRwYS9LY29uZmlnCj4gaW5kZXggYTUwM2MxYjJiZmQ5Li42ZTIz
YmNlNjQzM2EgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy92ZHBhL0tjb25maWcKPiArKysgYi9kcml2
ZXJzL3ZkcGEvS2NvbmZpZwo+IEBAIC0zMyw2ICszMywxNiBAQCBjb25maWcgVkRQQV9TSU1fQkxP
Q0sKPiAgIAkgIHZEUEEgYmxvY2sgZGV2aWNlIHNpbXVsYXRvciB3aGljaCB0ZXJtaW5hdGVzIElP
IHJlcXVlc3QgaW4gYQo+ICAgCSAgbWVtb3J5IGJ1ZmZlci4KPiAgIAo+ICtjb25maWcgVkRQQV9V
U0VSCj4gKwl0cmlzdGF0ZSAiVkRVU0UgKHZEUEEgRGV2aWNlIGluIFVzZXJzcGFjZSkgc3VwcG9y
dCIKPiArCWRlcGVuZHMgb24gRVZFTlRGRCAmJiBNTVUgJiYgSEFTX0RNQQo+ICsJc2VsZWN0IERN
QV9PUFMKPiArCXNlbGVjdCBWSE9TVF9JT1RMQgo+ICsJc2VsZWN0IElPTU1VX0lPVkEKPiArCWhl
bHAKPiArCSAgV2l0aCBWRFVTRSBpdCBpcyBwb3NzaWJsZSB0byBlbXVsYXRlIGEgdkRQQSBEZXZp
Y2UKPiArCSAgaW4gYSB1c2Vyc3BhY2UgcHJvZ3JhbS4KPiArCj4gICBjb25maWcgSUZDVkYKPiAg
IAl0cmlzdGF0ZSAiSW50ZWwgSUZDIFZGIHZEUEEgZHJpdmVyIgo+ICAgCWRlcGVuZHMgb24gUENJ
X01TSQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL3ZkcGEvTWFrZWZpbGUgYi9kcml2ZXJzL3ZkcGEv
TWFrZWZpbGUKPiBpbmRleCA2N2ZlN2YzZDY5NDMuLmYwMmViZWQzM2YxOSAxMDA2NDQKPiAtLS0g
YS9kcml2ZXJzL3ZkcGEvTWFrZWZpbGUKPiArKysgYi9kcml2ZXJzL3ZkcGEvTWFrZWZpbGUKPiBA
QCAtMSw2ICsxLDcgQEAKPiAgICMgU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0yLjAKPiAg
IG9iai0kKENPTkZJR19WRFBBKSArPSB2ZHBhLm8KPiAgIG9iai0kKENPTkZJR19WRFBBX1NJTSkg
Kz0gdmRwYV9zaW0vCj4gK29iai0kKENPTkZJR19WRFBBX1VTRVIpICs9IHZkcGFfdXNlci8KPiAg
IG9iai0kKENPTkZJR19JRkNWRikgICAgKz0gaWZjdmYvCj4gICBvYmotJChDT05GSUdfTUxYNV9W
RFBBKSArPSBtbHg1Lwo+ICAgb2JqLSQoQ09ORklHX1ZQX1ZEUEEpICAgICs9IHZpcnRpb19wY2kv
Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvdmRwYS92ZHBhX3VzZXIvTWFrZWZpbGUgYi9kcml2ZXJz
L3ZkcGEvdmRwYV91c2VyL01ha2VmaWxlCj4gbmV3IGZpbGUgbW9kZSAxMDA2NDQKPiBpbmRleCAw
MDAwMDAwMDAwMDAuLjI2MGUwYjI2YWY5OQo+IC0tLSAvZGV2L251bGwKPiArKysgYi9kcml2ZXJz
L3ZkcGEvdmRwYV91c2VyL01ha2VmaWxlCj4gQEAgLTAsMCArMSw1IEBACj4gKyMgU1BEWC1MaWNl
bnNlLUlkZW50aWZpZXI6IEdQTC0yLjAKPiArCj4gK3ZkdXNlLXkgOj0gdmR1c2VfZGV2Lm8gaW92
YV9kb21haW4ubwo+ICsKPiArb2JqLSQoQ09ORklHX1ZEUEFfVVNFUikgKz0gdmR1c2Uubwo+IGRp
ZmYgLS1naXQgYS9kcml2ZXJzL3ZkcGEvdmRwYV91c2VyL3ZkdXNlX2Rldi5jIGIvZHJpdmVycy92
ZHBhL3ZkcGFfdXNlci92ZHVzZV9kZXYuYwo+IG5ldyBmaWxlIG1vZGUgMTAwNjQ0Cj4gaW5kZXgg
MDAwMDAwMDAwMDAwLi41MjcxY2JkMTVlMjgKPiAtLS0gL2Rldi9udWxsCj4gKysrIGIvZHJpdmVy
cy92ZHBhL3ZkcGFfdXNlci92ZHVzZV9kZXYuYwo+IEBAIC0wLDAgKzEsMTQ1MyBAQAo+ICsvLyBT
UERYLUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMC1vbmx5Cj4gKy8qCj4gKyAqIFZEVVNFOiB2
RFBBIERldmljZSBpbiBVc2Vyc3BhY2UKPiArICoKPiArICogQ29weXJpZ2h0IChDKSAyMDIwLTIw
MjEgQnl0ZWRhbmNlIEluYy4gYW5kL29yIGl0cyBhZmZpbGlhdGVzLiBBbGwgcmlnaHRzIHJlc2Vy
dmVkLgo+ICsgKgo+ICsgKiBBdXRob3I6IFhpZSBZb25namkgPHhpZXlvbmdqaUBieXRlZGFuY2Uu
Y29tPgo+ICsgKgo+ICsgKi8KPiArCj4gKyNpbmNsdWRlIDxsaW51eC9pbml0Lmg+Cj4gKyNpbmNs
dWRlIDxsaW51eC9tb2R1bGUuaD4KPiArI2luY2x1ZGUgPGxpbnV4L2NkZXYuaD4KPiArI2luY2x1
ZGUgPGxpbnV4L2RldmljZS5oPgo+ICsjaW5jbHVkZSA8bGludXgvZXZlbnRmZC5oPgo+ICsjaW5j
bHVkZSA8bGludXgvc2xhYi5oPgo+ICsjaW5jbHVkZSA8bGludXgvd2FpdC5oPgo+ICsjaW5jbHVk
ZSA8bGludXgvZG1hLW1hcC1vcHMuaD4KPiArI2luY2x1ZGUgPGxpbnV4L3BvbGwuaD4KPiArI2lu
Y2x1ZGUgPGxpbnV4L2ZpbGUuaD4KPiArI2luY2x1ZGUgPGxpbnV4L3Vpby5oPgo+ICsjaW5jbHVk
ZSA8bGludXgvdmRwYS5oPgo+ICsjaW5jbHVkZSA8bGludXgvbm9zcGVjLmg+Cj4gKyNpbmNsdWRl
IDx1YXBpL2xpbnV4L3ZkdXNlLmg+Cj4gKyNpbmNsdWRlIDx1YXBpL2xpbnV4L3ZkcGEuaD4KPiAr
I2luY2x1ZGUgPHVhcGkvbGludXgvdmlydGlvX2NvbmZpZy5oPgo+ICsjaW5jbHVkZSA8dWFwaS9s
aW51eC92aXJ0aW9faWRzLmg+Cj4gKyNpbmNsdWRlIDx1YXBpL2xpbnV4L3ZpcnRpb19ibGsuaD4K
PiArI2luY2x1ZGUgPGxpbnV4L21vZF9kZXZpY2V0YWJsZS5oPgo+ICsKPiArI2luY2x1ZGUgImlv
dmFfZG9tYWluLmgiCj4gKwo+ICsjZGVmaW5lIERSVl9BVVRIT1IgICAiWW9uZ2ppIFhpZSA8eGll
eW9uZ2ppQGJ5dGVkYW5jZS5jb20+Igo+ICsjZGVmaW5lIERSVl9ERVNDICAgICAidkRQQSBEZXZp
Y2UgaW4gVXNlcnNwYWNlIgo+ICsjZGVmaW5lIERSVl9MSUNFTlNFICAiR1BMIHYyIgo+ICsKPiAr
I2RlZmluZSBWRFVTRV9ERVZfTUFYICgxVSA8PCBNSU5PUkJJVFMpCj4gKyNkZWZpbmUgVkRVU0Vf
TUFYX0JPVU5DRV9TSVpFICg2NCAqIDEwMjQgKiAxMDI0KQo+ICsjZGVmaW5lIFZEVVNFX0lPVkFf
U0laRSAoMTI4ICogMTAyNCAqIDEwMjQpCj4gKyNkZWZpbmUgVkRVU0VfUkVRVUVTVF9USU1FT1VU
IDMwCj4gKwo+ICtzdHJ1Y3QgdmR1c2VfdmlydHF1ZXVlIHsKPiArCXUxNiBpbmRleDsKPiArCXUz
MiBudW07Cj4gKwl1MzIgYXZhaWxfaWR4Owo+ICsJdTY0IGRlc2NfYWRkcjsKPiArCXU2NCBkcml2
ZXJfYWRkcjsKPiArCXU2NCBkZXZpY2VfYWRkcjsKPiArCWJvb2wgcmVhZHk7Cj4gKwlib29sIGtp
Y2tlZDsKPiArCXNwaW5sb2NrX3Qga2lja19sb2NrOwo+ICsJc3BpbmxvY2tfdCBpcnFfbG9jazsK
PiArCXN0cnVjdCBldmVudGZkX2N0eCAqa2lja2ZkOwo+ICsJc3RydWN0IHZkcGFfY2FsbGJhY2sg
Y2I7Cj4gKwlzdHJ1Y3Qgd29ya19zdHJ1Y3QgaW5qZWN0Owo+ICt9Owo+ICsKPiArc3RydWN0IHZk
dXNlX2RldjsKPiArCj4gK3N0cnVjdCB2ZHVzZV92ZHBhIHsKPiArCXN0cnVjdCB2ZHBhX2Rldmlj
ZSB2ZHBhOwo+ICsJc3RydWN0IHZkdXNlX2RldiAqZGV2Owo+ICt9Owo+ICsKPiArc3RydWN0IHZk
dXNlX2RldiB7Cj4gKwlzdHJ1Y3QgdmR1c2VfdmRwYSAqdmRldjsKPiArCXN0cnVjdCBkZXZpY2Ug
KmRldjsKPiArCXN0cnVjdCB2ZHVzZV92aXJ0cXVldWUgKnZxczsKPiArCXN0cnVjdCB2ZHVzZV9p
b3ZhX2RvbWFpbiAqZG9tYWluOwo+ICsJY2hhciAqbmFtZTsKPiArCXN0cnVjdCBtdXRleCBsb2Nr
Owo+ICsJc3BpbmxvY2tfdCBtc2dfbG9jazsKPiArCXU2NCBtc2dfdW5pcXVlOwo+ICsJd2FpdF9x
dWV1ZV9oZWFkX3Qgd2FpdHE7Cj4gKwlzdHJ1Y3QgbGlzdF9oZWFkIHNlbmRfbGlzdDsKPiArCXN0
cnVjdCBsaXN0X2hlYWQgcmVjdl9saXN0Owo+ICsJc3RydWN0IHZkcGFfY2FsbGJhY2sgY29uZmln
X2NiOwo+ICsJc3RydWN0IHdvcmtfc3RydWN0IGluamVjdDsKPiArCXNwaW5sb2NrX3QgaXJxX2xv
Y2s7Cj4gKwlpbnQgbWlub3I7Cj4gKwlib29sIGNvbm5lY3RlZDsKPiArCWJvb2wgc3RhcnRlZDsK
PiArCXU2NCBhcGlfdmVyc2lvbjsKPiArCXU2NCB1c2VyX2ZlYXR1cmVzOwoKCkxldCdzIHVzZSBk
ZXZpY2VfZmVhdHVyZXMuCgoKPiArCXU2NCBmZWF0dXJlczsKCgpBbmQgZHJpdmVyIGZlYXR1cmVz
LgoKCj4gKwl1MzIgZGV2aWNlX2lkOwo+ICsJdTMyIHZlbmRvcl9pZDsKPiArCXUzMiBnZW5lcmF0
aW9uOwo+ICsJdTMyIGNvbmZpZ19zaXplOwo+ICsJdm9pZCAqY29uZmlnOwo+ICsJdTggc3RhdHVz
Owo+ICsJdTE2IHZxX3NpemVfbWF4Owo+ICsJdTMyIHZxX251bTsKPiArCXUzMiB2cV9hbGlnbjsK
PiArfTsKPiArCj4gK3N0cnVjdCB2ZHVzZV9kZXZfbXNnIHsKPiArCXN0cnVjdCB2ZHVzZV9kZXZf
cmVxdWVzdCByZXE7Cj4gKwlzdHJ1Y3QgdmR1c2VfZGV2X3Jlc3BvbnNlIHJlc3A7Cj4gKwlzdHJ1
Y3QgbGlzdF9oZWFkIGxpc3Q7Cj4gKwl3YWl0X3F1ZXVlX2hlYWRfdCB3YWl0cTsKPiArCWJvb2wg
Y29tcGxldGVkOwo+ICt9Owo+ICsKPiArc3RydWN0IHZkdXNlX2NvbnRyb2wgewo+ICsJdTY0IGFw
aV92ZXJzaW9uOwo+ICt9Owo+ICsKPiArc3RhdGljIERFRklORV9NVVRFWCh2ZHVzZV9sb2NrKTsK
PiArc3RhdGljIERFRklORV9JRFIodmR1c2VfaWRyKTsKPiArCj4gK3N0YXRpYyBkZXZfdCB2ZHVz
ZV9tYWpvcjsKPiArc3RhdGljIHN0cnVjdCBjbGFzcyAqdmR1c2VfY2xhc3M7Cj4gK3N0YXRpYyBz
dHJ1Y3QgY2RldiB2ZHVzZV9jdHJsX2NkZXY7Cj4gK3N0YXRpYyBzdHJ1Y3QgY2RldiB2ZHVzZV9j
ZGV2Owo+ICtzdGF0aWMgc3RydWN0IHdvcmtxdWV1ZV9zdHJ1Y3QgKnZkdXNlX2lycV93cTsKPiAr
Cj4gK3N0YXRpYyB1MzIgYWxsb3dlZF9kZXZpY2VfaWRbXSA9IHsKPiArCVZJUlRJT19JRF9CTE9D
SywKPiArfTsKPiArCj4gK3N0YXRpYyBpbmxpbmUgc3RydWN0IHZkdXNlX2RldiAqdmRwYV90b192
ZHVzZShzdHJ1Y3QgdmRwYV9kZXZpY2UgKnZkcGEpCj4gK3sKPiArCXN0cnVjdCB2ZHVzZV92ZHBh
ICp2ZGV2ID0gY29udGFpbmVyX29mKHZkcGEsIHN0cnVjdCB2ZHVzZV92ZHBhLCB2ZHBhKTsKPiAr
Cj4gKwlyZXR1cm4gdmRldi0+ZGV2Owo+ICt9Cj4gKwo+ICtzdGF0aWMgaW5saW5lIHN0cnVjdCB2
ZHVzZV9kZXYgKmRldl90b192ZHVzZShzdHJ1Y3QgZGV2aWNlICpkZXYpCj4gK3sKPiArCXN0cnVj
dCB2ZHBhX2RldmljZSAqdmRwYSA9IGRldl90b192ZHBhKGRldik7Cj4gKwo+ICsJcmV0dXJuIHZk
cGFfdG9fdmR1c2UodmRwYSk7Cj4gK30KPiArCj4gK3N0YXRpYyBzdHJ1Y3QgdmR1c2VfZGV2X21z
ZyAqdmR1c2VfZmluZF9tc2coc3RydWN0IGxpc3RfaGVhZCAqaGVhZCwKPiArCQkJCQkgICAgdWlu
dDMyX3QgcmVxdWVzdF9pZCkKPiArewo+ICsJc3RydWN0IHZkdXNlX2Rldl9tc2cgKm1zZzsKPiAr
Cj4gKwlsaXN0X2Zvcl9lYWNoX2VudHJ5KG1zZywgaGVhZCwgbGlzdCkgewo+ICsJCWlmIChtc2ct
PnJlcS5yZXF1ZXN0X2lkID09IHJlcXVlc3RfaWQpIHsKPiArCQkJbGlzdF9kZWwoJm1zZy0+bGlz
dCk7Cj4gKwkJCXJldHVybiBtc2c7Cj4gKwkJfQo+ICsJfQo+ICsKPiArCXJldHVybiBOVUxMOwo+
ICt9Cj4gKwo+ICtzdGF0aWMgc3RydWN0IHZkdXNlX2Rldl9tc2cgKnZkdXNlX2RlcXVldWVfbXNn
KHN0cnVjdCBsaXN0X2hlYWQgKmhlYWQpCj4gK3sKPiArCXN0cnVjdCB2ZHVzZV9kZXZfbXNnICpt
c2cgPSBOVUxMOwo+ICsKPiArCWlmICghbGlzdF9lbXB0eShoZWFkKSkgewo+ICsJCW1zZyA9IGxp
c3RfZmlyc3RfZW50cnkoaGVhZCwgc3RydWN0IHZkdXNlX2Rldl9tc2csIGxpc3QpOwo+ICsJCWxp
c3RfZGVsKCZtc2ctPmxpc3QpOwo+ICsJfQo+ICsKPiArCXJldHVybiBtc2c7Cj4gK30KPiArCj4g
K3N0YXRpYyB2b2lkIHZkdXNlX2VucXVldWVfbXNnKHN0cnVjdCBsaXN0X2hlYWQgKmhlYWQsCj4g
KwkJCSAgICAgIHN0cnVjdCB2ZHVzZV9kZXZfbXNnICptc2cpCj4gK3sKPiArCWxpc3RfYWRkX3Rh
aWwoJm1zZy0+bGlzdCwgaGVhZCk7Cj4gK30KPiArCj4gK3N0YXRpYyBpbnQgdmR1c2VfZGV2X21z
Z19zZW5kKHN0cnVjdCB2ZHVzZV9kZXYgKmRldiwKPiArCQkJICAgICAgc3RydWN0IHZkdXNlX2Rl
dl9tc2cgKm1zZywgYm9vbCBub19yZXBseSkKPiArewoKCkl0IGxvb2tzIHRvIG1lIHRoZSBvbmx5
IHVzZXIgZm9yIG5vX3JlcGx5PXRydWUgaXMgdGhlIGRhdGFwbGFuZSBzdGFydC4gSSAKd29uZGVy
IG5vX3JlcGx5IGlzIHJlYWxseSBuZWVkZWQgY29uc2lkZXIgd2UgaGF2ZSBzd2l0Y2hlZCB0byB1
c2UgCndhaXRfZXZlbnRfa2lsbGFibGVfdGltZW91dCgpLgoKSW4gYW5vdGhlciB3YXksIG5vX3Jl
cGx5IGlzIGZhbHNlIGZvciB2cSBzdGF0ZSBzeW5jaHJvbml6YXRpb24gYW5kIElPVExCIAp1cGRh
dGluZy4gSSB3b25kZXIgaWYgd2UgY2FuIHNpbXBseSB1c2Ugbm9fcmVwbHkgPSB0cnVlIGZvciB0
aGVtLgoKCj4gKwlpbml0X3dhaXRxdWV1ZV9oZWFkKCZtc2ctPndhaXRxKTsKPiArCXNwaW5fbG9j
aygmZGV2LT5tc2dfbG9jayk7Cj4gKwltc2ctPnJlcS5yZXF1ZXN0X2lkID0gZGV2LT5tc2dfdW5p
cXVlKys7Cj4gKwl2ZHVzZV9lbnF1ZXVlX21zZygmZGV2LT5zZW5kX2xpc3QsIG1zZyk7Cj4gKwl3
YWtlX3VwKCZkZXYtPndhaXRxKTsKPiArCXNwaW5fdW5sb2NrKCZkZXYtPm1zZ19sb2NrKTsKPiAr
CWlmIChub19yZXBseSkKPiArCQlyZXR1cm4gMDsKPiArCj4gKwl3YWl0X2V2ZW50X2tpbGxhYmxl
X3RpbWVvdXQobXNnLT53YWl0cSwgbXNnLT5jb21wbGV0ZWQsCj4gKwkJCQkgICAgVkRVU0VfUkVR
VUVTVF9USU1FT1VUICogSFopOwo+ICsJc3Bpbl9sb2NrKCZkZXYtPm1zZ19sb2NrKTsKPiArCWlm
ICghbXNnLT5jb21wbGV0ZWQpIHsKPiArCQlsaXN0X2RlbCgmbXNnLT5saXN0KTsKPiArCQltc2ct
PnJlc3AucmVzdWx0ID0gVkRVU0VfUkVRX1JFU1VMVF9GQUlMRUQ7Cj4gKwl9Cj4gKwlzcGluX3Vu
bG9jaygmZGV2LT5tc2dfbG9jayk7Cj4gKwo+ICsJcmV0dXJuIChtc2ctPnJlc3AucmVzdWx0ID09
IFZEVVNFX1JFUV9SRVNVTFRfT0spID8gMCA6IC1FSU87CgoKRG8gd2UgbmVlZCB0byBzZXJpYWxp
emUgdGhlIGNoZWNrIGJ5IHByb3RlY3RpbmcgaXQgd2l0aCB0aGUgc3BpbmxvY2sgYWJvdmU/CgoK
PiArfQo+ICsKPiArc3RhdGljIHZvaWQgdmR1c2VfZGV2X21zZ19jbGVhbnVwKHN0cnVjdCB2ZHVz
ZV9kZXYgKmRldikKPiArewo+ICsJc3RydWN0IHZkdXNlX2Rldl9tc2cgKm1zZzsKPiArCj4gKwlz
cGluX2xvY2soJmRldi0+bXNnX2xvY2spOwo+ICsJd2hpbGUgKChtc2cgPSB2ZHVzZV9kZXF1ZXVl
X21zZygmZGV2LT5zZW5kX2xpc3QpKSkgewo+ICsJCWlmIChtc2ctPnJlcS5mbGFncyAmIFZEVVNF
X1JFUV9GTEFHU19OT19SRVBMWSkKPiArCQkJa2ZyZWUobXNnKTsKPiArCQllbHNlCj4gKwkJCXZk
dXNlX2VucXVldWVfbXNnKCZkZXYtPnJlY3ZfbGlzdCwgbXNnKTsKPiArCX0KPiArCXdoaWxlICgo
bXNnID0gdmR1c2VfZGVxdWV1ZV9tc2coJmRldi0+cmVjdl9saXN0KSkpIHsKPiArCQltc2ctPnJl
c3AucmVzdWx0ID0gVkRVU0VfUkVRX1JFU1VMVF9GQUlMRUQ7Cj4gKwkJbXNnLT5jb21wbGV0ZWQg
PSAxOwo+ICsJCXdha2VfdXAoJm1zZy0+d2FpdHEpOwo+ICsJfQo+ICsJc3Bpbl91bmxvY2soJmRl
di0+bXNnX2xvY2spOwo+ICt9Cj4gKwo+ICtzdGF0aWMgdm9pZCB2ZHVzZV9kZXZfc3RhcnRfZGF0
YXBsYW5lKHN0cnVjdCB2ZHVzZV9kZXYgKmRldikKPiArewo+ICsJc3RydWN0IHZkdXNlX2Rldl9t
c2cgKm1zZyA9IGt6YWxsb2Moc2l6ZW9mKCptc2cpLAo+ICsJCQkJCSAgICBHRlBfS0VSTkVMIHwg
X19HRlBfTk9GQUlMKTsKPiArCj4gKwltc2ctPnJlcS50eXBlID0gVkRVU0VfU1RBUlRfREFUQVBM
QU5FOwo+ICsJbXNnLT5yZXEuZmxhZ3MgfD0gVkRVU0VfUkVRX0ZMQUdTX05PX1JFUExZOwo+ICsJ
dmR1c2VfZGV2X21zZ19zZW5kKGRldiwgbXNnLCB0cnVlKTsKPiArfQo+ICsKPiArc3RhdGljIHZv
aWQgdmR1c2VfZGV2X3N0b3BfZGF0YXBsYW5lKHN0cnVjdCB2ZHVzZV9kZXYgKmRldikKPiArewo+
ICsJc3RydWN0IHZkdXNlX2Rldl9tc2cgKm1zZyA9IGt6YWxsb2Moc2l6ZW9mKCptc2cpLAo+ICsJ
CQkJCSAgICBHRlBfS0VSTkVMIHwgX19HRlBfTk9GQUlMKTsKPiArCj4gKwltc2ctPnJlcS50eXBl
ID0gVkRVU0VfU1RPUF9EQVRBUExBTkU7Cj4gKwltc2ctPnJlcS5mbGFncyB8PSBWRFVTRV9SRVFf
RkxBR1NfTk9fUkVQTFk7CgoKQ2FuIHdlIHNpbXBseSB1c2UgdGhpcyBmbGFnIGluc3RlYWQgb2Yg
aW50cm9kdWNpbmcgYSBuZXcgcGFyYW1ldGVyIAoobm9fcmVwbHkpIGluIHZkdXNlX2Rldl9tc2df
c2VuZCgpPwoKCj4gKwl2ZHVzZV9kZXZfbXNnX3NlbmQoZGV2LCBtc2csIHRydWUpOwo+ICt9Cj4g
Kwo+ICtzdGF0aWMgaW50IHZkdXNlX2Rldl9nZXRfdnFfc3RhdGUoc3RydWN0IHZkdXNlX2RldiAq
ZGV2LAo+ICsJCQkJICBzdHJ1Y3QgdmR1c2VfdmlydHF1ZXVlICp2cSwKPiArCQkJCSAgc3RydWN0
IHZkcGFfdnFfc3RhdGUgKnN0YXRlKQo+ICt7Cj4gKwlzdHJ1Y3QgdmR1c2VfZGV2X21zZyBtc2cg
PSB7IDAgfTsKPiArCWludCByZXQ7CgoKTm90ZSB0aGF0IEkgcG9zdCBhIHNlcmllcyB0aGF0IGlt
cGxlbWVudCB0aGUgcGFja2VkIHZpcnRxdWV1ZSBzdXBwb3J0OgoKaHR0cHM6Ly9saXN0cy5saW51
eGZvdW5kYXRpb24ub3JnL3BpcGVybWFpbC92aXJ0dWFsaXphdGlvbi8yMDIxLUp1bmUvMDU0NTAx
Lmh0bWwKClNvIHRoaXMgcGF0Y2ggbmVlZHMgdG8gYmUgdXBkYXRlZCBhcyB3ZWxsLgoKCj4gKwo+
ICsJbXNnLnJlcS50eXBlID0gVkRVU0VfR0VUX1ZRX1NUQVRFOwo+ICsJbXNnLnJlcS52cV9zdGF0
ZS5pbmRleCA9IHZxLT5pbmRleDsKPiArCj4gKwlyZXQgPSB2ZHVzZV9kZXZfbXNnX3NlbmQoZGV2
LCAmbXNnLCBmYWxzZSk7Cj4gKwlpZiAocmV0KQo+ICsJCXJldHVybiByZXQ7Cj4gKwo+ICsJc3Rh
dGUtPmF2YWlsX2luZGV4ID0gbXNnLnJlc3AudnFfc3RhdGUuYXZhaWxfaWR4Owo+ICsJcmV0dXJu
IDA7Cj4gK30KPiArCj4gK3N0YXRpYyBpbnQgdmR1c2VfZGV2X3VwZGF0ZV9pb3RsYihzdHJ1Y3Qg
dmR1c2VfZGV2ICpkZXYsCj4gKwkJCQl1NjQgc3RhcnQsIHU2NCBsYXN0KQo+ICt7Cj4gKwlzdHJ1
Y3QgdmR1c2VfZGV2X21zZyBtc2cgPSB7IDAgfTsKPiArCj4gKwlpZiAobGFzdCA8IHN0YXJ0KQo+
ICsJCXJldHVybiAtRUlOVkFMOwo+ICsKPiArCW1zZy5yZXEudHlwZSA9IFZEVVNFX1VQREFURV9J
T1RMQjsKPiArCW1zZy5yZXEuaW92YS5zdGFydCA9IHN0YXJ0Owo+ICsJbXNnLnJlcS5pb3ZhLmxh
c3QgPSBsYXN0Owo+ICsKPiArCXJldHVybiB2ZHVzZV9kZXZfbXNnX3NlbmQoZGV2LCAmbXNnLCBm
YWxzZSk7Cj4gK30KPiArCj4gK3N0YXRpYyBzc2l6ZV90IHZkdXNlX2Rldl9yZWFkX2l0ZXIoc3Ry
dWN0IGtpb2NiICppb2NiLCBzdHJ1Y3QgaW92X2l0ZXIgKnRvKQo+ICt7Cj4gKwlzdHJ1Y3QgZmls
ZSAqZmlsZSA9IGlvY2ItPmtpX2ZpbHA7Cj4gKwlzdHJ1Y3QgdmR1c2VfZGV2ICpkZXYgPSBmaWxl
LT5wcml2YXRlX2RhdGE7Cj4gKwlzdHJ1Y3QgdmR1c2VfZGV2X21zZyAqbXNnOwo+ICsJaW50IHNp
emUgPSBzaXplb2Yoc3RydWN0IHZkdXNlX2Rldl9yZXF1ZXN0KTsKPiArCXNzaXplX3QgcmV0Owo+
ICsKPiArCWlmIChpb3ZfaXRlcl9jb3VudCh0bykgPCBzaXplKQo+ICsJCXJldHVybiAtRUlOVkFM
Owo+ICsKPiArCXNwaW5fbG9jaygmZGV2LT5tc2dfbG9jayk7Cj4gKwl3aGlsZSAoMSkgewo+ICsJ
CW1zZyA9IHZkdXNlX2RlcXVldWVfbXNnKCZkZXYtPnNlbmRfbGlzdCk7Cj4gKwkJaWYgKG1zZykK
PiArCQkJYnJlYWs7Cj4gKwo+ICsJCXJldCA9IC1FQUdBSU47Cj4gKwkJaWYgKGZpbGUtPmZfZmxh
Z3MgJiBPX05PTkJMT0NLKQo+ICsJCQlnb3RvIHVubG9jazsKPiArCj4gKwkJc3Bpbl91bmxvY2so
JmRldi0+bXNnX2xvY2spOwo+ICsJCXJldCA9IHdhaXRfZXZlbnRfaW50ZXJydXB0aWJsZV9leGNs
dXNpdmUoZGV2LT53YWl0cSwKPiArCQkJCQkhbGlzdF9lbXB0eSgmZGV2LT5zZW5kX2xpc3QpKTsK
PiArCQlpZiAocmV0KQo+ICsJCQlyZXR1cm4gcmV0Owo+ICsKPiArCQlzcGluX2xvY2soJmRldi0+
bXNnX2xvY2spOwo+ICsJfQo+ICsJc3Bpbl91bmxvY2soJmRldi0+bXNnX2xvY2spOwo+ICsJcmV0
ID0gY29weV90b19pdGVyKCZtc2ctPnJlcSwgc2l6ZSwgdG8pOwo+ICsJc3Bpbl9sb2NrKCZkZXYt
Pm1zZ19sb2NrKTsKPiArCWlmIChyZXQgIT0gc2l6ZSkgewo+ICsJCXJldCA9IC1FRkFVTFQ7Cj4g
KwkJdmR1c2VfZW5xdWV1ZV9tc2coJmRldi0+c2VuZF9saXN0LCBtc2cpOwo+ICsJCWdvdG8gdW5s
b2NrOwo+ICsJfQo+ICsJaWYgKG1zZy0+cmVxLmZsYWdzICYgVkRVU0VfUkVRX0ZMQUdTX05PX1JF
UExZKQo+ICsJCWtmcmVlKG1zZyk7Cj4gKwllbHNlCj4gKwkJdmR1c2VfZW5xdWV1ZV9tc2coJmRl
di0+cmVjdl9saXN0LCBtc2cpOwo+ICt1bmxvY2s6Cj4gKwlzcGluX3VubG9jaygmZGV2LT5tc2df
bG9jayk7Cj4gKwo+ICsJcmV0dXJuIHJldDsKPiArfQo+ICsKPiArc3RhdGljIHNzaXplX3QgdmR1
c2VfZGV2X3dyaXRlX2l0ZXIoc3RydWN0IGtpb2NiICppb2NiLCBzdHJ1Y3QgaW92X2l0ZXIgKmZy
b20pCj4gK3sKPiArCXN0cnVjdCBmaWxlICpmaWxlID0gaW9jYi0+a2lfZmlscDsKPiArCXN0cnVj
dCB2ZHVzZV9kZXYgKmRldiA9IGZpbGUtPnByaXZhdGVfZGF0YTsKPiArCXN0cnVjdCB2ZHVzZV9k
ZXZfcmVzcG9uc2UgcmVzcDsKPiArCXN0cnVjdCB2ZHVzZV9kZXZfbXNnICptc2c7Cj4gKwlzaXpl
X3QgcmV0Owo+ICsKPiArCXJldCA9IGNvcHlfZnJvbV9pdGVyKCZyZXNwLCBzaXplb2YocmVzcCks
IGZyb20pOwo+ICsJaWYgKHJldCAhPSBzaXplb2YocmVzcCkpCj4gKwkJcmV0dXJuIC1FSU5WQUw7
Cj4gKwo+ICsJc3Bpbl9sb2NrKCZkZXYtPm1zZ19sb2NrKTsKPiArCW1zZyA9IHZkdXNlX2ZpbmRf
bXNnKCZkZXYtPnJlY3ZfbGlzdCwgcmVzcC5yZXF1ZXN0X2lkKTsKPiArCWlmICghbXNnKSB7Cj4g
KwkJcmV0ID0gLUVOT0VOVDsKPiArCQlnb3RvIHVubG9jazsKPiArCX0KPiArCj4gKwltZW1jcHko
Jm1zZy0+cmVzcCwgJnJlc3AsIHNpemVvZihyZXNwKSk7Cj4gKwltc2ctPmNvbXBsZXRlZCA9IDE7
Cj4gKwl3YWtlX3VwKCZtc2ctPndhaXRxKTsKPiArdW5sb2NrOgo+ICsJc3Bpbl91bmxvY2soJmRl
di0+bXNnX2xvY2spOwo+ICsKPiArCXJldHVybiByZXQ7Cj4gK30KPiArCj4gK3N0YXRpYyBfX3Bv
bGxfdCB2ZHVzZV9kZXZfcG9sbChzdHJ1Y3QgZmlsZSAqZmlsZSwgcG9sbF90YWJsZSAqd2FpdCkK
PiArewo+ICsJc3RydWN0IHZkdXNlX2RldiAqZGV2ID0gZmlsZS0+cHJpdmF0ZV9kYXRhOwo+ICsJ
X19wb2xsX3QgbWFzayA9IDA7Cj4gKwo+ICsJcG9sbF93YWl0KGZpbGUsICZkZXYtPndhaXRxLCB3
YWl0KTsKPiArCj4gKwlpZiAoIWxpc3RfZW1wdHkoJmRldi0+c2VuZF9saXN0KSkKPiArCQltYXNr
IHw9IEVQT0xMSU4gfCBFUE9MTFJETk9STTsKPiArCWlmICghbGlzdF9lbXB0eSgmZGV2LT5yZWN2
X2xpc3QpKQo+ICsJCW1hc2sgfD0gRVBPTExPVVQgfCBFUE9MTFdSTk9STTsKPiArCj4gKwlyZXR1
cm4gbWFzazsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQgdmR1c2VfZGV2X3Jlc2V0KHN0cnVjdCB2
ZHVzZV9kZXYgKmRldikKPiArewo+ICsJaW50IGk7Cj4gKwlzdHJ1Y3QgdmR1c2VfaW92YV9kb21h
aW4gKmRvbWFpbiA9IGRldi0+ZG9tYWluOwo+ICsKPiArCS8qIFRoZSBjb2hlcmVudCBtYXBwaW5n
cyBhcmUgaGFuZGxlZCBpbiB2ZHVzZV9kZXZfZnJlZV9jb2hlcmVudCgpICovCj4gKwlpZiAoZG9t
YWluLT5ib3VuY2VfbWFwKQo+ICsJCXZkdXNlX2RvbWFpbl9yZXNldF9ib3VuY2VfbWFwKGRvbWFp
bik7Cj4gKwo+ICsJZGV2LT5mZWF0dXJlcyA9IDA7Cj4gKwlkZXYtPmdlbmVyYXRpb24rKzsKPiAr
CXNwaW5fbG9jaygmZGV2LT5pcnFfbG9jayk7Cj4gKwlkZXYtPmNvbmZpZ19jYi5jYWxsYmFjayA9
IE5VTEw7Cj4gKwlkZXYtPmNvbmZpZ19jYi5wcml2YXRlID0gTlVMTDsKPiArCXNwaW5fdW5sb2Nr
KCZkZXYtPmlycV9sb2NrKTsKPiArCj4gKwlmb3IgKGkgPSAwOyBpIDwgZGV2LT52cV9udW07IGkr
Kykgewo+ICsJCXN0cnVjdCB2ZHVzZV92aXJ0cXVldWUgKnZxID0gJmRldi0+dnFzW2ldOwo+ICsK
PiArCQl2cS0+cmVhZHkgPSBmYWxzZTsKPiArCQl2cS0+ZGVzY19hZGRyID0gMDsKPiArCQl2cS0+
ZHJpdmVyX2FkZHIgPSAwOwo+ICsJCXZxLT5kZXZpY2VfYWRkciA9IDA7Cj4gKwkJdnEtPmF2YWls
X2lkeCA9IDA7Cj4gKwkJdnEtPm51bSA9IDA7Cj4gKwo+ICsJCXNwaW5fbG9jaygmdnEtPmtpY2tf
bG9jayk7Cj4gKwkJdnEtPmtpY2tlZCA9IGZhbHNlOwo+ICsJCWlmICh2cS0+a2lja2ZkKQo+ICsJ
CQlldmVudGZkX2N0eF9wdXQodnEtPmtpY2tmZCk7Cj4gKwkJdnEtPmtpY2tmZCA9IE5VTEw7Cj4g
KwkJc3Bpbl91bmxvY2soJnZxLT5raWNrX2xvY2spOwo+ICsKPiArCQlzcGluX2xvY2soJnZxLT5p
cnFfbG9jayk7Cj4gKwkJdnEtPmNiLmNhbGxiYWNrID0gTlVMTDsKPiArCQl2cS0+Y2IucHJpdmF0
ZSA9IE5VTEw7Cj4gKwkJc3Bpbl91bmxvY2soJnZxLT5pcnFfbG9jayk7Cj4gKwl9Cj4gK30KPiAr
Cj4gK3N0YXRpYyBpbnQgdmR1c2VfdmRwYV9zZXRfdnFfYWRkcmVzcyhzdHJ1Y3QgdmRwYV9kZXZp
Y2UgKnZkcGEsIHUxNiBpZHgsCj4gKwkJCQl1NjQgZGVzY19hcmVhLCB1NjQgZHJpdmVyX2FyZWEs
Cj4gKwkJCQl1NjQgZGV2aWNlX2FyZWEpCj4gK3sKPiArCXN0cnVjdCB2ZHVzZV9kZXYgKmRldiA9
IHZkcGFfdG9fdmR1c2UodmRwYSk7Cj4gKwlzdHJ1Y3QgdmR1c2VfdmlydHF1ZXVlICp2cSA9ICZk
ZXYtPnZxc1tpZHhdOwo+ICsKPiArCXZxLT5kZXNjX2FkZHIgPSBkZXNjX2FyZWE7Cj4gKwl2cS0+
ZHJpdmVyX2FkZHIgPSBkcml2ZXJfYXJlYTsKPiArCXZxLT5kZXZpY2VfYWRkciA9IGRldmljZV9h
cmVhOwo+ICsKPiArCXJldHVybiAwOwo+ICt9Cj4gKwo+ICtzdGF0aWMgdm9pZCB2ZHVzZV92ZHBh
X2tpY2tfdnEoc3RydWN0IHZkcGFfZGV2aWNlICp2ZHBhLCB1MTYgaWR4KQo+ICt7Cj4gKwlzdHJ1
Y3QgdmR1c2VfZGV2ICpkZXYgPSB2ZHBhX3RvX3ZkdXNlKHZkcGEpOwo+ICsJc3RydWN0IHZkdXNl
X3ZpcnRxdWV1ZSAqdnEgPSAmZGV2LT52cXNbaWR4XTsKPiArCj4gKwlzcGluX2xvY2soJnZxLT5r
aWNrX2xvY2spOwo+ICsJaWYgKCF2cS0+cmVhZHkpCj4gKwkJZ290byB1bmxvY2s7Cj4gKwo+ICsJ
aWYgKHZxLT5raWNrZmQpCj4gKwkJZXZlbnRmZF9zaWduYWwodnEtPmtpY2tmZCwgMSk7Cj4gKwll
bHNlCj4gKwkJdnEtPmtpY2tlZCA9IHRydWU7Cj4gK3VubG9jazoKPiArCXNwaW5fdW5sb2NrKCZ2
cS0+a2lja19sb2NrKTsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQgdmR1c2VfdmRwYV9zZXRfdnFf
Y2Ioc3RydWN0IHZkcGFfZGV2aWNlICp2ZHBhLCB1MTYgaWR4LAo+ICsJCQkgICAgICBzdHJ1Y3Qg
dmRwYV9jYWxsYmFjayAqY2IpCj4gK3sKPiArCXN0cnVjdCB2ZHVzZV9kZXYgKmRldiA9IHZkcGFf
dG9fdmR1c2UodmRwYSk7Cj4gKwlzdHJ1Y3QgdmR1c2VfdmlydHF1ZXVlICp2cSA9ICZkZXYtPnZx
c1tpZHhdOwo+ICsKPiArCXNwaW5fbG9jaygmdnEtPmlycV9sb2NrKTsKPiArCXZxLT5jYi5jYWxs
YmFjayA9IGNiLT5jYWxsYmFjazsKPiArCXZxLT5jYi5wcml2YXRlID0gY2ItPnByaXZhdGU7Cj4g
KwlzcGluX3VubG9jaygmdnEtPmlycV9sb2NrKTsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQgdmR1
c2VfdmRwYV9zZXRfdnFfbnVtKHN0cnVjdCB2ZHBhX2RldmljZSAqdmRwYSwgdTE2IGlkeCwgdTMy
IG51bSkKPiArewo+ICsJc3RydWN0IHZkdXNlX2RldiAqZGV2ID0gdmRwYV90b192ZHVzZSh2ZHBh
KTsKPiArCXN0cnVjdCB2ZHVzZV92aXJ0cXVldWUgKnZxID0gJmRldi0+dnFzW2lkeF07Cj4gKwo+
ICsJdnEtPm51bSA9IG51bTsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQgdmR1c2VfdmRwYV9zZXRf
dnFfcmVhZHkoc3RydWN0IHZkcGFfZGV2aWNlICp2ZHBhLAo+ICsJCQkJCXUxNiBpZHgsIGJvb2wg
cmVhZHkpCj4gK3sKPiArCXN0cnVjdCB2ZHVzZV9kZXYgKmRldiA9IHZkcGFfdG9fdmR1c2UodmRw
YSk7Cj4gKwlzdHJ1Y3QgdmR1c2VfdmlydHF1ZXVlICp2cSA9ICZkZXYtPnZxc1tpZHhdOwo+ICsK
PiArCXZxLT5yZWFkeSA9IHJlYWR5Owo+ICt9Cj4gKwo+ICtzdGF0aWMgYm9vbCB2ZHVzZV92ZHBh
X2dldF92cV9yZWFkeShzdHJ1Y3QgdmRwYV9kZXZpY2UgKnZkcGEsIHUxNiBpZHgpCj4gK3sKPiAr
CXN0cnVjdCB2ZHVzZV9kZXYgKmRldiA9IHZkcGFfdG9fdmR1c2UodmRwYSk7Cj4gKwlzdHJ1Y3Qg
dmR1c2VfdmlydHF1ZXVlICp2cSA9ICZkZXYtPnZxc1tpZHhdOwo+ICsKPiArCXJldHVybiB2cS0+
cmVhZHk7Cj4gK30KPiArCj4gK3N0YXRpYyBpbnQgdmR1c2VfdmRwYV9zZXRfdnFfc3RhdGUoc3Ry
dWN0IHZkcGFfZGV2aWNlICp2ZHBhLCB1MTYgaWR4LAo+ICsJCQkJY29uc3Qgc3RydWN0IHZkcGFf
dnFfc3RhdGUgKnN0YXRlKQo+ICt7Cj4gKwlzdHJ1Y3QgdmR1c2VfZGV2ICpkZXYgPSB2ZHBhX3Rv
X3ZkdXNlKHZkcGEpOwo+ICsJc3RydWN0IHZkdXNlX3ZpcnRxdWV1ZSAqdnEgPSAmZGV2LT52cXNb
aWR4XTsKPiArCj4gKwl2cS0+YXZhaWxfaWR4ID0gc3RhdGUtPmF2YWlsX2luZGV4Owo+ICsJcmV0
dXJuIDA7Cj4gK30KPiArCj4gK3N0YXRpYyBpbnQgdmR1c2VfdmRwYV9nZXRfdnFfc3RhdGUoc3Ry
dWN0IHZkcGFfZGV2aWNlICp2ZHBhLCB1MTYgaWR4LAo+ICsJCQkJc3RydWN0IHZkcGFfdnFfc3Rh
dGUgKnN0YXRlKQo+ICt7Cj4gKwlzdHJ1Y3QgdmR1c2VfZGV2ICpkZXYgPSB2ZHBhX3RvX3ZkdXNl
KHZkcGEpOwo+ICsJc3RydWN0IHZkdXNlX3ZpcnRxdWV1ZSAqdnEgPSAmZGV2LT52cXNbaWR4XTsK
PiArCj4gKwlyZXR1cm4gdmR1c2VfZGV2X2dldF92cV9zdGF0ZShkZXYsIHZxLCBzdGF0ZSk7Cj4g
K30KPiArCj4gK3N0YXRpYyB1MzIgdmR1c2VfdmRwYV9nZXRfdnFfYWxpZ24oc3RydWN0IHZkcGFf
ZGV2aWNlICp2ZHBhKQo+ICt7Cj4gKwlzdHJ1Y3QgdmR1c2VfZGV2ICpkZXYgPSB2ZHBhX3RvX3Zk
dXNlKHZkcGEpOwo+ICsKPiArCXJldHVybiBkZXYtPnZxX2FsaWduOwo+ICt9Cj4gKwo+ICtzdGF0
aWMgdTY0IHZkdXNlX3ZkcGFfZ2V0X2ZlYXR1cmVzKHN0cnVjdCB2ZHBhX2RldmljZSAqdmRwYSkK
PiArewo+ICsJc3RydWN0IHZkdXNlX2RldiAqZGV2ID0gdmRwYV90b192ZHVzZSh2ZHBhKTsKPiAr
Cj4gKwlyZXR1cm4gZGV2LT51c2VyX2ZlYXR1cmVzOwo+ICt9Cj4gKwo+ICtzdGF0aWMgaW50IHZk
dXNlX3ZkcGFfc2V0X2ZlYXR1cmVzKHN0cnVjdCB2ZHBhX2RldmljZSAqdmRwYSwgdTY0IGZlYXR1
cmVzKQo+ICt7Cj4gKwlzdHJ1Y3QgdmR1c2VfZGV2ICpkZXYgPSB2ZHBhX3RvX3ZkdXNlKHZkcGEp
Owo+ICsKPiArCWRldi0+ZmVhdHVyZXMgPSBmZWF0dXJlczsKPiArCXJldHVybiAwOwo+ICt9Cj4g
Kwo+ICtzdGF0aWMgdm9pZCB2ZHVzZV92ZHBhX3NldF9jb25maWdfY2Ioc3RydWN0IHZkcGFfZGV2
aWNlICp2ZHBhLAo+ICsJCQkJICBzdHJ1Y3QgdmRwYV9jYWxsYmFjayAqY2IpCj4gK3sKPiArCXN0
cnVjdCB2ZHVzZV9kZXYgKmRldiA9IHZkcGFfdG9fdmR1c2UodmRwYSk7Cj4gKwo+ICsJc3Bpbl9s
b2NrKCZkZXYtPmlycV9sb2NrKTsKPiArCWRldi0+Y29uZmlnX2NiLmNhbGxiYWNrID0gY2ItPmNh
bGxiYWNrOwo+ICsJZGV2LT5jb25maWdfY2IucHJpdmF0ZSA9IGNiLT5wcml2YXRlOwo+ICsJc3Bp
bl91bmxvY2soJmRldi0+aXJxX2xvY2spOwo+ICt9Cj4gKwo+ICtzdGF0aWMgdTE2IHZkdXNlX3Zk
cGFfZ2V0X3ZxX251bV9tYXgoc3RydWN0IHZkcGFfZGV2aWNlICp2ZHBhKQo+ICt7Cj4gKwlzdHJ1
Y3QgdmR1c2VfZGV2ICpkZXYgPSB2ZHBhX3RvX3ZkdXNlKHZkcGEpOwo+ICsKPiArCXJldHVybiBk
ZXYtPnZxX3NpemVfbWF4Owo+ICt9Cj4gKwo+ICtzdGF0aWMgdTMyIHZkdXNlX3ZkcGFfZ2V0X2Rl
dmljZV9pZChzdHJ1Y3QgdmRwYV9kZXZpY2UgKnZkcGEpCj4gK3sKPiArCXN0cnVjdCB2ZHVzZV9k
ZXYgKmRldiA9IHZkcGFfdG9fdmR1c2UodmRwYSk7Cj4gKwo+ICsJcmV0dXJuIGRldi0+ZGV2aWNl
X2lkOwo+ICt9Cj4gKwo+ICtzdGF0aWMgdTMyIHZkdXNlX3ZkcGFfZ2V0X3ZlbmRvcl9pZChzdHJ1
Y3QgdmRwYV9kZXZpY2UgKnZkcGEpCj4gK3sKPiArCXN0cnVjdCB2ZHVzZV9kZXYgKmRldiA9IHZk
cGFfdG9fdmR1c2UodmRwYSk7Cj4gKwo+ICsJcmV0dXJuIGRldi0+dmVuZG9yX2lkOwo+ICt9Cj4g
Kwo+ICtzdGF0aWMgdTggdmR1c2VfdmRwYV9nZXRfc3RhdHVzKHN0cnVjdCB2ZHBhX2RldmljZSAq
dmRwYSkKPiArewo+ICsJc3RydWN0IHZkdXNlX2RldiAqZGV2ID0gdmRwYV90b192ZHVzZSh2ZHBh
KTsKPiArCj4gKwlyZXR1cm4gZGV2LT5zdGF0dXM7Cj4gK30KPiArCj4gK3N0YXRpYyB2b2lkIHZk
dXNlX3ZkcGFfc2V0X3N0YXR1cyhzdHJ1Y3QgdmRwYV9kZXZpY2UgKnZkcGEsIHU4IHN0YXR1cykK
PiArewo+ICsJc3RydWN0IHZkdXNlX2RldiAqZGV2ID0gdmRwYV90b192ZHVzZSh2ZHBhKTsKPiAr
CWJvb2wgc3RhcnRlZCA9ICEhKHN0YXR1cyAmIFZJUlRJT19DT05GSUdfU19EUklWRVJfT0spOwo+
ICsKPiArCWRldi0+c3RhdHVzID0gc3RhdHVzOwo+ICsKPiArCWlmIChkZXYtPnN0YXJ0ZWQgPT0g
c3RhcnRlZCkKPiArCQlyZXR1cm47CgoKSWYgd2UgY2hlY2sgZGV2LT5zdGF0dXMgPT0gc3RhdHVz
LCAob3Igb25seSBjaGVjayB0aGUgRFJJVkVSX09LIGJpdCkgCnRoZW4gdGhlcmUncyBubyBuZWVk
IHRvIGludHJvZHVjZSBhbiBleHRyYSBkZXYtPnN0YXJ0ZWQuCgoKPiArCj4gKwlkZXYtPnN0YXJ0
ZWQgPSBzdGFydGVkOwo+ICsJaWYgKGRldi0+c3RhcnRlZCkgewo+ICsJCXZkdXNlX2Rldl9zdGFy
dF9kYXRhcGxhbmUoZGV2KTsKPiArCX0gZWxzZSB7Cj4gKwkJdmR1c2VfZGV2X3Jlc2V0KGRldik7
Cj4gKwkJdmR1c2VfZGV2X3N0b3BfZGF0YXBsYW5lKGRldik7CgoKSSB3b25kZXIgaWYgbm9fcmVw
bHkgd29yayBmb3IgdGhlIGNhc2Ugb2Ygdmhvc3QtdmRwYS4gRm9yIHZpcnRpby12RFBBLCAKd2Ug
aGF2ZSBib3VuY2luZyBidWZmZXJzIHNvIGl0J3MgaGFybWxlc3MgaWYgdXNlcnNhcGNlIGRhdGFw
bGFuZSBrZWVwcyAKcGVyZm9ybWluZyByZWFkL3dyaXRlLiBGb3Igdmhvc3QtdkRQQSB3ZSBkb24n
dCBoYXZlIHN1Y2ggc3R1ZmZzLgoKCj4gKwl9Cj4gK30KPiArCj4gK3N0YXRpYyBzaXplX3QgdmR1
c2VfdmRwYV9nZXRfY29uZmlnX3NpemUoc3RydWN0IHZkcGFfZGV2aWNlICp2ZHBhKQo+ICt7Cj4g
KwlzdHJ1Y3QgdmR1c2VfZGV2ICpkZXYgPSB2ZHBhX3RvX3ZkdXNlKHZkcGEpOwo+ICsKPiArCXJl
dHVybiBkZXYtPmNvbmZpZ19zaXplOwo+ICt9Cj4gKwo+ICtzdGF0aWMgdm9pZCB2ZHVzZV92ZHBh
X2dldF9jb25maWcoc3RydWN0IHZkcGFfZGV2aWNlICp2ZHBhLCB1bnNpZ25lZCBpbnQgb2Zmc2V0
LAo+ICsJCQkJICB2b2lkICpidWYsIHVuc2lnbmVkIGludCBsZW4pCj4gK3sKPiArCXN0cnVjdCB2
ZHVzZV9kZXYgKmRldiA9IHZkcGFfdG9fdmR1c2UodmRwYSk7Cj4gKwo+ICsJbWVtY3B5KGJ1Ziwg
ZGV2LT5jb25maWcgKyBvZmZzZXQsIGxlbik7Cj4gK30KPiArCj4gK3N0YXRpYyB2b2lkIHZkdXNl
X3ZkcGFfc2V0X2NvbmZpZyhzdHJ1Y3QgdmRwYV9kZXZpY2UgKnZkcGEsIHVuc2lnbmVkIGludCBv
ZmZzZXQsCj4gKwkJCWNvbnN0IHZvaWQgKmJ1ZiwgdW5zaWduZWQgaW50IGxlbikKPiArewo+ICsJ
LyogTm93IHdlIG9ubHkgc3VwcG9ydCByZWFkLW9ubHkgY29uZmlndXJhdGlvbiBzcGFjZSAqLwo+
ICt9Cj4gKwo+ICtzdGF0aWMgdTMyIHZkdXNlX3ZkcGFfZ2V0X2dlbmVyYXRpb24oc3RydWN0IHZk
cGFfZGV2aWNlICp2ZHBhKQo+ICt7Cj4gKwlzdHJ1Y3QgdmR1c2VfZGV2ICpkZXYgPSB2ZHBhX3Rv
X3ZkdXNlKHZkcGEpOwo+ICsKPiArCXJldHVybiBkZXYtPmdlbmVyYXRpb247Cj4gK30KPiArCj4g
K3N0YXRpYyBpbnQgdmR1c2VfdmRwYV9zZXRfbWFwKHN0cnVjdCB2ZHBhX2RldmljZSAqdmRwYSwK
PiArCQkJCXN0cnVjdCB2aG9zdF9pb3RsYiAqaW90bGIpCj4gK3sKPiArCXN0cnVjdCB2ZHVzZV9k
ZXYgKmRldiA9IHZkcGFfdG9fdmR1c2UodmRwYSk7Cj4gKwlpbnQgcmV0Owo+ICsKPiArCXJldCA9
IHZkdXNlX2RvbWFpbl9zZXRfbWFwKGRldi0+ZG9tYWluLCBpb3RsYik7Cj4gKwlpZiAocmV0KQo+
ICsJCXJldHVybiByZXQ7Cj4gKwo+ICsJcmV0ID0gdmR1c2VfZGV2X3VwZGF0ZV9pb3RsYihkZXYs
IDBVTEwsIFVMTE9OR19NQVgpOwo+ICsJaWYgKHJldCkgewo+ICsJCXZkdXNlX2RvbWFpbl9jbGVh
cl9tYXAoZGV2LT5kb21haW4sIGlvdGxiKTsKPiArCQlyZXR1cm4gcmV0Owo+ICsJfQo+ICsKPiAr
CXJldHVybiAwOwo+ICt9Cj4gKwo+ICtzdGF0aWMgdm9pZCB2ZHVzZV92ZHBhX2ZyZWUoc3RydWN0
IHZkcGFfZGV2aWNlICp2ZHBhKQo+ICt7Cj4gKwlzdHJ1Y3QgdmR1c2VfZGV2ICpkZXYgPSB2ZHBh
X3RvX3ZkdXNlKHZkcGEpOwo+ICsKPiArCWRldi0+dmRldiA9IE5VTEw7Cj4gK30KPiArCj4gK3N0
YXRpYyBjb25zdCBzdHJ1Y3QgdmRwYV9jb25maWdfb3BzIHZkdXNlX3ZkcGFfY29uZmlnX29wcyA9
IHsKPiArCS5zZXRfdnFfYWRkcmVzcwkJPSB2ZHVzZV92ZHBhX3NldF92cV9hZGRyZXNzLAo+ICsJ
LmtpY2tfdnEJCT0gdmR1c2VfdmRwYV9raWNrX3ZxLAo+ICsJLnNldF92cV9jYgkJPSB2ZHVzZV92
ZHBhX3NldF92cV9jYiwKPiArCS5zZXRfdnFfbnVtICAgICAgICAgICAgID0gdmR1c2VfdmRwYV9z
ZXRfdnFfbnVtLAo+ICsJLnNldF92cV9yZWFkeQkJPSB2ZHVzZV92ZHBhX3NldF92cV9yZWFkeSwK
PiArCS5nZXRfdnFfcmVhZHkJCT0gdmR1c2VfdmRwYV9nZXRfdnFfcmVhZHksCj4gKwkuc2V0X3Zx
X3N0YXRlCQk9IHZkdXNlX3ZkcGFfc2V0X3ZxX3N0YXRlLAo+ICsJLmdldF92cV9zdGF0ZQkJPSB2
ZHVzZV92ZHBhX2dldF92cV9zdGF0ZSwKPiArCS5nZXRfdnFfYWxpZ24JCT0gdmR1c2VfdmRwYV9n
ZXRfdnFfYWxpZ24sCj4gKwkuZ2V0X2ZlYXR1cmVzCQk9IHZkdXNlX3ZkcGFfZ2V0X2ZlYXR1cmVz
LAo+ICsJLnNldF9mZWF0dXJlcwkJPSB2ZHVzZV92ZHBhX3NldF9mZWF0dXJlcywKPiArCS5zZXRf
Y29uZmlnX2NiCQk9IHZkdXNlX3ZkcGFfc2V0X2NvbmZpZ19jYiwKPiArCS5nZXRfdnFfbnVtX21h
eAkJPSB2ZHVzZV92ZHBhX2dldF92cV9udW1fbWF4LAo+ICsJLmdldF9kZXZpY2VfaWQJCT0gdmR1
c2VfdmRwYV9nZXRfZGV2aWNlX2lkLAo+ICsJLmdldF92ZW5kb3JfaWQJCT0gdmR1c2VfdmRwYV9n
ZXRfdmVuZG9yX2lkLAo+ICsJLmdldF9zdGF0dXMJCT0gdmR1c2VfdmRwYV9nZXRfc3RhdHVzLAo+
ICsJLnNldF9zdGF0dXMJCT0gdmR1c2VfdmRwYV9zZXRfc3RhdHVzLAo+ICsJLmdldF9jb25maWdf
c2l6ZQk9IHZkdXNlX3ZkcGFfZ2V0X2NvbmZpZ19zaXplLAo+ICsJLmdldF9jb25maWcJCT0gdmR1
c2VfdmRwYV9nZXRfY29uZmlnLAo+ICsJLnNldF9jb25maWcJCT0gdmR1c2VfdmRwYV9zZXRfY29u
ZmlnLAo+ICsJLmdldF9nZW5lcmF0aW9uCQk9IHZkdXNlX3ZkcGFfZ2V0X2dlbmVyYXRpb24sCj4g
Kwkuc2V0X21hcAkJPSB2ZHVzZV92ZHBhX3NldF9tYXAsCj4gKwkuZnJlZQkJCT0gdmR1c2VfdmRw
YV9mcmVlLAo+ICt9Owo+ICsKPiArc3RhdGljIGRtYV9hZGRyX3QgdmR1c2VfZGV2X21hcF9wYWdl
KHN0cnVjdCBkZXZpY2UgKmRldiwgc3RydWN0IHBhZ2UgKnBhZ2UsCj4gKwkJCQkgICAgIHVuc2ln
bmVkIGxvbmcgb2Zmc2V0LCBzaXplX3Qgc2l6ZSwKPiArCQkJCSAgICAgZW51bSBkbWFfZGF0YV9k
aXJlY3Rpb24gZGlyLAo+ICsJCQkJICAgICB1bnNpZ25lZCBsb25nIGF0dHJzKQo+ICt7Cj4gKwlz
dHJ1Y3QgdmR1c2VfZGV2ICp2ZGV2ID0gZGV2X3RvX3ZkdXNlKGRldik7Cj4gKwlzdHJ1Y3QgdmR1
c2VfaW92YV9kb21haW4gKmRvbWFpbiA9IHZkZXYtPmRvbWFpbjsKPiArCj4gKwlyZXR1cm4gdmR1
c2VfZG9tYWluX21hcF9wYWdlKGRvbWFpbiwgcGFnZSwgb2Zmc2V0LCBzaXplLCBkaXIsIGF0dHJz
KTsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQgdmR1c2VfZGV2X3VubWFwX3BhZ2Uoc3RydWN0IGRl
dmljZSAqZGV2LCBkbWFfYWRkcl90IGRtYV9hZGRyLAo+ICsJCQkJc2l6ZV90IHNpemUsIGVudW0g
ZG1hX2RhdGFfZGlyZWN0aW9uIGRpciwKPiArCQkJCXVuc2lnbmVkIGxvbmcgYXR0cnMpCj4gK3sK
PiArCXN0cnVjdCB2ZHVzZV9kZXYgKnZkZXYgPSBkZXZfdG9fdmR1c2UoZGV2KTsKPiArCXN0cnVj
dCB2ZHVzZV9pb3ZhX2RvbWFpbiAqZG9tYWluID0gdmRldi0+ZG9tYWluOwo+ICsKPiArCXJldHVy
biB2ZHVzZV9kb21haW5fdW5tYXBfcGFnZShkb21haW4sIGRtYV9hZGRyLCBzaXplLCBkaXIsIGF0
dHJzKTsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQgKnZkdXNlX2Rldl9hbGxvY19jb2hlcmVudChz
dHJ1Y3QgZGV2aWNlICpkZXYsIHNpemVfdCBzaXplLAo+ICsJCQkJCWRtYV9hZGRyX3QgKmRtYV9h
ZGRyLCBnZnBfdCBmbGFnLAo+ICsJCQkJCXVuc2lnbmVkIGxvbmcgYXR0cnMpCj4gK3sKPiArCXN0
cnVjdCB2ZHVzZV9kZXYgKnZkZXYgPSBkZXZfdG9fdmR1c2UoZGV2KTsKPiArCXN0cnVjdCB2ZHVz
ZV9pb3ZhX2RvbWFpbiAqZG9tYWluID0gdmRldi0+ZG9tYWluOwo+ICsJdW5zaWduZWQgbG9uZyBp
b3ZhOwo+ICsJdm9pZCAqYWRkcjsKPiArCj4gKwkqZG1hX2FkZHIgPSBETUFfTUFQUElOR19FUlJP
UjsKPiArCWFkZHIgPSB2ZHVzZV9kb21haW5fYWxsb2NfY29oZXJlbnQoZG9tYWluLCBzaXplLAo+
ICsJCQkJKGRtYV9hZGRyX3QgKikmaW92YSwgZmxhZywgYXR0cnMpOwo+ICsJaWYgKCFhZGRyKQo+
ICsJCXJldHVybiBOVUxMOwo+ICsKPiArCSpkbWFfYWRkciA9IChkbWFfYWRkcl90KWlvdmE7Cj4g
Kwo+ICsJcmV0dXJuIGFkZHI7Cj4gK30KPiArCj4gK3N0YXRpYyB2b2lkIHZkdXNlX2Rldl9mcmVl
X2NvaGVyZW50KHN0cnVjdCBkZXZpY2UgKmRldiwgc2l6ZV90IHNpemUsCj4gKwkJCQkJdm9pZCAq
dmFkZHIsIGRtYV9hZGRyX3QgZG1hX2FkZHIsCj4gKwkJCQkJdW5zaWduZWQgbG9uZyBhdHRycykK
PiArewo+ICsJc3RydWN0IHZkdXNlX2RldiAqdmRldiA9IGRldl90b192ZHVzZShkZXYpOwo+ICsJ
c3RydWN0IHZkdXNlX2lvdmFfZG9tYWluICpkb21haW4gPSB2ZGV2LT5kb21haW47Cj4gKwo+ICsJ
dmR1c2VfZG9tYWluX2ZyZWVfY29oZXJlbnQoZG9tYWluLCBzaXplLCB2YWRkciwgZG1hX2FkZHIs
IGF0dHJzKTsKPiArfQo+ICsKPiArc3RhdGljIHNpemVfdCB2ZHVzZV9kZXZfbWF4X21hcHBpbmdf
c2l6ZShzdHJ1Y3QgZGV2aWNlICpkZXYpCj4gK3sKPiArCXN0cnVjdCB2ZHVzZV9kZXYgKnZkZXYg
PSBkZXZfdG9fdmR1c2UoZGV2KTsKPiArCXN0cnVjdCB2ZHVzZV9pb3ZhX2RvbWFpbiAqZG9tYWlu
ID0gdmRldi0+ZG9tYWluOwo+ICsKPiArCXJldHVybiBkb21haW4tPmJvdW5jZV9zaXplOwo+ICt9
Cj4gKwo+ICtzdGF0aWMgY29uc3Qgc3RydWN0IGRtYV9tYXBfb3BzIHZkdXNlX2Rldl9kbWFfb3Bz
ID0gewo+ICsJLm1hcF9wYWdlID0gdmR1c2VfZGV2X21hcF9wYWdlLAo+ICsJLnVubWFwX3BhZ2Ug
PSB2ZHVzZV9kZXZfdW5tYXBfcGFnZSwKPiArCS5hbGxvYyA9IHZkdXNlX2Rldl9hbGxvY19jb2hl
cmVudCwKPiArCS5mcmVlID0gdmR1c2VfZGV2X2ZyZWVfY29oZXJlbnQsCj4gKwkubWF4X21hcHBp
bmdfc2l6ZSA9IHZkdXNlX2Rldl9tYXhfbWFwcGluZ19zaXplLAo+ICt9Owo+ICsKPiArc3RhdGlj
IHVuc2lnbmVkIGludCBwZXJtX3RvX2ZpbGVfZmxhZ3ModTggcGVybSkKPiArewo+ICsJdW5zaWdu
ZWQgaW50IGZsYWdzID0gMDsKPiArCj4gKwlzd2l0Y2ggKHBlcm0pIHsKPiArCWNhc2UgVkRVU0Vf
QUNDRVNTX1dPOgo+ICsJCWZsYWdzIHw9IE9fV1JPTkxZOwo+ICsJCWJyZWFrOwo+ICsJY2FzZSBW
RFVTRV9BQ0NFU1NfUk86Cj4gKwkJZmxhZ3MgfD0gT19SRE9OTFk7Cj4gKwkJYnJlYWs7Cj4gKwlj
YXNlIFZEVVNFX0FDQ0VTU19SVzoKPiArCQlmbGFncyB8PSBPX1JEV1I7Cj4gKwkJYnJlYWs7Cj4g
KwlkZWZhdWx0Ogo+ICsJCVdBUk4oMSwgImludmFsaWRhdGUgdmhvc3QgSU9UTEIgcGVybWlzc2lv
blxuIik7Cj4gKwkJYnJlYWs7Cj4gKwl9Cj4gKwo+ICsJcmV0dXJuIGZsYWdzOwo+ICt9Cj4gKwo+
ICtzdGF0aWMgaW50IHZkdXNlX2tpY2tmZF9zZXR1cChzdHJ1Y3QgdmR1c2VfZGV2ICpkZXYsCj4g
KwkJCXN0cnVjdCB2ZHVzZV92cV9ldmVudGZkICpldmVudGZkKQo+ICt7Cj4gKwlzdHJ1Y3QgZXZl
bnRmZF9jdHggKmN0eCA9IE5VTEw7Cj4gKwlzdHJ1Y3QgdmR1c2VfdmlydHF1ZXVlICp2cTsKPiAr
CXUzMiBpbmRleDsKPiArCj4gKwlpZiAoZXZlbnRmZC0+aW5kZXggPj0gZGV2LT52cV9udW0pCj4g
KwkJcmV0dXJuIC1FSU5WQUw7Cj4gKwo+ICsJaW5kZXggPSBhcnJheV9pbmRleF9ub3NwZWMoZXZl
bnRmZC0+aW5kZXgsIGRldi0+dnFfbnVtKTsKPiArCXZxID0gJmRldi0+dnFzW2luZGV4XTsKPiAr
CWlmIChldmVudGZkLT5mZCA+PSAwKSB7Cj4gKwkJY3R4ID0gZXZlbnRmZF9jdHhfZmRnZXQoZXZl
bnRmZC0+ZmQpOwo+ICsJCWlmIChJU19FUlIoY3R4KSkKPiArCQkJcmV0dXJuIFBUUl9FUlIoY3R4
KTsKPiArCX0gZWxzZSBpZiAoZXZlbnRmZC0+ZmQgIT0gVkRVU0VfRVZFTlRGRF9ERUFTU0lHTikK
PiArCQlyZXR1cm4gMDsKPiArCj4gKwlzcGluX2xvY2soJnZxLT5raWNrX2xvY2spOwo+ICsJaWYg
KHZxLT5raWNrZmQpCj4gKwkJZXZlbnRmZF9jdHhfcHV0KHZxLT5raWNrZmQpOwo+ICsJdnEtPmtp
Y2tmZCA9IGN0eDsKPiArCWlmICh2cS0+cmVhZHkgJiYgdnEtPmtpY2tlZCAmJiB2cS0+a2lja2Zk
KSB7Cj4gKwkJZXZlbnRmZF9zaWduYWwodnEtPmtpY2tmZCwgMSk7Cj4gKwkJdnEtPmtpY2tlZCA9
IGZhbHNlOwo+ICsJfQo+ICsJc3Bpbl91bmxvY2soJnZxLT5raWNrX2xvY2spOwo+ICsKPiArCXJl
dHVybiAwOwo+ICt9Cj4gKwo+ICtzdGF0aWMgdm9pZCB2ZHVzZV9kZXZfaXJxX2luamVjdChzdHJ1
Y3Qgd29ya19zdHJ1Y3QgKndvcmspCj4gK3sKPiArCXN0cnVjdCB2ZHVzZV9kZXYgKmRldiA9IGNv
bnRhaW5lcl9vZih3b3JrLCBzdHJ1Y3QgdmR1c2VfZGV2LCBpbmplY3QpOwo+ICsKPiArCXNwaW5f
bG9ja19pcnEoJmRldi0+aXJxX2xvY2spOwo+ICsJaWYgKGRldi0+Y29uZmlnX2NiLmNhbGxiYWNr
KQo+ICsJCWRldi0+Y29uZmlnX2NiLmNhbGxiYWNrKGRldi0+Y29uZmlnX2NiLnByaXZhdGUpOwo+
ICsJc3Bpbl91bmxvY2tfaXJxKCZkZXYtPmlycV9sb2NrKTsKPiArfQo+ICsKPiArc3RhdGljIHZv
aWQgdmR1c2VfdnFfaXJxX2luamVjdChzdHJ1Y3Qgd29ya19zdHJ1Y3QgKndvcmspCj4gK3sKPiAr
CXN0cnVjdCB2ZHVzZV92aXJ0cXVldWUgKnZxID0gY29udGFpbmVyX29mKHdvcmssCj4gKwkJCQkJ
c3RydWN0IHZkdXNlX3ZpcnRxdWV1ZSwgaW5qZWN0KTsKPiArCj4gKwlzcGluX2xvY2tfaXJxKCZ2
cS0+aXJxX2xvY2spOwo+ICsJaWYgKHZxLT5yZWFkeSAmJiB2cS0+Y2IuY2FsbGJhY2spCj4gKwkJ
dnEtPmNiLmNhbGxiYWNrKHZxLT5jYi5wcml2YXRlKTsKPiArCXNwaW5fdW5sb2NrX2lycSgmdnEt
PmlycV9sb2NrKTsKPiArfQo+ICsKPiArc3RhdGljIGxvbmcgdmR1c2VfZGV2X2lvY3RsKHN0cnVj
dCBmaWxlICpmaWxlLCB1bnNpZ25lZCBpbnQgY21kLAo+ICsJCQkgICAgdW5zaWduZWQgbG9uZyBh
cmcpCj4gK3sKPiArCXN0cnVjdCB2ZHVzZV9kZXYgKmRldiA9IGZpbGUtPnByaXZhdGVfZGF0YTsK
PiArCXZvaWQgX191c2VyICphcmdwID0gKHZvaWQgX191c2VyICopYXJnOwo+ICsJaW50IHJldDsK
PiArCj4gKwlzd2l0Y2ggKGNtZCkgewo+ICsJY2FzZSBWRFVTRV9JT1RMQl9HRVRfRkQ6IHsKPiAr
CQlzdHJ1Y3QgdmR1c2VfaW90bGJfZW50cnkgZW50cnk7Cj4gKwkJc3RydWN0IHZob3N0X2lvdGxi
X21hcCAqbWFwOwo+ICsJCXN0cnVjdCB2ZHBhX21hcF9maWxlICptYXBfZmlsZTsKPiArCQlzdHJ1
Y3QgdmR1c2VfaW92YV9kb21haW4gKmRvbWFpbiA9IGRldi0+ZG9tYWluOwo+ICsJCXN0cnVjdCBm
aWxlICpmID0gTlVMTDsKPiArCj4gKwkJcmV0ID0gLUVGQVVMVDsKPiArCQlpZiAoY29weV9mcm9t
X3VzZXIoJmVudHJ5LCBhcmdwLCBzaXplb2YoZW50cnkpKSkKPiArCQkJYnJlYWs7Cj4gKwo+ICsJ
CXJldCA9IC1FSU5WQUw7Cj4gKwkJaWYgKGVudHJ5LnN0YXJ0ID4gZW50cnkubGFzdCkKPiArCQkJ
YnJlYWs7Cj4gKwo+ICsJCXNwaW5fbG9jaygmZG9tYWluLT5pb3RsYl9sb2NrKTsKPiArCQltYXAg
PSB2aG9zdF9pb3RsYl9pdHJlZV9maXJzdChkb21haW4tPmlvdGxiLAo+ICsJCQkJCSAgICAgIGVu
dHJ5LnN0YXJ0LCBlbnRyeS5sYXN0KTsKPiArCQlpZiAobWFwKSB7Cj4gKwkJCW1hcF9maWxlID0g
KHN0cnVjdCB2ZHBhX21hcF9maWxlICopbWFwLT5vcGFxdWU7Cj4gKwkJCWYgPSBnZXRfZmlsZSht
YXBfZmlsZS0+ZmlsZSk7Cj4gKwkJCWVudHJ5Lm9mZnNldCA9IG1hcF9maWxlLT5vZmZzZXQ7Cj4g
KwkJCWVudHJ5LnN0YXJ0ID0gbWFwLT5zdGFydDsKPiArCQkJZW50cnkubGFzdCA9IG1hcC0+bGFz
dDsKPiArCQkJZW50cnkucGVybSA9IG1hcC0+cGVybTsKPiArCQl9Cj4gKwkJc3Bpbl91bmxvY2so
JmRvbWFpbi0+aW90bGJfbG9jayk7Cj4gKwkJcmV0ID0gLUVJTlZBTDsKPiArCQlpZiAoIWYpCj4g
KwkJCWJyZWFrOwo+ICsKPiArCQlyZXQgPSAtRUZBVUxUOwo+ICsJCWlmIChjb3B5X3RvX3VzZXIo
YXJncCwgJmVudHJ5LCBzaXplb2YoZW50cnkpKSkgewo+ICsJCQlmcHV0KGYpOwo+ICsJCQlicmVh
azsKPiArCQl9Cj4gKwkJcmV0ID0gcmVjZWl2ZV9mZChmLCBwZXJtX3RvX2ZpbGVfZmxhZ3MoZW50
cnkucGVybSkpOwo+ICsJCWZwdXQoZik7Cj4gKwkJYnJlYWs7Cj4gKwl9Cj4gKwljYXNlIFZEVVNF
X0RFVl9HRVRfRkVBVFVSRVM6Cj4gKwkJcmV0ID0gcHV0X3VzZXIoZGV2LT5mZWF0dXJlcywgKHU2
NCBfX3VzZXIgKilhcmdwKTsKPiArCQlicmVhazsKPiArCWNhc2UgVkRVU0VfREVWX1VQREFURV9D
T05GSUc6IHsKPiArCQlzdHJ1Y3QgdmR1c2VfY29uZmlnX3VwZGF0ZSBjb25maWc7Cj4gKwkJdW5z
aWduZWQgbG9uZyBzaXplID0gb2Zmc2V0b2Yoc3RydWN0IHZkdXNlX2NvbmZpZ191cGRhdGUsCj4g
KwkJCQkJICAgICAgYnVmZmVyKTsKPiArCj4gKwkJcmV0ID0gLUVGQVVMVDsKPiArCQlpZiAoY29w
eV9mcm9tX3VzZXIoJmNvbmZpZywgYXJncCwgc2l6ZSkpCj4gKwkJCWJyZWFrOwo+ICsKPiArCQly
ZXQgPSAtRUlOVkFMOwo+ICsJCWlmIChjb25maWcubGVuZ3RoID09IDAgfHwKPiArCQkgICAgY29u
ZmlnLmxlbmd0aCA+IGRldi0+Y29uZmlnX3NpemUgLSBjb25maWcub2Zmc2V0KQo+ICsJCQlicmVh
azsKPiArCj4gKwkJcmV0ID0gLUVGQVVMVDsKPiArCQlpZiAoY29weV9mcm9tX3VzZXIoZGV2LT5j
b25maWcgKyBjb25maWcub2Zmc2V0LCBhcmdwICsgc2l6ZSwKPiArCQkJCSAgIGNvbmZpZy5sZW5n
dGgpKQo+ICsJCQlicmVhazsKPiArCj4gKwkJcmV0ID0gMDsKPiArCQlxdWV1ZV93b3JrKHZkdXNl
X2lycV93cSwgJmRldi0+aW5qZWN0KTsKCgpJIHdvbmRlciBpZiBpdCdzIGJldHRlciB0byBzZXBh
cmF0ZSBjb25maWcgaW50ZXJydXB0IG91dCBvZiBjb25maWcgCnVwZGF0ZSBvciB3ZSBuZWVkIGRv
Y3VtZW50IHRoaXMuCgoKPiArCQlicmVhazsKPiArCX0KPiArCWNhc2UgVkRVU0VfVlFfR0VUX0lO
Rk86IHsKCgpEbyB3ZSBuZWVkIHRvIGxpbWl0IHRoaXMgb25seSB3aGVuIERSSVZFUl9PSyBpcyBz
ZXQ/CgoKPiArCQlzdHJ1Y3QgdmR1c2VfdnFfaW5mbyB2cV9pbmZvOwo+ICsJCXUzMiB2cV9pbmRl
eDsKPiArCj4gKwkJcmV0ID0gLUVGQVVMVDsKPiArCQlpZiAoY29weV9mcm9tX3VzZXIoJnZxX2lu
Zm8sIGFyZ3AsIHNpemVvZih2cV9pbmZvKSkpCj4gKwkJCWJyZWFrOwo+ICsKPiArCQlyZXQgPSAt
RUlOVkFMOwo+ICsJCWlmICh2cV9pbmZvLmluZGV4ID49IGRldi0+dnFfbnVtKQo+ICsJCQlicmVh
azsKPiArCj4gKwkJdnFfaW5kZXggPSBhcnJheV9pbmRleF9ub3NwZWModnFfaW5mby5pbmRleCwg
ZGV2LT52cV9udW0pOwo+ICsJCXZxX2luZm8uZGVzY19hZGRyID0gZGV2LT52cXNbdnFfaW5kZXhd
LmRlc2NfYWRkcjsKPiArCQl2cV9pbmZvLmRyaXZlcl9hZGRyID0gZGV2LT52cXNbdnFfaW5kZXhd
LmRyaXZlcl9hZGRyOwo+ICsJCXZxX2luZm8uZGV2aWNlX2FkZHIgPSBkZXYtPnZxc1t2cV9pbmRl
eF0uZGV2aWNlX2FkZHI7Cj4gKwkJdnFfaW5mby5udW0gPSBkZXYtPnZxc1t2cV9pbmRleF0ubnVt
Owo+ICsJCXZxX2luZm8uYXZhaWxfaWR4ID0gZGV2LT52cXNbdnFfaW5kZXhdLmF2YWlsX2lkeDsK
PiArCQl2cV9pbmZvLnJlYWR5ID0gZGV2LT52cXNbdnFfaW5kZXhdLnJlYWR5Owo+ICsKPiArCQly
ZXQgPSAtRUZBVUxUOwo+ICsJCWlmIChjb3B5X3RvX3VzZXIoYXJncCwgJnZxX2luZm8sIHNpemVv
Zih2cV9pbmZvKSkpCj4gKwkJCWJyZWFrOwo+ICsKPiArCQlyZXQgPSAwOwo+ICsJCWJyZWFrOwo+
ICsJfQo+ICsJY2FzZSBWRFVTRV9WUV9TRVRVUF9LSUNLRkQ6IHsKPiArCQlzdHJ1Y3QgdmR1c2Vf
dnFfZXZlbnRmZCBldmVudGZkOwo+ICsKPiArCQlyZXQgPSAtRUZBVUxUOwo+ICsJCWlmIChjb3B5
X2Zyb21fdXNlcigmZXZlbnRmZCwgYXJncCwgc2l6ZW9mKGV2ZW50ZmQpKSkKPiArCQkJYnJlYWs7
Cj4gKwo+ICsJCXJldCA9IHZkdXNlX2tpY2tmZF9zZXR1cChkZXYsICZldmVudGZkKTsKPiArCQli
cmVhazsKPiArCX0KPiArCWNhc2UgVkRVU0VfVlFfSU5KRUNUX0lSUTogewo+ICsJCXUzMiB2cV9p
bmRleDsKPiArCj4gKwkJcmV0ID0gLUVGQVVMVDsKPiArCQlpZiAoZ2V0X3VzZXIodnFfaW5kZXgs
ICh1MzIgX191c2VyICopYXJncCkpCj4gKwkJCWJyZWFrOwo+ICsKPiArCQlyZXQgPSAtRUlOVkFM
Owo+ICsJCWlmICh2cV9pbmRleCA+PSBkZXYtPnZxX251bSkKPiArCQkJYnJlYWs7Cj4gKwo+ICsJ
CXJldCA9IDA7Cj4gKwkJdnFfaW5kZXggPSBhcnJheV9pbmRleF9ub3NwZWModnFfaW5kZXgsIGRl
di0+dnFfbnVtKTsKPiArCQlxdWV1ZV93b3JrKHZkdXNlX2lycV93cSwgJmRldi0+dnFzW3ZxX2lu
ZGV4XS5pbmplY3QpOwo+ICsJCWJyZWFrOwo+ICsJfQo+ICsJZGVmYXVsdDoKPiArCQlyZXQgPSAt
RU5PSU9DVExDTUQ7Cj4gKwkJYnJlYWs7Cj4gKwl9Cj4gKwo+ICsJcmV0dXJuIHJldDsKPiArfQo+
ICsKPiArc3RhdGljIGludCB2ZHVzZV9kZXZfcmVsZWFzZShzdHJ1Y3QgaW5vZGUgKmlub2RlLCBz
dHJ1Y3QgZmlsZSAqZmlsZSkKPiArewo+ICsJc3RydWN0IHZkdXNlX2RldiAqZGV2ID0gZmlsZS0+
cHJpdmF0ZV9kYXRhOwo+ICsKPiArCXNwaW5fbG9jaygmZGV2LT5tc2dfbG9jayk7Cj4gKwkvKiBN
YWtlIHN1cmUgdGhlIGluZmxpZ2h0IG1lc3NhZ2VzIGNhbiBwcm9jZXNzZWQgYWZ0ZXIgcmVjb25u
Y2VjdGlvbiAqLwo+ICsJbGlzdF9zcGxpY2VfaW5pdCgmZGV2LT5yZWN2X2xpc3QsICZkZXYtPnNl
bmRfbGlzdCk7Cj4gKwlzcGluX3VubG9jaygmZGV2LT5tc2dfbG9jayk7Cj4gKwlkZXYtPmNvbm5l
Y3RlZCA9IGZhbHNlOwo+ICsKPiArCXJldHVybiAwOwo+ICt9Cj4gKwo+ICtzdGF0aWMgc3RydWN0
IHZkdXNlX2RldiAqdmR1c2VfZGV2X2dldF9mcm9tX21pbm9yKGludCBtaW5vcikKPiArewo+ICsJ
c3RydWN0IHZkdXNlX2RldiAqZGV2Owo+ICsKPiArCW11dGV4X2xvY2soJnZkdXNlX2xvY2spOwo+
ICsJZGV2ID0gaWRyX2ZpbmQoJnZkdXNlX2lkciwgbWlub3IpOwo+ICsJbXV0ZXhfdW5sb2NrKCZ2
ZHVzZV9sb2NrKTsKPiArCj4gKwlyZXR1cm4gZGV2Owo+ICt9Cj4gKwo+ICtzdGF0aWMgaW50IHZk
dXNlX2Rldl9vcGVuKHN0cnVjdCBpbm9kZSAqaW5vZGUsIHN0cnVjdCBmaWxlICpmaWxlKQo+ICt7
Cj4gKwlpbnQgcmV0Owo+ICsJc3RydWN0IHZkdXNlX2RldiAqZGV2ID0gdmR1c2VfZGV2X2dldF9m
cm9tX21pbm9yKGltaW5vcihpbm9kZSkpOwo+ICsKPiArCWlmICghZGV2KQo+ICsJCXJldHVybiAt
RU5PREVWOwo+ICsKPiArCXJldCA9IC1FQlVTWTsKPiArCW11dGV4X2xvY2soJmRldi0+bG9jayk7
Cj4gKwlpZiAoZGV2LT5jb25uZWN0ZWQpCj4gKwkJZ290byB1bmxvY2s7Cj4gKwo+ICsJcmV0ID0g
MDsKPiArCWRldi0+Y29ubmVjdGVkID0gdHJ1ZTsKPiArCWZpbGUtPnByaXZhdGVfZGF0YSA9IGRl
djsKPiArdW5sb2NrOgo+ICsJbXV0ZXhfdW5sb2NrKCZkZXYtPmxvY2spOwo+ICsKPiArCXJldHVy
biByZXQ7Cj4gK30KPiArCj4gK3N0YXRpYyBjb25zdCBzdHJ1Y3QgZmlsZV9vcGVyYXRpb25zIHZk
dXNlX2Rldl9mb3BzID0gewo+ICsJLm93bmVyCQk9IFRISVNfTU9EVUxFLAo+ICsJLm9wZW4JCT0g
dmR1c2VfZGV2X29wZW4sCj4gKwkucmVsZWFzZQk9IHZkdXNlX2Rldl9yZWxlYXNlLAo+ICsJLnJl
YWRfaXRlcgk9IHZkdXNlX2Rldl9yZWFkX2l0ZXIsCj4gKwkud3JpdGVfaXRlcgk9IHZkdXNlX2Rl
dl93cml0ZV9pdGVyLAo+ICsJLnBvbGwJCT0gdmR1c2VfZGV2X3BvbGwsCj4gKwkudW5sb2NrZWRf
aW9jdGwJPSB2ZHVzZV9kZXZfaW9jdGwsCj4gKwkuY29tcGF0X2lvY3RsCT0gY29tcGF0X3B0cl9p
b2N0bCwKPiArCS5sbHNlZWsJCT0gbm9vcF9sbHNlZWssCj4gK307Cj4gKwo+ICtzdGF0aWMgc3Ry
dWN0IHZkdXNlX2RldiAqdmR1c2VfZGV2X2NyZWF0ZSh2b2lkKQo+ICt7Cj4gKwlzdHJ1Y3QgdmR1
c2VfZGV2ICpkZXYgPSBremFsbG9jKHNpemVvZigqZGV2KSwgR0ZQX0tFUk5FTCk7Cj4gKwo+ICsJ
aWYgKCFkZXYpCj4gKwkJcmV0dXJuIE5VTEw7Cj4gKwo+ICsJbXV0ZXhfaW5pdCgmZGV2LT5sb2Nr
KTsKPiArCXNwaW5fbG9ja19pbml0KCZkZXYtPm1zZ19sb2NrKTsKPiArCUlOSVRfTElTVF9IRUFE
KCZkZXYtPnNlbmRfbGlzdCk7Cj4gKwlJTklUX0xJU1RfSEVBRCgmZGV2LT5yZWN2X2xpc3QpOwo+
ICsJc3Bpbl9sb2NrX2luaXQoJmRldi0+aXJxX2xvY2spOwo+ICsKPiArCUlOSVRfV09SSygmZGV2
LT5pbmplY3QsIHZkdXNlX2Rldl9pcnFfaW5qZWN0KTsKPiArCWluaXRfd2FpdHF1ZXVlX2hlYWQo
JmRldi0+d2FpdHEpOwo+ICsKPiArCXJldHVybiBkZXY7Cj4gK30KPiArCj4gK3N0YXRpYyB2b2lk
IHZkdXNlX2Rldl9kZXN0cm95KHN0cnVjdCB2ZHVzZV9kZXYgKmRldikKPiArewo+ICsJa2ZyZWUo
ZGV2KTsKPiArfQo+ICsKPiArc3RhdGljIHN0cnVjdCB2ZHVzZV9kZXYgKnZkdXNlX2ZpbmRfZGV2
KGNvbnN0IGNoYXIgKm5hbWUpCj4gK3sKPiArCXN0cnVjdCB2ZHVzZV9kZXYgKmRldjsKPiArCWlu
dCBpZDsKPiArCj4gKwlpZHJfZm9yX2VhY2hfZW50cnkoJnZkdXNlX2lkciwgZGV2LCBpZCkKPiAr
CQlpZiAoIXN0cmNtcChkZXYtPm5hbWUsIG5hbWUpKQo+ICsJCQlyZXR1cm4gZGV2Owo+ICsKPiAr
CXJldHVybiBOVUxMOwo+ICt9Cj4gKwo+ICtzdGF0aWMgaW50IHZkdXNlX2Rlc3Ryb3lfZGV2KGNo
YXIgKm5hbWUpCj4gK3sKPiArCXN0cnVjdCB2ZHVzZV9kZXYgKmRldiA9IHZkdXNlX2ZpbmRfZGV2
KG5hbWUpOwo+ICsKPiArCWlmICghZGV2KQo+ICsJCXJldHVybiAtRUlOVkFMOwo+ICsKPiArCW11
dGV4X2xvY2soJmRldi0+bG9jayk7Cj4gKwlpZiAoZGV2LT52ZGV2IHx8IGRldi0+Y29ubmVjdGVk
KSB7Cj4gKwkJbXV0ZXhfdW5sb2NrKCZkZXYtPmxvY2spOwo+ICsJCXJldHVybiAtRUJVU1k7Cj4g
Kwl9Cj4gKwlkZXYtPmNvbm5lY3RlZCA9IHRydWU7Cj4gKwltdXRleF91bmxvY2soJmRldi0+bG9j
ayk7Cj4gKwo+ICsJdmR1c2VfZGV2X21zZ19jbGVhbnVwKGRldik7Cj4gKwlkZXZpY2VfZGVzdHJv
eSh2ZHVzZV9jbGFzcywgTUtERVYoTUFKT1IodmR1c2VfbWFqb3IpLCBkZXYtPm1pbm9yKSk7Cj4g
KwlpZHJfcmVtb3ZlKCZ2ZHVzZV9pZHIsIGRldi0+bWlub3IpOwo+ICsJa3ZmcmVlKGRldi0+Y29u
ZmlnKTsKPiArCWtmcmVlKGRldi0+dnFzKTsKPiArCXZkdXNlX2RvbWFpbl9kZXN0cm95KGRldi0+
ZG9tYWluKTsKPiArCWtmcmVlKGRldi0+bmFtZSk7Cj4gKwl2ZHVzZV9kZXZfZGVzdHJveShkZXYp
Owo+ICsJbW9kdWxlX3B1dChUSElTX01PRFVMRSk7Cj4gKwo+ICsJcmV0dXJuIDA7Cj4gK30KPiAr
Cj4gK3N0YXRpYyBib29sIGRldmljZV9pc19hbGxvd2VkKHUzMiBkZXZpY2VfaWQpCj4gK3sKPiAr
CWludCBpOwo+ICsKPiArCWZvciAoaSA9IDA7IGkgPCBBUlJBWV9TSVpFKGFsbG93ZWRfZGV2aWNl
X2lkKTsgaSsrKQo+ICsJCWlmIChhbGxvd2VkX2RldmljZV9pZFtpXSA9PSBkZXZpY2VfaWQpCj4g
KwkJCXJldHVybiB0cnVlOwo+ICsKPiArCXJldHVybiBmYWxzZTsKPiArfQo+ICsKPiArc3RhdGlj
IGJvb2wgZmVhdHVyZXNfaXNfdmFsaWQodTY0IGZlYXR1cmVzKQo+ICt7Cj4gKwlpZiAoIShmZWF0
dXJlcyAmICgxVUxMIDw8IFZJUlRJT19GX0FDQ0VTU19QTEFURk9STSkpKQo+ICsJCXJldHVybiBm
YWxzZTsKPiArCj4gKwkvKiBOb3cgd2Ugb25seSBzdXBwb3J0IHJlYWQtb25seSBjb25maWd1cmF0
aW9uIHNwYWNlICovCj4gKwlpZiAoZmVhdHVyZXMgJiAoMVVMTCA8PCBWSVJUSU9fQkxLX0ZfQ09O
RklHX1dDRSkpCj4gKwkJcmV0dXJuIGZhbHNlOwo+ICsKPiArCXJldHVybiB0cnVlOwo+ICt9Cj4g
Kwo+ICtzdGF0aWMgYm9vbCB2ZHVzZV92YWxpZGF0ZV9jb25maWcoc3RydWN0IHZkdXNlX2Rldl9j
b25maWcgKmNvbmZpZykKPiArewo+ICsJaWYgKGNvbmZpZy0+Ym91bmNlX3NpemUgPiBWRFVTRV9N
QVhfQk9VTkNFX1NJWkUpCj4gKwkJcmV0dXJuIGZhbHNlOwo+ICsKPiArCWlmIChjb25maWctPnZx
X2FsaWduID4gUEFHRV9TSVpFKQo+ICsJCXJldHVybiBmYWxzZTsKPiArCj4gKwlpZiAoY29uZmln
LT5jb25maWdfc2l6ZSA+IFBBR0VfU0laRSkKPiArCQlyZXR1cm4gZmFsc2U7Cj4gKwo+ICsJaWYg
KCFkZXZpY2VfaXNfYWxsb3dlZChjb25maWctPmRldmljZV9pZCkpCj4gKwkJcmV0dXJuIGZhbHNl
Owo+ICsKPiArCWlmICghZmVhdHVyZXNfaXNfdmFsaWQoY29uZmlnLT5mZWF0dXJlcykpCj4gKwkJ
cmV0dXJuIGZhbHNlOwoKCkRvIHdlIG5lZWQgdG8gdmFsaWRhdGUgd2hldGhlciBvciBub3QgY29u
ZmlnX3NpemUgaXMgdG9vIHNtYWxsIG90aGVyd2lzZSAKd2UgbWF5IGhhdmUgT09CIGFjY2VzcyBp
biBnZXRfY29uZmlnKCk/CgoKPiArCj4gKwlyZXR1cm4gdHJ1ZTsKPiArfQo+ICsKPiArc3RhdGlj
IGludCB2ZHVzZV9jcmVhdGVfZGV2KHN0cnVjdCB2ZHVzZV9kZXZfY29uZmlnICpjb25maWcsCj4g
KwkJCSAgICB2b2lkICpjb25maWdfYnVmLCB1NjQgYXBpX3ZlcnNpb24pCj4gK3sKPiArCWludCBp
LCByZXQ7Cj4gKwlzdHJ1Y3QgdmR1c2VfZGV2ICpkZXY7Cj4gKwo+ICsJcmV0ID0gLUVFWElTVDsK
PiArCWlmICh2ZHVzZV9maW5kX2Rldihjb25maWctPm5hbWUpKQo+ICsJCWdvdG8gZXJyOwo+ICsK
PiArCXJldCA9IC1FTk9NRU07Cj4gKwlkZXYgPSB2ZHVzZV9kZXZfY3JlYXRlKCk7Cj4gKwlpZiAo
IWRldikKPiArCQlnb3RvIGVycjsKPiArCj4gKwlkZXYtPmFwaV92ZXJzaW9uID0gYXBpX3ZlcnNp
b247Cj4gKwlkZXYtPnVzZXJfZmVhdHVyZXMgPSBjb25maWctPmZlYXR1cmVzOwo+ICsJZGV2LT5k
ZXZpY2VfaWQgPSBjb25maWctPmRldmljZV9pZDsKPiArCWRldi0+dmVuZG9yX2lkID0gY29uZmln
LT52ZW5kb3JfaWQ7Cj4gKwlkZXYtPm5hbWUgPSBrc3RyZHVwKGNvbmZpZy0+bmFtZSwgR0ZQX0tF
Uk5FTCk7Cj4gKwlpZiAoIWRldi0+bmFtZSkKPiArCQlnb3RvIGVycl9zdHI7Cj4gKwo+ICsJZGV2
LT5kb21haW4gPSB2ZHVzZV9kb21haW5fY3JlYXRlKFZEVVNFX0lPVkFfU0laRSAtIDEsCj4gKwkJ
CQkJICBjb25maWctPmJvdW5jZV9zaXplKTsKPiArCWlmICghZGV2LT5kb21haW4pCj4gKwkJZ290
byBlcnJfZG9tYWluOwo+ICsKPiArCWRldi0+Y29uZmlnID0gY29uZmlnX2J1ZjsKPiArCWRldi0+
Y29uZmlnX3NpemUgPSBjb25maWctPmNvbmZpZ19zaXplOwo+ICsJZGV2LT52cV9hbGlnbiA9IGNv
bmZpZy0+dnFfYWxpZ247Cj4gKwlkZXYtPnZxX3NpemVfbWF4ID0gY29uZmlnLT52cV9zaXplX21h
eDsKPiArCWRldi0+dnFfbnVtID0gY29uZmlnLT52cV9udW07Cj4gKwlkZXYtPnZxcyA9IGtjYWxs
b2MoZGV2LT52cV9udW0sIHNpemVvZigqZGV2LT52cXMpLCBHRlBfS0VSTkVMKTsKPiArCWlmICgh
ZGV2LT52cXMpCj4gKwkJZ290byBlcnJfdnFzOwo+ICsKPiArCWZvciAoaSA9IDA7IGkgPCBkZXYt
PnZxX251bTsgaSsrKSB7Cj4gKwkJZGV2LT52cXNbaV0uaW5kZXggPSBpOwo+ICsJCUlOSVRfV09S
SygmZGV2LT52cXNbaV0uaW5qZWN0LCB2ZHVzZV92cV9pcnFfaW5qZWN0KTsKPiArCQlzcGluX2xv
Y2tfaW5pdCgmZGV2LT52cXNbaV0ua2lja19sb2NrKTsKPiArCQlzcGluX2xvY2tfaW5pdCgmZGV2
LT52cXNbaV0uaXJxX2xvY2spOwo+ICsJfQo+ICsKPiArCXJldCA9IGlkcl9hbGxvYygmdmR1c2Vf
aWRyLCBkZXYsIDEsIFZEVVNFX0RFVl9NQVgsIEdGUF9LRVJORUwpOwo+ICsJaWYgKHJldCA8IDAp
Cj4gKwkJZ290byBlcnJfaWRyOwo+ICsKPiArCWRldi0+bWlub3IgPSByZXQ7Cj4gKwlkZXYtPmRl
diA9IGRldmljZV9jcmVhdGUodmR1c2VfY2xhc3MsIE5VTEwsCj4gKwkJCQkgTUtERVYoTUFKT1Io
dmR1c2VfbWFqb3IpLCBkZXYtPm1pbm9yKSwKPiArCQkJCSBOVUxMLCAiJXMiLCBjb25maWctPm5h
bWUpOwo+ICsJaWYgKElTX0VSUihkZXYtPmRldikpIHsKPiArCQlyZXQgPSBQVFJfRVJSKGRldi0+
ZGV2KTsKPiArCQlnb3RvIGVycl9kZXY7Cj4gKwl9Cj4gKwlfX21vZHVsZV9nZXQoVEhJU19NT0RV
TEUpOwo+ICsKPiArCXJldHVybiAwOwo+ICtlcnJfZGV2Ogo+ICsJaWRyX3JlbW92ZSgmdmR1c2Vf
aWRyLCBkZXYtPm1pbm9yKTsKPiArZXJyX2lkcjoKPiArCWtmcmVlKGRldi0+dnFzKTsKPiArZXJy
X3ZxczoKPiArCXZkdXNlX2RvbWFpbl9kZXN0cm95KGRldi0+ZG9tYWluKTsKPiArZXJyX2RvbWFp
bjoKPiArCWtmcmVlKGRldi0+bmFtZSk7Cj4gK2Vycl9zdHI6Cj4gKwl2ZHVzZV9kZXZfZGVzdHJv
eShkZXYpOwo+ICtlcnI6Cj4gKwlrdmZyZWUoY29uZmlnX2J1Zik7Cj4gKwlyZXR1cm4gcmV0Owo+
ICt9Cj4gKwo+ICtzdGF0aWMgbG9uZyB2ZHVzZV9pb2N0bChzdHJ1Y3QgZmlsZSAqZmlsZSwgdW5z
aWduZWQgaW50IGNtZCwKPiArCQkJdW5zaWduZWQgbG9uZyBhcmcpCj4gK3sKPiArCWludCByZXQ7
Cj4gKwl2b2lkIF9fdXNlciAqYXJncCA9ICh2b2lkIF9fdXNlciAqKWFyZzsKPiArCXN0cnVjdCB2
ZHVzZV9jb250cm9sICpjb250cm9sID0gZmlsZS0+cHJpdmF0ZV9kYXRhOwo+ICsKPiArCW11dGV4
X2xvY2soJnZkdXNlX2xvY2spOwo+ICsJc3dpdGNoIChjbWQpIHsKPiArCWNhc2UgVkRVU0VfR0VU
X0FQSV9WRVJTSU9OOgo+ICsJCXJldCA9IHB1dF91c2VyKGNvbnRyb2wtPmFwaV92ZXJzaW9uLCAo
dTY0IF9fdXNlciAqKWFyZ3ApOwo+ICsJCWJyZWFrOwo+ICsJY2FzZSBWRFVTRV9TRVRfQVBJX1ZF
UlNJT046IHsKPiArCQl1NjQgYXBpX3ZlcnNpb247Cj4gKwo+ICsJCXJldCA9IC1FRkFVTFQ7Cj4g
KwkJaWYgKGdldF91c2VyKGFwaV92ZXJzaW9uLCAodTY0IF9fdXNlciAqKWFyZ3ApKQo+ICsJCQli
cmVhazsKPiArCj4gKwkJcmV0ID0gLUVJTlZBTDsKPiArCQlpZiAoYXBpX3ZlcnNpb24gPiBWRFVT
RV9BUElfVkVSU0lPTikKPiArCQkJYnJlYWs7Cj4gKwo+ICsJCXJldCA9IDA7Cj4gKwkJY29udHJv
bC0+YXBpX3ZlcnNpb24gPSBhcGlfdmVyc2lvbjsKPiArCQlicmVhazsKPiArCX0KPiArCWNhc2Ug
VkRVU0VfQ1JFQVRFX0RFVjogewo+ICsJCXN0cnVjdCB2ZHVzZV9kZXZfY29uZmlnIGNvbmZpZzsK
PiArCQl1bnNpZ25lZCBsb25nIHNpemUgPSBvZmZzZXRvZihzdHJ1Y3QgdmR1c2VfZGV2X2NvbmZp
ZywgY29uZmlnKTsKPiArCQl2b2lkICpidWY7Cj4gKwo+ICsJCXJldCA9IC1FRkFVTFQ7Cj4gKwkJ
aWYgKGNvcHlfZnJvbV91c2VyKCZjb25maWcsIGFyZ3AsIHNpemUpKQo+ICsJCQlicmVhazsKPiAr
Cj4gKwkJcmV0ID0gLUVJTlZBTDsKPiArCQlpZiAodmR1c2VfdmFsaWRhdGVfY29uZmlnKCZjb25m
aWcpID09IGZhbHNlKQo+ICsJCQlicmVhazsKPiArCj4gKwkJYnVmID0gdm1lbWR1cF91c2VyKGFy
Z3AgKyBzaXplLCBjb25maWcuY29uZmlnX3NpemUpOwo+ICsJCWlmIChJU19FUlIoYnVmKSkgewo+
ICsJCQlyZXQgPSBQVFJfRVJSKGJ1Zik7Cj4gKwkJCWJyZWFrOwo+ICsJCX0KPiArCQlyZXQgPSB2
ZHVzZV9jcmVhdGVfZGV2KCZjb25maWcsIGJ1ZiwgY29udHJvbC0+YXBpX3ZlcnNpb24pOwo+ICsJ
CWJyZWFrOwo+ICsJfQo+ICsJY2FzZSBWRFVTRV9ERVNUUk9ZX0RFVjogewo+ICsJCWNoYXIgbmFt
ZVtWRFVTRV9OQU1FX01BWF07Cj4gKwo+ICsJCXJldCA9IC1FRkFVTFQ7Cj4gKwkJaWYgKGNvcHlf
ZnJvbV91c2VyKG5hbWUsIGFyZ3AsIFZEVVNFX05BTUVfTUFYKSkKPiArCQkJYnJlYWs7Cj4gKwo+
ICsJCXJldCA9IHZkdXNlX2Rlc3Ryb3lfZGV2KG5hbWUpOwo+ICsJCWJyZWFrOwo+ICsJfQo+ICsJ
ZGVmYXVsdDoKPiArCQlyZXQgPSAtRUlOVkFMOwo+ICsJCWJyZWFrOwo+ICsJfQo+ICsJbXV0ZXhf
dW5sb2NrKCZ2ZHVzZV9sb2NrKTsKPiArCj4gKwlyZXR1cm4gcmV0Owo+ICt9Cj4gKwo+ICtzdGF0
aWMgaW50IHZkdXNlX3JlbGVhc2Uoc3RydWN0IGlub2RlICppbm9kZSwgc3RydWN0IGZpbGUgKmZp
bGUpCj4gK3sKPiArCXN0cnVjdCB2ZHVzZV9jb250cm9sICpjb250cm9sID0gZmlsZS0+cHJpdmF0
ZV9kYXRhOwo+ICsKPiArCWtmcmVlKGNvbnRyb2wpOwo+ICsJcmV0dXJuIDA7Cj4gK30KPiArCj4g
K3N0YXRpYyBpbnQgdmR1c2Vfb3BlbihzdHJ1Y3QgaW5vZGUgKmlub2RlLCBzdHJ1Y3QgZmlsZSAq
ZmlsZSkKPiArewo+ICsJc3RydWN0IHZkdXNlX2NvbnRyb2wgKmNvbnRyb2w7Cj4gKwo+ICsJY29u
dHJvbCA9IGttYWxsb2Moc2l6ZW9mKHN0cnVjdCB2ZHVzZV9jb250cm9sKSwgR0ZQX0tFUk5FTCk7
Cj4gKwlpZiAoIWNvbnRyb2wpCj4gKwkJcmV0dXJuIC1FTk9NRU07Cj4gKwo+ICsJY29udHJvbC0+
YXBpX3ZlcnNpb24gPSBWRFVTRV9BUElfVkVSU0lPTjsKPiArCWZpbGUtPnByaXZhdGVfZGF0YSA9
IGNvbnRyb2w7Cj4gKwo+ICsJcmV0dXJuIDA7Cj4gK30KPiArCj4gK3N0YXRpYyBjb25zdCBzdHJ1
Y3QgZmlsZV9vcGVyYXRpb25zIHZkdXNlX2N0cmxfZm9wcyA9IHsKPiArCS5vd25lcgkJPSBUSElT
X01PRFVMRSwKPiArCS5vcGVuCQk9IHZkdXNlX29wZW4sCj4gKwkucmVsZWFzZQk9IHZkdXNlX3Jl
bGVhc2UsCj4gKwkudW5sb2NrZWRfaW9jdGwJPSB2ZHVzZV9pb2N0bCwKPiArCS5jb21wYXRfaW9j
dGwJPSBjb21wYXRfcHRyX2lvY3RsLAo+ICsJLmxsc2VlawkJPSBub29wX2xsc2VlaywKPiArfTsK
PiArCj4gK3N0YXRpYyBjaGFyICp2ZHVzZV9kZXZub2RlKHN0cnVjdCBkZXZpY2UgKmRldiwgdW1v
ZGVfdCAqbW9kZSkKPiArewo+ICsJcmV0dXJuIGthc3ByaW50ZihHRlBfS0VSTkVMLCAidmR1c2Uv
JXMiLCBkZXZfbmFtZShkZXYpKTsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQgdmR1c2VfbWdtdGRl
dl9yZWxlYXNlKHN0cnVjdCBkZXZpY2UgKmRldikKPiArewo+ICt9Cj4gKwo+ICtzdGF0aWMgc3Ry
dWN0IGRldmljZSB2ZHVzZV9tZ210ZGV2ID0gewo+ICsJLmluaXRfbmFtZSA9ICJ2ZHVzZSIsCj4g
KwkucmVsZWFzZSA9IHZkdXNlX21nbXRkZXZfcmVsZWFzZSwKPiArfTsKPiArCj4gK3N0YXRpYyBz
dHJ1Y3QgdmRwYV9tZ210X2RldiBtZ210X2RldjsKPiArCj4gK3N0YXRpYyBpbnQgdmR1c2VfZGV2
X2luaXRfdmRwYShzdHJ1Y3QgdmR1c2VfZGV2ICpkZXYsIGNvbnN0IGNoYXIgKm5hbWUpCj4gK3sK
PiArCXN0cnVjdCB2ZHVzZV92ZHBhICp2ZGV2Owo+ICsJaW50IHJldDsKPiArCj4gKwlpZiAoZGV2
LT52ZGV2KQo+ICsJCXJldHVybiAtRUVYSVNUOwo+ICsKPiArCXZkZXYgPSB2ZHBhX2FsbG9jX2Rl
dmljZShzdHJ1Y3QgdmR1c2VfdmRwYSwgdmRwYSwgZGV2LT5kZXYsCj4gKwkJCQkgJnZkdXNlX3Zk
cGFfY29uZmlnX29wcywgbmFtZSwgdHJ1ZSk7Cj4gKwlpZiAoIXZkZXYpCj4gKwkJcmV0dXJuIC1F
Tk9NRU07Cj4gKwo+ICsJZGV2LT52ZGV2ID0gdmRldjsKPiArCXZkZXYtPmRldiA9IGRldjsKPiAr
CXZkZXYtPnZkcGEuZGV2LmRtYV9tYXNrID0gJnZkZXYtPnZkcGEuZGV2LmNvaGVyZW50X2RtYV9t
YXNrOwo+ICsJcmV0ID0gZG1hX3NldF9tYXNrX2FuZF9jb2hlcmVudCgmdmRldi0+dmRwYS5kZXYs
IERNQV9CSVRfTUFTSyg2NCkpOwo+ICsJaWYgKHJldCkgewo+ICsJCXB1dF9kZXZpY2UoJnZkZXYt
PnZkcGEuZGV2KTsKPiArCQlyZXR1cm4gcmV0Owo+ICsJfQo+ICsJc2V0X2RtYV9vcHMoJnZkZXYt
PnZkcGEuZGV2LCAmdmR1c2VfZGV2X2RtYV9vcHMpOwo+ICsJdmRldi0+dmRwYS5kbWFfZGV2ID0g
JnZkZXYtPnZkcGEuZGV2Owo+ICsJdmRldi0+dmRwYS5tZGV2ID0gJm1nbXRfZGV2Owo+ICsKPiAr
CXJldHVybiAwOwo+ICt9Cj4gKwo+ICtzdGF0aWMgaW50IHZkcGFfZGV2X2FkZChzdHJ1Y3QgdmRw
YV9tZ210X2RldiAqbWRldiwgY29uc3QgY2hhciAqbmFtZSkKPiArewo+ICsJc3RydWN0IHZkdXNl
X2RldiAqZGV2Owo+ICsJaW50IHJldDsKPiArCj4gKwltdXRleF9sb2NrKCZ2ZHVzZV9sb2NrKTsK
PiArCWRldiA9IHZkdXNlX2ZpbmRfZGV2KG5hbWUpOwo+ICsJaWYgKCFkZXYpIHsKPiArCQltdXRl
eF91bmxvY2soJnZkdXNlX2xvY2spOwo+ICsJCXJldHVybiAtRUlOVkFMOwo+ICsJfQo+ICsJcmV0
ID0gdmR1c2VfZGV2X2luaXRfdmRwYShkZXYsIG5hbWUpOwo+ICsJbXV0ZXhfdW5sb2NrKCZ2ZHVz
ZV9sb2NrKTsKPiArCWlmIChyZXQpCj4gKwkJcmV0dXJuIHJldDsKPiArCj4gKwlyZXQgPSBfdmRw
YV9yZWdpc3Rlcl9kZXZpY2UoJmRldi0+dmRldi0+dmRwYSwgZGV2LT52cV9udW0pOwo+ICsJaWYg
KHJldCkgewo+ICsJCXB1dF9kZXZpY2UoJmRldi0+dmRldi0+dmRwYS5kZXYpOwo+ICsJCXJldHVy
biByZXQ7Cj4gKwl9Cj4gKwo+ICsJcmV0dXJuIDA7Cj4gK30KPiArCj4gK3N0YXRpYyB2b2lkIHZk
cGFfZGV2X2RlbChzdHJ1Y3QgdmRwYV9tZ210X2RldiAqbWRldiwgc3RydWN0IHZkcGFfZGV2aWNl
ICpkZXYpCj4gK3sKPiArCV92ZHBhX3VucmVnaXN0ZXJfZGV2aWNlKGRldik7Cj4gK30KPiArCj4g
K3N0YXRpYyBjb25zdCBzdHJ1Y3QgdmRwYV9tZ210ZGV2X29wcyB2ZHBhX2Rldl9tZ210ZGV2X29w
cyA9IHsKPiArCS5kZXZfYWRkID0gdmRwYV9kZXZfYWRkLAo+ICsJLmRldl9kZWwgPSB2ZHBhX2Rl
dl9kZWwsCj4gK307Cj4gKwo+ICtzdGF0aWMgc3RydWN0IHZpcnRpb19kZXZpY2VfaWQgaWRfdGFi
bGVbXSA9IHsKPiArCXsgVklSVElPX0lEX0JMT0NLLCBWSVJUSU9fREVWX0FOWV9JRCB9LAo+ICsJ
eyAwIH0sCj4gK307Cj4gKwo+ICtzdGF0aWMgc3RydWN0IHZkcGFfbWdtdF9kZXYgbWdtdF9kZXYg
PSB7Cj4gKwkuZGV2aWNlID0gJnZkdXNlX21nbXRkZXYsCj4gKwkuaWRfdGFibGUgPSBpZF90YWJs
ZSwKPiArCS5vcHMgPSAmdmRwYV9kZXZfbWdtdGRldl9vcHMsCj4gK307Cj4gKwo+ICtzdGF0aWMg
aW50IHZkdXNlX21nbXRkZXZfaW5pdCh2b2lkKQo+ICt7Cj4gKwlpbnQgcmV0Owo+ICsKPiArCXJl
dCA9IGRldmljZV9yZWdpc3RlcigmdmR1c2VfbWdtdGRldik7Cj4gKwlpZiAocmV0KQo+ICsJCXJl
dHVybiByZXQ7Cj4gKwo+ICsJcmV0ID0gdmRwYV9tZ210ZGV2X3JlZ2lzdGVyKCZtZ210X2Rldik7
Cj4gKwlpZiAocmV0KQo+ICsJCWdvdG8gZXJyOwo+ICsKPiArCXJldHVybiAwOwo+ICtlcnI6Cj4g
KwlkZXZpY2VfdW5yZWdpc3RlcigmdmR1c2VfbWdtdGRldik7Cj4gKwlyZXR1cm4gcmV0Owo+ICt9
Cj4gKwo+ICtzdGF0aWMgdm9pZCB2ZHVzZV9tZ210ZGV2X2V4aXQodm9pZCkKPiArewo+ICsJdmRw
YV9tZ210ZGV2X3VucmVnaXN0ZXIoJm1nbXRfZGV2KTsKPiArCWRldmljZV91bnJlZ2lzdGVyKCZ2
ZHVzZV9tZ210ZGV2KTsKPiArfQo+ICsKPiArc3RhdGljIGludCB2ZHVzZV9pbml0KHZvaWQpCj4g
K3sKPiArCWludCByZXQ7Cj4gKwlzdHJ1Y3QgZGV2aWNlICpkZXY7Cj4gKwo+ICsJdmR1c2VfY2xh
c3MgPSBjbGFzc19jcmVhdGUoVEhJU19NT0RVTEUsICJ2ZHVzZSIpOwo+ICsJaWYgKElTX0VSUih2
ZHVzZV9jbGFzcykpCj4gKwkJcmV0dXJuIFBUUl9FUlIodmR1c2VfY2xhc3MpOwo+ICsKPiArCXZk
dXNlX2NsYXNzLT5kZXZub2RlID0gdmR1c2VfZGV2bm9kZTsKPiArCj4gKwlyZXQgPSBhbGxvY19j
aHJkZXZfcmVnaW9uKCZ2ZHVzZV9tYWpvciwgMCwgVkRVU0VfREVWX01BWCwgInZkdXNlIik7Cj4g
KwlpZiAocmV0KQo+ICsJCWdvdG8gZXJyX2NoYXJkZXZfcmVnaW9uOwo+ICsKPiArCS8qIC9kZXYv
dmR1c2UvY29udHJvbCAqLwo+ICsJY2Rldl9pbml0KCZ2ZHVzZV9jdHJsX2NkZXYsICZ2ZHVzZV9j
dHJsX2ZvcHMpOwo+ICsJdmR1c2VfY3RybF9jZGV2Lm93bmVyID0gVEhJU19NT0RVTEU7Cj4gKwly
ZXQgPSBjZGV2X2FkZCgmdmR1c2VfY3RybF9jZGV2LCB2ZHVzZV9tYWpvciwgMSk7Cj4gKwlpZiAo
cmV0KQo+ICsJCWdvdG8gZXJyX2N0cmxfY2RldjsKPiArCj4gKwlkZXYgPSBkZXZpY2VfY3JlYXRl
KHZkdXNlX2NsYXNzLCBOVUxMLCB2ZHVzZV9tYWpvciwgTlVMTCwgImNvbnRyb2wiKTsKPiArCWlm
IChJU19FUlIoZGV2KSkgewo+ICsJCXJldCA9IFBUUl9FUlIoZGV2KTsKPiArCQlnb3RvIGVycl9k
ZXZpY2U7Cj4gKwl9Cj4gKwo+ICsJLyogL2Rldi92ZHVzZS8kREVWSUNFICovCj4gKwljZGV2X2lu
aXQoJnZkdXNlX2NkZXYsICZ2ZHVzZV9kZXZfZm9wcyk7Cj4gKwl2ZHVzZV9jZGV2Lm93bmVyID0g
VEhJU19NT0RVTEU7Cj4gKwlyZXQgPSBjZGV2X2FkZCgmdmR1c2VfY2RldiwgTUtERVYoTUFKT1Io
dmR1c2VfbWFqb3IpLCAxKSwKPiArCQkgICAgICAgVkRVU0VfREVWX01BWCAtIDEpOwo+ICsJaWYg
KHJldCkKPiArCQlnb3RvIGVycl9jZGV2Owo+ICsKPiArCXZkdXNlX2lycV93cSA9IGFsbG9jX3dv
cmtxdWV1ZSgidmR1c2UtaXJxIiwKPiArCQkJCVdRX0hJR0hQUkkgfCBXUV9TWVNGUyB8IFdRX1VO
Qk9VTkQsIDApOwo+ICsJaWYgKCF2ZHVzZV9pcnFfd3EpCj4gKwkJZ290byBlcnJfd3E7Cj4gKwo+
ICsJcmV0ID0gdmR1c2VfZG9tYWluX2luaXQoKTsKPiArCWlmIChyZXQpCj4gKwkJZ290byBlcnJf
ZG9tYWluOwo+ICsKPiArCXJldCA9IHZkdXNlX21nbXRkZXZfaW5pdCgpOwo+ICsJaWYgKHJldCkK
PiArCQlnb3RvIGVycl9tZ210ZGV2Owo+ICsKPiArCXJldHVybiAwOwo+ICtlcnJfbWdtdGRldjoK
PiArCXZkdXNlX2RvbWFpbl9leGl0KCk7Cj4gK2Vycl9kb21haW46Cj4gKwlkZXN0cm95X3dvcmtx
dWV1ZSh2ZHVzZV9pcnFfd3EpOwo+ICtlcnJfd3E6Cj4gKwljZGV2X2RlbCgmdmR1c2VfY2Rldik7
Cj4gK2Vycl9jZGV2Ogo+ICsJZGV2aWNlX2Rlc3Ryb3kodmR1c2VfY2xhc3MsIHZkdXNlX21ham9y
KTsKPiArZXJyX2RldmljZToKPiArCWNkZXZfZGVsKCZ2ZHVzZV9jdHJsX2NkZXYpOwo+ICtlcnJf
Y3RybF9jZGV2Ogo+ICsJdW5yZWdpc3Rlcl9jaHJkZXZfcmVnaW9uKHZkdXNlX21ham9yLCBWRFVT
RV9ERVZfTUFYKTsKPiArZXJyX2NoYXJkZXZfcmVnaW9uOgo+ICsJY2xhc3NfZGVzdHJveSh2ZHVz
ZV9jbGFzcyk7Cj4gKwlyZXR1cm4gcmV0Owo+ICt9Cj4gK21vZHVsZV9pbml0KHZkdXNlX2luaXQp
Owo+ICsKPiArc3RhdGljIHZvaWQgdmR1c2VfZXhpdCh2b2lkKQo+ICt7Cj4gKwl2ZHVzZV9tZ210
ZGV2X2V4aXQoKTsKPiArCXZkdXNlX2RvbWFpbl9leGl0KCk7Cj4gKwlkZXN0cm95X3dvcmtxdWV1
ZSh2ZHVzZV9pcnFfd3EpOwo+ICsJY2Rldl9kZWwoJnZkdXNlX2NkZXYpOwo+ICsJZGV2aWNlX2Rl
c3Ryb3kodmR1c2VfY2xhc3MsIHZkdXNlX21ham9yKTsKPiArCWNkZXZfZGVsKCZ2ZHVzZV9jdHJs
X2NkZXYpOwo+ICsJdW5yZWdpc3Rlcl9jaHJkZXZfcmVnaW9uKHZkdXNlX21ham9yLCBWRFVTRV9E
RVZfTUFYKTsKPiArCWNsYXNzX2Rlc3Ryb3kodmR1c2VfY2xhc3MpOwo+ICt9Cj4gK21vZHVsZV9l
eGl0KHZkdXNlX2V4aXQpOwo+ICsKPiArTU9EVUxFX0xJQ0VOU0UoRFJWX0xJQ0VOU0UpOwo+ICtN
T0RVTEVfQVVUSE9SKERSVl9BVVRIT1IpOwo+ICtNT0RVTEVfREVTQ1JJUFRJT04oRFJWX0RFU0Mp
Owo+IGRpZmYgLS1naXQgYS9pbmNsdWRlL3VhcGkvbGludXgvdmR1c2UuaCBiL2luY2x1ZGUvdWFw
aS9saW51eC92ZHVzZS5oCj4gbmV3IGZpbGUgbW9kZSAxMDA2NDQKPiBpbmRleCAwMDAwMDAwMDAw
MDAuLmYyMWIyZTUxYjVjOAo+IC0tLSAvZGV2L251bGwKPiArKysgYi9pbmNsdWRlL3VhcGkvbGlu
dXgvdmR1c2UuaAo+IEBAIC0wLDAgKzEsMTQzIEBACj4gKy8qIFNQRFgtTGljZW5zZS1JZGVudGlm
aWVyOiBHUEwtMi4wIFdJVEggTGludXgtc3lzY2FsbC1ub3RlICovCj4gKyNpZm5kZWYgX1VBUElf
VkRVU0VfSF8KPiArI2RlZmluZSBfVUFQSV9WRFVTRV9IXwo+ICsKPiArI2luY2x1ZGUgPGxpbnV4
L3R5cGVzLmg+Cj4gKwo+ICsjZGVmaW5lIFZEVVNFX0FQSV9WRVJTSU9OCTAKPiArCj4gKyNkZWZp
bmUgVkRVU0VfTkFNRV9NQVgJMjU2Cj4gKwo+ICsvKiB0aGUgY29udHJvbCBtZXNzYWdlcyBkZWZp
bml0aW9uIGZvciByZWFkL3dyaXRlICovCj4gKwo+ICtlbnVtIHZkdXNlX3JlcV90eXBlIHsKPiAr
CS8qIEdldCB0aGUgc3RhdGUgZm9yIHZpcnRxdWV1ZSBmcm9tIHVzZXJzcGFjZSAqLwo+ICsJVkRV
U0VfR0VUX1ZRX1NUQVRFLAo+ICsJLyogTm90aWZ5IHVzZXJzcGFjZSB0byBzdGFydCB0aGUgZGF0
YXBsYW5lLCBubyByZXBseSAqLwo+ICsJVkRVU0VfU1RBUlRfREFUQVBMQU5FLAo+ICsJLyogTm90
aWZ5IHVzZXJzcGFjZSB0byBzdG9wIHRoZSBkYXRhcGxhbmUsIG5vIHJlcGx5ICovCj4gKwlWRFVT
RV9TVE9QX0RBVEFQTEFORSwKPiArCS8qIE5vdGlmeSB1c2Vyc3BhY2UgdG8gdXBkYXRlIHRoZSBt
ZW1vcnkgbWFwcGluZyBpbiBkZXZpY2UgSU9UTEIgKi8KPiArCVZEVVNFX1VQREFURV9JT1RMQiwK
PiArfTsKPiArCj4gK3N0cnVjdCB2ZHVzZV92cV9zdGF0ZSB7Cj4gKwlfX3UzMiBpbmRleDsgLyog
dmlydHF1ZXVlIGluZGV4ICovCj4gKwlfX3UzMiBhdmFpbF9pZHg7IC8qIHZpcnRxdWV1ZSBzdGF0
ZSAobGFzdF9hdmFpbF9pZHgpICovCj4gK307CgoKVGhpcyBuZWVkcyBzb21lIHR3ZWFrcyB0byBz
dXBwb3J0IHBhY2tlZCB2aXJ0cXVldWUuCgoKPiArCj4gK3N0cnVjdCB2ZHVzZV9pb3ZhX3Jhbmdl
IHsKPiArCV9fdTY0IHN0YXJ0OyAvKiBzdGFydCBvZiB0aGUgSU9WQSByYW5nZSAqLwo+ICsJX191
NjQgbGFzdDsgLyogZW5kIG9mIHRoZSBJT1ZBIHJhbmdlICovCj4gK307Cj4gKwo+ICtzdHJ1Y3Qg
dmR1c2VfZGV2X3JlcXVlc3Qgewo+ICsJX191MzIgdHlwZTsgLyogcmVxdWVzdCB0eXBlICovCj4g
KwlfX3UzMiByZXF1ZXN0X2lkOyAvKiByZXF1ZXN0IGlkICovCj4gKyNkZWZpbmUgVkRVU0VfUkVR
X0ZMQUdTX05PX1JFUExZCSgxIDw8IDApIC8qIE5vIG5lZWQgdG8gcmVwbHkgKi8KPiArCV9fdTMy
IGZsYWdzOyAvKiByZXF1ZXN0IGZsYWdzICovCj4gKwlfX3UzMiByZXNlcnZlZDsgLyogZm9yIGZ1
dHVyZSB1c2UgKi8KPiArCXVuaW9uIHsKPiArCQlzdHJ1Y3QgdmR1c2VfdnFfc3RhdGUgdnFfc3Rh
dGU7IC8qIHZpcnRxdWV1ZSBzdGF0ZSAqLwo+ICsJCXN0cnVjdCB2ZHVzZV9pb3ZhX3JhbmdlIGlv
dmE7IC8qIGlvdmEgcmFuZ2UgZm9yIHVwZGF0aW5nICovCj4gKwkJX191MzIgcGFkZGluZ1sxNl07
IC8qIHBhZGRpbmcgKi8KPiArCX07Cj4gK307Cj4gKwo+ICtzdHJ1Y3QgdmR1c2VfZGV2X3Jlc3Bv
bnNlIHsKPiArCV9fdTMyIHJlcXVlc3RfaWQ7IC8qIGNvcnJlc3BvbmRpbmcgcmVxdWVzdCBpZCAq
Lwo+ICsjZGVmaW5lIFZEVVNFX1JFUV9SRVNVTFRfT0sJMHgwMAo+ICsjZGVmaW5lIFZEVVNFX1JF
UV9SRVNVTFRfRkFJTEVECTB4MDEKPiArCV9fdTMyIHJlc3VsdDsgLyogdGhlIHJlc3VsdCBvZiBy
ZXF1ZXN0ICovCj4gKwlfX3UzMiByZXNlcnZlZFsyXTsgLyogZm9yIGZ1dHVyZSB1c2UgKi8KPiAr
CXVuaW9uIHsKPiArCQlzdHJ1Y3QgdmR1c2VfdnFfc3RhdGUgdnFfc3RhdGU7IC8qIHZpcnRxdWV1
ZSBzdGF0ZSAqLwo+ICsJCV9fdTMyIHBhZGRpbmdbMTZdOyAvKiBwYWRkaW5nICovCj4gKwl9Owo+
ICt9Owo+ICsKPiArLyogaW9jdGxzICovCj4gKwo+ICtzdHJ1Y3QgdmR1c2VfZGV2X2NvbmZpZyB7
Cj4gKwljaGFyIG5hbWVbVkRVU0VfTkFNRV9NQVhdOyAvKiB2ZHVzZSBkZXZpY2UgbmFtZSAqLwo+
ICsJX191MzIgdmVuZG9yX2lkOyAvKiB2aXJ0aW8gdmVuZG9yIGlkICovCj4gKwlfX3UzMiBkZXZp
Y2VfaWQ7IC8qIHZpcnRpbyBkZXZpY2UgaWQgKi8KPiArCV9fdTY0IGZlYXR1cmVzOyAvKiBkZXZp
Y2UgZmVhdHVyZXMgKi8KPiArCV9fdTY0IGJvdW5jZV9zaXplOyAvKiBib3VuY2UgYnVmZmVyIHNp
emUgZm9yIGlvbW11ICovCj4gKwlfX3UxNiB2cV9zaXplX21heDsgLyogdGhlIG1heCBzaXplIG9m
IHZpcnRxdWV1ZSAqLwo+ICsJX191MTYgcGFkZGluZzsgLyogcGFkZGluZyAqLwo+ICsJX191MzIg
dnFfbnVtOyAvKiB0aGUgbnVtYmVyIG9mIHZpcnRxdWV1ZXMgKi8KPiArCV9fdTMyIHZxX2FsaWdu
OyAvKiB0aGUgYWxsb2NhdGlvbiBhbGlnbm1lbnQgb2YgdmlydHF1ZXVlJ3MgbWV0YWRhdGEgKi8K
PiArCV9fdTMyIGNvbmZpZ19zaXplOyAvKiB0aGUgc2l6ZSBvZiB0aGUgY29uZmlndXJhdGlvbiBz
cGFjZSAqLwo+ICsJX191MzIgcmVzZXJ2ZWRbMTVdOyAvKiBmb3IgZnV0dXJlIHVzZSAqLwo+ICsJ
X191OCBjb25maWdbMF07IC8qIHRoZSBidWZmZXIgb2YgdGhlIGNvbmZpZ3VyYXRpb24gc3BhY2Ug
Ki8KPiArfTsKPiArCj4gK3N0cnVjdCB2ZHVzZV9pb3RsYl9lbnRyeSB7Cj4gKwlfX3U2NCBvZmZz
ZXQ7IC8qIHRoZSBtbWFwIG9mZnNldCBvbiBmZCAqLwo+ICsJX191NjQgc3RhcnQ7IC8qIHN0YXJ0
IG9mIHRoZSBJT1ZBIHJhbmdlICovCj4gKwlfX3U2NCBsYXN0OyAvKiBsYXN0IG9mIHRoZSBJT1ZB
IHJhbmdlICovCj4gKyNkZWZpbmUgVkRVU0VfQUNDRVNTX1JPIDB4MQo+ICsjZGVmaW5lIFZEVVNF
X0FDQ0VTU19XTyAweDIKPiArI2RlZmluZSBWRFVTRV9BQ0NFU1NfUlcgMHgzCj4gKwlfX3U4IHBl
cm07IC8qIGFjY2VzcyBwZXJtaXNzaW9uIG9mIHRoaXMgcmFuZ2UgKi8KPiArfTsKPiArCj4gK3N0
cnVjdCB2ZHVzZV9jb25maWdfdXBkYXRlIHsKPiArCV9fdTMyIG9mZnNldDsgLyogb2Zmc2V0IGZy
b20gdGhlIGJlZ2lubmluZyBvZiBjb25maWd1cmF0aW9uIHNwYWNlICovCj4gKwlfX3UzMiBsZW5n
dGg7IC8qIHRoZSBsZW5ndGggdG8gd3JpdGUgdG8gY29uZmlndXJhdGlvbiBzcGFjZSAqLwo+ICsJ
X191OCBidWZmZXJbMF07IC8qIGJ1ZmZlciB1c2VkIHRvIHdyaXRlIGZyb20gKi8KPiArfTsKPiAr
Cj4gK3N0cnVjdCB2ZHVzZV92cV9pbmZvIHsKPiArCV9fdTMyIGluZGV4OyAvKiB2aXJ0cXVldWUg
aW5kZXggKi8KPiArCV9fdTMyIGF2YWlsX2lkeDsgLyogdmlydHF1ZXVlIHN0YXRlIChsYXN0X2F2
YWlsX2lkeCkgKi8KPiArCV9fdTY0IGRlc2NfYWRkcjsgLyogYWRkcmVzcyBvZiBkZXNjIGFyZWEg
Ki8KPiArCV9fdTY0IGRyaXZlcl9hZGRyOyAvKiBhZGRyZXNzIG9mIGRyaXZlciBhcmVhICovCj4g
KwlfX3U2NCBkZXZpY2VfYWRkcjsgLyogYWRkcmVzcyBvZiBkZXZpY2UgYXJlYSAqLwo+ICsJX191
MzIgbnVtOyAvKiB0aGUgc2l6ZSBvZiB2aXJ0cXVldWUgKi8KPiArCV9fdTggcmVhZHk7IC8qIHJl
YWR5IHN0YXR1cyBvZiB2aXJ0cXVldWUgKi8KPiArfTsKPiArCj4gK3N0cnVjdCB2ZHVzZV92cV9l
dmVudGZkIHsKPiArCV9fdTMyIGluZGV4OyAvKiB2aXJ0cXVldWUgaW5kZXggKi8KPiArI2RlZmlu
ZSBWRFVTRV9FVkVOVEZEX0RFQVNTSUdOIC0xCj4gKwlpbnQgZmQ7IC8qIGV2ZW50ZmQsIC0xIG1l
YW5zIGRlLWFzc2lnbmluZyB0aGUgZXZlbnRmZCAqLwo+ICt9Owo+ICsKPiArI2RlZmluZSBWRFVT
RV9CQVNFCTB4ODEKPiArCj4gKy8qIEdldCB0aGUgdmVyc2lvbiBvZiBWRFVTRSBBUEkuIFRoaXMg
aXMgdXNlZCBmb3IgZnV0dXJlIGV4dGVuc2lvbiAqLwo+ICsjZGVmaW5lIFZEVVNFX0dFVF9BUElf
VkVSU0lPTglfSU9SKFZEVVNFX0JBU0UsIDB4MDAsIF9fdTY0KQo+ICsKPiArLyogU2V0IHRoZSB2
ZXJzaW9uIG9mIFZEVVNFIEFQSS4gKi8KPiArI2RlZmluZSBWRFVTRV9TRVRfQVBJX1ZFUlNJT04J
X0lPVyhWRFVTRV9CQVNFLCAweDAxLCBfX3U2NCkKPiArCj4gKy8qIENyZWF0ZSBhIHZkdXNlIGRl
dmljZSB3aGljaCBpcyByZXByZXNlbnRlZCBieSBhIGNoYXIgZGV2aWNlICgvZGV2L3ZkdXNlLzxu
YW1lPikgKi8KPiArI2RlZmluZSBWRFVTRV9DUkVBVEVfREVWCV9JT1coVkRVU0VfQkFTRSwgMHgw
Miwgc3RydWN0IHZkdXNlX2Rldl9jb25maWcpCj4gKwo+ICsvKiBEZXN0cm95IGEgdmR1c2UgZGV2
aWNlLiBNYWtlIHN1cmUgdGhlcmUgYXJlIG5vIHJlZmVyZW5jZXMgdG8gdGhlIGNoYXIgZGV2aWNl
ICovCj4gKyNkZWZpbmUgVkRVU0VfREVTVFJPWV9ERVYJX0lPVyhWRFVTRV9CQVNFLCAweDAzLCBj
aGFyW1ZEVVNFX05BTUVfTUFYXSkKPiArCj4gKy8qCj4gKyAqIEdldCBhIGZpbGUgZGVzY3JpcHRv
ciBmb3IgdGhlIGZpcnN0IG92ZXJsYXBwZWQgaW92YSByZWdpb24sCj4gKyAqIC1FSU5WQUwgbWVh
bnMgdGhlIGlvdmEgcmVnaW9uIGRvZXNuJ3QgZXhpc3QuCj4gKyAqLwo+ICsjZGVmaW5lIFZEVVNF
X0lPVExCX0dFVF9GRAlfSU9XUihWRFVTRV9CQVNFLCAweDA0LCBzdHJ1Y3QgdmR1c2VfaW90bGJf
ZW50cnkpCj4gKwo+ICsvKiBHZXQgdGhlIG5lZ290aWF0ZWQgZmVhdHVyZXMgKi8KPiArI2RlZmlu
ZSBWRFVTRV9ERVZfR0VUX0ZFQVRVUkVTCV9JT1IoVkRVU0VfQkFTRSwgMHgwNSwgX191NjQpCj4g
Kwo+ICsvKiBVcGRhdGUgdGhlIGNvbmZpZ3VyYXRpb24gc3BhY2UgKi8KPiArI2RlZmluZSBWRFVT
RV9ERVZfVVBEQVRFX0NPTkZJRwlfSU9XKFZEVVNFX0JBU0UsIDB4MDYsIHN0cnVjdCB2ZHVzZV9j
b25maWdfdXBkYXRlKQo+ICsKPiArLyogR2V0IHRoZSBzcGVjaWZpZWQgdmlydHF1ZXVlJ3MgaW5m
b3JtYXRpb24gKi8KPiArI2RlZmluZSBWRFVTRV9WUV9HRVRfSU5GTwlfSU9XUihWRFVTRV9CQVNF
LCAweDA3LCBzdHJ1Y3QgdmR1c2VfdnFfaW5mbykKPiArCj4gKy8qIFNldHVwIGFuIGV2ZW50ZmQg
dG8gcmVjZWl2ZSBraWNrIGZvciB2aXJ0cXVldWUgKi8KPiArI2RlZmluZSBWRFVTRV9WUV9TRVRV
UF9LSUNLRkQJX0lPVyhWRFVTRV9CQVNFLCAweDA4LCBzdHJ1Y3QgdmR1c2VfdnFfZXZlbnRmZCkK
PiArCj4gKy8qIEluamVjdCBhbiBpbnRlcnJ1cHQgZm9yIHNwZWNpZmljIHZpcnRxdWV1ZSAqLwo+
ICsjZGVmaW5lIFZEVVNFX1ZRX0lOSkVDVF9JUlEJX0lPVyhWRFVTRV9CQVNFLCAweDA5LCBfX3Uz
MikKPiArCj4gKyNlbmRpZiAvKiBfVUFQSV9WRFVTRV9IXyAqLwoKCl9fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClZpcnR1YWxpemF0aW9uIG1haWxpbmcgbGlz
dApWaXJ0dWFsaXphdGlvbkBsaXN0cy5saW51eC1mb3VuZGF0aW9uLm9yZwpodHRwczovL2xpc3Rz
LmxpbnV4Zm91bmRhdGlvbi5vcmcvbWFpbG1hbi9saXN0aW5mby92aXJ0dWFsaXphdGlvbg==
