Return-Path: <virtualization-bounces@lists.linux-foundation.org>
X-Original-To: lists.virtualization@lfdr.de
Delivered-To: lists.virtualization@lfdr.de
Received: from smtp2.osuosl.org (smtp2.osuosl.org [140.211.166.133])
	by mail.lfdr.de (Postfix) with ESMTPS id B7AAD702324
	for <lists.virtualization@lfdr.de>; Mon, 15 May 2023 07:05:39 +0200 (CEST)
Received: from localhost (localhost [127.0.0.1])
	by smtp2.osuosl.org (Postfix) with ESMTP id 39B8B402E7;
	Mon, 15 May 2023 05:05:38 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp2.osuosl.org 39B8B402E7
Authentication-Results: smtp2.osuosl.org;
	dkim=fail reason="signature verification failed" (1024-bit key) header.d=redhat.com header.i=@redhat.com header.a=rsa-sha256 header.s=mimecast20190719 header.b=fV2v+05w
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp2.osuosl.org ([127.0.0.1])
	by localhost (smtp2.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id lG5r2tsIo3GY; Mon, 15 May 2023 05:05:37 +0000 (UTC)
Received: from lists.linuxfoundation.org (lf-lists.osuosl.org [IPv6:2605:bc80:3010:104::8cd3:938])
	by smtp2.osuosl.org (Postfix) with ESMTPS id 7997E403B4;
	Mon, 15 May 2023 05:05:36 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp2.osuosl.org 7997E403B4
Received: from lf-lists.osuosl.org (localhost [127.0.0.1])
	by lists.linuxfoundation.org (Postfix) with ESMTP id 95210C0089;
	Mon, 15 May 2023 05:05:35 +0000 (UTC)
X-Original-To: virtualization@lists.linux-foundation.org
Delivered-To: virtualization@lists.linuxfoundation.org
Received: from smtp4.osuosl.org (smtp4.osuosl.org [IPv6:2605:bc80:3010::137])
 by lists.linuxfoundation.org (Postfix) with ESMTP id 2E5DEC002A
 for <virtualization@lists.linux-foundation.org>;
 Mon, 15 May 2023 05:05:34 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by smtp4.osuosl.org (Postfix) with ESMTP id 0040741DAE
 for <virtualization@lists.linux-foundation.org>;
 Mon, 15 May 2023 05:05:33 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp4.osuosl.org 0040741DAE
Authentication-Results: smtp4.osuosl.org;
 dkim=pass (1024-bit key) header.d=redhat.com header.i=@redhat.com
 header.a=rsa-sha256 header.s=mimecast20190719 header.b=fV2v+05w
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp4.osuosl.org ([127.0.0.1])
 by localhost (smtp4.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id cnXW_i0HrI_e
 for <virtualization@lists.linux-foundation.org>;
 Mon, 15 May 2023 05:05:32 +0000 (UTC)
X-Greylist: domain auto-whitelisted by SQLgrey-1.8.0
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp4.osuosl.org 6B47141DA7
Received: from us-smtp-delivery-124.mimecast.com
 (us-smtp-delivery-124.mimecast.com [170.10.133.124])
 by smtp4.osuosl.org (Postfix) with ESMTPS id 6B47141DA7
 for <virtualization@lists.linux-foundation.org>;
 Mon, 15 May 2023 05:05:32 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=redhat.com;
 s=mimecast20190719; t=1684127131;
 h=from:from:reply-to:subject:subject:date:date:message-id:message-id:
 to:to:cc:cc:mime-version:mime-version:content-type:content-type:
 content-transfer-encoding:content-transfer-encoding:
 in-reply-to:in-reply-to:references:references;
 bh=2TXsazl8TnwUKIK2ArgOPXPc2tzc/LvXvB9Ii4q7NM4=;
 b=fV2v+05wSUn6PRmbq0z7V9cgaezIdSwzxQnVnI/Lbt+N5hGhBEnlBXXg4tDkBlxWaQboPp
 LQwEWfh/fPVxwCZecuhuavGVps8B/ZkQlc2XYTiVsTRFVgwMWuMQe5loethVTP4nOKbOZ7
 Fk4jozEQAS64oVwzfAb9w5Z1YmdWNt8=
Received: from mail-lf1-f70.google.com (mail-lf1-f70.google.com
 [209.85.167.70]) by relay.mimecast.com with ESMTP with STARTTLS
 (version=TLSv1.3, cipher=TLS_AES_256_GCM_SHA384) id
 us-mta-472-w3HqA5KAM6--Kv2xey4l3w-1; Mon, 15 May 2023 01:05:27 -0400
X-MC-Unique: w3HqA5KAM6--Kv2xey4l3w-1
Received: by mail-lf1-f70.google.com with SMTP id
 2adb3069b0e04-4f37c82f185so766106e87.0
 for <virtualization@lists.linux-foundation.org>;
 Sun, 14 May 2023 22:05:27 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20221208; t=1684127126; x=1686719126;
 h=content-transfer-encoding:cc:to:subject:message-id:date:from
 :in-reply-to:references:mime-version:x-gm-message-state:from:to:cc
 :subject:date:message-id:reply-to;
 bh=2TXsazl8TnwUKIK2ArgOPXPc2tzc/LvXvB9Ii4q7NM4=;
 b=NR76TSPwIjwKgPvVUKz1ZDjbTQBEZmmTk7F7Rq91sGoN/ujYwWpQP045AClQn3vK13
 CJW1xL8EhYKIQnGOXpu3hnF0ZSp5Qg4UIPz5Dfw7Hf75tttzCK0iUMcCgC7XDPHCXtjv
 K4inbvmvNUQJjJHlYXz0UGUyfoZ7kJ0+Hv4Uj3thRWcHRQLBZoagcLA8XEHpEnSozBC4
 SfhRuNDHTlw7dBNo4r8XtmJ6iqtROLzrEnDg83TlENohM97MwuZKjCJrfgZqaMe66GiC
 Yl8oG5xkf1DDA0ARaS69DifL6/YvNPmgqpVNBTAqSJrJ8wGoKXiFp2li8vDIr/7praOR
 SGqQ==
X-Gm-Message-State: AC+VfDxQZfWojLVzRSQJlP0p4V6Fjje6MGTc/sJpehSFQwlg2YcbkL9l
 PWQ8iw1z1IC+I6ZbV0R2BKU2mTokQlluGLeWFJXJ/iyni4XzZ35MEdmKMw2b7ObFfNyZdqdwv3Q
 nbC9aBBVDQ2SAcdgjGHdWxujoMIcjLzlRUKWYW6/072dNNZ8dMZEzT3omlQ==
X-Received: by 2002:a19:c208:0:b0:4f3:7a8c:d46c with SMTP id
 l8-20020a19c208000000b004f37a8cd46cmr1125416lfc.66.1684127126019; 
 Sun, 14 May 2023 22:05:26 -0700 (PDT)
X-Google-Smtp-Source: ACHHUZ7fciQZ+jb/u1h7/rHL6ZUvVh9YyshSGD3KoJ+Qvbnxx/cDxKF5kQUgx1vv1533hSM/b6ZXYqfuB8cLA7f7/IM=
X-Received: by 2002:a19:c208:0:b0:4f3:7a8c:d46c with SMTP id
 l8-20020a19c208000000b004f37a8cd46cmr1125406lfc.66.1684127125631; Sun, 14 May
 2023 22:05:25 -0700 (PDT)
MIME-Version: 1.0
References: <20230503181240.14009-1-shannon.nelson@amd.com>
 <20230503181240.14009-9-shannon.nelson@amd.com>
In-Reply-To: <20230503181240.14009-9-shannon.nelson@amd.com>
From: Jason Wang <jasowang@redhat.com>
Date: Mon, 15 May 2023 13:05:14 +0800
Message-ID: <CACGkMEtef8+ox3EKn7bba=4Oqr-8WCkey49D+pM8ZvHQaYdEJw@mail.gmail.com>
Subject: Re: [PATCH v5 virtio 08/11] pds_vdpa: add vdpa config client commands
To: Shannon Nelson <shannon.nelson@amd.com>
X-Mimecast-Spam-Score: 0
X-Mimecast-Originator: redhat.com
Cc: brett.creeley@amd.com, mst@redhat.com, simon.horman@corigine.com,
 virtualization@lists.linux-foundation.org, netdev@vger.kernel.org,
 drivers@pensando.io
X-BeenThere: virtualization@lists.linux-foundation.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: Linux virtualization <virtualization.lists.linux-foundation.org>
List-Unsubscribe: <https://lists.linuxfoundation.org/mailman/options/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=unsubscribe>
List-Archive: <http://lists.linuxfoundation.org/pipermail/virtualization/>
List-Post: <mailto:virtualization@lists.linux-foundation.org>
List-Help: <mailto:virtualization-request@lists.linux-foundation.org?subject=help>
List-Subscribe: <https://lists.linuxfoundation.org/mailman/listinfo/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: virtualization-bounces@lists.linux-foundation.org
Sender: "Virtualization" <virtualization-bounces@lists.linux-foundation.org>

T24gVGh1LCBNYXkgNCwgMjAyMyBhdCAyOjEz4oCvQU0gU2hhbm5vbiBOZWxzb24gPHNoYW5ub24u
bmVsc29uQGFtZC5jb20+IHdyb3RlOgo+Cj4gVGhlc2UgYXJlIHRoZSBhZG1pbnEgY29tbWFuZHMg
dGhhdCB3aWxsIGJlIG5lZWRlZCBmb3IKPiBzZXR0aW5nIHVwIGFuZCB1c2luZyB0aGUgdkRQQSBk
ZXZpY2UuICBUaGVyZSBhcmUgYSBudW1iZXIKPiBvZiBjb21tYW5kcyBkZWZpbmVkIGluIHRoZSBG
VydzIEFQSSwgYnV0IGJ5IG1ha2luZyB1c2Ugb2YKPiB0aGUgRlcncyB2aXJ0aW8gQkFSIHdlIG9u
bHkgbmVlZCBhIGZldyBvZiB0aGVzZSBjb21tYW5kcwo+IGZvciB2RFBBIHN1cHBvcnQuCj4KPiBT
aWduZWQtb2ZmLWJ5OiBTaGFubm9uIE5lbHNvbiA8c2hhbm5vbi5uZWxzb25AYW1kLmNvbT4KCkFj
a2VkLWJ5OiBKYXNvbiBXYW5nIDxqYXNvd2FuZ0ByZWRoYXQuY29tPgoKVGhhbmtzCgo+IC0tLQo+
ICBkcml2ZXJzL3ZkcGEvcGRzL01ha2VmaWxlICAgfCAgIDEgKwo+ICBkcml2ZXJzL3ZkcGEvcGRz
L2NtZHMuYyAgICAgfCAyMDcgKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrCj4g
IGRyaXZlcnMvdmRwYS9wZHMvY21kcy5oICAgICB8ICAyMCArKysrCj4gIGRyaXZlcnMvdmRwYS9w
ZHMvdmRwYV9kZXYuaCB8ICAzMyArKysrKy0KPiAgNCBmaWxlcyBjaGFuZ2VkLCAyNjAgaW5zZXJ0
aW9ucygrKSwgMSBkZWxldGlvbigtKQo+ICBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy92ZHBh
L3Bkcy9jbWRzLmMKPiAgY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvdmRwYS9wZHMvY21kcy5o
Cj4KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy92ZHBhL3Bkcy9NYWtlZmlsZSBiL2RyaXZlcnMvdmRw
YS9wZHMvTWFrZWZpbGUKPiBpbmRleCAxM2I1MDM5NGVjNjQuLjJlMjI0MThlM2FiMyAxMDA2NDQK
PiAtLS0gYS9kcml2ZXJzL3ZkcGEvcGRzL01ha2VmaWxlCj4gKysrIGIvZHJpdmVycy92ZHBhL3Bk
cy9NYWtlZmlsZQo+IEBAIC00LDYgKzQsNyBAQAo+ICBvYmotJChDT05GSUdfUERTX1ZEUEEpIDo9
IHBkc192ZHBhLm8KPgo+ICBwZHNfdmRwYS15IDo9IGF1eF9kcnYubyBcCj4gKyAgICAgICAgICAg
ICBjbWRzLm8gXAo+ICAgICAgICAgICAgICAgdmRwYV9kZXYubwo+Cj4gIHBkc192ZHBhLSQoQ09O
RklHX0RFQlVHX0ZTKSArPSBkZWJ1Z2ZzLm8KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy92ZHBhL3Bk
cy9jbWRzLmMgYi9kcml2ZXJzL3ZkcGEvcGRzL2NtZHMuYwo+IG5ldyBmaWxlIG1vZGUgMTAwNjQ0
Cj4gaW5kZXggMDAwMDAwMDAwMDAwLi40MDU3MTFhMGEwZjgKPiAtLS0gL2Rldi9udWxsCj4gKysr
IGIvZHJpdmVycy92ZHBhL3Bkcy9jbWRzLmMKPiBAQCAtMCwwICsxLDIwNyBAQAo+ICsvLyBTUERY
LUxpY2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMC1vbmx5Cj4gKy8qIENvcHlyaWdodChjKSAyMDIz
IEFkdmFuY2VkIE1pY3JvIERldmljZXMsIEluYyAqLwo+ICsKPiArI2luY2x1ZGUgPGxpbnV4L3Zk
cGEuaD4KPiArI2luY2x1ZGUgPGxpbnV4L3ZpcnRpb19wY2lfbW9kZXJuLmg+Cj4gKwo+ICsjaW5j
bHVkZSA8bGludXgvcGRzL3Bkc19jb21tb24uaD4KPiArI2luY2x1ZGUgPGxpbnV4L3Bkcy9wZHNf
Y29yZV9pZi5oPgo+ICsjaW5jbHVkZSA8bGludXgvcGRzL3Bkc19hZG1pbnEuaD4KPiArI2luY2x1
ZGUgPGxpbnV4L3Bkcy9wZHNfYXV4YnVzLmg+Cj4gKwo+ICsjaW5jbHVkZSAidmRwYV9kZXYuaCIK
PiArI2luY2x1ZGUgImF1eF9kcnYuaCIKPiArI2luY2x1ZGUgImNtZHMuaCIKPiArCj4gK2ludCBw
ZHNfdmRwYV9pbml0X2h3KHN0cnVjdCBwZHNfdmRwYV9kZXZpY2UgKnBkc3YpCj4gK3sKPiArICAg
ICAgIHN0cnVjdCBwZHNfYXV4aWxpYXJ5X2RldiAqcGFkZXYgPSBwZHN2LT52ZHBhX2F1eC0+cGFk
ZXY7Cj4gKyAgICAgICBzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmcGFkZXYtPmF1eF9kZXYuZGV2Owo+
ICsgICAgICAgdW5pb24gcGRzX2NvcmVfYWRtaW5xX2NtZCBjbWQgPSB7Cj4gKyAgICAgICAgICAg
ICAgIC52ZHBhX2luaXQub3Bjb2RlID0gUERTX1ZEUEFfQ01EX0lOSVQsCj4gKyAgICAgICAgICAg
ICAgIC52ZHBhX2luaXQudmRwYV9pbmRleCA9IHBkc3YtPnZkcGFfaW5kZXgsCj4gKyAgICAgICAg
ICAgICAgIC52ZHBhX2luaXQudmZfaWQgPSBjcHVfdG9fbGUxNihwZHN2LT52ZHBhX2F1eC0+dmZf
aWQpLAo+ICsgICAgICAgfTsKPiArICAgICAgIHVuaW9uIHBkc19jb3JlX2FkbWlucV9jb21wIGNv
bXAgPSB7fTsKPiArICAgICAgIGludCBlcnI7Cj4gKwo+ICsgICAgICAgLyogSW5pdGlhbGl6ZSB0
aGUgdmRwYS92aXJ0aW8gZGV2aWNlICovCj4gKyAgICAgICBlcnIgPSBwZHNfY2xpZW50X2FkbWlu
cV9jbWQocGFkZXYsICZjbWQsIHNpemVvZihjbWQudmRwYV9pbml0KSwKPiArICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAmY29tcCwgMCk7Cj4gKyAgICAgICBpZiAoZXJyKQo+ICsg
ICAgICAgICAgICAgICBkZXZfZGJnKGRldiwgIkZhaWxlZCB0byBpbml0IGh3LCBzdGF0dXMgJWQ6
ICVwZVxuIiwKPiArICAgICAgICAgICAgICAgICAgICAgICBjb21wLnN0YXR1cywgRVJSX1BUUihl
cnIpKTsKPiArCj4gKyAgICAgICByZXR1cm4gZXJyOwo+ICt9Cj4gKwo+ICtpbnQgcGRzX3ZkcGFf
Y21kX3Jlc2V0KHN0cnVjdCBwZHNfdmRwYV9kZXZpY2UgKnBkc3YpCj4gK3sKPiArICAgICAgIHN0
cnVjdCBwZHNfYXV4aWxpYXJ5X2RldiAqcGFkZXYgPSBwZHN2LT52ZHBhX2F1eC0+cGFkZXY7Cj4g
KyAgICAgICBzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmcGFkZXYtPmF1eF9kZXYuZGV2Owo+ICsgICAg
ICAgdW5pb24gcGRzX2NvcmVfYWRtaW5xX2NtZCBjbWQgPSB7Cj4gKyAgICAgICAgICAgICAgIC52
ZHBhLm9wY29kZSA9IFBEU19WRFBBX0NNRF9SRVNFVCwKPiArICAgICAgICAgICAgICAgLnZkcGEu
dmRwYV9pbmRleCA9IHBkc3YtPnZkcGFfaW5kZXgsCj4gKyAgICAgICAgICAgICAgIC52ZHBhLnZm
X2lkID0gY3B1X3RvX2xlMTYocGRzdi0+dmRwYV9hdXgtPnZmX2lkKSwKPiArICAgICAgIH07Cj4g
KyAgICAgICB1bmlvbiBwZHNfY29yZV9hZG1pbnFfY29tcCBjb21wID0ge307Cj4gKyAgICAgICBp
bnQgZXJyOwo+ICsKPiArICAgICAgIGVyciA9IHBkc19jbGllbnRfYWRtaW5xX2NtZChwYWRldiwg
JmNtZCwgc2l6ZW9mKGNtZC52ZHBhKSwgJmNvbXAsIDApOwo+ICsgICAgICAgaWYgKGVycikKPiAr
ICAgICAgICAgICAgICAgZGV2X2RiZyhkZXYsICJGYWlsZWQgdG8gcmVzZXQgaHcsIHN0YXR1cyAl
ZDogJXBlXG4iLAo+ICsgICAgICAgICAgICAgICAgICAgICAgIGNvbXAuc3RhdHVzLCBFUlJfUFRS
KGVycikpOwo+ICsKPiArICAgICAgIHJldHVybiBlcnI7Cj4gK30KPiArCj4gK2ludCBwZHNfdmRw
YV9jbWRfc2V0X21hYyhzdHJ1Y3QgcGRzX3ZkcGFfZGV2aWNlICpwZHN2LCB1OCAqbWFjKQo+ICt7
Cj4gKyAgICAgICBzdHJ1Y3QgcGRzX2F1eGlsaWFyeV9kZXYgKnBhZGV2ID0gcGRzdi0+dmRwYV9h
dXgtPnBhZGV2Owo+ICsgICAgICAgc3RydWN0IGRldmljZSAqZGV2ID0gJnBhZGV2LT5hdXhfZGV2
LmRldjsKPiArICAgICAgIHVuaW9uIHBkc19jb3JlX2FkbWlucV9jbWQgY21kID0gewo+ICsgICAg
ICAgICAgICAgICAudmRwYV9zZXRhdHRyLm9wY29kZSA9IFBEU19WRFBBX0NNRF9TRVRfQVRUUiwK
PiArICAgICAgICAgICAgICAgLnZkcGFfc2V0YXR0ci52ZHBhX2luZGV4ID0gcGRzdi0+dmRwYV9p
bmRleCwKPiArICAgICAgICAgICAgICAgLnZkcGFfc2V0YXR0ci52Zl9pZCA9IGNwdV90b19sZTE2
KHBkc3YtPnZkcGFfYXV4LT52Zl9pZCksCj4gKyAgICAgICAgICAgICAgIC52ZHBhX3NldGF0dHIu
YXR0ciA9IFBEU19WRFBBX0FUVFJfTUFDLAo+ICsgICAgICAgfTsKPiArICAgICAgIHVuaW9uIHBk
c19jb3JlX2FkbWlucV9jb21wIGNvbXAgPSB7fTsKPiArICAgICAgIGludCBlcnI7Cj4gKwo+ICsg
ICAgICAgZXRoZXJfYWRkcl9jb3B5KGNtZC52ZHBhX3NldGF0dHIubWFjLCBtYWMpOwo+ICsgICAg
ICAgZXJyID0gcGRzX2NsaWVudF9hZG1pbnFfY21kKHBhZGV2LCAmY21kLCBzaXplb2YoY21kLnZk
cGFfc2V0YXR0ciksCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJmNvbXAs
IDApOwo+ICsgICAgICAgaWYgKGVycikKPiArICAgICAgICAgICAgICAgZGV2X2RiZyhkZXYsICJG
YWlsZWQgdG8gc2V0IG1hYyBhZGRyZXNzICVwTSwgc3RhdHVzICVkOiAlcGVcbiIsCj4gKyAgICAg
ICAgICAgICAgICAgICAgICAgbWFjLCBjb21wLnN0YXR1cywgRVJSX1BUUihlcnIpKTsKPiArCj4g
KyAgICAgICByZXR1cm4gZXJyOwo+ICt9Cj4gKwo+ICtpbnQgcGRzX3ZkcGFfY21kX3NldF9tYXhf
dnFfcGFpcnMoc3RydWN0IHBkc192ZHBhX2RldmljZSAqcGRzdiwgdTE2IG1heF92cXApCj4gK3sK
PiArICAgICAgIHN0cnVjdCBwZHNfYXV4aWxpYXJ5X2RldiAqcGFkZXYgPSBwZHN2LT52ZHBhX2F1
eC0+cGFkZXY7Cj4gKyAgICAgICBzdHJ1Y3QgZGV2aWNlICpkZXYgPSAmcGFkZXYtPmF1eF9kZXYu
ZGV2Owo+ICsgICAgICAgdW5pb24gcGRzX2NvcmVfYWRtaW5xX2NtZCBjbWQgPSB7Cj4gKyAgICAg
ICAgICAgICAgIC52ZHBhX3NldGF0dHIub3Bjb2RlID0gUERTX1ZEUEFfQ01EX1NFVF9BVFRSLAo+
ICsgICAgICAgICAgICAgICAudmRwYV9zZXRhdHRyLnZkcGFfaW5kZXggPSBwZHN2LT52ZHBhX2lu
ZGV4LAo+ICsgICAgICAgICAgICAgICAudmRwYV9zZXRhdHRyLnZmX2lkID0gY3B1X3RvX2xlMTYo
cGRzdi0+dmRwYV9hdXgtPnZmX2lkKSwKPiArICAgICAgICAgICAgICAgLnZkcGFfc2V0YXR0ci5h
dHRyID0gUERTX1ZEUEFfQVRUUl9NQVhfVlFfUEFJUlMsCj4gKyAgICAgICAgICAgICAgIC52ZHBh
X3NldGF0dHIubWF4X3ZxX3BhaXJzID0gY3B1X3RvX2xlMTYobWF4X3ZxcCksCj4gKyAgICAgICB9
Owo+ICsgICAgICAgdW5pb24gcGRzX2NvcmVfYWRtaW5xX2NvbXAgY29tcCA9IHt9Owo+ICsgICAg
ICAgaW50IGVycjsKPiArCj4gKyAgICAgICBlcnIgPSBwZHNfY2xpZW50X2FkbWlucV9jbWQocGFk
ZXYsICZjbWQsIHNpemVvZihjbWQudmRwYV9zZXRhdHRyKSwKPiArICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAmY29tcCwgMCk7Cj4gKyAgICAgICBpZiAoZXJyKQo+ICsgICAgICAg
ICAgICAgICBkZXZfZGJnKGRldiwgIkZhaWxlZCB0byBzZXQgbWF4IHZxIHBhaXJzICV1LCBzdGF0
dXMgJWQ6ICVwZVxuIiwKPiArICAgICAgICAgICAgICAgICAgICAgICBtYXhfdnFwLCBjb21wLnN0
YXR1cywgRVJSX1BUUihlcnIpKTsKPiArCj4gKyAgICAgICByZXR1cm4gZXJyOwo+ICt9Cj4gKwo+
ICtpbnQgcGRzX3ZkcGFfY21kX2luaXRfdnEoc3RydWN0IHBkc192ZHBhX2RldmljZSAqcGRzdiwg
dTE2IHFpZCwKPiArICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHBkc192ZHBhX3ZxX2lu
Zm8gKnZxX2luZm8pCj4gK3sKPiArICAgICAgIHN0cnVjdCBwZHNfYXV4aWxpYXJ5X2RldiAqcGFk
ZXYgPSBwZHN2LT52ZHBhX2F1eC0+cGFkZXY7Cj4gKyAgICAgICBzdHJ1Y3QgZGV2aWNlICpkZXYg
PSAmcGFkZXYtPmF1eF9kZXYuZGV2Owo+ICsgICAgICAgdW5pb24gcGRzX2NvcmVfYWRtaW5xX2Nt
ZCBjbWQgPSB7Cj4gKyAgICAgICAgICAgICAgIC52ZHBhX3ZxX2luaXQub3Bjb2RlID0gUERTX1ZE
UEFfQ01EX1ZRX0lOSVQsCj4gKyAgICAgICAgICAgICAgIC52ZHBhX3ZxX2luaXQudmRwYV9pbmRl
eCA9IHBkc3YtPnZkcGFfaW5kZXgsCj4gKyAgICAgICAgICAgICAgIC52ZHBhX3ZxX2luaXQudmZf
aWQgPSBjcHVfdG9fbGUxNihwZHN2LT52ZHBhX2F1eC0+dmZfaWQpLAo+ICsgICAgICAgICAgICAg
ICAudmRwYV92cV9pbml0LnFpZCA9IGNwdV90b19sZTE2KHFpZCksCj4gKyAgICAgICAgICAgICAg
IC52ZHBhX3ZxX2luaXQubGVuID0gY3B1X3RvX2xlMTYoaWxvZzIodnFfaW5mby0+cV9sZW4pKSwK
PiArICAgICAgICAgICAgICAgLnZkcGFfdnFfaW5pdC5kZXNjX2FkZHIgPSBjcHVfdG9fbGU2NCh2
cV9pbmZvLT5kZXNjX2FkZHIpLAo+ICsgICAgICAgICAgICAgICAudmRwYV92cV9pbml0LmF2YWls
X2FkZHIgPSBjcHVfdG9fbGU2NCh2cV9pbmZvLT5hdmFpbF9hZGRyKSwKPiArICAgICAgICAgICAg
ICAgLnZkcGFfdnFfaW5pdC51c2VkX2FkZHIgPSBjcHVfdG9fbGU2NCh2cV9pbmZvLT51c2VkX2Fk
ZHIpLAo+ICsgICAgICAgICAgICAgICAudmRwYV92cV9pbml0LmludHJfaW5kZXggPSBjcHVfdG9f
bGUxNihxaWQpLAo+ICsgICAgICAgfTsKPiArICAgICAgIHVuaW9uIHBkc19jb3JlX2FkbWlucV9j
b21wIGNvbXAgPSB7fTsKPiArICAgICAgIGludCBlcnI7Cj4gKwo+ICsgICAgICAgZGV2X2RiZyhk
ZXYsICIlczogcWlkICVkIGxlbiAlZCBkZXNjX2FkZHIgJSNsbHggYXZhaWxfYWRkciAlI2xseCB1
c2VkX2FkZHIgJSNsbHhcbiIsCj4gKyAgICAgICAgICAgICAgIF9fZnVuY19fLCBxaWQsIGlsb2cy
KHZxX2luZm8tPnFfbGVuKSwKPiArICAgICAgICAgICAgICAgdnFfaW5mby0+ZGVzY19hZGRyLCB2
cV9pbmZvLT5hdmFpbF9hZGRyLCB2cV9pbmZvLT51c2VkX2FkZHIpOwo+ICsKPiArICAgICAgIGVy
ciA9IHBkc19jbGllbnRfYWRtaW5xX2NtZChwYWRldiwgJmNtZCwgc2l6ZW9mKGNtZC52ZHBhX3Zx
X2luaXQpLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZjb21wLCAwKTsK
PiArICAgICAgIGlmIChlcnIpCj4gKyAgICAgICAgICAgICAgIGRldl9kYmcoZGV2LCAiRmFpbGVk
IHRvIGluaXQgdnEgJWQsIHN0YXR1cyAlZDogJXBlXG4iLAo+ICsgICAgICAgICAgICAgICAgICAg
ICAgIHFpZCwgY29tcC5zdGF0dXMsIEVSUl9QVFIoZXJyKSk7Cj4gKwo+ICsgICAgICAgcmV0dXJu
IGVycjsKPiArfQo+ICsKPiAraW50IHBkc192ZHBhX2NtZF9yZXNldF92cShzdHJ1Y3QgcGRzX3Zk
cGFfZGV2aWNlICpwZHN2LCB1MTYgcWlkKQo+ICt7Cj4gKyAgICAgICBzdHJ1Y3QgcGRzX2F1eGls
aWFyeV9kZXYgKnBhZGV2ID0gcGRzdi0+dmRwYV9hdXgtPnBhZGV2Owo+ICsgICAgICAgc3RydWN0
IGRldmljZSAqZGV2ID0gJnBhZGV2LT5hdXhfZGV2LmRldjsKPiArICAgICAgIHVuaW9uIHBkc19j
b3JlX2FkbWlucV9jbWQgY21kID0gewo+ICsgICAgICAgICAgICAgICAudmRwYV92cV9yZXNldC5v
cGNvZGUgPSBQRFNfVkRQQV9DTURfVlFfUkVTRVQsCj4gKyAgICAgICAgICAgICAgIC52ZHBhX3Zx
X3Jlc2V0LnZkcGFfaW5kZXggPSBwZHN2LT52ZHBhX2luZGV4LAo+ICsgICAgICAgICAgICAgICAu
dmRwYV92cV9yZXNldC52Zl9pZCA9IGNwdV90b19sZTE2KHBkc3YtPnZkcGFfYXV4LT52Zl9pZCks
Cj4gKyAgICAgICAgICAgICAgIC52ZHBhX3ZxX3Jlc2V0LnFpZCA9IGNwdV90b19sZTE2KHFpZCks
Cj4gKyAgICAgICB9Owo+ICsgICAgICAgdW5pb24gcGRzX2NvcmVfYWRtaW5xX2NvbXAgY29tcCA9
IHt9Owo+ICsgICAgICAgaW50IGVycjsKPiArCj4gKyAgICAgICBlcnIgPSBwZHNfY2xpZW50X2Fk
bWlucV9jbWQocGFkZXYsICZjbWQsIHNpemVvZihjbWQudmRwYV92cV9yZXNldCksCj4gKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJmNvbXAsIDApOwo+ICsgICAgICAgaWYgKGVy
cikKPiArICAgICAgICAgICAgICAgZGV2X2RiZyhkZXYsICJGYWlsZWQgdG8gcmVzZXQgdnEgJWQs
IHN0YXR1cyAlZDogJXBlXG4iLAo+ICsgICAgICAgICAgICAgICAgICAgICAgIHFpZCwgY29tcC5z
dGF0dXMsIEVSUl9QVFIoZXJyKSk7Cj4gKwo+ICsgICAgICAgcmV0dXJuIGVycjsKPiArfQo+ICsK
PiAraW50IHBkc192ZHBhX2NtZF9zZXRfdnFfc3RhdGUoc3RydWN0IHBkc192ZHBhX2RldmljZSAq
cGRzdiwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1MTYgcWlkLCB1MTYgYXZhaWws
IHUxNiB1c2VkKQo+ICt7ICAgICAgc3RydWN0IHBkc19hdXhpbGlhcnlfZGV2ICpwYWRldiA9IHBk
c3YtPnZkcGFfYXV4LT5wYWRldjsKPiArICAgICAgIHN0cnVjdCBkZXZpY2UgKmRldiA9ICZwYWRl
di0+YXV4X2Rldi5kZXY7Cj4gKyAgICAgICB1bmlvbiBwZHNfY29yZV9hZG1pbnFfY21kIGNtZCA9
IHsKPiArICAgICAgICAgICAgICAgLnZkcGFfdnFfc2V0X3N0YXRlLm9wY29kZSA9IFBEU19WRFBB
X0NNRF9WUV9TRVRfU1RBVEUsCj4gKyAgICAgICAgICAgICAgIC52ZHBhX3ZxX3NldF9zdGF0ZS52
ZHBhX2luZGV4ID0gcGRzdi0+dmRwYV9pbmRleCwKPiArICAgICAgICAgICAgICAgLnZkcGFfdnFf
c2V0X3N0YXRlLnZmX2lkID0gY3B1X3RvX2xlMTYocGRzdi0+dmRwYV9hdXgtPnZmX2lkKSwKPiAr
ICAgICAgICAgICAgICAgLnZkcGFfdnFfc2V0X3N0YXRlLnFpZCA9IGNwdV90b19sZTE2KHFpZCks
Cj4gKyAgICAgICAgICAgICAgIC52ZHBhX3ZxX3NldF9zdGF0ZS5hdmFpbCA9IGNwdV90b19sZTE2
KGF2YWlsKSwKPiArICAgICAgICAgICAgICAgLnZkcGFfdnFfc2V0X3N0YXRlLnVzZWQgPSBjcHVf
dG9fbGUxNih1c2VkKSwKPiArICAgICAgIH07Cj4gKyAgICAgICB1bmlvbiBwZHNfY29yZV9hZG1p
bnFfY29tcCBjb21wID0ge307Cj4gKyAgICAgICBpbnQgZXJyOwo+ICsKPiArICAgICAgIGVyciA9
IHBkc19jbGllbnRfYWRtaW5xX2NtZChwYWRldiwgJmNtZCwgc2l6ZW9mKGNtZC52ZHBhX3ZxX3Nl
dF9zdGF0ZSksCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJmNvbXAsIDAp
Owo+ICsgICAgICAgaWYgKGVycikKPiArICAgICAgICAgICAgICAgZGV2X2RiZyhkZXYsICJGYWls
ZWQgdG8gc2V0IHN0YXRlIHZxICVkLCBzdGF0dXMgJWQ6ICVwZVxuIiwKPiArICAgICAgICAgICAg
ICAgICAgICAgICBxaWQsIGNvbXAuc3RhdHVzLCBFUlJfUFRSKGVycikpOwo+ICsKPiArICAgICAg
IHJldHVybiBlcnI7Cj4gK30KPiArCj4gK2ludCBwZHNfdmRwYV9jbWRfZ2V0X3ZxX3N0YXRlKHN0
cnVjdCBwZHNfdmRwYV9kZXZpY2UgKnBkc3YsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgdTE2IHFpZCwgdTE2ICphdmFpbCwgdTE2ICp1c2VkKQo+ICt7ICAgICAgc3RydWN0IHBkc19h
dXhpbGlhcnlfZGV2ICpwYWRldiA9IHBkc3YtPnZkcGFfYXV4LT5wYWRldjsKPiArICAgICAgIHN0
cnVjdCBkZXZpY2UgKmRldiA9ICZwYWRldi0+YXV4X2Rldi5kZXY7Cj4gKyAgICAgICB1bmlvbiBw
ZHNfY29yZV9hZG1pbnFfY21kIGNtZCA9IHsKPiArICAgICAgICAgICAgICAgLnZkcGFfdnFfZ2V0
X3N0YXRlLm9wY29kZSA9IFBEU19WRFBBX0NNRF9WUV9TRVRfU1RBVEUsCj4gKyAgICAgICAgICAg
ICAgIC52ZHBhX3ZxX2dldF9zdGF0ZS52ZHBhX2luZGV4ID0gcGRzdi0+dmRwYV9pbmRleCwKPiAr
ICAgICAgICAgICAgICAgLnZkcGFfdnFfZ2V0X3N0YXRlLnZmX2lkID0gY3B1X3RvX2xlMTYocGRz
di0+dmRwYV9hdXgtPnZmX2lkKSwKPiArICAgICAgICAgICAgICAgLnZkcGFfdnFfZ2V0X3N0YXRl
LnFpZCA9IGNwdV90b19sZTE2KHFpZCksCj4gKyAgICAgICB9Owo+ICsgICAgICAgdW5pb24gcGRz
X2NvcmVfYWRtaW5xX2NvbXAgY29tcCA9IHt9Owo+ICsgICAgICAgaW50IGVycjsKPiArCj4gKyAg
ICAgICBlcnIgPSBwZHNfY2xpZW50X2FkbWlucV9jbWQocGFkZXYsICZjbWQsIHNpemVvZihjbWQu
dmRwYV92cV9zZXRfc3RhdGUpLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICZjb21wLCAwKTsKPiArICAgICAgIGlmIChlcnIpIHsKPiArICAgICAgICAgICAgICAgZGV2X2Ri
ZyhkZXYsICJGYWlsZWQgdG8gc2V0IHN0YXRlIHZxICVkLCBzdGF0dXMgJWQ6ICVwZVxuIiwKPiAr
ICAgICAgICAgICAgICAgICAgICAgICBxaWQsIGNvbXAuc3RhdHVzLCBFUlJfUFRSKGVycikpOwo+
ICsgICAgICAgICAgICAgICByZXR1cm4gZXJyOwo+ICsgICAgICAgfQo+ICsKPiArICAgICAgICph
dmFpbCA9IGxlMTZfdG9fY3B1KGNvbXAudmRwYV92cV9nZXRfc3RhdGUuYXZhaWwpOwo+ICsgICAg
ICAgKnVzZWQgPSBsZTE2X3RvX2NwdShjb21wLnZkcGFfdnFfZ2V0X3N0YXRlLnVzZWQpOwo+ICsK
PiArICAgICAgIHJldHVybiAwOwo+ICt9Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvdmRwYS9wZHMv
Y21kcy5oIGIvZHJpdmVycy92ZHBhL3Bkcy9jbWRzLmgKPiBuZXcgZmlsZSBtb2RlIDEwMDY0NAo+
IGluZGV4IDAwMDAwMDAwMDAwMC4uY2Y0Zjg3NjRlNzNjCj4gLS0tIC9kZXYvbnVsbAo+ICsrKyBi
L2RyaXZlcnMvdmRwYS9wZHMvY21kcy5oCj4gQEAgLTAsMCArMSwyMCBAQAo+ICsvKiBTUERYLUxp
Y2Vuc2UtSWRlbnRpZmllcjogR1BMLTIuMC1vbmx5ICovCj4gKy8qIENvcHlyaWdodChjKSAyMDIz
IEFkdmFuY2VkIE1pY3JvIERldmljZXMsIEluYyAqLwo+ICsKPiArI2lmbmRlZiBfVkRQQV9DTURT
X0hfCj4gKyNkZWZpbmUgX1ZEUEFfQ01EU19IXwo+ICsKPiAraW50IHBkc192ZHBhX2luaXRfaHco
c3RydWN0IHBkc192ZHBhX2RldmljZSAqcGRzdik7Cj4gKwo+ICtpbnQgcGRzX3ZkcGFfY21kX3Jl
c2V0KHN0cnVjdCBwZHNfdmRwYV9kZXZpY2UgKnBkc3YpOwo+ICtpbnQgcGRzX3ZkcGFfY21kX3Nl
dF9tYWMoc3RydWN0IHBkc192ZHBhX2RldmljZSAqcGRzdiwgdTggKm1hYyk7Cj4gK2ludCBwZHNf
dmRwYV9jbWRfc2V0X21heF92cV9wYWlycyhzdHJ1Y3QgcGRzX3ZkcGFfZGV2aWNlICpwZHN2LCB1
MTYgbWF4X3ZxcCk7Cj4gK2ludCBwZHNfdmRwYV9jbWRfaW5pdF92cShzdHJ1Y3QgcGRzX3ZkcGFf
ZGV2aWNlICpwZHN2LCB1MTYgcWlkLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3Qg
cGRzX3ZkcGFfdnFfaW5mbyAqdnFfaW5mbyk7Cj4gK2ludCBwZHNfdmRwYV9jbWRfcmVzZXRfdnEo
c3RydWN0IHBkc192ZHBhX2RldmljZSAqcGRzdiwgdTE2IHFpZCk7Cj4gK2ludCBwZHNfdmRwYV9j
bWRfc2V0X2ZlYXR1cmVzKHN0cnVjdCBwZHNfdmRwYV9kZXZpY2UgKnBkc3YsIHU2NCBmZWF0dXJl
cyk7Cj4gK2ludCBwZHNfdmRwYV9jbWRfc2V0X3ZxX3N0YXRlKHN0cnVjdCBwZHNfdmRwYV9kZXZp
Y2UgKnBkc3YsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdTE2IHFpZCwgdTE2IGF2
YWlsLCB1MTYgdXNlZCk7Cj4gK2ludCBwZHNfdmRwYV9jbWRfZ2V0X3ZxX3N0YXRlKHN0cnVjdCBw
ZHNfdmRwYV9kZXZpY2UgKnBkc3YsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdTE2
IHFpZCwgdTE2ICphdmFpbCwgdTE2ICp1c2VkKTsKPiArI2VuZGlmIC8qIF9WRFBBX0NNRFNfSF8g
Ki8KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy92ZHBhL3Bkcy92ZHBhX2Rldi5oIGIvZHJpdmVycy92
ZHBhL3Bkcy92ZHBhX2Rldi5oCj4gaW5kZXggOTdmYWI4MzNhMGFhLi5hMjE1OTZmNDM4YzEgMTAw
NjQ0Cj4gLS0tIGEvZHJpdmVycy92ZHBhL3Bkcy92ZHBhX2Rldi5oCj4gKysrIGIvZHJpdmVycy92
ZHBhL3Bkcy92ZHBhX2Rldi5oCj4gQEAgLTQsMTEgKzQsNDIgQEAKPiAgI2lmbmRlZiBfVkRQQV9E
RVZfSF8KPiAgI2RlZmluZSBfVkRQQV9ERVZfSF8KPgo+IC0jZGVmaW5lIFBEU19WRFBBX01BWF9R
VUVVRVMgICAgNjUKPiArI2luY2x1ZGUgPGxpbnV4L3BjaS5oPgo+ICsjaW5jbHVkZSA8bGludXgv
dmRwYS5oPgo+ICsKPiArc3RydWN0IHBkc192ZHBhX3ZxX2luZm8gewo+ICsgICAgICAgYm9vbCBy
ZWFkeTsKPiArICAgICAgIHU2NCBkZXNjX2FkZHI7Cj4gKyAgICAgICB1NjQgYXZhaWxfYWRkcjsK
PiArICAgICAgIHU2NCB1c2VkX2FkZHI7Cj4gKyAgICAgICB1MzIgcV9sZW47Cj4gKyAgICAgICB1
MTYgcWlkOwo+ICsgICAgICAgaW50IGlycTsKPiArICAgICAgIGNoYXIgaXJxX25hbWVbMzJdOwo+
ICsKPiArICAgICAgIHZvaWQgX19pb21lbSAqbm90aWZ5Owo+ICsgICAgICAgZG1hX2FkZHJfdCBu
b3RpZnlfcGE7Cj4gKwo+ICsgICAgICAgdTY0IGRvb3JiZWxsOwo+ICsgICAgICAgdTE2IGF2YWls
X2lkeDsKPiArICAgICAgIHUxNiB1c2VkX2lkeDsKPgo+ICsgICAgICAgc3RydWN0IHZkcGFfY2Fs
bGJhY2sgZXZlbnRfY2I7Cj4gKyAgICAgICBzdHJ1Y3QgcGRzX3ZkcGFfZGV2aWNlICpwZHN2Owo+
ICt9Owo+ICsKPiArI2RlZmluZSBQRFNfVkRQQV9NQVhfUVVFVUVTICAgIDY1Cj4gKyNkZWZpbmUg
UERTX1ZEUEFfTUFYX1FMRU4gICAgICAzMjc2OAo+ICBzdHJ1Y3QgcGRzX3ZkcGFfZGV2aWNlIHsK
PiAgICAgICAgIHN0cnVjdCB2ZHBhX2RldmljZSB2ZHBhX2RldjsKPiAgICAgICAgIHN0cnVjdCBw
ZHNfdmRwYV9hdXggKnZkcGFfYXV4Owo+ICsKPiArICAgICAgIHN0cnVjdCBwZHNfdmRwYV92cV9p
bmZvIHZxc1tQRFNfVkRQQV9NQVhfUVVFVUVTXTsKPiArICAgICAgIHU2NCByZXFfZmVhdHVyZXM7
ICAgICAgICAgICAgICAgLyogZmVhdHVyZXMgcmVxdWVzdGVkIGJ5IHZkcGEgKi8KPiArICAgICAg
IHU2NCBhY3R1YWxfZmVhdHVyZXM7ICAgICAgICAgICAgLyogZmVhdHVyZXMgbmVnb3RpYXRlZCBh
bmQgaW4gdXNlICovCj4gKyAgICAgICB1OCB2ZHBhX2luZGV4OyAgICAgICAgICAgICAgICAgIC8q
IHJzdmQgZm9yIGZ1dHVyZSBzdWJkZXZpY2UgdXNlICovCj4gKyAgICAgICB1OCBudW1fdnFzOyAg
ICAgICAgICAgICAgICAgICAgIC8qIG51bSB2cXMgaW4gdXNlICovCj4gKyAgICAgICBzdHJ1Y3Qg
dmRwYV9jYWxsYmFjayBjb25maWdfY2I7Cj4gIH07Cj4KPiAgaW50IHBkc192ZHBhX2dldF9tZ210
X2luZm8oc3RydWN0IHBkc192ZHBhX2F1eCAqdmRwYV9hdXgpOwo+IC0tCj4gMi4xNy4xCj4KCl9f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClZpcnR1YWxpemF0
aW9uIG1haWxpbmcgbGlzdApWaXJ0dWFsaXphdGlvbkBsaXN0cy5saW51eC1mb3VuZGF0aW9uLm9y
ZwpodHRwczovL2xpc3RzLmxpbnV4Zm91bmRhdGlvbi5vcmcvbWFpbG1hbi9saXN0aW5mby92aXJ0
dWFsaXphdGlvbg==
