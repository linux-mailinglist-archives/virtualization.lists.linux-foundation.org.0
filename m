Return-Path: <virtualization-bounces@lists.linux-foundation.org>
X-Original-To: lists.virtualization@lfdr.de
Delivered-To: lists.virtualization@lfdr.de
Received: from fraxinus.osuosl.org (smtp4.osuosl.org [140.211.166.137])
	by mail.lfdr.de (Postfix) with ESMTPS id C59E4197884
	for <lists.virtualization@lfdr.de>; Mon, 30 Mar 2020 12:13:06 +0200 (CEST)
Received: from localhost (localhost [127.0.0.1])
	by fraxinus.osuosl.org (Postfix) with ESMTP id 6FB48869BE;
	Mon, 30 Mar 2020 10:13:05 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from fraxinus.osuosl.org ([127.0.0.1])
	by localhost (.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id bb3U4G7EPS76; Mon, 30 Mar 2020 10:13:04 +0000 (UTC)
Received: from lists.linuxfoundation.org (lf-lists.osuosl.org [140.211.9.56])
	by fraxinus.osuosl.org (Postfix) with ESMTP id 4EDB586A27;
	Mon, 30 Mar 2020 10:13:04 +0000 (UTC)
Received: from lf-lists.osuosl.org (localhost [127.0.0.1])
	by lists.linuxfoundation.org (Postfix) with ESMTP id 3CC5DC07FF;
	Mon, 30 Mar 2020 10:13:04 +0000 (UTC)
X-Original-To: virtualization@lists.linux-foundation.org
Delivered-To: virtualization@lists.linuxfoundation.org
Received: from fraxinus.osuosl.org (smtp4.osuosl.org [140.211.166.137])
 by lists.linuxfoundation.org (Postfix) with ESMTP id 21448C07FF
 for <virtualization@lists.linux-foundation.org>;
 Mon, 30 Mar 2020 10:12:58 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by fraxinus.osuosl.org (Postfix) with ESMTP id 0EBB4869B7
 for <virtualization@lists.linux-foundation.org>;
 Mon, 30 Mar 2020 10:12:58 +0000 (UTC)
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from fraxinus.osuosl.org ([127.0.0.1])
 by localhost (.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id 30leItNyubkN
 for <virtualization@lists.linux-foundation.org>;
 Mon, 30 Mar 2020 10:12:55 +0000 (UTC)
X-Greylist: domain auto-whitelisted by SQLgrey-1.7.6
Received: from mx01.bbu.dsd.mx.bitdefender.com
 (mx01.bbu.dsd.mx.bitdefender.com [91.199.104.161])
 by fraxinus.osuosl.org (Postfix) with ESMTPS id 436E986992
 for <virtualization@lists.linux-foundation.org>;
 Mon, 30 Mar 2020 10:12:54 +0000 (UTC)
Received: from smtp.bitdefender.com (smtp02.buh.bitdefender.net [10.17.80.76])
 by mx01.bbu.dsd.mx.bitdefender.com (Postfix) with ESMTPS id
 CE28A30747D5; Mon, 30 Mar 2020 13:12:51 +0300 (EEST)
Received: from localhost.localdomain (unknown [91.199.104.28])
 by smtp.bitdefender.com (Postfix) with ESMTPSA id AC974305B7A0;
 Mon, 30 Mar 2020 13:12:51 +0300 (EEST)
From: =?UTF-8?q?Adalbert=20Laz=C4=83r?= <alazar@bitdefender.com>
To: kvm@vger.kernel.org
Subject: [PATCH v8 20/81] KVM: vmx: pass struct kvm_vcpu to the intercept msr
 related functions
Date: Mon, 30 Mar 2020 13:12:07 +0300
Message-Id: <20200330101308.21702-21-alazar@bitdefender.com>
In-Reply-To: <20200330101308.21702-1-alazar@bitdefender.com>
References: <20200330101308.21702-1-alazar@bitdefender.com>
MIME-Version: 1.0
Cc: =?UTF-8?q?Adalbert=20Laz=C4=83r?= <alazar@bitdefender.com>,
 Paolo Bonzini <pbonzini@redhat.com>,
 =?UTF-8?q?Nicu=C8=99or=20C=C3=AE=C8=9Bu?= <ncitu@bitdefender.com>,
 virtualization@lists.linux-foundation.org
X-BeenThere: virtualization@lists.linux-foundation.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: Linux virtualization <virtualization.lists.linux-foundation.org>
List-Unsubscribe: <https://lists.linuxfoundation.org/mailman/options/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=unsubscribe>
List-Archive: <http://lists.linuxfoundation.org/pipermail/virtualization/>
List-Post: <mailto:virtualization@lists.linux-foundation.org>
List-Help: <mailto:virtualization-request@lists.linux-foundation.org?subject=help>
List-Subscribe: <https://lists.linuxfoundation.org/mailman/listinfo/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: virtualization-bounces@lists.linux-foundation.org
Sender: "Virtualization" <virtualization-bounces@lists.linux-foundation.org>

RnJvbTogTmljdciZb3IgQ8OuyJt1IDxuY2l0dUBiaXRkZWZlbmRlci5jb20+CgpUaGlzIGlzIG5l
ZWRlZCBpbiBvcmRlciB0byBoYW5kbGUgY2xpZW50cyBjb250cm9sbGluZyB0aGUgTVNSIHJlbGF0
ZWQKVk0tZXhpdHMuCgpQYXNzaW5nIE5VTEwgZHVyaW5nIGluaXRpYWxpemF0aW9uIGlzIE9LCmJl
Y2F1c2UgYSB2Q1BVIGNhbiBiZSBpbnRyb3NwZWN0ZWQgb25seSBhZnRlciBpbml0aWFsaXphdGlv
bi4KClNpZ25lZC1vZmYtYnk6IE5pY3XImW9yIEPDrsibdSA8bmNpdHVAYml0ZGVmZW5kZXIuY29t
PgpTaWduZWQtb2ZmLWJ5OiBBZGFsYmVydCBMYXrEg3IgPGFsYXphckBiaXRkZWZlbmRlci5jb20+
Ci0tLQogYXJjaC94ODYva3ZtL3ZteC92bXguYyB8IDcwICsrKysrKysrKysrKysrKysrKysrKysr
LS0tLS0tLS0tLS0tLS0tLS0tLQogMSBmaWxlIGNoYW5nZWQsIDM4IGluc2VydGlvbnMoKyksIDMy
IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2FyY2gveDg2L2t2bS92bXgvdm14LmMgYi9hcmNo
L3g4Ni9rdm0vdm14L3ZteC5jCmluZGV4IDI4MDFiMWY3MDU0Zi4uNGRjNmZiZjkxY2E1IDEwMDY0
NAotLS0gYS9hcmNoL3g4Ni9rdm0vdm14L3ZteC5jCisrKyBiL2FyY2gveDg2L2t2bS92bXgvdm14
LmMKQEAgLTM0Myw3ICszNDMsOCBAQCBtb2R1bGVfcGFyYW1fY2Iodm1lbnRyeV9sMWRfZmx1c2gs
ICZ2bWVudHJ5X2wxZF9mbHVzaF9vcHMsIE5VTEwsIDA2NDQpOwogCiBzdGF0aWMgYm9vbCBndWVz
dF9zdGF0ZV92YWxpZChzdHJ1Y3Qga3ZtX3ZjcHUgKnZjcHUpOwogc3RhdGljIHUzMiB2bXhfc2Vn
bWVudF9hY2Nlc3NfcmlnaHRzKHN0cnVjdCBrdm1fc2VnbWVudCAqdmFyKTsKLXN0YXRpYyBfX2Fs
d2F5c19pbmxpbmUgdm9pZCB2bXhfZGlzYWJsZV9pbnRlcmNlcHRfZm9yX21zcih1bnNpZ25lZCBs
b25nICptc3JfYml0bWFwLAorc3RhdGljIF9fYWx3YXlzX2lubGluZSB2b2lkIHZteF9kaXNhYmxl
X2ludGVyY2VwdF9mb3JfbXNyKHN0cnVjdCBrdm1fdmNwdSAqdmNwdSwKKwkJCQkJCQkgIHVuc2ln
bmVkIGxvbmcgKm1zcl9iaXRtYXAsCiAJCQkJCQkJICB1MzIgbXNyLCBpbnQgdHlwZSk7CiAKIHZv
aWQgdm14X3ZtZXhpdCh2b2lkKTsKQEAgLTIwNjcsNyArMjA2OCw3IEBAIHN0YXRpYyBpbnQgdm14
X3NldF9tc3Ioc3RydWN0IGt2bV92Y3B1ICp2Y3B1LCBzdHJ1Y3QgbXNyX2RhdGEgKm1zcl9pbmZv
KQogCQkgKiBpbiB0aGUgbWVyZ2luZy4gV2UgdXBkYXRlIHRoZSB2bWNzMDEgaGVyZSBmb3IgTDEg
YXMgd2VsbAogCQkgKiBzaW5jZSBpdCB3aWxsIGVuZCB1cCB0b3VjaGluZyB0aGUgTVNSIGFueXdh
eSBub3cuCiAJCSAqLwotCQl2bXhfZGlzYWJsZV9pbnRlcmNlcHRfZm9yX21zcih2bXgtPnZtY3Mw
MS5tc3JfYml0bWFwLAorCQl2bXhfZGlzYWJsZV9pbnRlcmNlcHRfZm9yX21zcih2Y3B1LCB2bXgt
PnZtY3MwMS5tc3JfYml0bWFwLAogCQkJCQkgICAgICBNU1JfSUEzMl9TUEVDX0NUUkwsCiAJCQkJ
CSAgICAgIE1TUl9UWVBFX1JXKTsKIAkJYnJlYWs7CkBAIC0yMTAzLDggKzIxMDQsOCBAQCBzdGF0
aWMgaW50IHZteF9zZXRfbXNyKHN0cnVjdCBrdm1fdmNwdSAqdmNwdSwgc3RydWN0IG1zcl9kYXRh
ICptc3JfaW5mbykKIAkJICogdm1jczAyLm1zcl9iaXRtYXAgaGVyZSBzaW5jZSBpdCBnZXRzIGNv
bXBsZXRlbHkgb3ZlcndyaXR0ZW4KIAkJICogaW4gdGhlIG1lcmdpbmcuCiAJCSAqLwotCQl2bXhf
ZGlzYWJsZV9pbnRlcmNlcHRfZm9yX21zcih2bXgtPnZtY3MwMS5tc3JfYml0bWFwLCBNU1JfSUEz
Ml9QUkVEX0NNRCwKLQkJCQkJICAgICAgTVNSX1RZUEVfVyk7CisJCXZteF9kaXNhYmxlX2ludGVy
Y2VwdF9mb3JfbXNyKHZjcHUsIHZteC0+dm1jczAxLm1zcl9iaXRtYXAsCisJCQkJCSAgICAgIE1T
Ul9JQTMyX1BSRURfQ01ELCBNU1JfVFlQRV9XKTsKIAkJYnJlYWs7CiAJY2FzZSBNU1JfSUEzMl9D
Ul9QQVQ6CiAJCWlmICgha3ZtX3BhdF92YWxpZChkYXRhKSkKQEAgLTM2NDQsNyArMzY0NSw4IEBA
IHZvaWQgZnJlZV92cGlkKGludCB2cGlkKQogCXNwaW5fdW5sb2NrKCZ2bXhfdnBpZF9sb2NrKTsK
IH0KIAotc3RhdGljIF9fYWx3YXlzX2lubGluZSB2b2lkIHZteF9kaXNhYmxlX2ludGVyY2VwdF9m
b3JfbXNyKHVuc2lnbmVkIGxvbmcgKm1zcl9iaXRtYXAsCitzdGF0aWMgX19hbHdheXNfaW5saW5l
IHZvaWQgdm14X2Rpc2FibGVfaW50ZXJjZXB0X2Zvcl9tc3Ioc3RydWN0IGt2bV92Y3B1ICp2Y3B1
LAorCQkJCQkJCSAgdW5zaWduZWQgbG9uZyAqbXNyX2JpdG1hcCwKIAkJCQkJCQkgIHUzMiBtc3Is
IGludCB0eXBlKQogewogCWludCBmID0gc2l6ZW9mKHVuc2lnbmVkIGxvbmcpOwpAQCAtMzY4Miw3
ICszNjg0LDggQEAgc3RhdGljIF9fYWx3YXlzX2lubGluZSB2b2lkIHZteF9kaXNhYmxlX2ludGVy
Y2VwdF9mb3JfbXNyKHVuc2lnbmVkIGxvbmcgKm1zcl9iaXQKIAl9CiB9CiAKLXN0YXRpYyBfX2Fs
d2F5c19pbmxpbmUgdm9pZCB2bXhfZW5hYmxlX2ludGVyY2VwdF9mb3JfbXNyKHVuc2lnbmVkIGxv
bmcgKm1zcl9iaXRtYXAsCitzdGF0aWMgX19hbHdheXNfaW5saW5lIHZvaWQgdm14X2VuYWJsZV9p
bnRlcmNlcHRfZm9yX21zcihzdHJ1Y3Qga3ZtX3ZjcHUgKnZjcHUsCisJCQkJCQkJIHVuc2lnbmVk
IGxvbmcgKm1zcl9iaXRtYXAsCiAJCQkJCQkJIHUzMiBtc3IsIGludCB0eXBlKQogewogCWludCBm
ID0gc2l6ZW9mKHVuc2lnbmVkIGxvbmcpOwpAQCAtMzcyMCwxMyArMzcyMywxNCBAQCBzdGF0aWMg
X19hbHdheXNfaW5saW5lIHZvaWQgdm14X2VuYWJsZV9pbnRlcmNlcHRfZm9yX21zcih1bnNpZ25l
ZCBsb25nICptc3JfYml0bQogCX0KIH0KIAotc3RhdGljIF9fYWx3YXlzX2lubGluZSB2b2lkIHZt
eF9zZXRfaW50ZXJjZXB0X2Zvcl9tc3IodW5zaWduZWQgbG9uZyAqbXNyX2JpdG1hcCwKK3N0YXRp
YyBfX2Fsd2F5c19pbmxpbmUgdm9pZCB2bXhfc2V0X2ludGVyY2VwdF9mb3JfbXNyKHN0cnVjdCBr
dm1fdmNwdSAqdmNwdSwKKwkJCQkJCSAgICAgIHVuc2lnbmVkIGxvbmcgKm1zcl9iaXRtYXAsCiAJ
CQkgICAgIAkJCSAgICAgIHUzMiBtc3IsIGludCB0eXBlLCBib29sIHZhbHVlKQogewogCWlmICh2
YWx1ZSkKLQkJdm14X2VuYWJsZV9pbnRlcmNlcHRfZm9yX21zcihtc3JfYml0bWFwLCBtc3IsIHR5
cGUpOworCQl2bXhfZW5hYmxlX2ludGVyY2VwdF9mb3JfbXNyKHZjcHUsIG1zcl9iaXRtYXAsIG1z
ciwgdHlwZSk7CiAJZWxzZQotCQl2bXhfZGlzYWJsZV9pbnRlcmNlcHRfZm9yX21zcihtc3JfYml0
bWFwLCBtc3IsIHR5cGUpOworCQl2bXhfZGlzYWJsZV9pbnRlcmNlcHRfZm9yX21zcih2Y3B1LCBt
c3JfYml0bWFwLCBtc3IsIHR5cGUpOwogfQogCiBzdGF0aWMgdTggdm14X21zcl9iaXRtYXBfbW9k
ZShzdHJ1Y3Qga3ZtX3ZjcHUgKnZjcHUpCkBAIC0zNzQ0LDcgKzM3NDgsOCBAQCBzdGF0aWMgdTgg
dm14X21zcl9iaXRtYXBfbW9kZShzdHJ1Y3Qga3ZtX3ZjcHUgKnZjcHUpCiAJcmV0dXJuIG1vZGU7
CiB9CiAKLXN0YXRpYyB2b2lkIHZteF91cGRhdGVfbXNyX2JpdG1hcF94MmFwaWModW5zaWduZWQg
bG9uZyAqbXNyX2JpdG1hcCwKK3N0YXRpYyB2b2lkIHZteF91cGRhdGVfbXNyX2JpdG1hcF94MmFw
aWMoc3RydWN0IGt2bV92Y3B1ICp2Y3B1LAorCQkJCQkgdW5zaWduZWQgbG9uZyAqbXNyX2JpdG1h
cCwKIAkJCQkJIHU4IG1vZGUpCiB7CiAJaW50IG1zcjsKQEAgLTM3NjAsMTEgKzM3NjUsMTEgQEAg
c3RhdGljIHZvaWQgdm14X3VwZGF0ZV9tc3JfYml0bWFwX3gyYXBpYyh1bnNpZ25lZCBsb25nICpt
c3JfYml0bWFwLAogCQkgKiBUUFIgcmVhZHMgYW5kIHdyaXRlcyBjYW4gYmUgdmlydHVhbGl6ZWQg
ZXZlbiBpZiB2aXJ0dWFsIGludGVycnVwdAogCQkgKiBkZWxpdmVyeSBpcyBub3QgaW4gdXNlLgog
CQkgKi8KLQkJdm14X2Rpc2FibGVfaW50ZXJjZXB0X2Zvcl9tc3IobXNyX2JpdG1hcCwgWDJBUElD
X01TUihBUElDX1RBU0tQUkkpLCBNU1JfVFlQRV9SVyk7CisJCXZteF9kaXNhYmxlX2ludGVyY2Vw
dF9mb3JfbXNyKHZjcHUsIG1zcl9iaXRtYXAsIFgyQVBJQ19NU1IoQVBJQ19UQVNLUFJJKSwgTVNS
X1RZUEVfUlcpOwogCQlpZiAobW9kZSAmIE1TUl9CSVRNQVBfTU9ERV9YMkFQSUNfQVBJQ1YpIHsK
LQkJCXZteF9lbmFibGVfaW50ZXJjZXB0X2Zvcl9tc3IobXNyX2JpdG1hcCwgWDJBUElDX01TUihB
UElDX1RNQ0NUKSwgTVNSX1RZUEVfUik7Ci0JCQl2bXhfZGlzYWJsZV9pbnRlcmNlcHRfZm9yX21z
cihtc3JfYml0bWFwLCBYMkFQSUNfTVNSKEFQSUNfRU9JKSwgTVNSX1RZUEVfVyk7Ci0JCQl2bXhf
ZGlzYWJsZV9pbnRlcmNlcHRfZm9yX21zcihtc3JfYml0bWFwLCBYMkFQSUNfTVNSKEFQSUNfU0VM
Rl9JUEkpLCBNU1JfVFlQRV9XKTsKKwkJCXZteF9lbmFibGVfaW50ZXJjZXB0X2Zvcl9tc3IodmNw
dSwgbXNyX2JpdG1hcCwgWDJBUElDX01TUihBUElDX1RNQ0NUKSwgTVNSX1RZUEVfUik7CisJCQl2
bXhfZGlzYWJsZV9pbnRlcmNlcHRfZm9yX21zcih2Y3B1LCBtc3JfYml0bWFwLCBYMkFQSUNfTVNS
KEFQSUNfRU9JKSwgTVNSX1RZUEVfVyk7CisJCQl2bXhfZGlzYWJsZV9pbnRlcmNlcHRfZm9yX21z
cih2Y3B1LCBtc3JfYml0bWFwLCBYMkFQSUNfTVNSKEFQSUNfU0VMRl9JUEkpLCBNU1JfVFlQRV9X
KTsKIAkJfQogCX0KIH0KQEAgLTM3ODAsNyArMzc4NSw3IEBAIHZvaWQgdm14X3VwZGF0ZV9tc3Jf
Yml0bWFwKHN0cnVjdCBrdm1fdmNwdSAqdmNwdSkKIAkJcmV0dXJuOwogCiAJaWYgKGNoYW5nZWQg
JiAoTVNSX0JJVE1BUF9NT0RFX1gyQVBJQyB8IE1TUl9CSVRNQVBfTU9ERV9YMkFQSUNfQVBJQ1Yp
KQotCQl2bXhfdXBkYXRlX21zcl9iaXRtYXBfeDJhcGljKG1zcl9iaXRtYXAsIG1vZGUpOworCQl2
bXhfdXBkYXRlX21zcl9iaXRtYXBfeDJhcGljKHZjcHUsIG1zcl9iaXRtYXAsIG1vZGUpOwogCiAJ
dm14LT5tc3JfYml0bWFwX21vZGUgPSBtb2RlOwogfQpAQCAtMzc4OSwyMCArMzc5NCwyMSBAQCB2
b2lkIHB0X3VwZGF0ZV9pbnRlcmNlcHRfZm9yX21zcihzdHJ1Y3QgdmNwdV92bXggKnZteCkKIHsK
IAl1bnNpZ25lZCBsb25nICptc3JfYml0bWFwID0gdm14LT52bWNzMDEubXNyX2JpdG1hcDsKIAli
b29sIGZsYWcgPSAhKHZteC0+cHRfZGVzYy5ndWVzdC5jdGwgJiBSVElUX0NUTF9UUkFDRUVOKTsK
KwlzdHJ1Y3Qga3ZtX3ZjcHUgKnZjcHUgPSAmdm14LT52Y3B1OwogCXUzMiBpOwogCi0Jdm14X3Nl
dF9pbnRlcmNlcHRfZm9yX21zcihtc3JfYml0bWFwLCBNU1JfSUEzMl9SVElUX1NUQVRVUywKKwl2
bXhfc2V0X2ludGVyY2VwdF9mb3JfbXNyKHZjcHUsIG1zcl9iaXRtYXAsIE1TUl9JQTMyX1JUSVRf
U1RBVFVTLAogCQkJCQkJCU1TUl9UWVBFX1JXLCBmbGFnKTsKLQl2bXhfc2V0X2ludGVyY2VwdF9m
b3JfbXNyKG1zcl9iaXRtYXAsIE1TUl9JQTMyX1JUSVRfT1VUUFVUX0JBU0UsCisJdm14X3NldF9p
bnRlcmNlcHRfZm9yX21zcih2Y3B1LCBtc3JfYml0bWFwLCBNU1JfSUEzMl9SVElUX09VVFBVVF9C
QVNFLAogCQkJCQkJCU1TUl9UWVBFX1JXLCBmbGFnKTsKLQl2bXhfc2V0X2ludGVyY2VwdF9mb3Jf
bXNyKG1zcl9iaXRtYXAsIE1TUl9JQTMyX1JUSVRfT1VUUFVUX01BU0ssCisJdm14X3NldF9pbnRl
cmNlcHRfZm9yX21zcih2Y3B1LCBtc3JfYml0bWFwLCBNU1JfSUEzMl9SVElUX09VVFBVVF9NQVNL
LAogCQkJCQkJCU1TUl9UWVBFX1JXLCBmbGFnKTsKLQl2bXhfc2V0X2ludGVyY2VwdF9mb3JfbXNy
KG1zcl9iaXRtYXAsIE1TUl9JQTMyX1JUSVRfQ1IzX01BVENILAorCXZteF9zZXRfaW50ZXJjZXB0
X2Zvcl9tc3IodmNwdSwgbXNyX2JpdG1hcCwgTVNSX0lBMzJfUlRJVF9DUjNfTUFUQ0gsCiAJCQkJ
CQkJTVNSX1RZUEVfUlcsIGZsYWcpOwogCWZvciAoaSA9IDA7IGkgPCB2bXgtPnB0X2Rlc2MuYWRk
cl9yYW5nZTsgaSsrKSB7Ci0JCXZteF9zZXRfaW50ZXJjZXB0X2Zvcl9tc3IobXNyX2JpdG1hcCwK
KwkJdm14X3NldF9pbnRlcmNlcHRfZm9yX21zcih2Y3B1LCBtc3JfYml0bWFwLAogCQkJTVNSX0lB
MzJfUlRJVF9BRERSMF9BICsgaSAqIDIsIE1TUl9UWVBFX1JXLCBmbGFnKTsKLQkJdm14X3NldF9p
bnRlcmNlcHRfZm9yX21zcihtc3JfYml0bWFwLAorCQl2bXhfc2V0X2ludGVyY2VwdF9mb3JfbXNy
KHZjcHUsIG1zcl9iaXRtYXAsCiAJCQlNU1JfSUEzMl9SVElUX0FERFIwX0IgKyBpICogMiwgTVNS
X1RZUEVfUlcsIGZsYWcpOwogCX0KIH0KQEAgLTY4MDQsMTggKzY4MTAsMTggQEAgc3RhdGljIGlu
dCB2bXhfY3JlYXRlX3ZjcHUoc3RydWN0IGt2bV92Y3B1ICp2Y3B1KQogCQlnb3RvIGZyZWVfcG1s
OwogCiAJbXNyX2JpdG1hcCA9IHZteC0+dm1jczAxLm1zcl9iaXRtYXA7Ci0Jdm14X2Rpc2FibGVf
aW50ZXJjZXB0X2Zvcl9tc3IobXNyX2JpdG1hcCwgTVNSX0lBMzJfVFNDLCBNU1JfVFlQRV9SKTsK
LQl2bXhfZGlzYWJsZV9pbnRlcmNlcHRfZm9yX21zcihtc3JfYml0bWFwLCBNU1JfRlNfQkFTRSwg
TVNSX1RZUEVfUlcpOwotCXZteF9kaXNhYmxlX2ludGVyY2VwdF9mb3JfbXNyKG1zcl9iaXRtYXAs
IE1TUl9HU19CQVNFLCBNU1JfVFlQRV9SVyk7Ci0Jdm14X2Rpc2FibGVfaW50ZXJjZXB0X2Zvcl9t
c3IobXNyX2JpdG1hcCwgTVNSX0tFUk5FTF9HU19CQVNFLCBNU1JfVFlQRV9SVyk7Ci0Jdm14X2Rp
c2FibGVfaW50ZXJjZXB0X2Zvcl9tc3IobXNyX2JpdG1hcCwgTVNSX0lBMzJfU1lTRU5URVJfQ1Ms
IE1TUl9UWVBFX1JXKTsKLQl2bXhfZGlzYWJsZV9pbnRlcmNlcHRfZm9yX21zcihtc3JfYml0bWFw
LCBNU1JfSUEzMl9TWVNFTlRFUl9FU1AsIE1TUl9UWVBFX1JXKTsKLQl2bXhfZGlzYWJsZV9pbnRl
cmNlcHRfZm9yX21zcihtc3JfYml0bWFwLCBNU1JfSUEzMl9TWVNFTlRFUl9FSVAsIE1TUl9UWVBF
X1JXKTsKKwl2bXhfZGlzYWJsZV9pbnRlcmNlcHRfZm9yX21zcihOVUxMLCBtc3JfYml0bWFwLCBN
U1JfSUEzMl9UU0MsIE1TUl9UWVBFX1IpOworCXZteF9kaXNhYmxlX2ludGVyY2VwdF9mb3JfbXNy
KE5VTEwsIG1zcl9iaXRtYXAsIE1TUl9GU19CQVNFLCBNU1JfVFlQRV9SVyk7CisJdm14X2Rpc2Fi
bGVfaW50ZXJjZXB0X2Zvcl9tc3IoTlVMTCwgbXNyX2JpdG1hcCwgTVNSX0dTX0JBU0UsIE1TUl9U
WVBFX1JXKTsKKwl2bXhfZGlzYWJsZV9pbnRlcmNlcHRfZm9yX21zcihOVUxMLCBtc3JfYml0bWFw
LCBNU1JfS0VSTkVMX0dTX0JBU0UsIE1TUl9UWVBFX1JXKTsKKwl2bXhfZGlzYWJsZV9pbnRlcmNl
cHRfZm9yX21zcihOVUxMLCBtc3JfYml0bWFwLCBNU1JfSUEzMl9TWVNFTlRFUl9DUywgTVNSX1RZ
UEVfUlcpOworCXZteF9kaXNhYmxlX2ludGVyY2VwdF9mb3JfbXNyKE5VTEwsIG1zcl9iaXRtYXAs
IE1TUl9JQTMyX1NZU0VOVEVSX0VTUCwgTVNSX1RZUEVfUlcpOworCXZteF9kaXNhYmxlX2ludGVy
Y2VwdF9mb3JfbXNyKE5VTEwsIG1zcl9iaXRtYXAsIE1TUl9JQTMyX1NZU0VOVEVSX0VJUCwgTVNS
X1RZUEVfUlcpOwogCWlmIChrdm1fY3N0YXRlX2luX2d1ZXN0KHZjcHUtPmt2bSkpIHsKLQkJdm14
X2Rpc2FibGVfaW50ZXJjZXB0X2Zvcl9tc3IobXNyX2JpdG1hcCwgTVNSX0NPUkVfQzFfUkVTLCBN
U1JfVFlQRV9SKTsKLQkJdm14X2Rpc2FibGVfaW50ZXJjZXB0X2Zvcl9tc3IobXNyX2JpdG1hcCwg
TVNSX0NPUkVfQzNfUkVTSURFTkNZLCBNU1JfVFlQRV9SKTsKLQkJdm14X2Rpc2FibGVfaW50ZXJj
ZXB0X2Zvcl9tc3IobXNyX2JpdG1hcCwgTVNSX0NPUkVfQzZfUkVTSURFTkNZLCBNU1JfVFlQRV9S
KTsKLQkJdm14X2Rpc2FibGVfaW50ZXJjZXB0X2Zvcl9tc3IobXNyX2JpdG1hcCwgTVNSX0NPUkVf
QzdfUkVTSURFTkNZLCBNU1JfVFlQRV9SKTsKKwkJdm14X2Rpc2FibGVfaW50ZXJjZXB0X2Zvcl9t
c3IoTlVMTCwgbXNyX2JpdG1hcCwgTVNSX0NPUkVfQzFfUkVTLCBNU1JfVFlQRV9SKTsKKwkJdm14
X2Rpc2FibGVfaW50ZXJjZXB0X2Zvcl9tc3IoTlVMTCwgbXNyX2JpdG1hcCwgTVNSX0NPUkVfQzNf
UkVTSURFTkNZLCBNU1JfVFlQRV9SKTsKKwkJdm14X2Rpc2FibGVfaW50ZXJjZXB0X2Zvcl9tc3Io
TlVMTCwgbXNyX2JpdG1hcCwgTVNSX0NPUkVfQzZfUkVTSURFTkNZLCBNU1JfVFlQRV9SKTsKKwkJ
dm14X2Rpc2FibGVfaW50ZXJjZXB0X2Zvcl9tc3IoTlVMTCwgbXNyX2JpdG1hcCwgTVNSX0NPUkVf
QzdfUkVTSURFTkNZLCBNU1JfVFlQRV9SKTsKIAl9CiAJdm14LT5tc3JfYml0bWFwX21vZGUgPSAw
OwogCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClZpcnR1
YWxpemF0aW9uIG1haWxpbmcgbGlzdApWaXJ0dWFsaXphdGlvbkBsaXN0cy5saW51eC1mb3VuZGF0
aW9uLm9yZwpodHRwczovL2xpc3RzLmxpbnV4Zm91bmRhdGlvbi5vcmcvbWFpbG1hbi9saXN0aW5m
by92aXJ0dWFsaXphdGlvbg==
