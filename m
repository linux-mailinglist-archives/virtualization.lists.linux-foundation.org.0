Return-Path: <virtualization-bounces@lists.linux-foundation.org>
X-Original-To: lists.virtualization@lfdr.de
Delivered-To: lists.virtualization@lfdr.de
Received: from smtp4.osuosl.org (smtp4.osuosl.org [IPv6:2605:bc80:3010::137])
	by mail.lfdr.de (Postfix) with ESMTPS id 202626FBCA4
	for <lists.virtualization@lfdr.de>; Tue,  9 May 2023 03:49:42 +0200 (CEST)
Received: from localhost (localhost [127.0.0.1])
	by smtp4.osuosl.org (Postfix) with ESMTP id E110A41A49;
	Tue,  9 May 2023 01:49:38 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp4.osuosl.org E110A41A49
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp4.osuosl.org ([127.0.0.1])
	by localhost (smtp4.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id kxatyjGUavuN; Tue,  9 May 2023 01:49:37 +0000 (UTC)
Received: from lists.linuxfoundation.org (lf-lists.osuosl.org [140.211.9.56])
	by smtp4.osuosl.org (Postfix) with ESMTPS id 0EA5641E37;
	Tue,  9 May 2023 01:49:37 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp4.osuosl.org 0EA5641E37
Received: from lf-lists.osuosl.org (localhost [127.0.0.1])
	by lists.linuxfoundation.org (Postfix) with ESMTP id 31A66C0089;
	Tue,  9 May 2023 01:49:36 +0000 (UTC)
X-Original-To: virtualization@lists.linux-foundation.org
Delivered-To: virtualization@lists.linuxfoundation.org
Received: from smtp1.osuosl.org (smtp1.osuosl.org [140.211.166.138])
 by lists.linuxfoundation.org (Postfix) with ESMTP id 4B3B0C002A
 for <virtualization@lists.linux-foundation.org>;
 Tue,  9 May 2023 01:49:35 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by smtp1.osuosl.org (Postfix) with ESMTP id 20B978207B
 for <virtualization@lists.linux-foundation.org>;
 Tue,  9 May 2023 01:49:35 +0000 (UTC)
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp1.osuosl.org 20B978207B
X-Virus-Scanned: amavisd-new at osuosl.org
Received: from smtp1.osuosl.org ([127.0.0.1])
 by localhost (smtp1.osuosl.org [127.0.0.1]) (amavisd-new, port 10024)
 with ESMTP id BqudhCsXPZKK
 for <virtualization@lists.linux-foundation.org>;
 Tue,  9 May 2023 01:49:33 +0000 (UTC)
X-Greylist: domain auto-whitelisted by SQLgrey-1.8.0
DKIM-Filter: OpenDKIM Filter v2.11.0 smtp1.osuosl.org 3460982071
Received: from out30-130.freemail.mail.aliyun.com
 (out30-130.freemail.mail.aliyun.com [115.124.30.130])
 by smtp1.osuosl.org (Postfix) with ESMTPS id 3460982071
 for <virtualization@lists.linux-foundation.org>;
 Tue,  9 May 2023 01:49:32 +0000 (UTC)
X-Alimail-AntiSpam: AC=PASS; BC=-1|-1; BR=01201311R111e4; CH=green; DM=||false|;
 DS=||; FP=0|-1|-1|-1|0|-1|-1|-1; HT=ay29a033018046059;
 MF=xuanzhuo@linux.alibaba.com; NM=1; PH=DS; RN=11; SR=0;
 TI=SMTPD_---0Vi8rSMi_1683596965; 
Received: from localhost(mailfrom:xuanzhuo@linux.alibaba.com
 fp:SMTPD_---0Vi8rSMi_1683596965) by smtp.aliyun-inc.com;
 Tue, 09 May 2023 09:49:26 +0800
Message-ID: <1683596602.483001-1-xuanzhuo@linux.alibaba.com>
Subject: Re: [PATCH net v3] virtio_net: Fix error unwinding of XDP
 initialization
Date: Tue, 9 May 2023 09:43:22 +0800
From: Xuan Zhuo <xuanzhuo@linux.alibaba.com>
To: Feng Liu <feliu@nvidia.com>
References: <20230503003525.48590-1-feliu@nvidia.com>
 <1683340417.612963-3-xuanzhuo@linux.alibaba.com>
 <559ad341-2278-5fad-6805-c7f632e9894e@nvidia.com>
 <1683510351.569717-1-xuanzhuo@linux.alibaba.com>
 <c2c2bfed-bdf1-f517-559c-f51c9ca1807a@nvidia.com>
In-Reply-To: <c2c2bfed-bdf1-f517-559c-f51c9ca1807a@nvidia.com>
Cc: "Michael S . Tsirkin" <mst@redhat.com>,
 Simon Horman <simon.horman@corigine.com>, linux-kernel@vger.kernel.org,
 virtualization@lists.linux-foundation.org, William Tu <witu@nvidia.com>,
 netdev@vger.kernel.org, Bodong Wang <bodong@nvidia.com>, bpf@vger.kernel.org
X-BeenThere: virtualization@lists.linux-foundation.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: Linux virtualization <virtualization.lists.linux-foundation.org>
List-Unsubscribe: <https://lists.linuxfoundation.org/mailman/options/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=unsubscribe>
List-Archive: <http://lists.linuxfoundation.org/pipermail/virtualization/>
List-Post: <mailto:virtualization@lists.linux-foundation.org>
List-Help: <mailto:virtualization-request@lists.linux-foundation.org?subject=help>
List-Subscribe: <https://lists.linuxfoundation.org/mailman/listinfo/virtualization>, 
 <mailto:virtualization-request@lists.linux-foundation.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: virtualization-bounces@lists.linux-foundation.org
Sender: "Virtualization" <virtualization-bounces@lists.linux-foundation.org>

T24gTW9uLCA4IE1heSAyMDIzIDExOjAwOjEwIC0wNDAwLCBGZW5nIExpdSA8ZmVsaXVAbnZpZGlh
LmNvbT4gd3JvdGU6Cj4KPgo+IE9uIDIwMjMtMDUtMDcgcC5tLjk6NDUsIFh1YW4gWmh1byB3cm90
ZToKPiA+IEV4dGVybmFsIGVtYWlsOiBVc2UgY2F1dGlvbiBvcGVuaW5nIGxpbmtzIG9yIGF0dGFj
aG1lbnRzCj4gPgo+ID4KPiA+IE9uIFNhdCwgNiBNYXkgMjAyMyAwODowODowMiAtMDQwMCwgRmVu
ZyBMaXUgPGZlbGl1QG52aWRpYS5jb20+IHdyb3RlOgo+ID4+Cj4gPj4KPiA+PiBPbiAyMDIzLTA1
LTA1IHAubS4xMDozMywgWHVhbiBaaHVvIHdyb3RlOgo+ID4+PiBFeHRlcm5hbCBlbWFpbDogVXNl
IGNhdXRpb24gb3BlbmluZyBsaW5rcyBvciBhdHRhY2htZW50cwo+ID4+Pgo+ID4+Pgo+ID4+PiBP
biBUdWUsIDIgTWF5IDIwMjMgMjA6MzU6MjUgLTA0MDAsIEZlbmcgTGl1IDxmZWxpdUBudmlkaWEu
Y29tPiB3cm90ZToKPiA+Pj4+IFdoZW4gaW5pdGlhbGl6aW5nIFhEUCBpbiB2aXJ0bmV0X29wZW4o
KSwgc29tZSBycSB4ZHAgaW5pdGlhbGl6YXRpb24KPiA+Pj4+IG1heSBoaXQgYW4gZXJyb3IgY2F1
c2luZyBuZXQgZGV2aWNlIG9wZW4gZmFpbGVkLiBIb3dldmVyLCBwcmV2aW91cwo+ID4+Pj4gcnFz
IGhhdmUgYWxyZWFkeSBpbml0aWFsaXplZCBYRFAgYW5kIGVuYWJsZWQgTkFQSSwgd2hpY2ggaXMg
bm90IHRoZQo+ID4+Pj4gZXhwZWN0ZWQgYmVoYXZpb3IuIE5lZWQgdG8gcm9sbCBiYWNrIHRoZSBw
cmV2aW91cyBycSBpbml0aWFsaXphdGlvbgo+ID4+Pj4gdG8gYXZvaWQgbGVha3MgaW4gZXJyb3Ig
dW53aW5kaW5nIG9mIGluaXQgY29kZS4KPiA+Pj4+Cj4gPj4+PiBBbHNvIGV4dHJhY3QgYSBoZWxw
ZXIgZnVuY3Rpb24gb2YgZGlzYWJsZSBxdWV1ZSBwYWlycywgYW5kIHVzZSBuZXdseQo+ID4+Pj4g
aW50cm9kdWNlZCBoZWxwZXIgZnVuY3Rpb24gaW4gZXJyb3IgdW53aW5kaW5nIGFuZCB2aXJ0bmV0
X2Nsb3NlOwo+ID4+Pj4KPiA+Pj4+IElzc3VlOiAzMzgzMDM4Cj4gPj4+PiBGaXhlczogNzU0Yjhh
MjFhOTZkICgidmlydGlvX25ldDogc2V0dXAgeGRwX3J4cV9pbmZvIikKPiA+Pj4+IFNpZ25lZC1v
ZmYtYnk6IEZlbmcgTGl1IDxmZWxpdUBudmlkaWEuY29tPgo+ID4+Pj4gUmV2aWV3ZWQtYnk6IFdp
bGxpYW0gVHUgPHdpdHVAbnZpZGlhLmNvbT4KPiA+Pj4+IFJldmlld2VkLWJ5OiBQYXJhdiBQYW5k
aXQgPHBhcmF2QG52aWRpYS5jb20+Cj4gPj4+PiBSZXZpZXdlZC1ieTogU2ltb24gSG9ybWFuIDxz
aW1vbi5ob3JtYW5AY29yaWdpbmUuY29tPgo+ID4+Pj4gQWNrZWQtYnk6IE1pY2hhZWwgUy4gVHNp
cmtpbiA8bXN0QHJlZGhhdC5jb20+Cj4gPj4+PiBDaGFuZ2UtSWQ6IEliNGM2YTk3Y2I3YjgzN2Nm
YTQ4NGM1OTNkZDQzYTQzNWM0N2VhNjhmCj4gPj4+PiAtLS0KPiA+Pj4+ICAgIGRyaXZlcnMvbmV0
L3ZpcnRpb19uZXQuYyB8IDMwICsrKysrKysrKysrKysrKysrKysrLS0tLS0tLS0tLQo+ID4+Pj4g
ICAgMSBmaWxlIGNoYW5nZWQsIDIwIGluc2VydGlvbnMoKyksIDEwIGRlbGV0aW9ucygtKQo+ID4+
Pj4KPiA+Pj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL25ldC92aXJ0aW9fbmV0LmMgYi9kcml2ZXJz
L25ldC92aXJ0aW9fbmV0LmMKPiA+Pj4+IGluZGV4IDhkODAzODUzOGZjNC4uMzczN2NmMTIwY2I3
IDEwMDY0NAo+ID4+Pj4gLS0tIGEvZHJpdmVycy9uZXQvdmlydGlvX25ldC5jCj4gPj4+PiArKysg
Yi9kcml2ZXJzL25ldC92aXJ0aW9fbmV0LmMKPiA+Pj4+IEBAIC0xODY4LDYgKzE4NjgsMTMgQEAg
c3RhdGljIGludCB2aXJ0bmV0X3BvbGwoc3RydWN0IG5hcGlfc3RydWN0ICpuYXBpLCBpbnQgYnVk
Z2V0KQo+ID4+Pj4gICAgICAgICByZXR1cm4gcmVjZWl2ZWQ7Cj4gPj4+PiAgICB9Cj4gPj4+Pgo+
ID4+Pj4gK3N0YXRpYyB2b2lkIHZpcnRuZXRfZGlzYWJsZV9xcChzdHJ1Y3QgdmlydG5ldF9pbmZv
ICp2aSwgaW50IHFwX2luZGV4KQo+ID4+Pj4gK3sKPiA+Pj4+ICsgICAgIHZpcnRuZXRfbmFwaV90
eF9kaXNhYmxlKCZ2aS0+c3FbcXBfaW5kZXhdLm5hcGkpOwo+ID4+Pj4gKyAgICAgbmFwaV9kaXNh
YmxlKCZ2aS0+cnFbcXBfaW5kZXhdLm5hcGkpOwo+ID4+Pj4gKyAgICAgeGRwX3J4cV9pbmZvX3Vu
cmVnKCZ2aS0+cnFbcXBfaW5kZXhdLnhkcF9yeHEpOwo+ID4+Pj4gK30KPiA+Pj4+ICsKPiA+Pj4+
ICAgIHN0YXRpYyBpbnQgdmlydG5ldF9vcGVuKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYpCj4gPj4+
PiAgICB7Cj4gPj4+PiAgICAgICAgIHN0cnVjdCB2aXJ0bmV0X2luZm8gKnZpID0gbmV0ZGV2X3By
aXYoZGV2KTsKPiA+Pj4+IEBAIC0xODgzLDIwICsxODkwLDI2IEBAIHN0YXRpYyBpbnQgdmlydG5l
dF9vcGVuKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYpCj4gPj4+Pgo+ID4+Pj4gICAgICAgICAgICAg
ICAgIGVyciA9IHhkcF9yeHFfaW5mb19yZWcoJnZpLT5ycVtpXS54ZHBfcnhxLCBkZXYsIGksIHZp
LT5ycVtpXS5uYXBpLm5hcGlfaWQpOwo+ID4+Pj4gICAgICAgICAgICAgICAgIGlmIChlcnIgPCAw
KQo+ID4+Pj4gLSAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlcnI7Cj4gPj4+PiArICAgICAg
ICAgICAgICAgICAgICAgZ290byBlcnJfeGRwX2luZm9fcmVnOwo+ID4+Pj4KPiA+Pj4+ICAgICAg
ICAgICAgICAgICBlcnIgPSB4ZHBfcnhxX2luZm9fcmVnX21lbV9tb2RlbCgmdmktPnJxW2ldLnhk
cF9yeHEsCj4gPj4+PiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgTUVNX1RZUEVfUEFHRV9TSEFSRUQsIE5VTEwpOwo+ID4+Pj4gLSAgICAgICAgICAgICBp
ZiAoZXJyIDwgMCkgewo+ID4+Pj4gLSAgICAgICAgICAgICAgICAgICAgIHhkcF9yeHFfaW5mb191
bnJlZygmdmktPnJxW2ldLnhkcF9yeHEpOwo+ID4+Pj4gLSAgICAgICAgICAgICAgICAgICAgIHJl
dHVybiBlcnI7Cj4gPj4+PiAtICAgICAgICAgICAgIH0KPiA+Pj4+ICsgICAgICAgICAgICAgaWYg
KGVyciA8IDApCj4gPj4+PiArICAgICAgICAgICAgICAgICAgICAgZ290byBlcnJfeGRwX3JlZ19t
ZW1fbW9kZWw7Cj4gPj4+Pgo+ID4+Pj4gICAgICAgICAgICAgICAgIHZpcnRuZXRfbmFwaV9lbmFi
bGUodmktPnJxW2ldLnZxLCAmdmktPnJxW2ldLm5hcGkpOwo+ID4+Pj4gICAgICAgICAgICAgICAg
IHZpcnRuZXRfbmFwaV90eF9lbmFibGUodmksIHZpLT5zcVtpXS52cSwgJnZpLT5zcVtpXS5uYXBp
KTsKPiA+Pj4+ICAgICAgICAgfQo+ID4+Pj4KPiA+Pj4+ICAgICAgICAgcmV0dXJuIDA7Cj4gPj4+
PiArCj4gPj4+PiArZXJyX3hkcF9yZWdfbWVtX21vZGVsOgo+ID4+Pj4gKyAgICAgeGRwX3J4cV9p
bmZvX3VucmVnKCZ2aS0+cnFbaV0ueGRwX3J4cSk7Cj4gPj4+PiArZXJyX3hkcF9pbmZvX3JlZzoK
PiA+Pj4+ICsgICAgIGZvciAoaSA9IGkgLSAxOyBpID49IDA7IGktLSkKPiA+Pj4+ICsgICAgICAg
ICAgICAgdmlydG5ldF9kaXNhYmxlX3FwKHZpLCBpKTsKPiA+Pj4KPiA+Pj4KPiA+Pj4gSSB3b3Vs
ZCB0byBrbm93IHNob3VsZCB3ZSBoYW5kbGUgZm9yIHRoZXNlOgo+ID4+Pgo+ID4+PiAgICAgICAg
ICAgZGlzYWJsZV9kZWxheWVkX3JlZmlsbCh2aSk7Cj4gPj4+ICAgICAgICAgICBjYW5jZWxfZGVs
YXllZF93b3JrX3N5bmMoJnZpLT5yZWZpbGwpOwo+ID4+Pgo+ID4+Pgo+ID4+PiBNYXliZSB3ZSBz
aG91bGQgY2FsbCB2aXJ0bmV0X2Nsb3NlKCkgd2l0aCAiaSIgZGlyZWN0bHkuCj4gPj4+Cj4gPj4+
IFRoYW5rcy4KPiA+Pj4KPiA+Pj4KPiA+PiBDYW7igJl0IHVzZSBpIGRpcmVjdGx5IGhlcmUsIGJl
Y2F1c2UgaWYgeGRwX3J4cV9pbmZvX3JlZyBmYWlscywgbmFwaSBoYXMKPiA+PiBub3QgYmVlbiBl
bmFibGVkIGZvciBjdXJyZW50IHFwIHlldCwgSSBzaG91bGQgcm9sbCBiYWNrIGZyb20gdGhlIHF1
ZXVlCj4gPj4gcGFpcnMgd2hlcmUgbmFwaSB3YXMgZW5hYmxlZCBiZWZvcmUoaS0tKSwgb3RoZXJ3
aXNlIGl0IHdpbGwgaGFuZyBhdCBuYXBpCj4gPj4gZGlzYWJsZSBhcGkKPiA+Cj4gPiBUaGlzIGlz
IG5vdCB0aGUgcG9pbnQsIHRoZSBrZXkgaXMgd2hldGhlciB3ZSBzaG91bGQgaGFuZGxlIHdpdGg6
Cj4gPgo+ID4gICAgICAgICAgICBkaXNhYmxlX2RlbGF5ZWRfcmVmaWxsKHZpKTsKPiA+ICAgICAg
ICAgICAgY2FuY2VsX2RlbGF5ZWRfd29ya19zeW5jKCZ2aS0+cmVmaWxsKTsKPiA+Cj4gPiBUaGFu
a3MuCj4gPgo+ID4KPgo+IE9LLCBnZXQgdGhlIHBvaW50LiBUaGFua3MgZm9yIHlvdXIgY2FyZWZ1
bCByZXZpZXcuIEFuZCBJIGNoZWNrIHRoZSBjb2RlCj4gYWdhaW4uCj4KPiBUaGVyZSBhcmUgdHdv
IHBvaW50cyB0aGF0IEkgbmVlZCB0byBleHBsYWluOgo+Cj4gMS4gQWxsIHJlZmlsbCBkZWxheSB3
b3JrIGNhbGxzKHZpLT5yZWZpbGwsIHZpLT5yZWZpbGxfZW5hYmxlZCkgYXJlIGJhc2VkCj4gb24g
dGhhdCB0aGUgdmlydGlvIGludGVyZmFjZSBpcyBzdWNjZXNzZnVsbHkgb3BlbmVkLCBzdWNoIGFz
Cj4gdmlydG5ldF9yZWNlaXZlLCB2aXJ0bmV0X3J4X3Jlc2l6ZSwgX3ZpcnRuZXRfc2V0X3F1ZXVl
cywgZXRjLiBJZiB0aGVyZQo+IGlzIGFuIGVycm9yIGluIHRoZSB4ZHAgcmVnIGhlcmUsIGl0IHdp
bGwgbm90IHRyaWdnZXIgdGhlc2Ugc3Vic2VxdWVudAo+IGZ1bmN0aW9ucy4gVGhlcmUgaXMgbm8g
bmVlZCB0byBjYWxsIGRpc2FibGVfZGVsYXllZF9yZWZpbGwoKSBhbmQKPiBjYW5jZWxfZGVsYXll
ZF93b3JrX3N5bmMoKS4KCk1heWJlIHNvbWV0aGluZyBpcyB3cm9uZy4gSSB0aGluayB0aGVzZSBs
aW5lcyBtYXkgY2FsbCBkZWxheSB3b3JrLgoKc3RhdGljIGludCB2aXJ0bmV0X29wZW4oc3RydWN0
IG5ldF9kZXZpY2UgKmRldikKewoJc3RydWN0IHZpcnRuZXRfaW5mbyAqdmkgPSBuZXRkZXZfcHJp
dihkZXYpOwoJaW50IGksIGVycjsKCgllbmFibGVfZGVsYXllZF9yZWZpbGwodmkpOwoKCWZvciAo
aSA9IDA7IGkgPCB2aS0+bWF4X3F1ZXVlX3BhaXJzOyBpKyspIHsKCQlpZiAoaSA8IHZpLT5jdXJy
X3F1ZXVlX3BhaXJzKQoJCQkvKiBNYWtlIHN1cmUgd2UgaGF2ZSBzb21lIGJ1ZmZlcnM6IGlmIG9v
bSB1c2Ugd3EuICovCi0tPgkJCWlmICghdHJ5X2ZpbGxfcmVjdih2aSwgJnZpLT5ycVtpXSwgR0ZQ
X0tFUk5FTCkpCi0tPgkJCQlzY2hlZHVsZV9kZWxheWVkX3dvcmsoJnZpLT5yZWZpbGwsIDApOwoK
CQllcnIgPSB4ZHBfcnhxX2luZm9fcmVnKCZ2aS0+cnFbaV0ueGRwX3J4cSwgZGV2LCBpLCB2aS0+
cnFbaV0ubmFwaS5uYXBpX2lkKTsKCQlpZiAoZXJyIDwgMCkKCQkJcmV0dXJuIGVycjsKCgkJZXJy
ID0geGRwX3J4cV9pbmZvX3JlZ19tZW1fbW9kZWwoJnZpLT5ycVtpXS54ZHBfcnhxLAoJCQkJCQkg
TUVNX1RZUEVfUEFHRV9TSEFSRUQsIE5VTEwpOwoJCWlmIChlcnIgPCAwKSB7CgkJCXhkcF9yeHFf
aW5mb191bnJlZygmdmktPnJxW2ldLnhkcF9yeHEpOwoJCQlyZXR1cm4gZXJyOwoJCX0KCgkJdmly
dG5ldF9uYXBpX2VuYWJsZSh2aS0+cnFbaV0udnEsICZ2aS0+cnFbaV0ubmFwaSk7CgkJdmlydG5l
dF9uYXBpX3R4X2VuYWJsZSh2aSwgdmktPnNxW2ldLnZxLCAmdmktPnNxW2ldLm5hcGkpOwoJfQoK
CXJldHVybiAwOwp9CgoKQW5kIEkgdGhpbmssIGlmIHdlIHZpcnRuZXRfb3BlbigpIHJldHVybiBl
cnJvciwgdGhlbiB0aGUgc3RhdHVzIG9mIHZpcnRuZXQKc2hvdWxkIGxpa2UgdGhlIHN0YXR1cyBh
ZnRlciB2aXJ0bmV0X2Nsb3NlKCkuCgpPciBzb21lb25lIGhhcyBvdGhlciBvcGluaW9uLgoKVGhh
bmtzLgoKPiBUaGUgbG9naWMgaGVyZSBpcyBkaWZmZXJlbnQgZnJvbSB0aGF0IG9mCj4gdmlydG5l
dF9jbG9zZS4gdmlydG5ldF9jbG9zZSBpcyBiYXNlZCBvbiB0aGUgc3VjY2VzcyBvZiB2aXJ0bmV0
X29wZW4gYW5kCj4gdGhlIHR4IGFuZCByeCBoYXMgYmVlbiBjYXJyaWVkIG91dCBub3JtYWxseS4g
Rm9yIGVycm9yIHVud2luZGluZywgb25seQo+IGRpc2FibGUgcXAgaXMgbmVlZGVkLiBBbHNvIGVu
Y2FwdXNsYXRlZCBhIGhlbHBlciBmdW5jdGlvbiBvZiBkaXNhYmxlIHFwLAo+IHdoaWNoIGlzIHVz
ZWQgaW5nIGVycm9yIHVud2luZGluZyBhbmQgdmlydG5ldCBjbG9zZQo+IDIuIFRoZSBjdXJyZW50
IGVycm9yIHFwLCB3aGljaCBoYXMgbm90IGVuYWJsZWQgTkFQSSwgY2FuIG9ubHkgY2FsbCB4ZHAK
PiB1bnJlZywgYW5kIGNhbm5vdCBjYWxsIHRoZSBpbnRlcmZhY2Ugb2YgZGlzYWJsZSBOQVBJLCBv
dGhlcndpc2UgdGhlCj4ga2VybmVsIHdpbGwgYmUgc3R1Y2suIFNvIGZvciBpLS0gdGhlIHJlYXNv
biBmb3IgY2FsbGluZyBkaXNhYmxlIHFwIG9uCj4gdGhlIHByZXZpb3VzIHF1ZXVlCj4KPiBUaGFu
a3MKPgo+ID4+Cj4gPj4+PiArCj4gPj4+PiArICAgICByZXR1cm4gZXJyOwo+ID4+Pj4gICAgfQo+
ID4+Pj4KPiA+Pj4+ICAgIHN0YXRpYyBpbnQgdmlydG5ldF9wb2xsX3R4KHN0cnVjdCBuYXBpX3N0
cnVjdCAqbmFwaSwgaW50IGJ1ZGdldCkKPiA+Pj4+IEBAIC0yMzA1LDExICsyMzE4LDggQEAgc3Rh
dGljIGludCB2aXJ0bmV0X2Nsb3NlKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYpCj4gPj4+PiAgICAg
ICAgIC8qIE1ha2Ugc3VyZSByZWZpbGxfd29yayBkb2Vzbid0IHJlLWVuYWJsZSBuYXBpISAqLwo+
ID4+Pj4gICAgICAgICBjYW5jZWxfZGVsYXllZF93b3JrX3N5bmMoJnZpLT5yZWZpbGwpOwo+ID4+
Pj4KPiA+Pj4+IC0gICAgIGZvciAoaSA9IDA7IGkgPCB2aS0+bWF4X3F1ZXVlX3BhaXJzOyBpKysp
IHsKPiA+Pj4+IC0gICAgICAgICAgICAgdmlydG5ldF9uYXBpX3R4X2Rpc2FibGUoJnZpLT5zcVtp
XS5uYXBpKTsKPiA+Pj4+IC0gICAgICAgICAgICAgbmFwaV9kaXNhYmxlKCZ2aS0+cnFbaV0ubmFw
aSk7Cj4gPj4+PiAtICAgICAgICAgICAgIHhkcF9yeHFfaW5mb191bnJlZygmdmktPnJxW2ldLnhk
cF9yeHEpOwo+ID4+Pj4gLSAgICAgfQo+ID4+Pj4gKyAgICAgZm9yIChpID0gMDsgaSA8IHZpLT5t
YXhfcXVldWVfcGFpcnM7IGkrKykKPiA+Pj4+ICsgICAgICAgICAgICAgdmlydG5ldF9kaXNhYmxl
X3FwKHZpLCBpKTsKPiA+Pj4+Cj4gPj4+PiAgICAgICAgIHJldHVybiAwOwo+ID4+Pj4gICAgfQo+
ID4+Pj4gLS0KPiA+Pj4+IDIuMzcuMSAoQXBwbGUgR2l0LTEzNy4xKQo+ID4+Pj4KX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KVmlydHVhbGl6YXRpb24gbWFp
bGluZyBsaXN0ClZpcnR1YWxpemF0aW9uQGxpc3RzLmxpbnV4LWZvdW5kYXRpb24ub3JnCmh0dHBz
Oi8vbGlzdHMubGludXhmb3VuZGF0aW9uLm9yZy9tYWlsbWFuL2xpc3RpbmZvL3ZpcnR1YWxpemF0
aW9u
